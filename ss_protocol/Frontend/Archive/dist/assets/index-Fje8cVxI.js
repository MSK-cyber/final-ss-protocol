const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-7edvvbQh.js","assets/localBatchGatewayRequest-aMmyErPi.js","assets/email-C3GHtAuK.js","assets/index-CO0hPiN5.js","assets/swaps-C6Nj1-xw.js","assets/SwapController-CkLYJnme.js","assets/index-D0RKnu4E.js","assets/send-C4lviZrP.js","assets/data-capture-DD_83oeD.js","assets/features-DaduWAa6.js","assets/w3m-modal-TG3tuQtm.js"])))=>i.map(i=>d[i]);
var GJ=Object.defineProperty;var B$=t=>{throw TypeError(t)};var KJ=(t,e,n)=>e in t?GJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var he=(t,e,n)=>KJ(t,typeof e!="symbol"?e+"":e,n),FT=(t,e,n)=>e.has(t)||B$("Cannot "+n);var N=(t,e,n)=>(FT(t,e,"read from private field"),n?n.call(t):e.get(t)),ae=(t,e,n)=>e.has(t)?B$("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),X=(t,e,n,r)=>(FT(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),xe=(t,e,n)=>(FT(t,e,"access private method"),n);var kf=(t,e,n,r)=>({set _(i){X(t,e,i,n)},get _(){return N(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Kj(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var jT={exports:{}},gv={},zT={exports:{}},Sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U$;function YJ(){if(U$)return Sn;U$=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p(q){return q===null||typeof q!="object"?null:(q=h&&q[h]||q["@@iterator"],typeof q=="function"?q:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function b(q,V,ue){this.props=q,this.context=V,this.refs=y,this.updater=ue||g}b.prototype.isReactComponent={},b.prototype.setState=function(q,V){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,V,"setState")},b.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function C(){}C.prototype=b.prototype;function x(q,V,ue){this.props=q,this.context=V,this.refs=y,this.updater=ue||g}var E=x.prototype=new C;E.constructor=x,w(E,b.prototype),E.isPureReactComponent=!0;var I=Array.isArray,S=Object.prototype.hasOwnProperty,T={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function O(q,V,ue){var le,ge={},ve=null,Pe=null;if(V!=null)for(le in V.ref!==void 0&&(Pe=V.ref),V.key!==void 0&&(ve=""+V.key),V)S.call(V,le)&&!R.hasOwnProperty(le)&&(ge[le]=V[le]);var Ie=arguments.length-2;if(Ie===1)ge.children=ue;else if(1<Ie){for(var ke=Array(Ie),it=0;it<Ie;it++)ke[it]=arguments[it+2];ge.children=ke}if(q&&q.defaultProps)for(le in Ie=q.defaultProps,Ie)ge[le]===void 0&&(ge[le]=Ie[le]);return{$$typeof:t,type:q,key:ve,ref:Pe,props:ge,_owner:T.current}}function k(q,V){return{$$typeof:t,type:q.type,key:V,ref:q.ref,props:q.props,_owner:q._owner}}function M(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function L(q){var V={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ue){return V[ue]})}var j=/\/+/g;function Q(q,V){return typeof q=="object"&&q!==null&&q.key!=null?L(""+q.key):V.toString(36)}function J(q,V,ue,le,ge){var ve=typeof q;(ve==="undefined"||ve==="boolean")&&(q=null);var Pe=!1;if(q===null)Pe=!0;else switch(ve){case"string":case"number":Pe=!0;break;case"object":switch(q.$$typeof){case t:case e:Pe=!0}}if(Pe)return Pe=q,ge=ge(Pe),q=le===""?"."+Q(Pe,0):le,I(ge)?(ue="",q!=null&&(ue=q.replace(j,"$&/")+"/"),J(ge,V,ue,"",function(it){return it})):ge!=null&&(M(ge)&&(ge=k(ge,ue+(!ge.key||Pe&&Pe.key===ge.key?"":(""+ge.key).replace(j,"$&/")+"/")+q)),V.push(ge)),1;if(Pe=0,le=le===""?".":le+":",I(q))for(var Ie=0;Ie<q.length;Ie++){ve=q[Ie];var ke=le+Q(ve,Ie);Pe+=J(ve,V,ue,ke,ge)}else if(ke=p(q),typeof ke=="function")for(q=ke.call(q),Ie=0;!(ve=q.next()).done;)ve=ve.value,ke=le+Q(ve,Ie++),Pe+=J(ve,V,ue,ke,ge);else if(ve==="object")throw V=String(q),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Pe}function $(q,V,ue){if(q==null)return q;var le=[],ge=0;return J(q,le,"","",function(ve){return V.call(ue,ve,ge++)}),le}function D(q){if(q._status===-1){var V=q._result;V=V(),V.then(function(ue){(q._status===0||q._status===-1)&&(q._status=1,q._result=ue)},function(ue){(q._status===0||q._status===-1)&&(q._status=2,q._result=ue)}),q._status===-1&&(q._status=0,q._result=V)}if(q._status===1)return q._result.default;throw q._result}var H={current:null},z={transition:null},Y={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:z,ReactCurrentOwner:T};function K(){throw Error("act(...) is not supported in production builds of React.")}return Sn.Children={map:$,forEach:function(q,V,ue){$(q,function(){V.apply(this,arguments)},ue)},count:function(q){var V=0;return $(q,function(){V++}),V},toArray:function(q){return $(q,function(V){return V})||[]},only:function(q){if(!M(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Sn.Component=b,Sn.Fragment=n,Sn.Profiler=i,Sn.PureComponent=x,Sn.StrictMode=r,Sn.Suspense=c,Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Sn.act=K,Sn.cloneElement=function(q,V,ue){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var le=w({},q.props),ge=q.key,ve=q.ref,Pe=q._owner;if(V!=null){if(V.ref!==void 0&&(ve=V.ref,Pe=T.current),V.key!==void 0&&(ge=""+V.key),q.type&&q.type.defaultProps)var Ie=q.type.defaultProps;for(ke in V)S.call(V,ke)&&!R.hasOwnProperty(ke)&&(le[ke]=V[ke]===void 0&&Ie!==void 0?Ie[ke]:V[ke])}var ke=arguments.length-2;if(ke===1)le.children=ue;else if(1<ke){Ie=Array(ke);for(var it=0;it<ke;it++)Ie[it]=arguments[it+2];le.children=Ie}return{$$typeof:t,type:q.type,key:ge,ref:ve,props:le,_owner:Pe}},Sn.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},Sn.createElement=O,Sn.createFactory=function(q){var V=O.bind(null,q);return V.type=q,V},Sn.createRef=function(){return{current:null}},Sn.forwardRef=function(q){return{$$typeof:a,render:q}},Sn.isValidElement=M,Sn.lazy=function(q){return{$$typeof:f,_payload:{_status:-1,_result:q},_init:D}},Sn.memo=function(q,V){return{$$typeof:u,type:q,compare:V===void 0?null:V}},Sn.startTransition=function(q){var V=z.transition;z.transition={};try{q()}finally{z.transition=V}},Sn.unstable_act=K,Sn.useCallback=function(q,V){return H.current.useCallback(q,V)},Sn.useContext=function(q){return H.current.useContext(q)},Sn.useDebugValue=function(){},Sn.useDeferredValue=function(q){return H.current.useDeferredValue(q)},Sn.useEffect=function(q,V){return H.current.useEffect(q,V)},Sn.useId=function(){return H.current.useId()},Sn.useImperativeHandle=function(q,V,ue){return H.current.useImperativeHandle(q,V,ue)},Sn.useInsertionEffect=function(q,V){return H.current.useInsertionEffect(q,V)},Sn.useLayoutEffect=function(q,V){return H.current.useLayoutEffect(q,V)},Sn.useMemo=function(q,V){return H.current.useMemo(q,V)},Sn.useReducer=function(q,V,ue){return H.current.useReducer(q,V,ue)},Sn.useRef=function(q){return H.current.useRef(q)},Sn.useState=function(q){return H.current.useState(q)},Sn.useSyncExternalStore=function(q,V,ue){return H.current.useSyncExternalStore(q,V,ue)},Sn.useTransition=function(){return H.current.useTransition()},Sn.version="18.3.1",Sn}var F$;function kC(){return F$||(F$=1,zT.exports=YJ()),zT.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j$;function QJ(){if(j$)return gv;j$=1;var t=kC(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,u){var f,h={},p=null,g=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(g=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(h[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)h[f]===void 0&&(h[f]=c[f]);return{$$typeof:e,type:a,key:p,ref:g,props:h,_owner:i.current}}return gv.Fragment=n,gv.jsx=o,gv.jsxs=o,gv}var z$;function ZJ(){return z$||(z$=1,jT.exports=QJ()),jT.exports}var _=ZJ(),IE={},WT={exports:{}},vo={},HT={exports:{}},VT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W$;function JJ(){return W$||(W$=1,function(t){function e(z,Y){var K=z.length;z.push(Y);e:for(;0<K;){var q=K-1>>>1,V=z[q];if(0<i(V,Y))z[q]=Y,z[K]=V,K=q;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Y=z[0],K=z.pop();if(K!==Y){z[0]=K;e:for(var q=0,V=z.length,ue=V>>>1;q<ue;){var le=2*(q+1)-1,ge=z[le],ve=le+1,Pe=z[ve];if(0>i(ge,K))ve<V&&0>i(Pe,ge)?(z[q]=Pe,z[ve]=K,q=ve):(z[q]=ge,z[le]=K,q=le);else if(ve<V&&0>i(Pe,K))z[q]=Pe,z[ve]=K,q=ve;else break e}}return Y}function i(z,Y){var K=z.sortIndex-Y.sortIndex;return K!==0?K:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],f=1,h=null,p=3,g=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=z)r(u),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=n(u)}}function I(z){if(y=!1,E(z),!w)if(n(c)!==null)w=!0,D(S);else{var Y=n(u);Y!==null&&H(I,Y.startTime-z)}}function S(z,Y){w=!1,y&&(y=!1,C(O),O=-1),g=!0;var K=p;try{for(E(Y),h=n(c);h!==null&&(!(h.expirationTime>Y)||z&&!L());){var q=h.callback;if(typeof q=="function"){h.callback=null,p=h.priorityLevel;var V=q(h.expirationTime<=Y);Y=t.unstable_now(),typeof V=="function"?h.callback=V:h===n(c)&&r(c),E(Y)}else r(c);h=n(c)}if(h!==null)var ue=!0;else{var le=n(u);le!==null&&H(I,le.startTime-Y),ue=!1}return ue}finally{h=null,p=K,g=!1}}var T=!1,R=null,O=-1,k=5,M=-1;function L(){return!(t.unstable_now()-M<k)}function j(){if(R!==null){var z=t.unstable_now();M=z;var Y=!0;try{Y=R(!0,z)}finally{Y?Q():(T=!1,R=null)}}else T=!1}var Q;if(typeof x=="function")Q=function(){x(j)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,$=J.port2;J.port1.onmessage=j,Q=function(){$.postMessage(null)}}else Q=function(){b(j,0)};function D(z){R=z,T||(T=!0,Q())}function H(z,Y){O=b(function(){z(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,D(S))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var K=p;p=Y;try{return z()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var K=p;p=z;try{return Y()}finally{p=K}},t.unstable_scheduleCallback=function(z,Y,K){var q=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?q+K:q):K=q,z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=K+V,z={id:f++,callback:Y,priorityLevel:z,startTime:K,expirationTime:V,sortIndex:-1},K>q?(z.sortIndex=K,e(u,z),n(c)===null&&z===n(u)&&(y?(C(O),O=-1):y=!0,H(I,K-q))):(z.sortIndex=V,e(c,z),w||g||(w=!0,D(S))),z},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(z){var Y=p;return function(){var K=p;p=Y;try{return z.apply(this,arguments)}finally{p=K}}}}(VT)),VT}var H$;function XJ(){return H$||(H$=1,HT.exports=JJ()),HT.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V$;function eX(){if(V$)return vo;V$=1;var t=kC(),e=XJ();function n(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(i[l]=d,l=0;l<d.length;l++)r.add(d[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function p(l){return c.call(h,l)?!0:c.call(f,l)?!1:u.test(l)?h[l]=!0:(f[l]=!0,!1)}function g(l,d,m,v){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return v?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,d,m,v){if(d===null||typeof d>"u"||g(l,d,m,v))return!0;if(v)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function y(l,d,m,v,A,P,W){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=v,this.attributeNamespace=A,this.mustUseProperty=m,this.propertyName=l,this.type=d,this.sanitizeURL=P,this.removeEmptyString=W}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){b[l]=new y(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];b[d]=new y(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){b[l]=new y(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){b[l]=new y(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){b[l]=new y(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){b[l]=new y(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){b[l]=new y(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){b[l]=new y(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){b[l]=new y(l,5,!1,l.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function x(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(C,x);b[d]=new y(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(C,x);b[d]=new y(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(C,x);b[d]=new y(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){b[l]=new y(l,1,!1,l.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){b[l]=new y(l,1,!1,l.toLowerCase(),null,!0,!0)});function E(l,d,m,v){var A=b.hasOwnProperty(d)?b[d]:null;(A!==null?A.type!==0:v||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(w(d,m,A,v)&&(m=null),v||A===null?p(d)&&(m===null?l.removeAttribute(d):l.setAttribute(d,""+m)):A.mustUseProperty?l[A.propertyName]=m===null?A.type===3?!1:"":m:(d=A.attributeName,v=A.attributeNamespace,m===null?l.removeAttribute(d):(A=A.type,m=A===3||A===4&&m===!0?"":""+m,v?l.setAttributeNS(v,d,m):l.setAttribute(d,m))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),T=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),L=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),z=Symbol.iterator;function Y(l){return l===null||typeof l!="object"?null:(l=z&&l[z]||l["@@iterator"],typeof l=="function"?l:null)}var K=Object.assign,q;function V(l){if(q===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);q=d&&d[1]||""}return`
`+q+l}var ue=!1;function le(l,d){if(!l||ue)return"";ue=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(we){var v=we}Reflect.construct(l,[],d)}else{try{d.call()}catch(we){v=we}l.call(d.prototype)}else{try{throw Error()}catch(we){v=we}l()}}catch(we){if(we&&v&&typeof we.stack=="string"){for(var A=we.stack.split(`
`),P=v.stack.split(`
`),W=A.length-1,te=P.length-1;1<=W&&0<=te&&A[W]!==P[te];)te--;for(;1<=W&&0<=te;W--,te--)if(A[W]!==P[te]){if(W!==1||te!==1)do if(W--,te--,0>te||A[W]!==P[te]){var ne=`
`+A[W].replace(" at new "," at ");return l.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",l.displayName)),ne}while(1<=W&&0<=te);break}}}finally{ue=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?V(l):""}function ge(l){switch(l.tag){case 5:return V(l.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return l=le(l.type,!1),l;case 11:return l=le(l.type.render,!1),l;case 1:return l=le(l.type,!0),l;default:return""}}function ve(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case R:return"Fragment";case T:return"Portal";case k:return"Profiler";case O:return"StrictMode";case Q:return"Suspense";case J:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case L:return(l.displayName||"Context")+".Consumer";case M:return(l._context.displayName||"Context")+".Provider";case j:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case $:return d=l.displayName||null,d!==null?d:ve(l.type)||"Memo";case D:d=l._payload,l=l._init;try{return ve(l(d))}catch{}}return null}function Pe(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(d);case 8:return d===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Ie(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ke(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function it(l){var d=ke(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),v=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var A=m.get,P=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return A.call(this)},set:function(W){v=""+W,P.call(this,W)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(W){v=""+W},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function Xt(l){l._valueTracker||(l._valueTracker=it(l))}function dn(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),v="";return l&&(v=ke(l)?l.checked?"true":"false":l.value),l=v,l!==m?(d.setValue(l),!0):!1}function hn(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function rr(l,d){var m=d.checked;return K({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function st(l,d){var m=d.defaultValue==null?"":d.defaultValue,v=d.checked!=null?d.checked:d.defaultChecked;m=Ie(d.value!=null?d.value:m),l._wrapperState={initialChecked:v,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Te(l,d){d=d.checked,d!=null&&E(l,"checked",d,!1)}function Qe(l,d){Te(l,d);var m=Ie(d.value),v=d.type;if(m!=null)v==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(v==="submit"||v==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?Jt(l,d.type,m):d.hasOwnProperty("defaultValue")&&Jt(l,d.type,Ie(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function at(l,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var v=d.type;if(!(v!=="submit"&&v!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,m||d===l.value||(l.value=d),l.defaultValue=d}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function Jt(l,d,m){(d!=="number"||hn(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var An=Array.isArray;function In(l,d,m,v){if(l=l.options,d){d={};for(var A=0;A<m.length;A++)d["$"+m[A]]=!0;for(m=0;m<l.length;m++)A=d.hasOwnProperty("$"+l[m].value),l[m].selected!==A&&(l[m].selected=A),A&&v&&(l[m].defaultSelected=!0)}else{for(m=""+Ie(m),d=null,A=0;A<l.length;A++){if(l[A].value===m){l[A].selected=!0,v&&(l[A].defaultSelected=!0);return}d!==null||l[A].disabled||(d=l[A])}d!==null&&(d.selected=!0)}}function en(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Ft(l,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if(An(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}l._wrapperState={initialValue:Ie(m)}}function xn(l,d){var m=Ie(d.value),v=Ie(d.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),d.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),v!=null&&(l.defaultValue=""+v)}function Me(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function sn(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tn(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?sn(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Fn,Lr=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,v,A){MSApp.execUnsafeLocalFunction(function(){return l(d,m,v,A)})}:l}(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(Fn=Fn||document.createElement("div"),Fn.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Fn.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function pn(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Er=["Webkit","ms","Moz","O"];Object.keys(mn).forEach(function(l){Er.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),mn[d]=mn[l]})});function pi(l,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||mn.hasOwnProperty(l)&&mn[l]?(""+d).trim():d+"px"}function on(l,d){l=l.style;for(var m in d)if(d.hasOwnProperty(m)){var v=m.indexOf("--")===0,A=pi(m,d[m],v);m==="float"&&(m="cssFloat"),v?l.setProperty(m,A):l[m]=A}}var _c=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jn(l,d){if(d){if(_c[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function $i(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ys=null;function ka(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Ra=null,Fs=null,js=null;function ws(l){if(l=tv(l)){if(typeof Ra!="function")throw Error(n(280));var d=l.stateNode;d&&(d=Wx(d),Ra(l.stateNode,l.type,d))}}function Ei(l){Fs?js?js.push(l):js=[l]:Fs=l}function ur(){if(Fs){var l=Fs,d=js;if(js=Fs=null,ws(l),d)for(l=0;l<d.length;l++)ws(d[l])}}function Ir(l,d){return l(d)}function qe(){}var Je=!1;function xt(l,d,m){if(Je)return l(d,m);Je=!0;try{return Ir(l,d,m)}finally{Je=!1,(Fs!==null||js!==null)&&(qe(),ur())}}function Lt(l,d){var m=l.stateNode;if(m===null)return null;var v=Wx(m);if(v===null)return null;m=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var ir=!1;if(a)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){ir=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch{ir=!1}function zn(l,d,m,v,A,P,W,te,ne){var we=Array.prototype.slice.call(arguments,3);try{d.apply(m,we)}catch(je){this.onError(je)}}var sr=!1,Di=null,bs=!1,Tc=null,_x={onError:function(l){sr=!0,Di=l}};function t0(l,d,m,v,A,P,W,te,ne){sr=!1,Di=null,zn.apply(_x,arguments)}function Li(l,d,m,v,A,P,W,te,ne){if(t0.apply(this,arguments),sr){if(sr){var we=Di;sr=!1,Di=null}else throw Error(n(198));bs||(bs=!0,Tc=we)}}function jr(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function Oa(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function Tl(l){if(jr(l)!==l)throw Error(n(188))}function Il(l){var d=l.alternate;if(!d){if(d=jr(l),d===null)throw Error(n(188));return d!==l?null:l}for(var m=l,v=d;;){var A=m.return;if(A===null)break;var P=A.alternate;if(P===null){if(v=A.return,v!==null){m=v;continue}break}if(A.child===P.child){for(P=A.child;P;){if(P===m)return Tl(A),l;if(P===v)return Tl(A),d;P=P.sibling}throw Error(n(188))}if(m.return!==v.return)m=A,v=P;else{for(var W=!1,te=A.child;te;){if(te===m){W=!0,m=A,v=P;break}if(te===v){W=!0,v=A,m=P;break}te=te.sibling}if(!W){for(te=P.child;te;){if(te===m){W=!0,m=P,v=A;break}if(te===v){W=!0,v=P,m=A;break}te=te.sibling}if(!W)throw Error(n(189))}}if(m.alternate!==v)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?l:d}function n0(l){return l=Il(l),l!==null?xp(l):null}function xp(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=xp(l);if(d!==null)return d;l=l.sibling}return null}var Nl=e.unstable_scheduleCallback,pf=e.unstable_cancelCallback,mf=e.unstable_shouldYield,Ep=e.unstable_requestPaint,dr=e.unstable_now,$u=e.unstable_getCurrentPriorityLevel,Ic=e.unstable_ImmediatePriority,Tx=e.unstable_UserBlockingPriority,Pl=e.unstable_NormalPriority,m_=e.unstable_LowPriority,Ix=e.unstable_IdlePriority,r0=null,mi=null;function Bb(l){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(r0,l,void 0,(l.current.flags&128)===128)}catch{}}var Mi=Math.clz32?Math.clz32:Ub,Ap=Math.log,i0=Math.LN2;function Ub(l){return l>>>=0,l===0?32:31-(Ap(l)/i0|0)|0}var gf=64,Sp=4194304;function kl(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function s0(l,d){var m=l.pendingLanes;if(m===0)return 0;var v=0,A=l.suspendedLanes,P=l.pingedLanes,W=m&268435455;if(W!==0){var te=W&~A;te!==0?v=kl(te):(P&=W,P!==0&&(v=kl(P)))}else W=m&~A,W!==0?v=kl(W):P!==0&&(v=kl(P));if(v===0)return 0;if(d!==0&&d!==v&&(d&A)===0&&(A=v&-v,P=d&-d,A>=P||A===16&&(P&4194240)!==0))return d;if((v&4)!==0&&(v|=m&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=v;0<d;)m=31-Mi(d),A=1<<m,v|=l[m],d&=~A;return v}function Nx(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o0(l,d){for(var m=l.suspendedLanes,v=l.pingedLanes,A=l.expirationTimes,P=l.pendingLanes;0<P;){var W=31-Mi(P),te=1<<W,ne=A[W];ne===-1?((te&m)===0||(te&v)!==0)&&(A[W]=Nx(te,d)):ne<=d&&(l.expiredLanes|=te),P&=~te}}function Fb(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Px(){var l=gf;return gf<<=1,(gf&4194240)===0&&(gf=64),l}function jb(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function $a(l,d,m){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-Mi(d),l[d]=m}function g_(l,d){var m=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var v=l.eventTimes;for(l=l.expirationTimes;0<m;){var A=31-Mi(m),P=1<<A;d[A]=0,v[A]=-1,l[A]=-1,m&=~P}}function zb(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var v=31-Mi(m),A=1<<v;A&d|l[v]&d&&(l[v]|=d),m&=~A}}var Zn=0;function kx(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Rx,Wb,Ox,$x,a0,Hb=!1,c0=[],ee=null,Se=null,Ue=null,Ke=new Map,re=new Map,Re=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tt(l,d){switch(l){case"focusin":case"focusout":ee=null;break;case"dragenter":case"dragleave":Se=null;break;case"mouseover":case"mouseout":Ue=null;break;case"pointerover":case"pointerout":Ke.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":re.delete(d.pointerId)}}function Ot(l,d,m,v,A,P){return l===null||l.nativeEvent!==P?(l={blockedOn:d,domEventName:m,eventSystemFlags:v,nativeEvent:P,targetContainers:[A]},d!==null&&(d=tv(d),d!==null&&Wb(d)),l):(l.eventSystemFlags|=v,d=l.targetContainers,A!==null&&d.indexOf(A)===-1&&d.push(A),l)}function gt(l,d,m,v,A){switch(d){case"focusin":return ee=Ot(ee,l,d,m,v,A),!0;case"dragenter":return Se=Ot(Se,l,d,m,v,A),!0;case"mouseover":return Ue=Ot(Ue,l,d,m,v,A),!0;case"pointerover":var P=A.pointerId;return Ke.set(P,Ot(Ke.get(P)||null,l,d,m,v,A)),!0;case"gotpointercapture":return P=A.pointerId,re.set(P,Ot(re.get(P)||null,l,d,m,v,A)),!0}return!1}function $e(l){var d=_p(l.target);if(d!==null){var m=jr(d);if(m!==null){if(d=m.tag,d===13){if(d=Oa(m),d!==null){l.blockedOn=d,a0(l.priority,function(){Ox(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function yt(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=ft(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var v=new m.constructor(m.type,m);ys=v,m.target.dispatchEvent(v),ys=null}else return d=tv(m),d!==null&&Wb(d),l.blockedOn=m,!1;d.shift()}return!0}function Yt(l,d,m){yt(l)&&m.delete(d)}function Jn(){Hb=!1,ee!==null&&yt(ee)&&(ee=null),Se!==null&&yt(Se)&&(Se=null),Ue!==null&&yt(Ue)&&(Ue=null),Ke.forEach(Yt),re.forEach(Yt)}function St(l,d){l.blockedOn===d&&(l.blockedOn=null,Hb||(Hb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Jn)))}function et(l){function d(A){return St(A,l)}if(0<c0.length){St(c0[0],l);for(var m=1;m<c0.length;m++){var v=c0[m];v.blockedOn===l&&(v.blockedOn=null)}}for(ee!==null&&St(ee,l),Se!==null&&St(Se,l),Ue!==null&&St(Ue,l),Ke.forEach(d),re.forEach(d),m=0;m<Re.length;m++)v=Re[m],v.blockedOn===l&&(v.blockedOn=null);for(;0<Re.length&&(m=Re[0],m.blockedOn===null);)$e(m),m.blockedOn===null&&Re.shift()}var kt=I.ReactCurrentBatchConfig,ln=!0;function Xn(l,d,m,v){var A=Zn,P=kt.transition;kt.transition=null;try{Zn=1,zr(l,d,m,v)}finally{Zn=A,kt.transition=P}}function si(l,d,m,v){var A=Zn,P=kt.transition;kt.transition=null;try{Zn=4,zr(l,d,m,v)}finally{Zn=A,kt.transition=P}}function zr(l,d,m,v){if(ln){var A=ft(l,d,m,v);if(A===null)P_(l,d,v,ye,m),Tt(l,v);else if(gt(A,l,d,m,v))v.stopPropagation();else if(Tt(l,v),d&4&&-1<It.indexOf(l)){for(;A!==null;){var P=tv(A);if(P!==null&&Rx(P),P=ft(l,d,m,v),P===null&&P_(l,d,v,ye,m),P===A)break;A=P}A!==null&&v.stopPropagation()}else P_(l,d,v,null,m)}}var ye=null;function ft(l,d,m,v){if(ye=null,l=ka(v),l=_p(l),l!==null)if(d=jr(l),d===null)l=null;else if(m=d.tag,m===13){if(l=Oa(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return ye=l,null}function Vt(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($u()){case Ic:return 1;case Tx:return 4;case Pl:case m_:return 16;case Ix:return 536870912;default:return 16}default:return 16}}var Nt=null,Ln=null,Ai=null;function Nr(){if(Ai)return Ai;var l,d=Ln,m=d.length,v,A="value"in Nt?Nt.value:Nt.textContent,P=A.length;for(l=0;l<m&&d[l]===A[l];l++);var W=m-l;for(v=1;v<=W&&d[m-v]===A[P-v];v++);return Ai=A.slice(l,1<v?1-v:void 0)}function fo(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function ho(){return!0}function y_(){return!1}function po(l){function d(m,v,A,P,W){this._reactName=m,this._targetInst=A,this.type=v,this.nativeEvent=P,this.target=W,this.currentTarget=null;for(var te in l)l.hasOwnProperty(te)&&(m=l[te],this[te]=m?m(P):P[te]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?ho:y_,this.isPropagationStopped=y_,this}return K(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),d}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zt=po(Ye),oi=K({},Ye,{view:0,detail:0}),Pr=po(oi),Ji,l0,Vb,Dx=K({},oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:b_,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Vb&&(Vb&&l.type==="mousemove"?(Ji=l.screenX-Vb.screenX,l0=l.screenY-Vb.screenY):l0=Ji=0,Vb=l),Ji)},movementY:function(l){return"movementY"in l?l.movementY:l0}}),TO=po(Dx),CZ=K({},Dx,{dataTransfer:0}),xZ=po(CZ),EZ=K({},oi,{relatedTarget:0}),w_=po(EZ),AZ=K({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),SZ=po(AZ),_Z=K({},Ye,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),TZ=po(_Z),IZ=K({},Ye,{data:0}),IO=po(IZ),NZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RZ(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=kZ[l])?!!d[l]:!1}function b_(){return RZ}var OZ=K({},oi,{key:function(l){if(l.key){var d=NZ[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=fo(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?PZ[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:b_,charCode:function(l){return l.type==="keypress"?fo(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?fo(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),$Z=po(OZ),DZ=K({},Dx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NO=po(DZ),LZ=K({},oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:b_}),MZ=po(LZ),BZ=K({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),UZ=po(BZ),FZ=K({},Dx,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),jZ=po(FZ),zZ=[9,13,27,32],v_=a&&"CompositionEvent"in window,qb=null;a&&"documentMode"in document&&(qb=document.documentMode);var WZ=a&&"TextEvent"in window&&!qb,PO=a&&(!v_||qb&&8<qb&&11>=qb),kO=" ",RO=!1;function OO(l,d){switch(l){case"keyup":return zZ.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $O(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var u0=!1;function HZ(l,d){switch(l){case"compositionend":return $O(d);case"keypress":return d.which!==32?null:(RO=!0,kO);case"textInput":return l=d.data,l===kO&&RO?null:l;default:return null}}function VZ(l,d){if(u0)return l==="compositionend"||!v_&&OO(l,d)?(l=Nr(),Ai=Ln=Nt=null,u0=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return PO&&d.locale!=="ko"?null:d.data;default:return null}}var qZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DO(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!qZ[l.type]:d==="textarea"}function LO(l,d,m,v){Ei(v),d=Fx(d,"onChange"),0<d.length&&(m=new zt("onChange","change",null,m,v),l.push({event:m,listeners:d}))}var Gb=null,Kb=null;function GZ(l){e9(l,0)}function Lx(l){var d=m0(l);if(dn(d))return l}function KZ(l,d){if(l==="change")return d}var MO=!1;if(a){var C_;if(a){var x_="oninput"in document;if(!x_){var BO=document.createElement("div");BO.setAttribute("oninput","return;"),x_=typeof BO.oninput=="function"}C_=x_}else C_=!1;MO=C_&&(!document.documentMode||9<document.documentMode)}function UO(){Gb&&(Gb.detachEvent("onpropertychange",FO),Kb=Gb=null)}function FO(l){if(l.propertyName==="value"&&Lx(Kb)){var d=[];LO(d,Kb,l,ka(l)),xt(GZ,d)}}function YZ(l,d,m){l==="focusin"?(UO(),Gb=d,Kb=m,Gb.attachEvent("onpropertychange",FO)):l==="focusout"&&UO()}function QZ(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Lx(Kb)}function ZZ(l,d){if(l==="click")return Lx(d)}function JZ(l,d){if(l==="input"||l==="change")return Lx(d)}function XZ(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Nc=typeof Object.is=="function"?Object.is:XZ;function Yb(l,d){if(Nc(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),v=Object.keys(d);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var A=m[v];if(!c.call(d,A)||!Nc(l[A],d[A]))return!1}return!0}function jO(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function zO(l,d){var m=jO(l);l=0;for(var v;m;){if(m.nodeType===3){if(v=l+m.textContent.length,l<=d&&v>=d)return{node:m,offset:d-l};l=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=jO(m)}}function WO(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?WO(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function HO(){for(var l=window,d=hn();d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=hn(l.document)}return d}function E_(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function eJ(l){var d=HO(),m=l.focusedElem,v=l.selectionRange;if(d!==m&&m&&m.ownerDocument&&WO(m.ownerDocument.documentElement,m)){if(v!==null&&E_(m)){if(d=v.start,l=v.end,l===void 0&&(l=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(l,m.value.length);else if(l=(d=m.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var A=m.textContent.length,P=Math.min(v.start,A);v=v.end===void 0?P:Math.min(v.end,A),!l.extend&&P>v&&(A=v,v=P,P=A),A=zO(m,P);var W=zO(m,v);A&&W&&(l.rangeCount!==1||l.anchorNode!==A.node||l.anchorOffset!==A.offset||l.focusNode!==W.node||l.focusOffset!==W.offset)&&(d=d.createRange(),d.setStart(A.node,A.offset),l.removeAllRanges(),P>v?(l.addRange(d),l.extend(W.node,W.offset)):(d.setEnd(W.node,W.offset),l.addRange(d)))}}for(d=[],l=m;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)l=d[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var tJ=a&&"documentMode"in document&&11>=document.documentMode,d0=null,A_=null,Qb=null,S_=!1;function VO(l,d,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;S_||d0==null||d0!==hn(v)||(v=d0,"selectionStart"in v&&E_(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Qb&&Yb(Qb,v)||(Qb=v,v=Fx(A_,"onSelect"),0<v.length&&(d=new zt("onSelect","select",null,d,m),l.push({event:d,listeners:v}),d.target=d0)))}function Mx(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var f0={animationend:Mx("Animation","AnimationEnd"),animationiteration:Mx("Animation","AnimationIteration"),animationstart:Mx("Animation","AnimationStart"),transitionend:Mx("Transition","TransitionEnd")},__={},qO={};a&&(qO=document.createElement("div").style,"AnimationEvent"in window||(delete f0.animationend.animation,delete f0.animationiteration.animation,delete f0.animationstart.animation),"TransitionEvent"in window||delete f0.transitionend.transition);function Bx(l){if(__[l])return __[l];if(!f0[l])return l;var d=f0[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in qO)return __[l]=d[m];return l}var GO=Bx("animationend"),KO=Bx("animationiteration"),YO=Bx("animationstart"),QO=Bx("transitionend"),ZO=new Map,JO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yf(l,d){ZO.set(l,d),s(d,[l])}for(var T_=0;T_<JO.length;T_++){var I_=JO[T_],nJ=I_.toLowerCase(),rJ=I_[0].toUpperCase()+I_.slice(1);yf(nJ,"on"+rJ)}yf(GO,"onAnimationEnd"),yf(KO,"onAnimationIteration"),yf(YO,"onAnimationStart"),yf("dblclick","onDoubleClick"),yf("focusin","onFocus"),yf("focusout","onBlur"),yf(QO,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zb));function XO(l,d,m){var v=l.type||"unknown-event";l.currentTarget=m,Li(v,d,void 0,l),l.currentTarget=null}function e9(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var v=l[m],A=v.event;v=v.listeners;e:{var P=void 0;if(d)for(var W=v.length-1;0<=W;W--){var te=v[W],ne=te.instance,we=te.currentTarget;if(te=te.listener,ne!==P&&A.isPropagationStopped())break e;XO(A,te,we),P=ne}else for(W=0;W<v.length;W++){if(te=v[W],ne=te.instance,we=te.currentTarget,te=te.listener,ne!==P&&A.isPropagationStopped())break e;XO(A,te,we),P=ne}}}if(bs)throw l=Tc,bs=!1,Tc=null,l}function Mr(l,d){var m=d[L_];m===void 0&&(m=d[L_]=new Set);var v=l+"__bubble";m.has(v)||(t9(d,l,2,!1),m.add(v))}function N_(l,d,m){var v=0;d&&(v|=4),t9(m,l,v,d)}var Ux="_reactListening"+Math.random().toString(36).slice(2);function Jb(l){if(!l[Ux]){l[Ux]=!0,r.forEach(function(m){m!=="selectionchange"&&(iJ.has(m)||N_(m,!1,l),N_(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Ux]||(d[Ux]=!0,N_("selectionchange",!1,d))}}function t9(l,d,m,v){switch(Vt(d)){case 1:var A=Xn;break;case 4:A=si;break;default:A=zr}m=A.bind(null,d,m,l),A=void 0,!ir||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(A=!0),v?A!==void 0?l.addEventListener(d,m,{capture:!0,passive:A}):l.addEventListener(d,m,!0):A!==void 0?l.addEventListener(d,m,{passive:A}):l.addEventListener(d,m,!1)}function P_(l,d,m,v,A){var P=v;if((d&1)===0&&(d&2)===0&&v!==null)e:for(;;){if(v===null)return;var W=v.tag;if(W===3||W===4){var te=v.stateNode.containerInfo;if(te===A||te.nodeType===8&&te.parentNode===A)break;if(W===4)for(W=v.return;W!==null;){var ne=W.tag;if((ne===3||ne===4)&&(ne=W.stateNode.containerInfo,ne===A||ne.nodeType===8&&ne.parentNode===A))return;W=W.return}for(;te!==null;){if(W=_p(te),W===null)return;if(ne=W.tag,ne===5||ne===6){v=P=W;continue e}te=te.parentNode}}v=v.return}xt(function(){var we=P,je=ka(m),Ve=[];e:{var Be=ZO.get(l);if(Be!==void 0){var dt=zt,_t=l;switch(l){case"keypress":if(fo(m)===0)break e;case"keydown":case"keyup":dt=$Z;break;case"focusin":_t="focus",dt=w_;break;case"focusout":_t="blur",dt=w_;break;case"beforeblur":case"afterblur":dt=w_;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=TO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=xZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=MZ;break;case GO:case KO:case YO:dt=SZ;break;case QO:dt=UZ;break;case"scroll":dt=Pr;break;case"wheel":dt=jZ;break;case"copy":case"cut":case"paste":dt=TZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=NO}var Pt=(d&4)!==0,ai=!Pt&&l==="scroll",de=Pt?Be!==null?Be+"Capture":null:Be;Pt=[];for(var se=we,me;se!==null;){me=se;var Ze=me.stateNode;if(me.tag===5&&Ze!==null&&(me=Ze,de!==null&&(Ze=Lt(se,de),Ze!=null&&Pt.push(Xb(se,Ze,me)))),ai)break;se=se.return}0<Pt.length&&(Be=new dt(Be,_t,null,m,je),Ve.push({event:Be,listeners:Pt}))}}if((d&7)===0){e:{if(Be=l==="mouseover"||l==="pointerover",dt=l==="mouseout"||l==="pointerout",Be&&m!==ys&&(_t=m.relatedTarget||m.fromElement)&&(_p(_t)||_t[Du]))break e;if((dt||Be)&&(Be=je.window===je?je:(Be=je.ownerDocument)?Be.defaultView||Be.parentWindow:window,dt?(_t=m.relatedTarget||m.toElement,dt=we,_t=_t?_p(_t):null,_t!==null&&(ai=jr(_t),_t!==ai||_t.tag!==5&&_t.tag!==6)&&(_t=null)):(dt=null,_t=we),dt!==_t)){if(Pt=TO,Ze="onMouseLeave",de="onMouseEnter",se="mouse",(l==="pointerout"||l==="pointerover")&&(Pt=NO,Ze="onPointerLeave",de="onPointerEnter",se="pointer"),ai=dt==null?Be:m0(dt),me=_t==null?Be:m0(_t),Be=new Pt(Ze,se+"leave",dt,m,je),Be.target=ai,Be.relatedTarget=me,Ze=null,_p(je)===we&&(Pt=new Pt(de,se+"enter",_t,m,je),Pt.target=me,Pt.relatedTarget=ai,Ze=Pt),ai=Ze,dt&&_t)t:{for(Pt=dt,de=_t,se=0,me=Pt;me;me=h0(me))se++;for(me=0,Ze=de;Ze;Ze=h0(Ze))me++;for(;0<se-me;)Pt=h0(Pt),se--;for(;0<me-se;)de=h0(de),me--;for(;se--;){if(Pt===de||de!==null&&Pt===de.alternate)break t;Pt=h0(Pt),de=h0(de)}Pt=null}else Pt=null;dt!==null&&n9(Ve,Be,dt,Pt,!1),_t!==null&&ai!==null&&n9(Ve,ai,_t,Pt,!0)}}e:{if(Be=we?m0(we):window,dt=Be.nodeName&&Be.nodeName.toLowerCase(),dt==="select"||dt==="input"&&Be.type==="file")var Rt=KZ;else if(DO(Be))if(MO)Rt=JZ;else{Rt=QZ;var qt=YZ}else(dt=Be.nodeName)&&dt.toLowerCase()==="input"&&(Be.type==="checkbox"||Be.type==="radio")&&(Rt=ZZ);if(Rt&&(Rt=Rt(l,we))){LO(Ve,Rt,m,je);break e}qt&&qt(l,Be,we),l==="focusout"&&(qt=Be._wrapperState)&&qt.controlled&&Be.type==="number"&&Jt(Be,"number",Be.value)}switch(qt=we?m0(we):window,l){case"focusin":(DO(qt)||qt.contentEditable==="true")&&(d0=qt,A_=we,Qb=null);break;case"focusout":Qb=A_=d0=null;break;case"mousedown":S_=!0;break;case"contextmenu":case"mouseup":case"dragend":S_=!1,VO(Ve,m,je);break;case"selectionchange":if(tJ)break;case"keydown":case"keyup":VO(Ve,m,je)}var Gt;if(v_)e:{switch(l){case"compositionstart":var an="onCompositionStart";break e;case"compositionend":an="onCompositionEnd";break e;case"compositionupdate":an="onCompositionUpdate";break e}an=void 0}else u0?OO(l,m)&&(an="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(an="onCompositionStart");an&&(PO&&m.locale!=="ko"&&(u0||an!=="onCompositionStart"?an==="onCompositionEnd"&&u0&&(Gt=Nr()):(Nt=je,Ln="value"in Nt?Nt.value:Nt.textContent,u0=!0)),qt=Fx(we,an),0<qt.length&&(an=new IO(an,l,null,m,je),Ve.push({event:an,listeners:qt}),Gt?an.data=Gt:(Gt=$O(m),Gt!==null&&(an.data=Gt)))),(Gt=WZ?HZ(l,m):VZ(l,m))&&(we=Fx(we,"onBeforeInput"),0<we.length&&(je=new IO("onBeforeInput","beforeinput",null,m,je),Ve.push({event:je,listeners:we}),je.data=Gt))}e9(Ve,d)})}function Xb(l,d,m){return{instance:l,listener:d,currentTarget:m}}function Fx(l,d){for(var m=d+"Capture",v=[];l!==null;){var A=l,P=A.stateNode;A.tag===5&&P!==null&&(A=P,P=Lt(l,m),P!=null&&v.unshift(Xb(l,P,A)),P=Lt(l,d),P!=null&&v.push(Xb(l,P,A))),l=l.return}return v}function h0(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function n9(l,d,m,v,A){for(var P=d._reactName,W=[];m!==null&&m!==v;){var te=m,ne=te.alternate,we=te.stateNode;if(ne!==null&&ne===v)break;te.tag===5&&we!==null&&(te=we,A?(ne=Lt(m,P),ne!=null&&W.unshift(Xb(m,ne,te))):A||(ne=Lt(m,P),ne!=null&&W.push(Xb(m,ne,te)))),m=m.return}W.length!==0&&l.push({event:d,listeners:W})}var sJ=/\r\n?/g,oJ=/\u0000|\uFFFD/g;function r9(l){return(typeof l=="string"?l:""+l).replace(sJ,`
`).replace(oJ,"")}function jx(l,d,m){if(d=r9(d),r9(l)!==d&&m)throw Error(n(425))}function zx(){}var k_=null,R_=null;function O_(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var $_=typeof setTimeout=="function"?setTimeout:void 0,aJ=typeof clearTimeout=="function"?clearTimeout:void 0,i9=typeof Promise=="function"?Promise:void 0,cJ=typeof queueMicrotask=="function"?queueMicrotask:typeof i9<"u"?function(l){return i9.resolve(null).then(l).catch(lJ)}:$_;function lJ(l){setTimeout(function(){throw l})}function D_(l,d){var m=d,v=0;do{var A=m.nextSibling;if(l.removeChild(m),A&&A.nodeType===8)if(m=A.data,m==="/$"){if(v===0){l.removeChild(A),et(d);return}v--}else m!=="$"&&m!=="$?"&&m!=="$!"||v++;m=A}while(m);et(d)}function wf(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function s9(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}var p0=Math.random().toString(36).slice(2),Rl="__reactFiber$"+p0,ev="__reactProps$"+p0,Du="__reactContainer$"+p0,L_="__reactEvents$"+p0,uJ="__reactListeners$"+p0,dJ="__reactHandles$"+p0;function _p(l){var d=l[Rl];if(d)return d;for(var m=l.parentNode;m;){if(d=m[Du]||m[Rl]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=s9(l);l!==null;){if(m=l[Rl])return m;l=s9(l)}return d}l=m,m=l.parentNode}return null}function tv(l){return l=l[Rl]||l[Du],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function m0(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function Wx(l){return l[ev]||null}var M_=[],g0=-1;function bf(l){return{current:l}}function Br(l){0>g0||(l.current=M_[g0],M_[g0]=null,g0--)}function kr(l,d){g0++,M_[g0]=l.current,l.current=d}var vf={},vs=bf(vf),mo=bf(!1),Tp=vf;function y0(l,d){var m=l.type.contextTypes;if(!m)return vf;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===d)return v.__reactInternalMemoizedMaskedChildContext;var A={},P;for(P in m)A[P]=d[P];return v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=A),A}function go(l){return l=l.childContextTypes,l!=null}function Hx(){Br(mo),Br(vs)}function o9(l,d,m){if(vs.current!==vf)throw Error(n(168));kr(vs,d),kr(mo,m)}function a9(l,d,m){var v=l.stateNode;if(d=d.childContextTypes,typeof v.getChildContext!="function")return m;v=v.getChildContext();for(var A in v)if(!(A in d))throw Error(n(108,Pe(l)||"Unknown",A));return K({},m,v)}function Vx(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||vf,Tp=vs.current,kr(vs,l),kr(mo,mo.current),!0}function c9(l,d,m){var v=l.stateNode;if(!v)throw Error(n(169));m?(l=a9(l,d,Tp),v.__reactInternalMemoizedMergedChildContext=l,Br(mo),Br(vs),kr(vs,l)):Br(mo),kr(mo,m)}var Lu=null,qx=!1,B_=!1;function l9(l){Lu===null?Lu=[l]:Lu.push(l)}function fJ(l){qx=!0,l9(l)}function Cf(){if(!B_&&Lu!==null){B_=!0;var l=0,d=Zn;try{var m=Lu;for(Zn=1;l<m.length;l++){var v=m[l];do v=v(!0);while(v!==null)}Lu=null,qx=!1}catch(A){throw Lu!==null&&(Lu=Lu.slice(l+1)),Nl(Ic,Cf),A}finally{Zn=d,B_=!1}}return null}var w0=[],b0=0,Gx=null,Kx=0,Da=[],La=0,Ip=null,Mu=1,Bu="";function Np(l,d){w0[b0++]=Kx,w0[b0++]=Gx,Gx=l,Kx=d}function u9(l,d,m){Da[La++]=Mu,Da[La++]=Bu,Da[La++]=Ip,Ip=l;var v=Mu;l=Bu;var A=32-Mi(v)-1;v&=~(1<<A),m+=1;var P=32-Mi(d)+A;if(30<P){var W=A-A%5;P=(v&(1<<W)-1).toString(32),v>>=W,A-=W,Mu=1<<32-Mi(d)+A|m<<A|v,Bu=P+l}else Mu=1<<P|m<<A|v,Bu=l}function U_(l){l.return!==null&&(Np(l,1),u9(l,1,0))}function F_(l){for(;l===Gx;)Gx=w0[--b0],w0[b0]=null,Kx=w0[--b0],w0[b0]=null;for(;l===Ip;)Ip=Da[--La],Da[La]=null,Bu=Da[--La],Da[La]=null,Mu=Da[--La],Da[La]=null}var ta=null,na=null,Wr=!1,Pc=null;function d9(l,d){var m=Fa(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=l,d=l.deletions,d===null?(l.deletions=[m],l.flags|=16):d.push(m)}function f9(l,d){switch(l.tag){case 5:var m=l.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,ta=l,na=wf(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,ta=l,na=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=Ip!==null?{id:Mu,overflow:Bu}:null,l.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=Fa(18,null,null,0),m.stateNode=d,m.return=l,l.child=m,ta=l,na=null,!0):!1;default:return!1}}function j_(l){return(l.mode&1)!==0&&(l.flags&128)===0}function z_(l){if(Wr){var d=na;if(d){var m=d;if(!f9(l,d)){if(j_(l))throw Error(n(418));d=wf(m.nextSibling);var v=ta;d&&f9(l,d)?d9(v,m):(l.flags=l.flags&-4097|2,Wr=!1,ta=l)}}else{if(j_(l))throw Error(n(418));l.flags=l.flags&-4097|2,Wr=!1,ta=l}}}function h9(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ta=l}function Yx(l){if(l!==ta)return!1;if(!Wr)return h9(l),Wr=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!O_(l.type,l.memoizedProps)),d&&(d=na)){if(j_(l))throw p9(),Error(n(418));for(;d;)d9(l,d),d=wf(d.nextSibling)}if(h9(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(d===0){na=wf(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}l=l.nextSibling}na=null}}else na=ta?wf(l.stateNode.nextSibling):null;return!0}function p9(){for(var l=na;l;)l=wf(l.nextSibling)}function v0(){na=ta=null,Wr=!1}function W_(l){Pc===null?Pc=[l]:Pc.push(l)}var hJ=I.ReactCurrentBatchConfig;function nv(l,d,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var v=m.stateNode}if(!v)throw Error(n(147,l));var A=v,P=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===P?d.ref:(d=function(W){var te=A.refs;W===null?delete te[P]:te[P]=W},d._stringRef=P,d)}if(typeof l!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,l))}return l}function Qx(l,d){throw l=Object.prototype.toString.call(d),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function m9(l){var d=l._init;return d(l._payload)}function g9(l){function d(de,se){if(l){var me=de.deletions;me===null?(de.deletions=[se],de.flags|=16):me.push(se)}}function m(de,se){if(!l)return null;for(;se!==null;)d(de,se),se=se.sibling;return null}function v(de,se){for(de=new Map;se!==null;)se.key!==null?de.set(se.key,se):de.set(se.index,se),se=se.sibling;return de}function A(de,se){return de=Nf(de,se),de.index=0,de.sibling=null,de}function P(de,se,me){return de.index=me,l?(me=de.alternate,me!==null?(me=me.index,me<se?(de.flags|=2,se):me):(de.flags|=2,se)):(de.flags|=1048576,se)}function W(de){return l&&de.alternate===null&&(de.flags|=2),de}function te(de,se,me,Ze){return se===null||se.tag!==6?(se=$T(me,de.mode,Ze),se.return=de,se):(se=A(se,me),se.return=de,se)}function ne(de,se,me,Ze){var Rt=me.type;return Rt===R?je(de,se,me.props.children,Ze,me.key):se!==null&&(se.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===D&&m9(Rt)===se.type)?(Ze=A(se,me.props),Ze.ref=nv(de,se,me),Ze.return=de,Ze):(Ze=vE(me.type,me.key,me.props,null,de.mode,Ze),Ze.ref=nv(de,se,me),Ze.return=de,Ze)}function we(de,se,me,Ze){return se===null||se.tag!==4||se.stateNode.containerInfo!==me.containerInfo||se.stateNode.implementation!==me.implementation?(se=DT(me,de.mode,Ze),se.return=de,se):(se=A(se,me.children||[]),se.return=de,se)}function je(de,se,me,Ze,Rt){return se===null||se.tag!==7?(se=Mp(me,de.mode,Ze,Rt),se.return=de,se):(se=A(se,me),se.return=de,se)}function Ve(de,se,me){if(typeof se=="string"&&se!==""||typeof se=="number")return se=$T(""+se,de.mode,me),se.return=de,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return me=vE(se.type,se.key,se.props,null,de.mode,me),me.ref=nv(de,null,se),me.return=de,me;case T:return se=DT(se,de.mode,me),se.return=de,se;case D:var Ze=se._init;return Ve(de,Ze(se._payload),me)}if(An(se)||Y(se))return se=Mp(se,de.mode,me,null),se.return=de,se;Qx(de,se)}return null}function Be(de,se,me,Ze){var Rt=se!==null?se.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return Rt!==null?null:te(de,se,""+me,Ze);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case S:return me.key===Rt?ne(de,se,me,Ze):null;case T:return me.key===Rt?we(de,se,me,Ze):null;case D:return Rt=me._init,Be(de,se,Rt(me._payload),Ze)}if(An(me)||Y(me))return Rt!==null?null:je(de,se,me,Ze,null);Qx(de,me)}return null}function dt(de,se,me,Ze,Rt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return de=de.get(me)||null,te(se,de,""+Ze,Rt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case S:return de=de.get(Ze.key===null?me:Ze.key)||null,ne(se,de,Ze,Rt);case T:return de=de.get(Ze.key===null?me:Ze.key)||null,we(se,de,Ze,Rt);case D:var qt=Ze._init;return dt(de,se,me,qt(Ze._payload),Rt)}if(An(Ze)||Y(Ze))return de=de.get(me)||null,je(se,de,Ze,Rt,null);Qx(se,Ze)}return null}function _t(de,se,me,Ze){for(var Rt=null,qt=null,Gt=se,an=se=0,Fi=null;Gt!==null&&an<me.length;an++){Gt.index>an?(Fi=Gt,Gt=null):Fi=Gt.sibling;var Wn=Be(de,Gt,me[an],Ze);if(Wn===null){Gt===null&&(Gt=Fi);break}l&&Gt&&Wn.alternate===null&&d(de,Gt),se=P(Wn,se,an),qt===null?Rt=Wn:qt.sibling=Wn,qt=Wn,Gt=Fi}if(an===me.length)return m(de,Gt),Wr&&Np(de,an),Rt;if(Gt===null){for(;an<me.length;an++)Gt=Ve(de,me[an],Ze),Gt!==null&&(se=P(Gt,se,an),qt===null?Rt=Gt:qt.sibling=Gt,qt=Gt);return Wr&&Np(de,an),Rt}for(Gt=v(de,Gt);an<me.length;an++)Fi=dt(Gt,de,an,me[an],Ze),Fi!==null&&(l&&Fi.alternate!==null&&Gt.delete(Fi.key===null?an:Fi.key),se=P(Fi,se,an),qt===null?Rt=Fi:qt.sibling=Fi,qt=Fi);return l&&Gt.forEach(function(Pf){return d(de,Pf)}),Wr&&Np(de,an),Rt}function Pt(de,se,me,Ze){var Rt=Y(me);if(typeof Rt!="function")throw Error(n(150));if(me=Rt.call(me),me==null)throw Error(n(151));for(var qt=Rt=null,Gt=se,an=se=0,Fi=null,Wn=me.next();Gt!==null&&!Wn.done;an++,Wn=me.next()){Gt.index>an?(Fi=Gt,Gt=null):Fi=Gt.sibling;var Pf=Be(de,Gt,Wn.value,Ze);if(Pf===null){Gt===null&&(Gt=Fi);break}l&&Gt&&Pf.alternate===null&&d(de,Gt),se=P(Pf,se,an),qt===null?Rt=Pf:qt.sibling=Pf,qt=Pf,Gt=Fi}if(Wn.done)return m(de,Gt),Wr&&Np(de,an),Rt;if(Gt===null){for(;!Wn.done;an++,Wn=me.next())Wn=Ve(de,Wn.value,Ze),Wn!==null&&(se=P(Wn,se,an),qt===null?Rt=Wn:qt.sibling=Wn,qt=Wn);return Wr&&Np(de,an),Rt}for(Gt=v(de,Gt);!Wn.done;an++,Wn=me.next())Wn=dt(Gt,de,an,Wn.value,Ze),Wn!==null&&(l&&Wn.alternate!==null&&Gt.delete(Wn.key===null?an:Wn.key),se=P(Wn,se,an),qt===null?Rt=Wn:qt.sibling=Wn,qt=Wn);return l&&Gt.forEach(function(qJ){return d(de,qJ)}),Wr&&Np(de,an),Rt}function ai(de,se,me,Ze){if(typeof me=="object"&&me!==null&&me.type===R&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case S:e:{for(var Rt=me.key,qt=se;qt!==null;){if(qt.key===Rt){if(Rt=me.type,Rt===R){if(qt.tag===7){m(de,qt.sibling),se=A(qt,me.props.children),se.return=de,de=se;break e}}else if(qt.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===D&&m9(Rt)===qt.type){m(de,qt.sibling),se=A(qt,me.props),se.ref=nv(de,qt,me),se.return=de,de=se;break e}m(de,qt);break}else d(de,qt);qt=qt.sibling}me.type===R?(se=Mp(me.props.children,de.mode,Ze,me.key),se.return=de,de=se):(Ze=vE(me.type,me.key,me.props,null,de.mode,Ze),Ze.ref=nv(de,se,me),Ze.return=de,de=Ze)}return W(de);case T:e:{for(qt=me.key;se!==null;){if(se.key===qt)if(se.tag===4&&se.stateNode.containerInfo===me.containerInfo&&se.stateNode.implementation===me.implementation){m(de,se.sibling),se=A(se,me.children||[]),se.return=de,de=se;break e}else{m(de,se);break}else d(de,se);se=se.sibling}se=DT(me,de.mode,Ze),se.return=de,de=se}return W(de);case D:return qt=me._init,ai(de,se,qt(me._payload),Ze)}if(An(me))return _t(de,se,me,Ze);if(Y(me))return Pt(de,se,me,Ze);Qx(de,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,se!==null&&se.tag===6?(m(de,se.sibling),se=A(se,me),se.return=de,de=se):(m(de,se),se=$T(me,de.mode,Ze),se.return=de,de=se),W(de)):m(de,se)}return ai}var C0=g9(!0),y9=g9(!1),Zx=bf(null),Jx=null,x0=null,H_=null;function V_(){H_=x0=Jx=null}function q_(l){var d=Zx.current;Br(Zx),l._currentValue=d}function G_(l,d,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),l===m)break;l=l.return}}function E0(l,d){Jx=l,H_=x0=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(yo=!0),l.firstContext=null)}function Ma(l){var d=l._currentValue;if(H_!==l)if(l={context:l,memoizedValue:d,next:null},x0===null){if(Jx===null)throw Error(n(308));x0=l,Jx.dependencies={lanes:0,firstContext:l}}else x0=x0.next=l;return d}var Pp=null;function K_(l){Pp===null?Pp=[l]:Pp.push(l)}function w9(l,d,m,v){var A=d.interleaved;return A===null?(m.next=m,K_(d)):(m.next=A.next,A.next=m),d.interleaved=m,Uu(l,v)}function Uu(l,d){l.lanes|=d;var m=l.alternate;for(m!==null&&(m.lanes|=d),m=l,l=l.return;l!==null;)l.childLanes|=d,m=l.alternate,m!==null&&(m.childLanes|=d),m=l,l=l.return;return m.tag===3?m.stateNode:null}var xf=!1;function Y_(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b9(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Fu(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function Ef(l,d,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(Mn&2)!==0){var A=v.pending;return A===null?d.next=d:(d.next=A.next,A.next=d),v.pending=d,Uu(l,m)}return A=v.interleaved,A===null?(d.next=d,K_(v)):(d.next=A.next,A.next=d),v.interleaved=d,Uu(l,m)}function Xx(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var v=d.lanes;v&=l.pendingLanes,m|=v,d.lanes=m,zb(l,m)}}function v9(l,d){var m=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var A=null,P=null;if(m=m.firstBaseUpdate,m!==null){do{var W={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};P===null?A=P=W:P=P.next=W,m=m.next}while(m!==null);P===null?A=P=d:P=P.next=d}else A=P=d;m={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:P,shared:v.shared,effects:v.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}function eE(l,d,m,v){var A=l.updateQueue;xf=!1;var P=A.firstBaseUpdate,W=A.lastBaseUpdate,te=A.shared.pending;if(te!==null){A.shared.pending=null;var ne=te,we=ne.next;ne.next=null,W===null?P=we:W.next=we,W=ne;var je=l.alternate;je!==null&&(je=je.updateQueue,te=je.lastBaseUpdate,te!==W&&(te===null?je.firstBaseUpdate=we:te.next=we,je.lastBaseUpdate=ne))}if(P!==null){var Ve=A.baseState;W=0,je=we=ne=null,te=P;do{var Be=te.lane,dt=te.eventTime;if((v&Be)===Be){je!==null&&(je=je.next={eventTime:dt,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var _t=l,Pt=te;switch(Be=d,dt=m,Pt.tag){case 1:if(_t=Pt.payload,typeof _t=="function"){Ve=_t.call(dt,Ve,Be);break e}Ve=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Pt.payload,Be=typeof _t=="function"?_t.call(dt,Ve,Be):_t,Be==null)break e;Ve=K({},Ve,Be);break e;case 2:xf=!0}}te.callback!==null&&te.lane!==0&&(l.flags|=64,Be=A.effects,Be===null?A.effects=[te]:Be.push(te))}else dt={eventTime:dt,lane:Be,tag:te.tag,payload:te.payload,callback:te.callback,next:null},je===null?(we=je=dt,ne=Ve):je=je.next=dt,W|=Be;if(te=te.next,te===null){if(te=A.shared.pending,te===null)break;Be=te,te=Be.next,Be.next=null,A.lastBaseUpdate=Be,A.shared.pending=null}}while(!0);if(je===null&&(ne=Ve),A.baseState=ne,A.firstBaseUpdate=we,A.lastBaseUpdate=je,d=A.shared.interleaved,d!==null){A=d;do W|=A.lane,A=A.next;while(A!==d)}else P===null&&(A.shared.lanes=0);Op|=W,l.lanes=W,l.memoizedState=Ve}}function C9(l,d,m){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var v=l[d],A=v.callback;if(A!==null){if(v.callback=null,v=m,typeof A!="function")throw Error(n(191,A));A.call(v)}}}var rv={},Ol=bf(rv),iv=bf(rv),sv=bf(rv);function kp(l){if(l===rv)throw Error(n(174));return l}function Q_(l,d){switch(kr(sv,d),kr(iv,l),kr(Ol,rv),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:tn(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=tn(d,l)}Br(Ol),kr(Ol,d)}function A0(){Br(Ol),Br(iv),Br(sv)}function x9(l){kp(sv.current);var d=kp(Ol.current),m=tn(d,l.type);d!==m&&(kr(iv,l),kr(Ol,m))}function Z_(l){iv.current===l&&(Br(Ol),Br(iv))}var Yr=bf(0);function tE(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var J_=[];function X_(){for(var l=0;l<J_.length;l++)J_[l]._workInProgressVersionPrimary=null;J_.length=0}var nE=I.ReactCurrentDispatcher,eT=I.ReactCurrentBatchConfig,Rp=0,Qr=null,Si=null,Bi=null,rE=!1,ov=!1,av=0,pJ=0;function Cs(){throw Error(n(321))}function tT(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!Nc(l[m],d[m]))return!1;return!0}function nT(l,d,m,v,A,P){if(Rp=P,Qr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,nE.current=l===null||l.memoizedState===null?wJ:bJ,l=m(v,A),ov){P=0;do{if(ov=!1,av=0,25<=P)throw Error(n(301));P+=1,Bi=Si=null,d.updateQueue=null,nE.current=vJ,l=m(v,A)}while(ov)}if(nE.current=oE,d=Si!==null&&Si.next!==null,Rp=0,Bi=Si=Qr=null,rE=!1,d)throw Error(n(300));return l}function rT(){var l=av!==0;return av=0,l}function $l(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bi===null?Qr.memoizedState=Bi=l:Bi=Bi.next=l,Bi}function Ba(){if(Si===null){var l=Qr.alternate;l=l!==null?l.memoizedState:null}else l=Si.next;var d=Bi===null?Qr.memoizedState:Bi.next;if(d!==null)Bi=d,Si=l;else{if(l===null)throw Error(n(310));Si=l,l={memoizedState:Si.memoizedState,baseState:Si.baseState,baseQueue:Si.baseQueue,queue:Si.queue,next:null},Bi===null?Qr.memoizedState=Bi=l:Bi=Bi.next=l}return Bi}function cv(l,d){return typeof d=="function"?d(l):d}function iT(l){var d=Ba(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var v=Si,A=v.baseQueue,P=m.pending;if(P!==null){if(A!==null){var W=A.next;A.next=P.next,P.next=W}v.baseQueue=A=P,m.pending=null}if(A!==null){P=A.next,v=v.baseState;var te=W=null,ne=null,we=P;do{var je=we.lane;if((Rp&je)===je)ne!==null&&(ne=ne.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),v=we.hasEagerState?we.eagerState:l(v,we.action);else{var Ve={lane:je,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};ne===null?(te=ne=Ve,W=v):ne=ne.next=Ve,Qr.lanes|=je,Op|=je}we=we.next}while(we!==null&&we!==P);ne===null?W=v:ne.next=te,Nc(v,d.memoizedState)||(yo=!0),d.memoizedState=v,d.baseState=W,d.baseQueue=ne,m.lastRenderedState=v}if(l=m.interleaved,l!==null){A=l;do P=A.lane,Qr.lanes|=P,Op|=P,A=A.next;while(A!==l)}else A===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function sT(l){var d=Ba(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var v=m.dispatch,A=m.pending,P=d.memoizedState;if(A!==null){m.pending=null;var W=A=A.next;do P=l(P,W.action),W=W.next;while(W!==A);Nc(P,d.memoizedState)||(yo=!0),d.memoizedState=P,d.baseQueue===null&&(d.baseState=P),m.lastRenderedState=P}return[P,v]}function E9(){}function A9(l,d){var m=Qr,v=Ba(),A=d(),P=!Nc(v.memoizedState,A);if(P&&(v.memoizedState=A,yo=!0),v=v.queue,oT(T9.bind(null,m,v,l),[l]),v.getSnapshot!==d||P||Bi!==null&&Bi.memoizedState.tag&1){if(m.flags|=2048,lv(9,_9.bind(null,m,v,A,d),void 0,null),Ui===null)throw Error(n(349));(Rp&30)!==0||S9(m,d,A)}return A}function S9(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=Qr.updateQueue,d===null?(d={lastEffect:null,stores:null},Qr.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function _9(l,d,m,v){d.value=m,d.getSnapshot=v,I9(d)&&N9(l)}function T9(l,d,m){return m(function(){I9(d)&&N9(l)})}function I9(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!Nc(l,m)}catch{return!0}}function N9(l){var d=Uu(l,1);d!==null&&$c(d,l,1,-1)}function P9(l){var d=$l();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cv,lastRenderedState:l},d.queue=l,l=l.dispatch=yJ.bind(null,Qr,l),[d.memoizedState,l]}function lv(l,d,m,v){return l={tag:l,create:d,destroy:m,deps:v,next:null},d=Qr.updateQueue,d===null?(d={lastEffect:null,stores:null},Qr.updateQueue=d,d.lastEffect=l.next=l):(m=d.lastEffect,m===null?d.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,d.lastEffect=l)),l}function k9(){return Ba().memoizedState}function iE(l,d,m,v){var A=$l();Qr.flags|=l,A.memoizedState=lv(1|d,m,void 0,v===void 0?null:v)}function sE(l,d,m,v){var A=Ba();v=v===void 0?null:v;var P=void 0;if(Si!==null){var W=Si.memoizedState;if(P=W.destroy,v!==null&&tT(v,W.deps)){A.memoizedState=lv(d,m,P,v);return}}Qr.flags|=l,A.memoizedState=lv(1|d,m,P,v)}function R9(l,d){return iE(8390656,8,l,d)}function oT(l,d){return sE(2048,8,l,d)}function O9(l,d){return sE(4,2,l,d)}function $9(l,d){return sE(4,4,l,d)}function D9(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function L9(l,d,m){return m=m!=null?m.concat([l]):null,sE(4,4,D9.bind(null,d,l),m)}function aT(){}function M9(l,d){var m=Ba();d=d===void 0?null:d;var v=m.memoizedState;return v!==null&&d!==null&&tT(d,v[1])?v[0]:(m.memoizedState=[l,d],l)}function B9(l,d){var m=Ba();d=d===void 0?null:d;var v=m.memoizedState;return v!==null&&d!==null&&tT(d,v[1])?v[0]:(l=l(),m.memoizedState=[l,d],l)}function U9(l,d,m){return(Rp&21)===0?(l.baseState&&(l.baseState=!1,yo=!0),l.memoizedState=m):(Nc(m,d)||(m=Px(),Qr.lanes|=m,Op|=m,l.baseState=!0),d)}function mJ(l,d){var m=Zn;Zn=m!==0&&4>m?m:4,l(!0);var v=eT.transition;eT.transition={};try{l(!1),d()}finally{Zn=m,eT.transition=v}}function F9(){return Ba().memoizedState}function gJ(l,d,m){var v=Tf(l);if(m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},j9(l))z9(d,m);else if(m=w9(l,d,m,v),m!==null){var A=Ws();$c(m,l,v,A),W9(m,d,v)}}function yJ(l,d,m){var v=Tf(l),A={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(j9(l))z9(d,A);else{var P=l.alternate;if(l.lanes===0&&(P===null||P.lanes===0)&&(P=d.lastRenderedReducer,P!==null))try{var W=d.lastRenderedState,te=P(W,m);if(A.hasEagerState=!0,A.eagerState=te,Nc(te,W)){var ne=d.interleaved;ne===null?(A.next=A,K_(d)):(A.next=ne.next,ne.next=A),d.interleaved=A;return}}catch{}finally{}m=w9(l,d,A,v),m!==null&&(A=Ws(),$c(m,l,v,A),W9(m,d,v))}}function j9(l){var d=l.alternate;return l===Qr||d!==null&&d===Qr}function z9(l,d){ov=rE=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function W9(l,d,m){if((m&4194240)!==0){var v=d.lanes;v&=l.pendingLanes,m|=v,d.lanes=m,zb(l,m)}}var oE={readContext:Ma,useCallback:Cs,useContext:Cs,useEffect:Cs,useImperativeHandle:Cs,useInsertionEffect:Cs,useLayoutEffect:Cs,useMemo:Cs,useReducer:Cs,useRef:Cs,useState:Cs,useDebugValue:Cs,useDeferredValue:Cs,useTransition:Cs,useMutableSource:Cs,useSyncExternalStore:Cs,useId:Cs,unstable_isNewReconciler:!1},wJ={readContext:Ma,useCallback:function(l,d){return $l().memoizedState=[l,d===void 0?null:d],l},useContext:Ma,useEffect:R9,useImperativeHandle:function(l,d,m){return m=m!=null?m.concat([l]):null,iE(4194308,4,D9.bind(null,d,l),m)},useLayoutEffect:function(l,d){return iE(4194308,4,l,d)},useInsertionEffect:function(l,d){return iE(4,2,l,d)},useMemo:function(l,d){var m=$l();return d=d===void 0?null:d,l=l(),m.memoizedState=[l,d],l},useReducer:function(l,d,m){var v=$l();return d=m!==void 0?m(d):d,v.memoizedState=v.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},v.queue=l,l=l.dispatch=gJ.bind(null,Qr,l),[v.memoizedState,l]},useRef:function(l){var d=$l();return l={current:l},d.memoizedState=l},useState:P9,useDebugValue:aT,useDeferredValue:function(l){return $l().memoizedState=l},useTransition:function(){var l=P9(!1),d=l[0];return l=mJ.bind(null,l[1]),$l().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,m){var v=Qr,A=$l();if(Wr){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),Ui===null)throw Error(n(349));(Rp&30)!==0||S9(v,d,m)}A.memoizedState=m;var P={value:m,getSnapshot:d};return A.queue=P,R9(T9.bind(null,v,P,l),[l]),v.flags|=2048,lv(9,_9.bind(null,v,P,m,d),void 0,null),m},useId:function(){var l=$l(),d=Ui.identifierPrefix;if(Wr){var m=Bu,v=Mu;m=(v&~(1<<32-Mi(v)-1)).toString(32)+m,d=":"+d+"R"+m,m=av++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=pJ++,d=":"+d+"r"+m.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},bJ={readContext:Ma,useCallback:M9,useContext:Ma,useEffect:oT,useImperativeHandle:L9,useInsertionEffect:O9,useLayoutEffect:$9,useMemo:B9,useReducer:iT,useRef:k9,useState:function(){return iT(cv)},useDebugValue:aT,useDeferredValue:function(l){var d=Ba();return U9(d,Si.memoizedState,l)},useTransition:function(){var l=iT(cv)[0],d=Ba().memoizedState;return[l,d]},useMutableSource:E9,useSyncExternalStore:A9,useId:F9,unstable_isNewReconciler:!1},vJ={readContext:Ma,useCallback:M9,useContext:Ma,useEffect:oT,useImperativeHandle:L9,useInsertionEffect:O9,useLayoutEffect:$9,useMemo:B9,useReducer:sT,useRef:k9,useState:function(){return sT(cv)},useDebugValue:aT,useDeferredValue:function(l){var d=Ba();return Si===null?d.memoizedState=l:U9(d,Si.memoizedState,l)},useTransition:function(){var l=sT(cv)[0],d=Ba().memoizedState;return[l,d]},useMutableSource:E9,useSyncExternalStore:A9,useId:F9,unstable_isNewReconciler:!1};function kc(l,d){if(l&&l.defaultProps){d=K({},d),l=l.defaultProps;for(var m in l)d[m]===void 0&&(d[m]=l[m]);return d}return d}function cT(l,d,m,v){d=l.memoizedState,m=m(v,d),m=m==null?d:K({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var aE={isMounted:function(l){return(l=l._reactInternals)?jr(l)===l:!1},enqueueSetState:function(l,d,m){l=l._reactInternals;var v=Ws(),A=Tf(l),P=Fu(v,A);P.payload=d,m!=null&&(P.callback=m),d=Ef(l,P,A),d!==null&&($c(d,l,A,v),Xx(d,l,A))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var v=Ws(),A=Tf(l),P=Fu(v,A);P.tag=1,P.payload=d,m!=null&&(P.callback=m),d=Ef(l,P,A),d!==null&&($c(d,l,A,v),Xx(d,l,A))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=Ws(),v=Tf(l),A=Fu(m,v);A.tag=2,d!=null&&(A.callback=d),d=Ef(l,A,v),d!==null&&($c(d,l,v,m),Xx(d,l,v))}};function H9(l,d,m,v,A,P,W){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,P,W):d.prototype&&d.prototype.isPureReactComponent?!Yb(m,v)||!Yb(A,P):!0}function V9(l,d,m){var v=!1,A=vf,P=d.contextType;return typeof P=="object"&&P!==null?P=Ma(P):(A=go(d)?Tp:vs.current,v=d.contextTypes,P=(v=v!=null)?y0(l,A):vf),d=new d(m,P),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=aE,l.stateNode=d,d._reactInternals=l,v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=A,l.__reactInternalMemoizedMaskedChildContext=P),d}function q9(l,d,m,v){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,v),d.state!==l&&aE.enqueueReplaceState(d,d.state,null)}function lT(l,d,m,v){var A=l.stateNode;A.props=m,A.state=l.memoizedState,A.refs={},Y_(l);var P=d.contextType;typeof P=="object"&&P!==null?A.context=Ma(P):(P=go(d)?Tp:vs.current,A.context=y0(l,P)),A.state=l.memoizedState,P=d.getDerivedStateFromProps,typeof P=="function"&&(cT(l,d,P,m),A.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(d=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),d!==A.state&&aE.enqueueReplaceState(A,A.state,null),eE(l,m,A,v),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308)}function S0(l,d){try{var m="",v=d;do m+=ge(v),v=v.return;while(v);var A=m}catch(P){A=`
Error generating stack: `+P.message+`
`+P.stack}return{value:l,source:d,stack:A,digest:null}}function uT(l,d,m){return{value:l,source:null,stack:m??null,digest:d??null}}function dT(l,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var CJ=typeof WeakMap=="function"?WeakMap:Map;function G9(l,d,m){m=Fu(-1,m),m.tag=3,m.payload={element:null};var v=d.value;return m.callback=function(){pE||(pE=!0,_T=v),dT(l,d)},m}function K9(l,d,m){m=Fu(-1,m),m.tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var A=d.value;m.payload=function(){return v(A)},m.callback=function(){dT(l,d)}}var P=l.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(m.callback=function(){dT(l,d),typeof v!="function"&&(Sf===null?Sf=new Set([this]):Sf.add(this));var W=d.stack;this.componentDidCatch(d.value,{componentStack:W!==null?W:""})}),m}function Y9(l,d,m){var v=l.pingCache;if(v===null){v=l.pingCache=new CJ;var A=new Set;v.set(d,A)}else A=v.get(d),A===void 0&&(A=new Set,v.set(d,A));A.has(m)||(A.add(m),l=DJ.bind(null,l,d,m),d.then(l,l))}function Q9(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function Z9(l,d,m,v,A){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=Fu(-1,1),d.tag=2,Ef(m,d,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=A,l)}var xJ=I.ReactCurrentOwner,yo=!1;function zs(l,d,m,v){d.child=l===null?y9(d,null,m,v):C0(d,l.child,m,v)}function J9(l,d,m,v,A){m=m.render;var P=d.ref;return E0(d,A),v=nT(l,d,m,v,P,A),m=rT(),l!==null&&!yo?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~A,ju(l,d,A)):(Wr&&m&&U_(d),d.flags|=1,zs(l,d,v,A),d.child)}function X9(l,d,m,v,A){if(l===null){var P=m.type;return typeof P=="function"&&!OT(P)&&P.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=P,e$(l,d,P,v,A)):(l=vE(m.type,null,v,d,d.mode,A),l.ref=d.ref,l.return=d,d.child=l)}if(P=l.child,(l.lanes&A)===0){var W=P.memoizedProps;if(m=m.compare,m=m!==null?m:Yb,m(W,v)&&l.ref===d.ref)return ju(l,d,A)}return d.flags|=1,l=Nf(P,v),l.ref=d.ref,l.return=d,d.child=l}function e$(l,d,m,v,A){if(l!==null){var P=l.memoizedProps;if(Yb(P,v)&&l.ref===d.ref)if(yo=!1,d.pendingProps=v=P,(l.lanes&A)!==0)(l.flags&131072)!==0&&(yo=!0);else return d.lanes=l.lanes,ju(l,d,A)}return fT(l,d,m,v,A)}function t$(l,d,m){var v=d.pendingProps,A=v.children,P=l!==null?l.memoizedState:null;if(v.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(T0,ra),ra|=m;else{if((m&1073741824)===0)return l=P!==null?P.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,kr(T0,ra),ra|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=P!==null?P.baseLanes:m,kr(T0,ra),ra|=v}else P!==null?(v=P.baseLanes|m,d.memoizedState=null):v=m,kr(T0,ra),ra|=v;return zs(l,d,A,m),d.child}function n$(l,d){var m=d.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function fT(l,d,m,v,A){var P=go(m)?Tp:vs.current;return P=y0(d,P),E0(d,A),m=nT(l,d,m,v,P,A),v=rT(),l!==null&&!yo?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~A,ju(l,d,A)):(Wr&&v&&U_(d),d.flags|=1,zs(l,d,m,A),d.child)}function r$(l,d,m,v,A){if(go(m)){var P=!0;Vx(d)}else P=!1;if(E0(d,A),d.stateNode===null)lE(l,d),V9(d,m,v),lT(d,m,v,A),v=!0;else if(l===null){var W=d.stateNode,te=d.memoizedProps;W.props=te;var ne=W.context,we=m.contextType;typeof we=="object"&&we!==null?we=Ma(we):(we=go(m)?Tp:vs.current,we=y0(d,we));var je=m.getDerivedStateFromProps,Ve=typeof je=="function"||typeof W.getSnapshotBeforeUpdate=="function";Ve||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(te!==v||ne!==we)&&q9(d,W,v,we),xf=!1;var Be=d.memoizedState;W.state=Be,eE(d,v,W,A),ne=d.memoizedState,te!==v||Be!==ne||mo.current||xf?(typeof je=="function"&&(cT(d,m,je,v),ne=d.memoizedState),(te=xf||H9(d,m,te,v,Be,ne,we))?(Ve||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(d.flags|=4194308)):(typeof W.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=ne),W.props=v,W.state=ne,W.context=we,v=te):(typeof W.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{W=d.stateNode,b9(l,d),te=d.memoizedProps,we=d.type===d.elementType?te:kc(d.type,te),W.props=we,Ve=d.pendingProps,Be=W.context,ne=m.contextType,typeof ne=="object"&&ne!==null?ne=Ma(ne):(ne=go(m)?Tp:vs.current,ne=y0(d,ne));var dt=m.getDerivedStateFromProps;(je=typeof dt=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(te!==Ve||Be!==ne)&&q9(d,W,v,ne),xf=!1,Be=d.memoizedState,W.state=Be,eE(d,v,W,A);var _t=d.memoizedState;te!==Ve||Be!==_t||mo.current||xf?(typeof dt=="function"&&(cT(d,m,dt,v),_t=d.memoizedState),(we=xf||H9(d,m,we,v,Be,_t,ne)||!1)?(je||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(v,_t,ne),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(v,_t,ne)),typeof W.componentDidUpdate=="function"&&(d.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof W.componentDidUpdate!="function"||te===l.memoizedProps&&Be===l.memoizedState||(d.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||te===l.memoizedProps&&Be===l.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=_t),W.props=v,W.state=_t,W.context=ne,v=we):(typeof W.componentDidUpdate!="function"||te===l.memoizedProps&&Be===l.memoizedState||(d.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||te===l.memoizedProps&&Be===l.memoizedState||(d.flags|=1024),v=!1)}return hT(l,d,m,v,P,A)}function hT(l,d,m,v,A,P){n$(l,d);var W=(d.flags&128)!==0;if(!v&&!W)return A&&c9(d,m,!1),ju(l,d,P);v=d.stateNode,xJ.current=d;var te=W&&typeof m.getDerivedStateFromError!="function"?null:v.render();return d.flags|=1,l!==null&&W?(d.child=C0(d,l.child,null,P),d.child=C0(d,null,te,P)):zs(l,d,te,P),d.memoizedState=v.state,A&&c9(d,m,!0),d.child}function i$(l){var d=l.stateNode;d.pendingContext?o9(l,d.pendingContext,d.pendingContext!==d.context):d.context&&o9(l,d.context,!1),Q_(l,d.containerInfo)}function s$(l,d,m,v,A){return v0(),W_(A),d.flags|=256,zs(l,d,m,v),d.child}var pT={dehydrated:null,treeContext:null,retryLane:0};function mT(l){return{baseLanes:l,cachePool:null,transitions:null}}function o$(l,d,m){var v=d.pendingProps,A=Yr.current,P=!1,W=(d.flags&128)!==0,te;if((te=W)||(te=l!==null&&l.memoizedState===null?!1:(A&2)!==0),te?(P=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(A|=1),kr(Yr,A&1),l===null)return z_(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(W=v.children,l=v.fallback,P?(v=d.mode,P=d.child,W={mode:"hidden",children:W},(v&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=W):P=CE(W,v,0,null),l=Mp(l,v,m,null),P.return=d,l.return=d,P.sibling=l,d.child=P,d.child.memoizedState=mT(m),d.memoizedState=pT,l):gT(d,W));if(A=l.memoizedState,A!==null&&(te=A.dehydrated,te!==null))return EJ(l,d,W,v,te,A,m);if(P){P=v.fallback,W=d.mode,A=l.child,te=A.sibling;var ne={mode:"hidden",children:v.children};return(W&1)===0&&d.child!==A?(v=d.child,v.childLanes=0,v.pendingProps=ne,d.deletions=null):(v=Nf(A,ne),v.subtreeFlags=A.subtreeFlags&14680064),te!==null?P=Nf(te,P):(P=Mp(P,W,m,null),P.flags|=2),P.return=d,v.return=d,v.sibling=P,d.child=v,v=P,P=d.child,W=l.child.memoizedState,W=W===null?mT(m):{baseLanes:W.baseLanes|m,cachePool:null,transitions:W.transitions},P.memoizedState=W,P.childLanes=l.childLanes&~m,d.memoizedState=pT,v}return P=l.child,l=P.sibling,v=Nf(P,{mode:"visible",children:v.children}),(d.mode&1)===0&&(v.lanes=m),v.return=d,v.sibling=null,l!==null&&(m=d.deletions,m===null?(d.deletions=[l],d.flags|=16):m.push(l)),d.child=v,d.memoizedState=null,v}function gT(l,d){return d=CE({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function cE(l,d,m,v){return v!==null&&W_(v),C0(d,l.child,null,m),l=gT(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function EJ(l,d,m,v,A,P,W){if(m)return d.flags&256?(d.flags&=-257,v=uT(Error(n(422))),cE(l,d,W,v)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(P=v.fallback,A=d.mode,v=CE({mode:"visible",children:v.children},A,0,null),P=Mp(P,A,W,null),P.flags|=2,v.return=d,P.return=d,v.sibling=P,d.child=v,(d.mode&1)!==0&&C0(d,l.child,null,W),d.child.memoizedState=mT(W),d.memoizedState=pT,P);if((d.mode&1)===0)return cE(l,d,W,null);if(A.data==="$!"){if(v=A.nextSibling&&A.nextSibling.dataset,v)var te=v.dgst;return v=te,P=Error(n(419)),v=uT(P,v,void 0),cE(l,d,W,v)}if(te=(W&l.childLanes)!==0,yo||te){if(v=Ui,v!==null){switch(W&-W){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(v.suspendedLanes|W))!==0?0:A,A!==0&&A!==P.retryLane&&(P.retryLane=A,Uu(l,A),$c(v,l,A,-1))}return RT(),v=uT(Error(n(421))),cE(l,d,W,v)}return A.data==="$?"?(d.flags|=128,d.child=l.child,d=LJ.bind(null,l),A._reactRetry=d,null):(l=P.treeContext,na=wf(A.nextSibling),ta=d,Wr=!0,Pc=null,l!==null&&(Da[La++]=Mu,Da[La++]=Bu,Da[La++]=Ip,Mu=l.id,Bu=l.overflow,Ip=d),d=gT(d,v.children),d.flags|=4096,d)}function a$(l,d,m){l.lanes|=d;var v=l.alternate;v!==null&&(v.lanes|=d),G_(l.return,d,m)}function yT(l,d,m,v,A){var P=l.memoizedState;P===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:A}:(P.isBackwards=d,P.rendering=null,P.renderingStartTime=0,P.last=v,P.tail=m,P.tailMode=A)}function c$(l,d,m){var v=d.pendingProps,A=v.revealOrder,P=v.tail;if(zs(l,d,v.children,m),v=Yr.current,(v&2)!==0)v=v&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&a$(l,m,d);else if(l.tag===19)a$(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(kr(Yr,v),(d.mode&1)===0)d.memoizedState=null;else switch(A){case"forwards":for(m=d.child,A=null;m!==null;)l=m.alternate,l!==null&&tE(l)===null&&(A=m),m=m.sibling;m=A,m===null?(A=d.child,d.child=null):(A=m.sibling,m.sibling=null),yT(d,!1,A,m,P);break;case"backwards":for(m=null,A=d.child,d.child=null;A!==null;){if(l=A.alternate,l!==null&&tE(l)===null){d.child=A;break}l=A.sibling,A.sibling=m,m=A,A=l}yT(d,!0,m,null,P);break;case"together":yT(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function lE(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function ju(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),Op|=d.lanes,(m&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(n(153));if(d.child!==null){for(l=d.child,m=Nf(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=Nf(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function AJ(l,d,m){switch(d.tag){case 3:i$(d),v0();break;case 5:x9(d);break;case 1:go(d.type)&&Vx(d);break;case 4:Q_(d,d.stateNode.containerInfo);break;case 10:var v=d.type._context,A=d.memoizedProps.value;kr(Zx,v._currentValue),v._currentValue=A;break;case 13:if(v=d.memoizedState,v!==null)return v.dehydrated!==null?(kr(Yr,Yr.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?o$(l,d,m):(kr(Yr,Yr.current&1),l=ju(l,d,m),l!==null?l.sibling:null);kr(Yr,Yr.current&1);break;case 19:if(v=(m&d.childLanes)!==0,(l.flags&128)!==0){if(v)return c$(l,d,m);d.flags|=128}if(A=d.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),kr(Yr,Yr.current),v)break;return null;case 22:case 23:return d.lanes=0,t$(l,d,m)}return ju(l,d,m)}var l$,wT,u$,d$;l$=function(l,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},wT=function(){},u$=function(l,d,m,v){var A=l.memoizedProps;if(A!==v){l=d.stateNode,kp(Ol.current);var P=null;switch(m){case"input":A=rr(l,A),v=rr(l,v),P=[];break;case"select":A=K({},A,{value:void 0}),v=K({},v,{value:void 0}),P=[];break;case"textarea":A=en(l,A),v=en(l,v),P=[];break;default:typeof A.onClick!="function"&&typeof v.onClick=="function"&&(l.onclick=zx)}jn(m,v);var W;m=null;for(we in A)if(!v.hasOwnProperty(we)&&A.hasOwnProperty(we)&&A[we]!=null)if(we==="style"){var te=A[we];for(W in te)te.hasOwnProperty(W)&&(m||(m={}),m[W]="")}else we!=="dangerouslySetInnerHTML"&&we!=="children"&&we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&we!=="autoFocus"&&(i.hasOwnProperty(we)?P||(P=[]):(P=P||[]).push(we,null));for(we in v){var ne=v[we];if(te=A!=null?A[we]:void 0,v.hasOwnProperty(we)&&ne!==te&&(ne!=null||te!=null))if(we==="style")if(te){for(W in te)!te.hasOwnProperty(W)||ne&&ne.hasOwnProperty(W)||(m||(m={}),m[W]="");for(W in ne)ne.hasOwnProperty(W)&&te[W]!==ne[W]&&(m||(m={}),m[W]=ne[W])}else m||(P||(P=[]),P.push(we,m)),m=ne;else we==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,te=te?te.__html:void 0,ne!=null&&te!==ne&&(P=P||[]).push(we,ne)):we==="children"?typeof ne!="string"&&typeof ne!="number"||(P=P||[]).push(we,""+ne):we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&(i.hasOwnProperty(we)?(ne!=null&&we==="onScroll"&&Mr("scroll",l),P||te===ne||(P=[])):(P=P||[]).push(we,ne))}m&&(P=P||[]).push("style",m);var we=P;(d.updateQueue=we)&&(d.flags|=4)}},d$=function(l,d,m,v){m!==v&&(d.flags|=4)};function uv(l,d){if(!Wr)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function xs(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(d)for(var A=l.child;A!==null;)m|=A.lanes|A.childLanes,v|=A.subtreeFlags&14680064,v|=A.flags&14680064,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)m|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=v,l.childLanes=m,d}function SJ(l,d,m){var v=d.pendingProps;switch(F_(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xs(d),null;case 1:return go(d.type)&&Hx(),xs(d),null;case 3:return v=d.stateNode,A0(),Br(mo),Br(vs),X_(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(Yx(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Pc!==null&&(NT(Pc),Pc=null))),wT(l,d),xs(d),null;case 5:Z_(d);var A=kp(sv.current);if(m=d.type,l!==null&&d.stateNode!=null)u$(l,d,m,v,A),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!v){if(d.stateNode===null)throw Error(n(166));return xs(d),null}if(l=kp(Ol.current),Yx(d)){v=d.stateNode,m=d.type;var P=d.memoizedProps;switch(v[Rl]=d,v[ev]=P,l=(d.mode&1)!==0,m){case"dialog":Mr("cancel",v),Mr("close",v);break;case"iframe":case"object":case"embed":Mr("load",v);break;case"video":case"audio":for(A=0;A<Zb.length;A++)Mr(Zb[A],v);break;case"source":Mr("error",v);break;case"img":case"image":case"link":Mr("error",v),Mr("load",v);break;case"details":Mr("toggle",v);break;case"input":st(v,P),Mr("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!P.multiple},Mr("invalid",v);break;case"textarea":Ft(v,P),Mr("invalid",v)}jn(m,P),A=null;for(var W in P)if(P.hasOwnProperty(W)){var te=P[W];W==="children"?typeof te=="string"?v.textContent!==te&&(P.suppressHydrationWarning!==!0&&jx(v.textContent,te,l),A=["children",te]):typeof te=="number"&&v.textContent!==""+te&&(P.suppressHydrationWarning!==!0&&jx(v.textContent,te,l),A=["children",""+te]):i.hasOwnProperty(W)&&te!=null&&W==="onScroll"&&Mr("scroll",v)}switch(m){case"input":Xt(v),at(v,P,!0);break;case"textarea":Xt(v),Me(v);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(v.onclick=zx)}v=A,d.updateQueue=v,v!==null&&(d.flags|=4)}else{W=A.nodeType===9?A:A.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=sn(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=W.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof v.is=="string"?l=W.createElement(m,{is:v.is}):(l=W.createElement(m),m==="select"&&(W=l,v.multiple?W.multiple=!0:v.size&&(W.size=v.size))):l=W.createElementNS(l,m),l[Rl]=d,l[ev]=v,l$(l,d,!1,!1),d.stateNode=l;e:{switch(W=$i(m,v),m){case"dialog":Mr("cancel",l),Mr("close",l),A=v;break;case"iframe":case"object":case"embed":Mr("load",l),A=v;break;case"video":case"audio":for(A=0;A<Zb.length;A++)Mr(Zb[A],l);A=v;break;case"source":Mr("error",l),A=v;break;case"img":case"image":case"link":Mr("error",l),Mr("load",l),A=v;break;case"details":Mr("toggle",l),A=v;break;case"input":st(l,v),A=rr(l,v),Mr("invalid",l);break;case"option":A=v;break;case"select":l._wrapperState={wasMultiple:!!v.multiple},A=K({},v,{value:void 0}),Mr("invalid",l);break;case"textarea":Ft(l,v),A=en(l,v),Mr("invalid",l);break;default:A=v}jn(m,A),te=A;for(P in te)if(te.hasOwnProperty(P)){var ne=te[P];P==="style"?on(l,ne):P==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Lr(l,ne)):P==="children"?typeof ne=="string"?(m!=="textarea"||ne!=="")&&pn(l,ne):typeof ne=="number"&&pn(l,""+ne):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(i.hasOwnProperty(P)?ne!=null&&P==="onScroll"&&Mr("scroll",l):ne!=null&&E(l,P,ne,W))}switch(m){case"input":Xt(l),at(l,v,!1);break;case"textarea":Xt(l),Me(l);break;case"option":v.value!=null&&l.setAttribute("value",""+Ie(v.value));break;case"select":l.multiple=!!v.multiple,P=v.value,P!=null?In(l,!!v.multiple,P,!1):v.defaultValue!=null&&In(l,!!v.multiple,v.defaultValue,!0);break;default:typeof A.onClick=="function"&&(l.onclick=zx)}switch(m){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return xs(d),null;case 6:if(l&&d.stateNode!=null)d$(l,d,l.memoizedProps,v);else{if(typeof v!="string"&&d.stateNode===null)throw Error(n(166));if(m=kp(sv.current),kp(Ol.current),Yx(d)){if(v=d.stateNode,m=d.memoizedProps,v[Rl]=d,(P=v.nodeValue!==m)&&(l=ta,l!==null))switch(l.tag){case 3:jx(v.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&jx(v.nodeValue,m,(l.mode&1)!==0)}P&&(d.flags|=4)}else v=(m.nodeType===9?m:m.ownerDocument).createTextNode(v),v[Rl]=d,d.stateNode=v}return xs(d),null;case 13:if(Br(Yr),v=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Wr&&na!==null&&(d.mode&1)!==0&&(d.flags&128)===0)p9(),v0(),d.flags|=98560,P=!1;else if(P=Yx(d),v!==null&&v.dehydrated!==null){if(l===null){if(!P)throw Error(n(318));if(P=d.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(n(317));P[Rl]=d}else v0(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;xs(d),P=!1}else Pc!==null&&(NT(Pc),Pc=null),P=!0;if(!P)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(v=v!==null,v!==(l!==null&&l.memoizedState!==null)&&v&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(Yr.current&1)!==0?_i===0&&(_i=3):RT())),d.updateQueue!==null&&(d.flags|=4),xs(d),null);case 4:return A0(),wT(l,d),l===null&&Jb(d.stateNode.containerInfo),xs(d),null;case 10:return q_(d.type._context),xs(d),null;case 17:return go(d.type)&&Hx(),xs(d),null;case 19:if(Br(Yr),P=d.memoizedState,P===null)return xs(d),null;if(v=(d.flags&128)!==0,W=P.rendering,W===null)if(v)uv(P,!1);else{if(_i!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(W=tE(l),W!==null){for(d.flags|=128,uv(P,!1),v=W.updateQueue,v!==null&&(d.updateQueue=v,d.flags|=4),d.subtreeFlags=0,v=m,m=d.child;m!==null;)P=m,l=v,P.flags&=14680066,W=P.alternate,W===null?(P.childLanes=0,P.lanes=l,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=W.childLanes,P.lanes=W.lanes,P.child=W.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=W.memoizedProps,P.memoizedState=W.memoizedState,P.updateQueue=W.updateQueue,P.type=W.type,l=W.dependencies,P.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return kr(Yr,Yr.current&1|2),d.child}l=l.sibling}P.tail!==null&&dr()>I0&&(d.flags|=128,v=!0,uv(P,!1),d.lanes=4194304)}else{if(!v)if(l=tE(W),l!==null){if(d.flags|=128,v=!0,m=l.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),uv(P,!0),P.tail===null&&P.tailMode==="hidden"&&!W.alternate&&!Wr)return xs(d),null}else 2*dr()-P.renderingStartTime>I0&&m!==1073741824&&(d.flags|=128,v=!0,uv(P,!1),d.lanes=4194304);P.isBackwards?(W.sibling=d.child,d.child=W):(m=P.last,m!==null?m.sibling=W:d.child=W,P.last=W)}return P.tail!==null?(d=P.tail,P.rendering=d,P.tail=d.sibling,P.renderingStartTime=dr(),d.sibling=null,m=Yr.current,kr(Yr,v?m&1|2:m&1),d):(xs(d),null);case 22:case 23:return kT(),v=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==v&&(d.flags|=8192),v&&(d.mode&1)!==0?(ra&1073741824)!==0&&(xs(d),d.subtreeFlags&6&&(d.flags|=8192)):xs(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function _J(l,d){switch(F_(d),d.tag){case 1:return go(d.type)&&Hx(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return A0(),Br(mo),Br(vs),X_(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return Z_(d),null;case 13:if(Br(Yr),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(n(340));v0()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return Br(Yr),null;case 4:return A0(),null;case 10:return q_(d.type._context),null;case 22:case 23:return kT(),null;case 24:return null;default:return null}}var uE=!1,Es=!1,TJ=typeof WeakSet=="function"?WeakSet:Set,bt=null;function _0(l,d){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){Xr(l,d,v)}else m.current=null}function bT(l,d,m){try{m()}catch(v){Xr(l,d,v)}}var f$=!1;function IJ(l,d){if(k_=ln,l=HO(),E_(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var A=v.anchorOffset,P=v.focusNode;v=v.focusOffset;try{m.nodeType,P.nodeType}catch{m=null;break e}var W=0,te=-1,ne=-1,we=0,je=0,Ve=l,Be=null;t:for(;;){for(var dt;Ve!==m||A!==0&&Ve.nodeType!==3||(te=W+A),Ve!==P||v!==0&&Ve.nodeType!==3||(ne=W+v),Ve.nodeType===3&&(W+=Ve.nodeValue.length),(dt=Ve.firstChild)!==null;)Be=Ve,Ve=dt;for(;;){if(Ve===l)break t;if(Be===m&&++we===A&&(te=W),Be===P&&++je===v&&(ne=W),(dt=Ve.nextSibling)!==null)break;Ve=Be,Be=Ve.parentNode}Ve=dt}m=te===-1||ne===-1?null:{start:te,end:ne}}else m=null}m=m||{start:0,end:0}}else m=null;for(R_={focusedElem:l,selectionRange:m},ln=!1,bt=d;bt!==null;)if(d=bt,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,bt=l;else for(;bt!==null;){d=bt;try{var _t=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(_t!==null){var Pt=_t.memoizedProps,ai=_t.memoizedState,de=d.stateNode,se=de.getSnapshotBeforeUpdate(d.elementType===d.type?Pt:kc(d.type,Pt),ai);de.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var me=d.stateNode.containerInfo;me.nodeType===1?me.textContent="":me.nodeType===9&&me.documentElement&&me.removeChild(me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ze){Xr(d,d.return,Ze)}if(l=d.sibling,l!==null){l.return=d.return,bt=l;break}bt=d.return}return _t=f$,f$=!1,_t}function dv(l,d,m){var v=d.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var A=v=v.next;do{if((A.tag&l)===l){var P=A.destroy;A.destroy=void 0,P!==void 0&&bT(d,m,P)}A=A.next}while(A!==v)}}function dE(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&l)===l){var v=m.create;m.destroy=v()}m=m.next}while(m!==d)}}function vT(l){var d=l.ref;if(d!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof d=="function"?d(l):d.current=l}}function h$(l){var d=l.alternate;d!==null&&(l.alternate=null,h$(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[Rl],delete d[ev],delete d[L_],delete d[uJ],delete d[dJ])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function p$(l){return l.tag===5||l.tag===3||l.tag===4}function m$(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||p$(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function CT(l,d,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(l,d):m.insertBefore(l,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(l,m)):(d=m,d.appendChild(l)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=zx));else if(v!==4&&(l=l.child,l!==null))for(CT(l,d,m),l=l.sibling;l!==null;)CT(l,d,m),l=l.sibling}function xT(l,d,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(v!==4&&(l=l.child,l!==null))for(xT(l,d,m),l=l.sibling;l!==null;)xT(l,d,m),l=l.sibling}var Xi=null,Rc=!1;function Af(l,d,m){for(m=m.child;m!==null;)g$(l,d,m),m=m.sibling}function g$(l,d,m){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(r0,m)}catch{}switch(m.tag){case 5:Es||_0(m,d);case 6:var v=Xi,A=Rc;Xi=null,Af(l,d,m),Xi=v,Rc=A,Xi!==null&&(Rc?(l=Xi,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):Xi.removeChild(m.stateNode));break;case 18:Xi!==null&&(Rc?(l=Xi,m=m.stateNode,l.nodeType===8?D_(l.parentNode,m):l.nodeType===1&&D_(l,m),et(l)):D_(Xi,m.stateNode));break;case 4:v=Xi,A=Rc,Xi=m.stateNode.containerInfo,Rc=!0,Af(l,d,m),Xi=v,Rc=A;break;case 0:case 11:case 14:case 15:if(!Es&&(v=m.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){A=v=v.next;do{var P=A,W=P.destroy;P=P.tag,W!==void 0&&((P&2)!==0||(P&4)!==0)&&bT(m,d,W),A=A.next}while(A!==v)}Af(l,d,m);break;case 1:if(!Es&&(_0(m,d),v=m.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(te){Xr(m,d,te)}Af(l,d,m);break;case 21:Af(l,d,m);break;case 22:m.mode&1?(Es=(v=Es)||m.memoizedState!==null,Af(l,d,m),Es=v):Af(l,d,m);break;default:Af(l,d,m)}}function y$(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new TJ),d.forEach(function(v){var A=MJ.bind(null,l,v);m.has(v)||(m.add(v),v.then(A,A))})}}function Oc(l,d){var m=d.deletions;if(m!==null)for(var v=0;v<m.length;v++){var A=m[v];try{var P=l,W=d,te=W;e:for(;te!==null;){switch(te.tag){case 5:Xi=te.stateNode,Rc=!1;break e;case 3:Xi=te.stateNode.containerInfo,Rc=!0;break e;case 4:Xi=te.stateNode.containerInfo,Rc=!0;break e}te=te.return}if(Xi===null)throw Error(n(160));g$(P,W,A),Xi=null,Rc=!1;var ne=A.alternate;ne!==null&&(ne.return=null),A.return=null}catch(we){Xr(A,d,we)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)w$(d,l),d=d.sibling}function w$(l,d){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Oc(d,l),Dl(l),v&4){try{dv(3,l,l.return),dE(3,l)}catch(Pt){Xr(l,l.return,Pt)}try{dv(5,l,l.return)}catch(Pt){Xr(l,l.return,Pt)}}break;case 1:Oc(d,l),Dl(l),v&512&&m!==null&&_0(m,m.return);break;case 5:if(Oc(d,l),Dl(l),v&512&&m!==null&&_0(m,m.return),l.flags&32){var A=l.stateNode;try{pn(A,"")}catch(Pt){Xr(l,l.return,Pt)}}if(v&4&&(A=l.stateNode,A!=null)){var P=l.memoizedProps,W=m!==null?m.memoizedProps:P,te=l.type,ne=l.updateQueue;if(l.updateQueue=null,ne!==null)try{te==="input"&&P.type==="radio"&&P.name!=null&&Te(A,P),$i(te,W);var we=$i(te,P);for(W=0;W<ne.length;W+=2){var je=ne[W],Ve=ne[W+1];je==="style"?on(A,Ve):je==="dangerouslySetInnerHTML"?Lr(A,Ve):je==="children"?pn(A,Ve):E(A,je,Ve,we)}switch(te){case"input":Qe(A,P);break;case"textarea":xn(A,P);break;case"select":var Be=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!P.multiple;var dt=P.value;dt!=null?In(A,!!P.multiple,dt,!1):Be!==!!P.multiple&&(P.defaultValue!=null?In(A,!!P.multiple,P.defaultValue,!0):In(A,!!P.multiple,P.multiple?[]:"",!1))}A[ev]=P}catch(Pt){Xr(l,l.return,Pt)}}break;case 6:if(Oc(d,l),Dl(l),v&4){if(l.stateNode===null)throw Error(n(162));A=l.stateNode,P=l.memoizedProps;try{A.nodeValue=P}catch(Pt){Xr(l,l.return,Pt)}}break;case 3:if(Oc(d,l),Dl(l),v&4&&m!==null&&m.memoizedState.isDehydrated)try{et(d.containerInfo)}catch(Pt){Xr(l,l.return,Pt)}break;case 4:Oc(d,l),Dl(l);break;case 13:Oc(d,l),Dl(l),A=l.child,A.flags&8192&&(P=A.memoizedState!==null,A.stateNode.isHidden=P,!P||A.alternate!==null&&A.alternate.memoizedState!==null||(ST=dr())),v&4&&y$(l);break;case 22:if(je=m!==null&&m.memoizedState!==null,l.mode&1?(Es=(we=Es)||je,Oc(d,l),Es=we):Oc(d,l),Dl(l),v&8192){if(we=l.memoizedState!==null,(l.stateNode.isHidden=we)&&!je&&(l.mode&1)!==0)for(bt=l,je=l.child;je!==null;){for(Ve=bt=je;bt!==null;){switch(Be=bt,dt=Be.child,Be.tag){case 0:case 11:case 14:case 15:dv(4,Be,Be.return);break;case 1:_0(Be,Be.return);var _t=Be.stateNode;if(typeof _t.componentWillUnmount=="function"){v=Be,m=Be.return;try{d=v,_t.props=d.memoizedProps,_t.state=d.memoizedState,_t.componentWillUnmount()}catch(Pt){Xr(v,m,Pt)}}break;case 5:_0(Be,Be.return);break;case 22:if(Be.memoizedState!==null){C$(Ve);continue}}dt!==null?(dt.return=Be,bt=dt):C$(Ve)}je=je.sibling}e:for(je=null,Ve=l;;){if(Ve.tag===5){if(je===null){je=Ve;try{A=Ve.stateNode,we?(P=A.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(te=Ve.stateNode,ne=Ve.memoizedProps.style,W=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,te.style.display=pi("display",W))}catch(Pt){Xr(l,l.return,Pt)}}}else if(Ve.tag===6){if(je===null)try{Ve.stateNode.nodeValue=we?"":Ve.memoizedProps}catch(Pt){Xr(l,l.return,Pt)}}else if((Ve.tag!==22&&Ve.tag!==23||Ve.memoizedState===null||Ve===l)&&Ve.child!==null){Ve.child.return=Ve,Ve=Ve.child;continue}if(Ve===l)break e;for(;Ve.sibling===null;){if(Ve.return===null||Ve.return===l)break e;je===Ve&&(je=null),Ve=Ve.return}je===Ve&&(je=null),Ve.sibling.return=Ve.return,Ve=Ve.sibling}}break;case 19:Oc(d,l),Dl(l),v&4&&y$(l);break;case 21:break;default:Oc(d,l),Dl(l)}}function Dl(l){var d=l.flags;if(d&2){try{e:{for(var m=l.return;m!==null;){if(p$(m)){var v=m;break e}m=m.return}throw Error(n(160))}switch(v.tag){case 5:var A=v.stateNode;v.flags&32&&(pn(A,""),v.flags&=-33);var P=m$(l);xT(l,P,A);break;case 3:case 4:var W=v.stateNode.containerInfo,te=m$(l);CT(l,te,W);break;default:throw Error(n(161))}}catch(ne){Xr(l,l.return,ne)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function NJ(l,d,m){bt=l,b$(l)}function b$(l,d,m){for(var v=(l.mode&1)!==0;bt!==null;){var A=bt,P=A.child;if(A.tag===22&&v){var W=A.memoizedState!==null||uE;if(!W){var te=A.alternate,ne=te!==null&&te.memoizedState!==null||Es;te=uE;var we=Es;if(uE=W,(Es=ne)&&!we)for(bt=A;bt!==null;)W=bt,ne=W.child,W.tag===22&&W.memoizedState!==null?x$(A):ne!==null?(ne.return=W,bt=ne):x$(A);for(;P!==null;)bt=P,b$(P),P=P.sibling;bt=A,uE=te,Es=we}v$(l)}else(A.subtreeFlags&8772)!==0&&P!==null?(P.return=A,bt=P):v$(l)}}function v$(l){for(;bt!==null;){var d=bt;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Es||dE(5,d);break;case 1:var v=d.stateNode;if(d.flags&4&&!Es)if(m===null)v.componentDidMount();else{var A=d.elementType===d.type?m.memoizedProps:kc(d.type,m.memoizedProps);v.componentDidUpdate(A,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var P=d.updateQueue;P!==null&&C9(d,P,v);break;case 3:var W=d.updateQueue;if(W!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}C9(d,W,m)}break;case 5:var te=d.stateNode;if(m===null&&d.flags&4){m=te;var ne=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&m.focus();break;case"img":ne.src&&(m.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var we=d.alternate;if(we!==null){var je=we.memoizedState;if(je!==null){var Ve=je.dehydrated;Ve!==null&&et(Ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Es||d.flags&512&&vT(d)}catch(Be){Xr(d,d.return,Be)}}if(d===l){bt=null;break}if(m=d.sibling,m!==null){m.return=d.return,bt=m;break}bt=d.return}}function C$(l){for(;bt!==null;){var d=bt;if(d===l){bt=null;break}var m=d.sibling;if(m!==null){m.return=d.return,bt=m;break}bt=d.return}}function x$(l){for(;bt!==null;){var d=bt;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{dE(4,d)}catch(ne){Xr(d,m,ne)}break;case 1:var v=d.stateNode;if(typeof v.componentDidMount=="function"){var A=d.return;try{v.componentDidMount()}catch(ne){Xr(d,A,ne)}}var P=d.return;try{vT(d)}catch(ne){Xr(d,P,ne)}break;case 5:var W=d.return;try{vT(d)}catch(ne){Xr(d,W,ne)}}}catch(ne){Xr(d,d.return,ne)}if(d===l){bt=null;break}var te=d.sibling;if(te!==null){te.return=d.return,bt=te;break}bt=d.return}}var PJ=Math.ceil,fE=I.ReactCurrentDispatcher,ET=I.ReactCurrentOwner,Ua=I.ReactCurrentBatchConfig,Mn=0,Ui=null,gi=null,es=0,ra=0,T0=bf(0),_i=0,fv=null,Op=0,hE=0,AT=0,hv=null,wo=null,ST=0,I0=1/0,zu=null,pE=!1,_T=null,Sf=null,mE=!1,_f=null,gE=0,pv=0,TT=null,yE=-1,wE=0;function Ws(){return(Mn&6)!==0?dr():yE!==-1?yE:yE=dr()}function Tf(l){return(l.mode&1)===0?1:(Mn&2)!==0&&es!==0?es&-es:hJ.transition!==null?(wE===0&&(wE=Px()),wE):(l=Zn,l!==0||(l=window.event,l=l===void 0?16:Vt(l.type)),l)}function $c(l,d,m,v){if(50<pv)throw pv=0,TT=null,Error(n(185));$a(l,m,v),((Mn&2)===0||l!==Ui)&&(l===Ui&&((Mn&2)===0&&(hE|=m),_i===4&&If(l,es)),bo(l,v),m===1&&Mn===0&&(d.mode&1)===0&&(I0=dr()+500,qx&&Cf()))}function bo(l,d){var m=l.callbackNode;o0(l,d);var v=s0(l,l===Ui?es:0);if(v===0)m!==null&&pf(m),l.callbackNode=null,l.callbackPriority=0;else if(d=v&-v,l.callbackPriority!==d){if(m!=null&&pf(m),d===1)l.tag===0?fJ(A$.bind(null,l)):l9(A$.bind(null,l)),cJ(function(){(Mn&6)===0&&Cf()}),m=null;else{switch(kx(v)){case 1:m=Ic;break;case 4:m=Tx;break;case 16:m=Pl;break;case 536870912:m=Ix;break;default:m=Pl}m=R$(m,E$.bind(null,l))}l.callbackPriority=d,l.callbackNode=m}}function E$(l,d){if(yE=-1,wE=0,(Mn&6)!==0)throw Error(n(327));var m=l.callbackNode;if(N0()&&l.callbackNode!==m)return null;var v=s0(l,l===Ui?es:0);if(v===0)return null;if((v&30)!==0||(v&l.expiredLanes)!==0||d)d=bE(l,v);else{d=v;var A=Mn;Mn|=2;var P=_$();(Ui!==l||es!==d)&&(zu=null,I0=dr()+500,Dp(l,d));do try{OJ();break}catch(te){S$(l,te)}while(!0);V_(),fE.current=P,Mn=A,gi!==null?d=0:(Ui=null,es=0,d=_i)}if(d!==0){if(d===2&&(A=Fb(l),A!==0&&(v=A,d=IT(l,A))),d===1)throw m=fv,Dp(l,0),If(l,v),bo(l,dr()),m;if(d===6)If(l,v);else{if(A=l.current.alternate,(v&30)===0&&!kJ(A)&&(d=bE(l,v),d===2&&(P=Fb(l),P!==0&&(v=P,d=IT(l,P))),d===1))throw m=fv,Dp(l,0),If(l,v),bo(l,dr()),m;switch(l.finishedWork=A,l.finishedLanes=v,d){case 0:case 1:throw Error(n(345));case 2:Lp(l,wo,zu);break;case 3:if(If(l,v),(v&130023424)===v&&(d=ST+500-dr(),10<d)){if(s0(l,0)!==0)break;if(A=l.suspendedLanes,(A&v)!==v){Ws(),l.pingedLanes|=l.suspendedLanes&A;break}l.timeoutHandle=$_(Lp.bind(null,l,wo,zu),d);break}Lp(l,wo,zu);break;case 4:if(If(l,v),(v&4194240)===v)break;for(d=l.eventTimes,A=-1;0<v;){var W=31-Mi(v);P=1<<W,W=d[W],W>A&&(A=W),v&=~P}if(v=A,v=dr()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*PJ(v/1960))-v,10<v){l.timeoutHandle=$_(Lp.bind(null,l,wo,zu),v);break}Lp(l,wo,zu);break;case 5:Lp(l,wo,zu);break;default:throw Error(n(329))}}}return bo(l,dr()),l.callbackNode===m?E$.bind(null,l):null}function IT(l,d){var m=hv;return l.current.memoizedState.isDehydrated&&(Dp(l,d).flags|=256),l=bE(l,d),l!==2&&(d=wo,wo=m,d!==null&&NT(d)),l}function NT(l){wo===null?wo=l:wo.push.apply(wo,l)}function kJ(l){for(var d=l;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var v=0;v<m.length;v++){var A=m[v],P=A.getSnapshot;A=A.value;try{if(!Nc(P(),A))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function If(l,d){for(d&=~AT,d&=~hE,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var m=31-Mi(d),v=1<<m;l[m]=-1,d&=~v}}function A$(l){if((Mn&6)!==0)throw Error(n(327));N0();var d=s0(l,0);if((d&1)===0)return bo(l,dr()),null;var m=bE(l,d);if(l.tag!==0&&m===2){var v=Fb(l);v!==0&&(d=v,m=IT(l,v))}if(m===1)throw m=fv,Dp(l,0),If(l,d),bo(l,dr()),m;if(m===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,Lp(l,wo,zu),bo(l,dr()),null}function PT(l,d){var m=Mn;Mn|=1;try{return l(d)}finally{Mn=m,Mn===0&&(I0=dr()+500,qx&&Cf())}}function $p(l){_f!==null&&_f.tag===0&&(Mn&6)===0&&N0();var d=Mn;Mn|=1;var m=Ua.transition,v=Zn;try{if(Ua.transition=null,Zn=1,l)return l()}finally{Zn=v,Ua.transition=m,Mn=d,(Mn&6)===0&&Cf()}}function kT(){ra=T0.current,Br(T0)}function Dp(l,d){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,aJ(m)),gi!==null)for(m=gi.return;m!==null;){var v=m;switch(F_(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Hx();break;case 3:A0(),Br(mo),Br(vs),X_();break;case 5:Z_(v);break;case 4:A0();break;case 13:Br(Yr);break;case 19:Br(Yr);break;case 10:q_(v.type._context);break;case 22:case 23:kT()}m=m.return}if(Ui=l,gi=l=Nf(l.current,null),es=ra=d,_i=0,fv=null,AT=hE=Op=0,wo=hv=null,Pp!==null){for(d=0;d<Pp.length;d++)if(m=Pp[d],v=m.interleaved,v!==null){m.interleaved=null;var A=v.next,P=m.pending;if(P!==null){var W=P.next;P.next=A,v.next=W}m.pending=v}Pp=null}return l}function S$(l,d){do{var m=gi;try{if(V_(),nE.current=oE,rE){for(var v=Qr.memoizedState;v!==null;){var A=v.queue;A!==null&&(A.pending=null),v=v.next}rE=!1}if(Rp=0,Bi=Si=Qr=null,ov=!1,av=0,ET.current=null,m===null||m.return===null){_i=1,fv=d,gi=null;break}e:{var P=l,W=m.return,te=m,ne=d;if(d=es,te.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var we=ne,je=te,Ve=je.tag;if((je.mode&1)===0&&(Ve===0||Ve===11||Ve===15)){var Be=je.alternate;Be?(je.updateQueue=Be.updateQueue,je.memoizedState=Be.memoizedState,je.lanes=Be.lanes):(je.updateQueue=null,je.memoizedState=null)}var dt=Q9(W);if(dt!==null){dt.flags&=-257,Z9(dt,W,te,P,d),dt.mode&1&&Y9(P,we,d),d=dt,ne=we;var _t=d.updateQueue;if(_t===null){var Pt=new Set;Pt.add(ne),d.updateQueue=Pt}else _t.add(ne);break e}else{if((d&1)===0){Y9(P,we,d),RT();break e}ne=Error(n(426))}}else if(Wr&&te.mode&1){var ai=Q9(W);if(ai!==null){(ai.flags&65536)===0&&(ai.flags|=256),Z9(ai,W,te,P,d),W_(S0(ne,te));break e}}P=ne=S0(ne,te),_i!==4&&(_i=2),hv===null?hv=[P]:hv.push(P),P=W;do{switch(P.tag){case 3:P.flags|=65536,d&=-d,P.lanes|=d;var de=G9(P,ne,d);v9(P,de);break e;case 1:te=ne;var se=P.type,me=P.stateNode;if((P.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(Sf===null||!Sf.has(me)))){P.flags|=65536,d&=-d,P.lanes|=d;var Ze=K9(P,te,d);v9(P,Ze);break e}}P=P.return}while(P!==null)}I$(m)}catch(Rt){d=Rt,gi===m&&m!==null&&(gi=m=m.return);continue}break}while(!0)}function _$(){var l=fE.current;return fE.current=oE,l===null?oE:l}function RT(){(_i===0||_i===3||_i===2)&&(_i=4),Ui===null||(Op&268435455)===0&&(hE&268435455)===0||If(Ui,es)}function bE(l,d){var m=Mn;Mn|=2;var v=_$();(Ui!==l||es!==d)&&(zu=null,Dp(l,d));do try{RJ();break}catch(A){S$(l,A)}while(!0);if(V_(),Mn=m,fE.current=v,gi!==null)throw Error(n(261));return Ui=null,es=0,_i}function RJ(){for(;gi!==null;)T$(gi)}function OJ(){for(;gi!==null&&!mf();)T$(gi)}function T$(l){var d=k$(l.alternate,l,ra);l.memoizedProps=l.pendingProps,d===null?I$(l):gi=d,ET.current=null}function I$(l){var d=l;do{var m=d.alternate;if(l=d.return,(d.flags&32768)===0){if(m=SJ(m,d,ra),m!==null){gi=m;return}}else{if(m=_J(m,d),m!==null){m.flags&=32767,gi=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{_i=6,gi=null;return}}if(d=d.sibling,d!==null){gi=d;return}gi=d=l}while(d!==null);_i===0&&(_i=5)}function Lp(l,d,m){var v=Zn,A=Ua.transition;try{Ua.transition=null,Zn=1,$J(l,d,m,v)}finally{Ua.transition=A,Zn=v}return null}function $J(l,d,m,v){do N0();while(_f!==null);if((Mn&6)!==0)throw Error(n(327));m=l.finishedWork;var A=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var P=m.lanes|m.childLanes;if(g_(l,P),l===Ui&&(gi=Ui=null,es=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||mE||(mE=!0,R$(Pl,function(){return N0(),null})),P=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||P){P=Ua.transition,Ua.transition=null;var W=Zn;Zn=1;var te=Mn;Mn|=4,ET.current=null,IJ(l,m),w$(m,l),eJ(R_),ln=!!k_,R_=k_=null,l.current=m,NJ(m),Ep(),Mn=te,Zn=W,Ua.transition=P}else l.current=m;if(mE&&(mE=!1,_f=l,gE=A),P=l.pendingLanes,P===0&&(Sf=null),Bb(m.stateNode),bo(l,dr()),d!==null)for(v=l.onRecoverableError,m=0;m<d.length;m++)A=d[m],v(A.value,{componentStack:A.stack,digest:A.digest});if(pE)throw pE=!1,l=_T,_T=null,l;return(gE&1)!==0&&l.tag!==0&&N0(),P=l.pendingLanes,(P&1)!==0?l===TT?pv++:(pv=0,TT=l):pv=0,Cf(),null}function N0(){if(_f!==null){var l=kx(gE),d=Ua.transition,m=Zn;try{if(Ua.transition=null,Zn=16>l?16:l,_f===null)var v=!1;else{if(l=_f,_f=null,gE=0,(Mn&6)!==0)throw Error(n(331));var A=Mn;for(Mn|=4,bt=l.current;bt!==null;){var P=bt,W=P.child;if((bt.flags&16)!==0){var te=P.deletions;if(te!==null){for(var ne=0;ne<te.length;ne++){var we=te[ne];for(bt=we;bt!==null;){var je=bt;switch(je.tag){case 0:case 11:case 15:dv(8,je,P)}var Ve=je.child;if(Ve!==null)Ve.return=je,bt=Ve;else for(;bt!==null;){je=bt;var Be=je.sibling,dt=je.return;if(h$(je),je===we){bt=null;break}if(Be!==null){Be.return=dt,bt=Be;break}bt=dt}}}var _t=P.alternate;if(_t!==null){var Pt=_t.child;if(Pt!==null){_t.child=null;do{var ai=Pt.sibling;Pt.sibling=null,Pt=ai}while(Pt!==null)}}bt=P}}if((P.subtreeFlags&2064)!==0&&W!==null)W.return=P,bt=W;else e:for(;bt!==null;){if(P=bt,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:dv(9,P,P.return)}var de=P.sibling;if(de!==null){de.return=P.return,bt=de;break e}bt=P.return}}var se=l.current;for(bt=se;bt!==null;){W=bt;var me=W.child;if((W.subtreeFlags&2064)!==0&&me!==null)me.return=W,bt=me;else e:for(W=se;bt!==null;){if(te=bt,(te.flags&2048)!==0)try{switch(te.tag){case 0:case 11:case 15:dE(9,te)}}catch(Rt){Xr(te,te.return,Rt)}if(te===W){bt=null;break e}var Ze=te.sibling;if(Ze!==null){Ze.return=te.return,bt=Ze;break e}bt=te.return}}if(Mn=A,Cf(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(r0,l)}catch{}v=!0}return v}finally{Zn=m,Ua.transition=d}}return!1}function N$(l,d,m){d=S0(m,d),d=G9(l,d,1),l=Ef(l,d,1),d=Ws(),l!==null&&($a(l,1,d),bo(l,d))}function Xr(l,d,m){if(l.tag===3)N$(l,l,m);else for(;d!==null;){if(d.tag===3){N$(d,l,m);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Sf===null||!Sf.has(v))){l=S0(m,l),l=K9(d,l,1),d=Ef(d,l,1),l=Ws(),d!==null&&($a(d,1,l),bo(d,l));break}}d=d.return}}function DJ(l,d,m){var v=l.pingCache;v!==null&&v.delete(d),d=Ws(),l.pingedLanes|=l.suspendedLanes&m,Ui===l&&(es&m)===m&&(_i===4||_i===3&&(es&130023424)===es&&500>dr()-ST?Dp(l,0):AT|=m),bo(l,d)}function P$(l,d){d===0&&((l.mode&1)===0?d=1:(d=Sp,Sp<<=1,(Sp&130023424)===0&&(Sp=4194304)));var m=Ws();l=Uu(l,d),l!==null&&($a(l,d,m),bo(l,m))}function LJ(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),P$(l,m)}function MJ(l,d){var m=0;switch(l.tag){case 13:var v=l.stateNode,A=l.memoizedState;A!==null&&(m=A.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(d),P$(l,m)}var k$;k$=function(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps||mo.current)yo=!0;else{if((l.lanes&m)===0&&(d.flags&128)===0)return yo=!1,AJ(l,d,m);yo=(l.flags&131072)!==0}else yo=!1,Wr&&(d.flags&1048576)!==0&&u9(d,Kx,d.index);switch(d.lanes=0,d.tag){case 2:var v=d.type;lE(l,d),l=d.pendingProps;var A=y0(d,vs.current);E0(d,m),A=nT(null,d,v,l,A,m);var P=rT();return d.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,go(v)?(P=!0,Vx(d)):P=!1,d.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Y_(d),A.updater=aE,d.stateNode=A,A._reactInternals=d,lT(d,v,l,m),d=hT(null,d,v,!0,P,m)):(d.tag=0,Wr&&P&&U_(d),zs(null,d,A,m),d=d.child),d;case 16:v=d.elementType;e:{switch(lE(l,d),l=d.pendingProps,A=v._init,v=A(v._payload),d.type=v,A=d.tag=UJ(v),l=kc(v,l),A){case 0:d=fT(null,d,v,l,m);break e;case 1:d=r$(null,d,v,l,m);break e;case 11:d=J9(null,d,v,l,m);break e;case 14:d=X9(null,d,v,kc(v.type,l),m);break e}throw Error(n(306,v,""))}return d;case 0:return v=d.type,A=d.pendingProps,A=d.elementType===v?A:kc(v,A),fT(l,d,v,A,m);case 1:return v=d.type,A=d.pendingProps,A=d.elementType===v?A:kc(v,A),r$(l,d,v,A,m);case 3:e:{if(i$(d),l===null)throw Error(n(387));v=d.pendingProps,P=d.memoizedState,A=P.element,b9(l,d),eE(d,v,null,m);var W=d.memoizedState;if(v=W.element,P.isDehydrated)if(P={element:v,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},d.updateQueue.baseState=P,d.memoizedState=P,d.flags&256){A=S0(Error(n(423)),d),d=s$(l,d,v,m,A);break e}else if(v!==A){A=S0(Error(n(424)),d),d=s$(l,d,v,m,A);break e}else for(na=wf(d.stateNode.containerInfo.firstChild),ta=d,Wr=!0,Pc=null,m=y9(d,null,v,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(v0(),v===A){d=ju(l,d,m);break e}zs(l,d,v,m)}d=d.child}return d;case 5:return x9(d),l===null&&z_(d),v=d.type,A=d.pendingProps,P=l!==null?l.memoizedProps:null,W=A.children,O_(v,A)?W=null:P!==null&&O_(v,P)&&(d.flags|=32),n$(l,d),zs(l,d,W,m),d.child;case 6:return l===null&&z_(d),null;case 13:return o$(l,d,m);case 4:return Q_(d,d.stateNode.containerInfo),v=d.pendingProps,l===null?d.child=C0(d,null,v,m):zs(l,d,v,m),d.child;case 11:return v=d.type,A=d.pendingProps,A=d.elementType===v?A:kc(v,A),J9(l,d,v,A,m);case 7:return zs(l,d,d.pendingProps,m),d.child;case 8:return zs(l,d,d.pendingProps.children,m),d.child;case 12:return zs(l,d,d.pendingProps.children,m),d.child;case 10:e:{if(v=d.type._context,A=d.pendingProps,P=d.memoizedProps,W=A.value,kr(Zx,v._currentValue),v._currentValue=W,P!==null)if(Nc(P.value,W)){if(P.children===A.children&&!mo.current){d=ju(l,d,m);break e}}else for(P=d.child,P!==null&&(P.return=d);P!==null;){var te=P.dependencies;if(te!==null){W=P.child;for(var ne=te.firstContext;ne!==null;){if(ne.context===v){if(P.tag===1){ne=Fu(-1,m&-m),ne.tag=2;var we=P.updateQueue;if(we!==null){we=we.shared;var je=we.pending;je===null?ne.next=ne:(ne.next=je.next,je.next=ne),we.pending=ne}}P.lanes|=m,ne=P.alternate,ne!==null&&(ne.lanes|=m),G_(P.return,m,d),te.lanes|=m;break}ne=ne.next}}else if(P.tag===10)W=P.type===d.type?null:P.child;else if(P.tag===18){if(W=P.return,W===null)throw Error(n(341));W.lanes|=m,te=W.alternate,te!==null&&(te.lanes|=m),G_(W,m,d),W=P.sibling}else W=P.child;if(W!==null)W.return=P;else for(W=P;W!==null;){if(W===d){W=null;break}if(P=W.sibling,P!==null){P.return=W.return,W=P;break}W=W.return}P=W}zs(l,d,A.children,m),d=d.child}return d;case 9:return A=d.type,v=d.pendingProps.children,E0(d,m),A=Ma(A),v=v(A),d.flags|=1,zs(l,d,v,m),d.child;case 14:return v=d.type,A=kc(v,d.pendingProps),A=kc(v.type,A),X9(l,d,v,A,m);case 15:return e$(l,d,d.type,d.pendingProps,m);case 17:return v=d.type,A=d.pendingProps,A=d.elementType===v?A:kc(v,A),lE(l,d),d.tag=1,go(v)?(l=!0,Vx(d)):l=!1,E0(d,m),V9(d,v,A),lT(d,v,A,m),hT(null,d,v,!0,l,m);case 19:return c$(l,d,m);case 22:return t$(l,d,m)}throw Error(n(156,d.tag))};function R$(l,d){return Nl(l,d)}function BJ(l,d,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(l,d,m,v){return new BJ(l,d,m,v)}function OT(l){return l=l.prototype,!(!l||!l.isReactComponent)}function UJ(l){if(typeof l=="function")return OT(l)?1:0;if(l!=null){if(l=l.$$typeof,l===j)return 11;if(l===$)return 14}return 2}function Nf(l,d){var m=l.alternate;return m===null?(m=Fa(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function vE(l,d,m,v,A,P){var W=2;if(v=l,typeof l=="function")OT(l)&&(W=1);else if(typeof l=="string")W=5;else e:switch(l){case R:return Mp(m.children,A,P,d);case O:W=8,A|=8;break;case k:return l=Fa(12,m,d,A|2),l.elementType=k,l.lanes=P,l;case Q:return l=Fa(13,m,d,A),l.elementType=Q,l.lanes=P,l;case J:return l=Fa(19,m,d,A),l.elementType=J,l.lanes=P,l;case H:return CE(m,A,P,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case M:W=10;break e;case L:W=9;break e;case j:W=11;break e;case $:W=14;break e;case D:W=16,v=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return d=Fa(W,m,d,A),d.elementType=l,d.type=v,d.lanes=P,d}function Mp(l,d,m,v){return l=Fa(7,l,v,d),l.lanes=m,l}function CE(l,d,m,v){return l=Fa(22,l,v,d),l.elementType=H,l.lanes=m,l.stateNode={isHidden:!1},l}function $T(l,d,m){return l=Fa(6,l,null,d),l.lanes=m,l}function DT(l,d,m){return d=Fa(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function FJ(l,d,m,v,A){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jb(0),this.expirationTimes=jb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jb(0),this.identifierPrefix=v,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function LT(l,d,m,v,A,P,W,te,ne){return l=new FJ(l,d,m,te,ne),d===1?(d=1,P===!0&&(d|=8)):d=0,P=Fa(3,null,null,d),l.current=P,P.stateNode=l,P.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Y_(P),l}function jJ(l,d,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:v==null?null:""+v,children:l,containerInfo:d,implementation:m}}function O$(l){if(!l)return vf;l=l._reactInternals;e:{if(jr(l)!==l||l.tag!==1)throw Error(n(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(go(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(l.tag===1){var m=l.type;if(go(m))return a9(l,m,d)}return d}function $$(l,d,m,v,A,P,W,te,ne){return l=LT(m,v,!0,l,A,P,W,te,ne),l.context=O$(null),m=l.current,v=Ws(),A=Tf(m),P=Fu(v,A),P.callback=d??null,Ef(m,P,A),l.current.lanes=A,$a(l,A,v),bo(l,v),l}function xE(l,d,m,v){var A=d.current,P=Ws(),W=Tf(A);return m=O$(m),d.context===null?d.context=m:d.pendingContext=m,d=Fu(P,W),d.payload={element:l},v=v===void 0?null:v,v!==null&&(d.callback=v),l=Ef(A,d,W),l!==null&&($c(l,A,W,P),Xx(l,A,W)),W}function EE(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function D$(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function MT(l,d){D$(l,d),(l=l.alternate)&&D$(l,d)}function zJ(){return null}var L$=typeof reportError=="function"?reportError:function(l){console.error(l)};function BT(l){this._internalRoot=l}AE.prototype.render=BT.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(n(409));xE(l,d,null,null)},AE.prototype.unmount=BT.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;$p(function(){xE(null,l,null,null)}),d[Du]=null}};function AE(l){this._internalRoot=l}AE.prototype.unstable_scheduleHydration=function(l){if(l){var d=$x();l={blockedOn:null,target:l,priority:d};for(var m=0;m<Re.length&&d!==0&&d<Re[m].priority;m++);Re.splice(m,0,l),m===0&&$e(l)}};function UT(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function SE(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function M$(){}function WJ(l,d,m,v,A){if(A){if(typeof v=="function"){var P=v;v=function(){var we=EE(W);P.call(we)}}var W=$$(d,v,l,0,null,!1,!1,"",M$);return l._reactRootContainer=W,l[Du]=W.current,Jb(l.nodeType===8?l.parentNode:l),$p(),W}for(;A=l.lastChild;)l.removeChild(A);if(typeof v=="function"){var te=v;v=function(){var we=EE(ne);te.call(we)}}var ne=LT(l,0,!1,null,null,!1,!1,"",M$);return l._reactRootContainer=ne,l[Du]=ne.current,Jb(l.nodeType===8?l.parentNode:l),$p(function(){xE(d,ne,m,v)}),ne}function _E(l,d,m,v,A){var P=m._reactRootContainer;if(P){var W=P;if(typeof A=="function"){var te=A;A=function(){var ne=EE(W);te.call(ne)}}xE(d,W,l,A)}else W=WJ(m,d,l,A,v);return EE(W)}Rx=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var m=kl(d.pendingLanes);m!==0&&(zb(d,m|1),bo(d,dr()),(Mn&6)===0&&(I0=dr()+500,Cf()))}break;case 13:$p(function(){var v=Uu(l,1);if(v!==null){var A=Ws();$c(v,l,1,A)}}),MT(l,1)}},Wb=function(l){if(l.tag===13){var d=Uu(l,134217728);if(d!==null){var m=Ws();$c(d,l,134217728,m)}MT(l,134217728)}},Ox=function(l){if(l.tag===13){var d=Tf(l),m=Uu(l,d);if(m!==null){var v=Ws();$c(m,l,d,v)}MT(l,d)}},$x=function(){return Zn},a0=function(l,d){var m=Zn;try{return Zn=l,d()}finally{Zn=m}},Ra=function(l,d,m){switch(d){case"input":if(Qe(l,m),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var v=m[d];if(v!==l&&v.form===l.form){var A=Wx(v);if(!A)throw Error(n(90));dn(v),Qe(v,A)}}}break;case"textarea":xn(l,m);break;case"select":d=m.value,d!=null&&In(l,!!m.multiple,d,!1)}},Ir=PT,qe=$p;var HJ={usingClientEntryPoint:!1,Events:[tv,m0,Wx,Ei,ur,PT]},mv={findFiberByHostInstance:_p,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VJ={bundleType:mv.bundleType,version:mv.version,rendererPackageName:mv.rendererPackageName,rendererConfig:mv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=n0(l),l===null?null:l.stateNode},findFiberByHostInstance:mv.findFiberByHostInstance||zJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var TE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!TE.isDisabled&&TE.supportsFiber)try{r0=TE.inject(VJ),mi=TE}catch{}}return vo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HJ,vo.createPortal=function(l,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UT(d))throw Error(n(200));return jJ(l,d,null,m)},vo.createRoot=function(l,d){if(!UT(l))throw Error(n(299));var m=!1,v="",A=L$;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onRecoverableError!==void 0&&(A=d.onRecoverableError)),d=LT(l,1,!1,null,null,m,!1,v,A),l[Du]=d.current,Jb(l.nodeType===8?l.parentNode:l),new BT(d)},vo.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=n0(d),l=l===null?null:l.stateNode,l},vo.flushSync=function(l){return $p(l)},vo.hydrate=function(l,d,m){if(!SE(d))throw Error(n(200));return _E(null,l,d,!0,m)},vo.hydrateRoot=function(l,d,m){if(!UT(l))throw Error(n(405));var v=m!=null&&m.hydratedSources||null,A=!1,P="",W=L$;if(m!=null&&(m.unstable_strictMode===!0&&(A=!0),m.identifierPrefix!==void 0&&(P=m.identifierPrefix),m.onRecoverableError!==void 0&&(W=m.onRecoverableError)),d=$$(d,null,l,1,m??null,A,!1,P,W),l[Du]=d.current,Jb(l),v)for(l=0;l<v.length;l++)m=v[l],A=m._getVersion,A=A(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,A]:d.mutableSourceEagerHydrationData.push(m,A);return new AE(d)},vo.render=function(l,d,m){if(!SE(d))throw Error(n(200));return _E(null,l,d,!1,m)},vo.unmountComponentAtNode=function(l){if(!SE(l))throw Error(n(40));return l._reactRootContainer?($p(function(){_E(null,null,l,!1,function(){l._reactRootContainer=null,l[Du]=null})}),!0):!1},vo.unstable_batchedUpdates=PT,vo.unstable_renderSubtreeIntoContainer=function(l,d,m,v){if(!SE(m))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return _E(l,d,m,!1,v)},vo.version="18.3.1-next-f1338f8080-20240426",vo}var q$;function tX(){if(q$)return WT.exports;q$=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),WT.exports=eX(),WT.exports}var G$;function nX(){if(G$)return IE;G$=1;var t=tX();return IE.createRoot=t.createRoot,IE.hydrateRoot=t.hydrateRoot,IE}var rX=nX(),U=kC();const wa=gc(U);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var K$="popstate";function iX(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return EN("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:R1(i)}return oX(e,n,null,t)}function Kr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ll(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sX(){return Math.random().toString(36).substring(2,10)}function Y$(t,e){return{usr:t.state,key:t.key,idx:e}}function EN(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?db(e):e,state:n,key:e&&e.key||r||sX()}}function R1({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function db(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function oX(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",c=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function h(){a="POP";let b=f(),C=b==null?null:b-u;u=b,c&&c({action:a,location:y.location,delta:C})}function p(b,C){a="PUSH";let x=EN(y.location,b,C);u=f()+1;let E=Y$(x,u),I=y.createHref(x);try{o.pushState(E,"",I)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(I)}s&&c&&c({action:a,location:y.location,delta:1})}function g(b,C){a="REPLACE";let x=EN(y.location,b,C);u=f();let E=Y$(x,u),I=y.createHref(x);o.replaceState(E,"",I),s&&c&&c({action:a,location:y.location,delta:0})}function w(b){return aX(b)}let y={get action(){return a},get location(){return t(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(K$,h),c=b,()=>{i.removeEventListener(K$,h),c=null}},createHref(b){return e(i,b)},createURL:w,encodeLocation(b){let C=w(b);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:p,replace:g,go(b){return o.go(b)}};return y}function aX(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Kr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:R1(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Yj(t,e,n="/"){return cX(t,e,n,!1)}function cX(t,e,n,r){let i=typeof e=="string"?db(e):e,s=Ud(i.pathname||"/",n);if(s==null)return null;let o=Qj(t);lX(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=vX(s);a=wX(o[c],u,r)}return a}function Qj(t,e=[],n=[],r=""){let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Kr(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=Pd([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(Kr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Qj(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:gX(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of Zj(s.path))i(s,o,c)}),e}function Zj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Zj(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function lX(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yX(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var uX=/^:[\w-]+$/,dX=3,fX=2,hX=1,pX=10,mX=-2,Q$=t=>t==="*";function gX(t,e){let n=t.split("/"),r=n.length;return n.some(Q$)&&(r+=mX),e&&(r+=fX),n.filter(i=>!Q$(i)).reduce((i,s)=>i+(uX.test(s)?dX:s===""?hX:pX),r)}function yX(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function wX(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=n3({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),p=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=n3({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Pd([s,h.pathname]),pathnameBase:AX(Pd([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Pd([s,h.pathnameBase]))}return o}function n3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bX(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:h},p)=>{if(f==="*"){let w=a[p]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const g=a[p];return h&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function bX(t,e=!1,n=!0){ll(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function vX(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ll(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ud(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CX(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?db(t):t;return{pathname:n?n.startsWith("/")?n:xX(n,e):e,search:SX(r),hash:_X(i)}}function xX(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qT(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EX(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qk(t){let e=EX(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Gk(t,e,n,r=!1){let i;typeof t=="string"?i=db(t):(i={...t},Kr(!i.pathname||!i.pathname.includes("?"),qT("?","pathname","search",i)),Kr(!i.pathname||!i.pathname.includes("#"),qT("#","pathname","hash",i)),Kr(!i.search||!i.search.includes("#"),qT("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let c=CX(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}var Pd=t=>t.join("/").replace(/\/\/+/g,"/"),AX=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SX=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_X=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TX(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Jj=["POST","PUT","PATCH","DELETE"];new Set(Jj);var IX=["GET",...Jj];new Set(IX);var fb=U.createContext(null);fb.displayName="DataRouter";var V5=U.createContext(null);V5.displayName="DataRouterState";U.createContext(!1);var Xj=U.createContext({isTransitioning:!1});Xj.displayName="ViewTransition";var NX=U.createContext(new Map);NX.displayName="Fetchers";var PX=U.createContext(null);PX.displayName="Await";var yl=U.createContext(null);yl.displayName="Navigation";var RC=U.createContext(null);RC.displayName="Location";var Iu=U.createContext({outlet:null,matches:[],isDataRoute:!1});Iu.displayName="Route";var Kk=U.createContext(null);Kk.displayName="RouteError";function kX(t,{relative:e}={}){Kr(hb(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=U.useContext(yl),{hash:i,pathname:s,search:o}=OC(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Pd([n,s])),r.createHref({pathname:a,search:o,hash:i})}function hb(){return U.useContext(RC)!=null}function Nu(){return Kr(hb(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(RC).location}var ez="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tz(t){U.useContext(yl).static||U.useLayoutEffect(t)}function nz(){let{isDataRoute:t}=U.useContext(Iu);return t?HX():RX()}function RX(){Kr(hb(),"useNavigate() may be used only in the context of a <Router> component.");let t=U.useContext(fb),{basename:e,navigator:n}=U.useContext(yl),{matches:r}=U.useContext(Iu),{pathname:i}=Nu(),s=JSON.stringify(qk(r)),o=U.useRef(!1);return tz(()=>{o.current=!0}),U.useCallback((c,u={})=>{if(ll(o.current,ez),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=Gk(c,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Pd([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,s,i,t])}U.createContext(null);function OC(t,{relative:e}={}){let{matches:n}=U.useContext(Iu),{pathname:r}=Nu(),i=JSON.stringify(qk(n));return U.useMemo(()=>Gk(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function OX(t,e){return rz(t,e)}function rz(t,e,n,r){var C;Kr(hb(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=U.useContext(yl),{matches:s}=U.useContext(Iu),o=s[s.length-1],a=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let x=f&&f.path||"";iz(c,!f||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let h=Nu(),p;if(e){let x=typeof e=="string"?db(e):e;Kr(u==="/"||((C=x.pathname)==null?void 0:C.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),p=x}else p=h;let g=p.pathname||"/",w=g;if(u!=="/"){let x=u.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=Yj(t,{pathname:w});ll(f||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ll(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=BX(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Pd([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Pd([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&b?U.createElement(RC.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function $X(){let t=WX(),e=TX(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:s},"ErrorBoundary")," or"," ",U.createElement("code",{style:s},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,o)}var DX=U.createElement($X,null),LX=class extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?U.createElement(Iu.Provider,{value:this.props.routeContext},U.createElement(Kk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MX({routeContext:t,match:e,children:n}){let r=U.useContext(fb);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Iu.Provider,{value:t},n)}function BX(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let c=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Kr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,a=-1;if(n)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=c),u.route.id){let{loaderData:f,errors:h}=n,p=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||p){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((c,u,f)=>{let h,p=!1,g=null,w=null;n&&(h=s&&u.route.id?s[u.route.id]:void 0,g=u.route.errorElement||DX,o&&(a<0&&f===0?(iz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,w=null):a===f&&(p=!0,w=u.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,f+1)),b=()=>{let C;return h?C=g:p?C=w:u.route.Component?C=U.createElement(u.route.Component,null):u.route.element?C=u.route.element:C=c,U.createElement(MX,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:C})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?U.createElement(LX,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}function Yk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UX(t){let e=U.useContext(fb);return Kr(e,Yk(t)),e}function FX(t){let e=U.useContext(V5);return Kr(e,Yk(t)),e}function jX(t){let e=U.useContext(Iu);return Kr(e,Yk(t)),e}function Qk(t){let e=jX(t),n=e.matches[e.matches.length-1];return Kr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function zX(){return Qk("useRouteId")}function WX(){var r;let t=U.useContext(Kk),e=FX("useRouteError"),n=Qk("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function HX(){let{router:t}=UX("useNavigate"),e=Qk("useNavigate"),n=U.useRef(!1);return tz(()=>{n.current=!0}),U.useCallback(async(i,s={})=>{ll(n.current,ez),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Z$={};function iz(t,e,n){!e&&!Z$[t]&&(Z$[t]=!0,ll(!1,n))}U.memo(VX);function VX({routes:t,future:e,state:n}){return rz(t,void 0,n,e)}function qv({to:t,replace:e,state:n,relative:r}){Kr(hb(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=U.useContext(yl);ll(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=U.useContext(Iu),{pathname:o}=Nu(),a=nz(),c=Gk(t,qk(s),o,r==="path"),u=JSON.stringify(c);return U.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function Rs(t){Kr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qX({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Kr(!hb(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=U.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=db(n));let{pathname:c="/",search:u="",hash:f="",state:h=null,key:p="default"}=n,g=U.useMemo(()=>{let w=Ud(c,o);return w==null?null:{location:{pathname:w,search:u,hash:f,state:h,key:p},navigationType:r}},[o,c,u,f,h,p,r]);return ll(g!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:U.createElement(yl.Provider,{value:a},U.createElement(RC.Provider,{children:e,value:g}))}function sz({children:t,location:e}){return OX(AN(t),e)}function AN(t,e=[]){let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let s=[...e,i];if(r.type===U.Fragment){n.push.apply(n,AN(r.props.children,s));return}Kr(r.type===Rs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=AN(r.props.children,s)),n.push(o)}),n}var xA="get",EA="application/x-www-form-urlencoded";function q5(t){return t!=null&&typeof t.tagName=="string"}function GX(t){return q5(t)&&t.tagName.toLowerCase()==="button"}function KX(t){return q5(t)&&t.tagName.toLowerCase()==="form"}function YX(t){return q5(t)&&t.tagName.toLowerCase()==="input"}function QX(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZX(t,e){return t.button===0&&(!e||e==="_self")&&!QX(t)}var NE=null;function JX(){if(NE===null)try{new FormData(document.createElement("form"),0),NE=!1}catch{NE=!0}return NE}var XX=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function GT(t){return t!=null&&!XX.has(t)?(ll(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${EA}"`),null):t}function eee(t,e){let n,r,i,s,o;if(KX(t)){let a=t.getAttribute("action");r=a?Ud(a,e):null,n=t.getAttribute("method")||xA,i=GT(t.getAttribute("enctype"))||EA,s=new FormData(t)}else if(GX(t)||YX(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?Ud(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||xA,i=GT(t.getAttribute("formenctype"))||GT(a.getAttribute("enctype"))||EA,s=new FormData(a,t),!JX()){let{name:u,type:f,value:h}=t;if(f==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,h)}}else{if(q5(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xA,r=null,i=EA,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zk(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tee(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ud(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function nee(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ree(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iee(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await nee(s,n);return o.links?o.links():[]}return[]}));return cee(r.flat(1).filter(ree).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function J$(t,e,n,r,i,s){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,a=(c,u)=>{var f;return n[u].pathname!==c.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,u)=>o(c,u)||a(c,u)):s==="data"?e.filter((c,u)=>{var h;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,u)||a(c,u))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function see(t,e,{includeHydrateFallback:n}={}){return oee(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function oee(t){return[...new Set(t)]}function aee(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function cee(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(aee(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function oz(){let t=U.useContext(fb);return Zk(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function lee(){let t=U.useContext(V5);return Zk(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Jk=U.createContext(void 0);Jk.displayName="FrameworkContext";function az(){let t=U.useContext(Jk);return Zk(t,"You must render this element inside a <HydratedRouter> element"),t}function uee(t,e){let n=U.useContext(Jk),[r,i]=U.useState(!1),[s,o]=U.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:u,onMouseLeave:f,onTouchStart:h}=e,p=U.useRef(null);U.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let y=C=>{C.forEach(x=>{o(x.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[t]),U.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let g=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:yv(a,g),onBlur:yv(c,w),onMouseEnter:yv(u,g),onMouseLeave:yv(f,w),onTouchStart:yv(h,g)}]:[!1,p,{}]}function yv(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dee({page:t,...e}){let{router:n}=oz(),r=U.useMemo(()=>Yj(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?U.createElement(hee,{page:t,matches:r,...e}):null}function fee(t){let{manifest:e,routeModules:n}=az(),[r,i]=U.useState([]);return U.useEffect(()=>{let s=!1;return iee(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function hee({page:t,matches:e,...n}){let r=Nu(),{manifest:i,routeModules:s}=az(),{basename:o}=oz(),{loaderData:a,matches:c}=lee(),u=U.useMemo(()=>J$(t,e,c,i,r,"data"),[t,e,c,i,r]),f=U.useMemo(()=>J$(t,e,c,i,r,"assets"),[t,e,c,i,r]),h=U.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,y=!1;if(e.forEach(C=>{var E;let x=i.routes[C.route.id];!x||!x.hasLoader||(!u.some(I=>I.route.id===C.route.id)&&C.route.id in a&&((E=s[C.route.id])!=null&&E.shouldRevalidate)||x.hasClientLoader?y=!0:w.add(C.route.id))}),w.size===0)return[];let b=tee(t,o,"data");return y&&w.size>0&&b.searchParams.set("_routes",e.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[b.pathname+b.search]},[o,a,r,i,u,e,t,s]),p=U.useMemo(()=>see(f,i),[f,i]),g=fee(f);return U.createElement(U.Fragment,null,h.map(w=>U.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),p.map(w=>U.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),g.map(({key:w,link:y})=>U.createElement("link",{key:w,...y})))}function pee(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var cz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cz&&(window.__reactRouterVersion="7.7.1")}catch{}function mee({basename:t,children:e,window:n}){let r=U.useRef();r.current==null&&(r.current=iX({window:n,v5Compat:!0}));let i=r.current,[s,o]=U.useState({action:i.action,location:i.location}),a=U.useCallback(c=>{U.startTransition(()=>o(c))},[o]);return U.useLayoutEffect(()=>i.listen(a),[i,a]),U.createElement(qX,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var lz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uz=U.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:f,viewTransition:h,...p},g){let{basename:w}=U.useContext(yl),y=typeof u=="string"&&lz.test(u),b,C=!1;if(typeof u=="string"&&y&&(b=u,cz))try{let k=new URL(window.location.href),M=u.startsWith("//")?new URL(k.protocol+u):new URL(u),L=Ud(M.pathname,w);M.origin===k.origin&&L!=null?u=L+M.search+M.hash:C=!0}catch{ll(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=kX(u,{relative:i}),[E,I,S]=uee(r,p),T=wee(u,{replace:o,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:h});function R(k){e&&e(k),k.defaultPrevented||T(k)}let O=U.createElement("a",{...p,...S,href:b||x,onClick:C||s?e:R,ref:pee(g,I),target:c,"data-discover":!y&&n==="render"?"true":void 0});return E&&!y?U.createElement(U.Fragment,null,O,U.createElement(dee,{page:x})):O});uz.displayName="Link";var as=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:c,...u},f){let h=OC(o,{relative:u.relative}),p=Nu(),g=U.useContext(V5),{navigator:w,basename:y}=U.useContext(yl),b=g!=null&&Eee(h)&&a===!0,C=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,x=p.pathname,E=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(x=x.toLowerCase(),E=E?E.toLowerCase():null,C=C.toLowerCase()),E&&y&&(E=Ud(E,y)||E);const I=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let S=x===C||!i&&x.startsWith(C)&&x.charAt(I)==="/",T=E!=null&&(E===C||!i&&E.startsWith(C)&&E.charAt(C.length)==="/"),R={isActive:S,isPending:T,isTransitioning:b},O=S?e:void 0,k;typeof r=="function"?k=r(R):k=[r,S?"active":null,T?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let M=typeof s=="function"?s(R):s;return U.createElement(uz,{...u,"aria-current":O,className:k,ref:f,style:M,to:o,viewTransition:a},typeof c=="function"?c(R):c)});as.displayName="NavLink";var gee=U.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=xA,action:a,onSubmit:c,relative:u,preventScrollReset:f,viewTransition:h,...p},g)=>{let w=Cee(),y=xee(a,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",C=typeof a=="string"&&lz.test(a),x=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let I=E.nativeEvent.submitter,S=(I==null?void 0:I.getAttribute("formmethod"))||o;w(I||E.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:i,state:s,relative:u,preventScrollReset:f,viewTransition:h})};return U.createElement("form",{ref:g,method:b,action:y,onSubmit:r?c:x,...p,"data-discover":!C&&t==="render"?"true":void 0})});gee.displayName="Form";function yee(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dz(t){let e=U.useContext(fb);return Kr(e,yee(t)),e}function wee(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=nz(),c=Nu(),u=OC(t,{relative:s});return U.useCallback(f=>{if(ZX(f,e)){f.preventDefault();let h=n!==void 0?n:R1(c)===R1(u);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,a,u,n,r,e,t,i,s,o])}var bee=0,vee=()=>`__${String(++bee)}__`;function Cee(){let{router:t}=dz("useSubmit"),{basename:e}=U.useContext(yl),n=zX();return U.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:c,body:u}=eee(r,e);if(i.navigate===!1){let f=i.fetcherKey||vee();await t.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function xee(t,{relative:e}={}){let{basename:n}=U.useContext(yl),r=U.useContext(Iu);Kr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...OC(t||".",{relative:e})},o=Nu();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),c=a.getAll("index");if(c.some(f=>f==="")){a.delete("index"),c.filter(h=>h).forEach(h=>a.append("index",h));let f=a.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Pd([n,s.pathname])),R1(s)}function Eee(t,{relative:e}={}){let n=U.useContext(Xj);Kr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dz("useViewTransitionState"),i=OC(t,{relative:e});if(!n.isTransitioning)return!1;let s=Ud(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ud(n.nextLocation.pathname,r)||n.nextLocation.pathname;return n3(i.pathname,o)!=null||n3(i.pathname,s)!=null}const Aee=Symbol(),Xk=Symbol(),Gv="a",fz="f",X$="p",hz="c",pz="t",eR="h",a1="w",tR="o",nR="k";let See=(t,e)=>new Proxy(t,e);const SN=Object.getPrototypeOf,_N=new WeakMap,mz=t=>t&&(_N.has(t)?_N.get(t):SN(t)===Object.prototype||SN(t)===Array.prototype),r3=t=>typeof t=="object"&&t!==null,_ee=t=>Object.values(Object.getOwnPropertyDescriptors(t)).some(e=>!e.configurable&&!e.writable),Tee=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(SN(t),e)},Iee=(t,e)=>{const n={[fz]:e};let r=!1;const i=(a,c)=>{if(!r){let u=n[Gv].get(t);if(u||(u={},n[Gv].set(t,u)),a===a1)u[a1]=!0;else{let f=u[a];f||(f=new Set,u[a]=f),f.add(c)}}},s=()=>{r=!0,n[Gv].delete(t)},o={get(a,c){return c===Xk?t:(i(nR,c),gz(Reflect.get(a,c),n[Gv],n[hz],n[pz]))},has(a,c){return c===Aee?(s(),!0):(i(eR,c),Reflect.has(a,c))},getOwnPropertyDescriptor(a,c){return i(tR,c),Reflect.getOwnPropertyDescriptor(a,c)},ownKeys(a){return i(a1),Reflect.ownKeys(a)}};return e&&(o.set=o.deleteProperty=()=>!1),[o,n]},rR=t=>t[Xk]||t,gz=(t,e,n,r)=>{if(!mz(t))return t;let i=r&&r.get(t);if(!i){const c=rR(t);_ee(c)?i=[c,Tee(c)]:i=[c],r==null||r.set(t,i)}const[s,o]=i;let a=n&&n.get(s);return(!a||a[1][fz]!==!!o)&&(a=Iee(s,!!o),a[1][X$]=See(o||s,a[0]),n&&n.set(s,a)),a[1][Gv]=e,a[1][hz]=n,a[1][pz]=r,a[1][X$]},Nee=(t,e)=>{const n=Reflect.ownKeys(t),r=Reflect.ownKeys(e);return n.length!==r.length||n.some((i,s)=>i!==r[s])},yz=(t,e,n,r,i=Object.is)=>{if(i(t,e))return!1;if(!r3(t)||!r3(e))return!0;const s=n.get(rR(t));if(!s)return!0;if(r){if(r.get(t)===e)return!1;r.set(t,e)}let o=null;for(const a of s[eR]||[])if(o=Reflect.has(t,a)!==Reflect.has(e,a),o)return o;if(s[a1]===!0){if(o=Nee(t,e),o)return o}else for(const a of s[tR]||[]){const c=!!Reflect.getOwnPropertyDescriptor(t,a),u=!!Reflect.getOwnPropertyDescriptor(e,a);if(o=c!==u,o)return o}for(const a of s[nR]||[])if(o=yz(t[a],e[a],n,r,i),o)return o;if(o===null)throw new Error("invalid used");return o},Pee=t=>mz(t)&&t[Xk]||null,eD=(t,e=!0)=>{_N.set(t,e)},kee=(t,e,n)=>{const r=[],i=new WeakSet,s=(o,a)=>{var c,u,f;if(i.has(o))return;r3(o)&&i.add(o);const h=r3(o)&&e.get(rR(o));if(h){if((c=h[eR])===null||c===void 0||c.forEach(p=>{const g=`:has(${String(p)})`;r.push(a?[...a,g]:[g])}),h[a1]===!0){const p=":ownKeys";r.push(a?[...a,p]:[p])}else(u=h[tR])===null||u===void 0||u.forEach(p=>{const g=`:hasOwn(${String(p)})`;r.push(a?[...a,g]:[g])});(f=h[nR])===null||f===void 0||f.forEach(p=>{"value"in(Object.getOwnPropertyDescriptor(o,p)||{})&&s(o[p],a?[...a,p]:[p])})}else a&&r.push(a)};return s(t),r},i3={},iR=t=>typeof t=="object"&&t!==null,Ree=t=>iR(t)&&!$C.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),wz=(t,e)=>{const n=TN.get(t);if((n==null?void 0:n[0])===e)return n[1];const r=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return eD(r,!0),TN.set(t,[e,r]),Reflect.ownKeys(t).forEach(i=>{if(Object.getOwnPropertyDescriptor(r,i))return;const s=Reflect.get(t,i),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,i),a={value:s,enumerable:o,configurable:!0};if($C.has(s))eD(s,!1);else if(Gh.has(s)){const[c,u]=Gh.get(s);a.value=wz(c,u())}Object.defineProperty(r,i,a)}),Object.preventExtensions(r)},Oee=(t,e,n,r)=>({deleteProperty(i,s){const o=Reflect.get(i,s);n(s);const a=Reflect.deleteProperty(i,s);return a&&r(["delete",[s],o]),a},set(i,s,o,a){const c=!t()&&Reflect.has(i,s),u=Reflect.get(i,s,a);if(c&&(tD(u,o)||O1.has(o)&&tD(u,O1.get(o))))return!0;n(s),iR(o)&&(o=Pee(o)||o);const f=!Gh.has(o)&&Dee(o)?gr(o):o;return e(s,f),Reflect.set(i,s,f,a),r(["set",[s],o,u]),!0}}),Gh=new WeakMap,$C=new WeakSet,TN=new WeakMap,Kv=[1,1],O1=new WeakMap;let tD=Object.is,$ee=(t,e)=>new Proxy(t,e),Dee=Ree,Lee=wz,Mee=Oee;function gr(t={}){if(!iR(t))throw new Error("object required");const e=O1.get(t);if(e)return e;let n=Kv[0];const r=new Set,i=(b,C=++Kv[0])=>{n!==C&&(n=C,r.forEach(x=>x(b,C)))};let s=Kv[1];const o=(b=++Kv[1])=>(s!==b&&!r.size&&(s=b,c.forEach(([C])=>{const x=C[1](b);x>n&&(n=x)})),n),a=b=>(C,x)=>{const E=[...C];E[1]=[b,...E[1]],i(E,x)},c=new Map,u=(b,C)=>{const x=!$C.has(C)&&Gh.get(C);if(x){if((i3?"production":void 0)!=="production"&&c.has(b))throw new Error("prop listener already exists");if(r.size){const E=x[2](a(b));c.set(b,[x,E])}else c.set(b,[x])}},f=b=>{var C;const x=c.get(b);x&&(c.delete(b),(C=x[1])==null||C.call(x))},h=b=>(r.add(b),r.size===1&&c.forEach(([x,E],I)=>{if((i3?"production":void 0)!=="production"&&E)throw new Error("remove already exists");const S=x[2](a(I));c.set(I,[x,S])}),()=>{r.delete(b),r.size===0&&c.forEach(([x,E],I)=>{E&&(E(),c.set(I,[x]))})});let p=!0;const g=Mee(()=>p,u,f,i),w=$ee(t,g);O1.set(t,w);const y=[t,o,h];return Gh.set(w,y),Reflect.ownKeys(t).forEach(b=>{const C=Object.getOwnPropertyDescriptor(t,b);"value"in C&&C.writable&&(w[b]=t[b])}),p=!1,w}function xi(t,e,n){const r=Gh.get(t);(i3?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[2];let a=!1;const u=o(f=>{s.push(f),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,u()}}function eg(t){const e=Gh.get(t);(i3?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[n,r]=e;return Lee(n,r())}function tg(t){return $C.add(t),t}function Bee(){return{proxyStateMap:Gh,refSet:$C,snapCache:TN,versionHolder:Kv,proxyCache:O1}}function Oi(t,e,n,r){let i=t[e];return xi(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)})}const{proxyStateMap:Uee,snapCache:Fee}=Bee(),PE=t=>Uee.has(t);function jee(t){const e=[];let n=0;const r=new Map,i=new WeakMap,s=()=>{const u=Fee.get(a),f=u==null?void 0:u[1];if(f&&!i.has(f)){const h=new Map(r);i.set(f,h)}},o=u=>i.get(u)||r,a={data:e,index:n,epoch:0,get size(){return PE(this)||s(),o(this).size},get(u){const h=o(this).get(u);if(h===void 0){this.epoch;return}return this.data[h]},has(u){const f=o(this);return this.epoch,f.has(u)},set(u,f){if(!PE(this))throw new Error("Cannot perform mutations on a snapshot");const h=r.get(u);return h===void 0?(r.set(u,this.index),this.data[this.index++]=f):this.data[h]=f,this.epoch++,this},delete(u){if(!PE(this))throw new Error("Cannot perform mutations on a snapshot");const f=r.get(u);return f===void 0?!1:(delete this.data[f],r.delete(u),this.epoch++,!0)},clear(){if(!PE(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(u){this.epoch,o(this).forEach((h,p)=>{u(this.data[h],p,this)})},*entries(){this.epoch;const u=o(this);for(const[f,h]of u)yield[f,this.data[h]]},*keys(){this.epoch;const u=o(this);for(const f of u.keys())yield f},*values(){this.epoch;const u=o(this);for(const f of u.values())yield this.data[f]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=gr(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}var AA={exports:{}},zee=AA.exports,nD;function Wee(){return nD||(nD=1,function(t,e){(function(n,r){t.exports=r()})(zee,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",c="hour",u="day",f="week",h="month",p="quarter",g="year",w="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(J){var $=["th","st","nd","rd"],D=J%100;return"["+J+($[(D-20)%10]||$[D]||$[0])+"]"}},E=function(J,$,D){var H=String(J);return!H||H.length>=$?J:""+Array($+1-H.length).join(D)+J},I={s:E,z:function(J){var $=-J.utcOffset(),D=Math.abs($),H=Math.floor(D/60),z=D%60;return($<=0?"+":"-")+E(H,2,"0")+":"+E(z,2,"0")},m:function J($,D){if($.date()<D.date())return-J(D,$);var H=12*(D.year()-$.year())+(D.month()-$.month()),z=$.clone().add(H,h),Y=D-z<0,K=$.clone().add(H+(Y?-1:1),h);return+(-(H+(D-z)/(Y?z-K:K-z))||0)},a:function(J){return J<0?Math.ceil(J)||0:Math.floor(J)},p:function(J){return{M:h,y:g,w:f,d:u,D:w,h:c,m:a,s:o,ms:s,Q:p}[J]||String(J||"").toLowerCase().replace(/s$/,"")},u:function(J){return J===void 0}},S="en",T={};T[S]=x;var R="$isDayjsObject",O=function(J){return J instanceof j||!(!J||!J[R])},k=function J($,D,H){var z;if(!$)return S;if(typeof $=="string"){var Y=$.toLowerCase();T[Y]&&(z=Y),D&&(T[Y]=D,z=Y);var K=$.split("-");if(!z&&K.length>1)return J(K[0])}else{var q=$.name;T[q]=$,z=q}return!H&&z&&(S=z),z||!H&&S},M=function(J,$){if(O(J))return J.clone();var D=typeof $=="object"?$:{};return D.date=J,D.args=arguments,new j(D)},L=I;L.l=k,L.i=O,L.w=function(J,$){return M(J,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var j=function(){function J(D){this.$L=k(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[R]=!0}var $=J.prototype;return $.parse=function(D){this.$d=function(H){var z=H.date,Y=H.utc;if(z===null)return new Date(NaN);if(L.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var K=z.match(b);if(K){var q=K[2]-1||0,V=(K[7]||"0").substring(0,3);return Y?new Date(Date.UTC(K[1],q,K[3]||1,K[4]||0,K[5]||0,K[6]||0,V)):new Date(K[1],q,K[3]||1,K[4]||0,K[5]||0,K[6]||0,V)}}return new Date(z)}(D),this.init()},$.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},$.$utils=function(){return L},$.isValid=function(){return this.$d.toString()!==y},$.isSame=function(D,H){var z=M(D);return this.startOf(H)<=z&&z<=this.endOf(H)},$.isAfter=function(D,H){return M(D)<this.startOf(H)},$.isBefore=function(D,H){return this.endOf(H)<M(D)},$.$g=function(D,H,z){return L.u(D)?this[H]:this.set(z,D)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(D,H){var z=this,Y=!!L.u(H)||H,K=L.p(D),q=function(ke,it){var Xt=L.w(z.$u?Date.UTC(z.$y,it,ke):new Date(z.$y,it,ke),z);return Y?Xt:Xt.endOf(u)},V=function(ke,it){return L.w(z.toDate()[ke].apply(z.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(it)),z)},ue=this.$W,le=this.$M,ge=this.$D,ve="set"+(this.$u?"UTC":"");switch(K){case g:return Y?q(1,0):q(31,11);case h:return Y?q(1,le):q(0,le+1);case f:var Pe=this.$locale().weekStart||0,Ie=(ue<Pe?ue+7:ue)-Pe;return q(Y?ge-Ie:ge+(6-Ie),le);case u:case w:return V(ve+"Hours",0);case c:return V(ve+"Minutes",1);case a:return V(ve+"Seconds",2);case o:return V(ve+"Milliseconds",3);default:return this.clone()}},$.endOf=function(D){return this.startOf(D,!1)},$.$set=function(D,H){var z,Y=L.p(D),K="set"+(this.$u?"UTC":""),q=(z={},z[u]=K+"Date",z[w]=K+"Date",z[h]=K+"Month",z[g]=K+"FullYear",z[c]=K+"Hours",z[a]=K+"Minutes",z[o]=K+"Seconds",z[s]=K+"Milliseconds",z)[Y],V=Y===u?this.$D+(H-this.$W):H;if(Y===h||Y===g){var ue=this.clone().set(w,1);ue.$d[q](V),ue.init(),this.$d=ue.set(w,Math.min(this.$D,ue.daysInMonth())).$d}else q&&this.$d[q](V);return this.init(),this},$.set=function(D,H){return this.clone().$set(D,H)},$.get=function(D){return this[L.p(D)]()},$.add=function(D,H){var z,Y=this;D=Number(D);var K=L.p(H),q=function(le){var ge=M(Y);return L.w(ge.date(ge.date()+Math.round(le*D)),Y)};if(K===h)return this.set(h,this.$M+D);if(K===g)return this.set(g,this.$y+D);if(K===u)return q(1);if(K===f)return q(7);var V=(z={},z[a]=r,z[c]=i,z[o]=n,z)[K]||1,ue=this.$d.getTime()+D*V;return L.w(ue,this)},$.subtract=function(D,H){return this.add(-1*D,H)},$.format=function(D){var H=this,z=this.$locale();if(!this.isValid())return z.invalidDate||y;var Y=D||"YYYY-MM-DDTHH:mm:ssZ",K=L.z(this),q=this.$H,V=this.$m,ue=this.$M,le=z.weekdays,ge=z.months,ve=z.meridiem,Pe=function(it,Xt,dn,hn){return it&&(it[Xt]||it(H,Y))||dn[Xt].slice(0,hn)},Ie=function(it){return L.s(q%12||12,it,"0")},ke=ve||function(it,Xt,dn){var hn=it<12?"AM":"PM";return dn?hn.toLowerCase():hn};return Y.replace(C,function(it,Xt){return Xt||function(dn){switch(dn){case"YY":return String(H.$y).slice(-2);case"YYYY":return L.s(H.$y,4,"0");case"M":return ue+1;case"MM":return L.s(ue+1,2,"0");case"MMM":return Pe(z.monthsShort,ue,ge,3);case"MMMM":return Pe(ge,ue);case"D":return H.$D;case"DD":return L.s(H.$D,2,"0");case"d":return String(H.$W);case"dd":return Pe(z.weekdaysMin,H.$W,le,2);case"ddd":return Pe(z.weekdaysShort,H.$W,le,3);case"dddd":return le[H.$W];case"H":return String(q);case"HH":return L.s(q,2,"0");case"h":return Ie(1);case"hh":return Ie(2);case"a":return ke(q,V,!0);case"A":return ke(q,V,!1);case"m":return String(V);case"mm":return L.s(V,2,"0");case"s":return String(H.$s);case"ss":return L.s(H.$s,2,"0");case"SSS":return L.s(H.$ms,3,"0");case"Z":return K}return null}(it)||K.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(D,H,z){var Y,K=this,q=L.p(H),V=M(D),ue=(V.utcOffset()-this.utcOffset())*r,le=this-V,ge=function(){return L.m(K,V)};switch(q){case g:Y=ge()/12;break;case h:Y=ge();break;case p:Y=ge()/3;break;case f:Y=(le-ue)/6048e5;break;case u:Y=(le-ue)/864e5;break;case c:Y=le/i;break;case a:Y=le/r;break;case o:Y=le/n;break;default:Y=le}return z?Y:L.a(Y)},$.daysInMonth=function(){return this.endOf(h).$D},$.$locale=function(){return T[this.$L]},$.locale=function(D,H){if(!D)return this.$L;var z=this.clone(),Y=k(D,H,!0);return Y&&(z.$L=Y),z},$.clone=function(){return L.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},J}(),Q=j.prototype;return M.prototype=Q,[["$ms",s],["$s",o],["$m",a],["$H",c],["$W",u],["$M",h],["$y",g],["$D",w]].forEach(function(J){Q[J[1]]=function($){return this.$g($,J[0],J[1])}}),M.extend=function(J,$){return J.$i||(J($,j,M),J.$i=!0),M},M.locale=k,M.isDayjs=O,M.unix=function(J){return M(1e3*J)},M.en=T[S],M.Ls=T,M.p={},M})}(AA)),AA.exports}var Hee=Wee();const vy=gc(Hee);var SA={exports:{}},Vee=SA.exports,rD;function qee(){return rD||(rD=1,function(t,e){(function(n,r){t.exports=r()})(Vee,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],i=n%100;return"["+n+(r[(i-20)%10]||r[i]||r[0])+"]"}}})}(SA)),SA.exports}var Gee=qee();const Kee=gc(Gee);var _A={exports:{}},Yee=_A.exports,iD;function Qee(){return iD||(iD=1,function(t,e){(function(n,r){t.exports=r()})(Yee,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(u,f,h,p){return s.fromToBase(u,f,h,p)}i.en.relativeTime=o,s.fromToBase=function(u,f,h,p,g){for(var w,y,b,C=h.$locale().relativeTime||o,x=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],E=x.length,I=0;I<E;I+=1){var S=x[I];S.d&&(w=p?i(u).diff(h,S.d,!0):h.diff(u,S.d,!0));var T=(n.rounding||Math.round)(Math.abs(w));if(b=w>0,T<=S.r||!S.r){T<=1&&I>0&&(S=x[I-1]);var R=C[S.l];g&&(T=g(""+T)),y=typeof R=="string"?R.replace("%d",T):R(T,f,S.l,b);break}}if(f)return y;var O=b?C.future:C.past;return typeof O=="function"?O(y):O.replace("%s",y)},s.to=function(u,f){return a(u,f,this,!0)},s.from=function(u,f){return a(u,f,this)};var c=function(u){return u.$u?i.utc():i()};s.toNow=function(u){return this.to(c(this),u)},s.fromNow=function(u){return this.from(c(this),u)}}})}(_A)),_A.exports}var Zee=Qee();const Jee=gc(Zee);var TA={exports:{}},Xee=TA.exports,sD;function ete(){return sD||(sD=1,function(t,e){(function(n,r){t.exports=r()})(Xee,function(){return function(n,r,i){i.updateLocale=function(s,o){var a=i.Ls[s];if(a)return(o?Object.keys(o):[]).forEach(function(c){a[c]=o[c]}),a}}})}(TA)),TA.exports}var tte=ete();const nte=gc(tte);vy.extend(Jee);vy.extend(nte);const rte={...Kee,name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}},ite=["January","February","March","April","May","June","July","August","September","October","November","December"];vy.locale("en-web3-modal",rte);const IN={getMonthNameByIndex(t){return ite[t]},getYear(t=new Date().toISOString()){return vy(t).year()},getRelativeDateFromNow(t){return vy(t).locale("en-web3-modal").fromNow(!0)},formatDate(t,e="DD MMM"){return vy(t).format(e)}};var oD={};const oe={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof oD<"u"?oD.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},$1={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var i;if(!e)return;const n=t.find(s=>s.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return((i=oe.CHAIN_NAME_MAP)==null?void 0:i[r])||void 0}},bz=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var ste=20,ote=1,ng=1e6,aD=1e6,ate=-7,cte=21,lte=!1,DC="[big.js] ",Og=DC+"Invalid ",G5=Og+"decimal places",ute=Og+"rounding mode",vz=DC+"Division by zero",mr={},gu=void 0,dte=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Cz(){function t(e){var n=this;if(!(n instanceof t))return e===gu?Cz():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Og+"value");e=e===0&&1/e<0?"-0":String(e)}fte(n,e)}n.constructor=t}return t.prototype=mr,t.DP=ste,t.RM=ote,t.NE=ate,t.PE=cte,t.strict=lte,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function fte(t,e){var n,r,i;if(!dte.test(e))throw Error(Og+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),i=e.length,r=0;r<i&&e.charAt(r)=="0";)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}return t}function $g(t,e,n,r){var i=t.c;if(n===gu&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(ute);if(e<1)r=n===3&&(r||!!i[0])||e===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(r||i[1]!==gu))),i.length=1,r?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(r=n===1&&i[e]>=5||n===2&&(i[e]>5||i[e]===5&&(r||i[e+1]!==gu||i[e-1]&1))||n===3&&(r||!!i[0]),i.length=e,r){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function Dg(t,e,n){var r=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+="0";else r<s&&(i=i.slice(0,r)+"."+i.slice(r));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&n?"-"+i:i}mr.abs=function(){var t=new this.constructor(this);return t.s=1,t};mr.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,s=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=i.length)?a:c,s=-1;++s<o;)if(r[s]!=i[s])return r[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};mr.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,s=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>ng)throw Error(G5);if(!i[0])throw Error(vz);if(!r[0])return t.s=s,t.c=[t.e=0],t;var a,c,u,f,h,p=i.slice(),g=a=i.length,w=r.length,y=r.slice(0,a),b=y.length,C=t,x=C.c=[],E=0,I=o+(C.e=e.e-t.e)+1;for(C.s=s,s=I<0?0:I,p.unshift(0);b++<a;)y.push(0);do{for(u=0;u<10;u++){if(a!=(b=y.length))f=a>b?1:-1;else for(h=-1,f=0;++h<a;)if(i[h]!=y[h]){f=i[h]>y[h]?1:-1;break}if(f<0){for(c=b==a?i:p;b;){if(y[--b]<c[b]){for(h=b;h&&!y[--h];)y[h]=9;--y[h],y[b]+=10}y[b]-=c[b]}for(;!y[0];)y.shift()}else break}x[E++]=f?u:++u,y[0]&&f?y[b]=r[g]||0:y=[r[g]]}while((g++<w||y[0]!==gu)&&s--);return!x[0]&&E!=1&&(x.shift(),C.e--,I--),E>I&&$g(C,I,n.RM,y[0]!==gu),C};mr.eq=function(t){return this.cmp(t)===0};mr.gt=function(t){return this.cmp(t)>0};mr.gte=function(t){return this.cmp(t)>-1};mr.lt=function(t){return this.cmp(t)<0};mr.lte=function(t){return this.cmp(t)<1};mr.minus=mr.sub=function(t){var e,n,r,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var u=s.c.slice(),f=s.e,h=t.c,p=t.e;if(!u[0]||!h[0])return h[0]?t.s=-c:u[0]?t=new o(s):t.s=1,t;if(a=f-p){for((i=a<0)?(a=-a,r=u):(p=f,r=h),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((i=u.length<h.length)?u:h).length,a=c=0;c<n;c++)if(u[c]!=h[c]){i=u[c]<h[c];break}if(i&&(r=u,u=h,h=r,t.s=-t.s),(c=(n=h.length)-(e=u.length))>0)for(;c--;)u[e++]=0;for(c=e;n>a;){if(u[--n]<h[n]){for(e=n;e&&!u[--e];)u[e]=9;--u[e],u[n]+=10}u[n]-=h[n]}for(;u[--c]===0;)u.pop();for(;u[0]===0;)u.shift(),--p;return u[0]||(t.s=1,u=[p=0]),t.c=u,t.e=p,t};mr.mod=function(t){var e,n=this,r=n.constructor,i=n.s,s=(t=new r(t)).s;if(!t.c[0])throw Error(vz);return n.s=t.s=1,e=t.cmp(n)==1,n.s=i,t.s=s,e?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=s,this.minus(n.times(t)))};mr.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};mr.plus=mr.add=function(t){var e,n,r,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,u=t.c;if(!a[0]||!u[0])return u[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=u):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-u.length<0&&(r=u,u=a,a=r),e=u.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+u[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};mr.pow=function(t){var e=this,n=new e.constructor("1"),r=n,i=t<0;if(t!==~~t||t<-aD||t>aD)throw Error(Og+"exponent");for(i&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return i?n.div(r):r};mr.prec=function(t,e){if(t!==~~t||t<1||t>ng)throw Error(Og+"precision");return $g(new this.constructor(this),t,e)};mr.round=function(t,e){if(t===gu)t=0;else if(t!==~~t||t<-ng||t>ng)throw Error(G5);return $g(new this.constructor(this),t+this.e+1,e)};mr.sqrt=function(){var t,e,n,r=this,i=r.constructor,s=r.s,o=r.e,a=new i("0.5");if(!r.c[0])return new i(r);if(s<0)throw Error(DC+"No square root");s=Math.sqrt(+Dg(r,!0,!0)),s===0||s===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return $g(t,(i.DP-=4)+t.e+1,i.RM)};mr.times=mr.mul=function(t){var e,n=this,r=n.constructor,i=n.c,s=(t=new r(t)).c,o=i.length,a=s.length,c=n.e,u=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+u,o<a&&(e=i,i=s,s=e,u=o,o=a,a=u),e=new Array(u=o+a);u--;)e[u]=0;for(c=a;c--;){for(a=0,u=o+c;u>c;)a=e[u]+s[c]*i[u-c-1]+a,e[u--]=a%10,a=a/10|0;e[u]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};mr.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==gu){if(t!==~~t||t<0||t>ng)throw Error(G5);for(n=$g(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return Dg(n,!0,!!r)};mr.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==gu){if(t!==~~t||t<0||t>ng)throw Error(G5);for(n=$g(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return Dg(n,!1,!!r)};mr[Symbol.for("nodejs.util.inspect.custom")]=mr.toJSON=mr.toString=function(){var t=this,e=t.constructor;return Dg(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};mr.toNumber=function(){var t=+Dg(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(DC+"Imprecise conversion");return t};mr.toPrecision=function(t,e){var n=this,r=n.constructor,i=n.c[0];if(t!==gu){if(t!==~~t||t<1||t>ng)throw Error(Og+"precision");for(n=$g(new r(n),t,e);n.c.length<t;)n.c.push(0)}return Dg(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)};mr.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(DC+"valueOf disallowed");return Dg(t,t.e<=e.NE||t.e>=e.PE,!0)};var Rf=Cz();const xz={bigNumber(t){return t?new Rf(t):new Rf(0)},multiply(t,e){if(t===void 0||e===void 0)return new Rf(0);const n=new Rf(t),r=new Rf(e);return n.times(r)},toFixed(t,e=2){return t===void 0||t===""?new Rf(0).toFixed(e):new Rf(t).toFixed(e)},formatNumberToLocalString(t,e=2){return t===void 0||t===""?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"})},parseLocalStringToNumber(t){if(t===void 0||t==="")return 0;const e=t.replace(/,/gu,"");return new Rf(e).toNumber()}},hte=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],pte=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],mte=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],gte={getERC20Abi:t=>oe.USDT_CONTRACT_ADDRESSES.includes(t)?mte:hte,getSwapAbi:()=>pte},yte={URLS:{FAQ:"https://walletconnect.com/faq"}},Zs={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,i]=e;if(!n||!r||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},Wt={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function KT(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Mt={setItem(t,e){cy()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(cy())return localStorage.getItem(t)||void 0},removeItem(t){cy()&&localStorage.removeItem(t)},clear(){cy()&&localStorage.clear()}};function cy(){return typeof window<"u"&&typeof localStorage<"u"}function _d(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var cD={};const YT=(typeof process<"u"&&typeof cD<"u"?cD.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",Ez=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],wte="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",rn={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:YT,SECURE_SITE_DASHBOARD:`${YT}/dashboard`,SECURE_SITE_FAVICON:`${YT}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:[oe.CHAIN.EVM,oe.CHAIN.SOLANA],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[oe.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[oe.CHAIN.EVM,oe.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[oe.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[oe.CHAIN.EVM,oe.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},Ne={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=Ne.getActiveNamespace(),e=Ne.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{Mt.setItem(Wt.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Mt.getItem(Wt.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Mt.removeItem(Wt.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Mt.setItem(Wt.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Mt.setItem(Wt.ACTIVE_CAIP_NETWORK_ID,t),Ne.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Mt.getItem(Wt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Mt.removeItem(Wt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=KT(t);Mt.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=Ne.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Mt.setItem(Wt.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Mt.getItem(Wt.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=KT(t);Mt.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Mt.getItem(Wt.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=KT(t);return Mt.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{Mt.setItem(Wt.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Mt.getItem(Wt.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Mt.removeItem(Wt.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Mt.getItem(Wt.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=Mt.getItem(Wt.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{Mt.setItem(Wt.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Mt.getItem(Wt.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Mt.getItem(Wt.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Mt.setItem(Wt.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=Ne.getConnectedNamespaces();e.includes(t)||(e.push(t),Ne.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=Ne.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),Ne.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Mt.getItem(Wt.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Mt.setItem(Wt.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Mt.removeItem(Wt.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Mt.getItem(Wt.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=Ne.getBalanceCache();Mt.setItem(Wt.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=Ne.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;Ne.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=Ne.getBalanceCache();e[t.caipAddress]=t,Mt.setItem(Wt.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Mt.getItem(Wt.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=Ne.getBalanceCache();Mt.setItem(Wt.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=Ne.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),Ne.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=Ne.getNativeBalanceCache();e[t.caipAddress]=t,Mt.setItem(Wt.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Mt.getItem(Wt.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=Ne.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;Ne.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=Ne.getEnsCache();e[t.address]=t,Mt.setItem(Wt.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=Ne.getEnsCache();Mt.setItem(Wt.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Mt.getItem(Wt.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=Ne.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;Ne.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=Ne.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Mt.setItem(Wt.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=Ne.getIdentityCache();Mt.setItem(Wt.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Mt.removeItem(Wt.PORTFOLIO_CACHE),Mt.removeItem(Wt.NATIVE_BALANCE_CACHE),Mt.removeItem(Wt.ENS_CACHE),Mt.removeItem(Wt.IDENTITY_CACHE),Mt.removeItem(Wt.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Mt.setItem(Wt.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Mt.getItem(Wt.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=Ne.getConnections(),r=n[e]??[],i=new Map;for(const o of r)i.set(o.connectorId,{...o});for(const o of t){const a=i.get(o.connectorId),c=o.connectorId===oe.CONNECTOR_ID.AUTH;if(a&&!c){const u=new Set(a.accounts.map(h=>h.address.toLowerCase())),f=o.accounts.filter(h=>!u.has(h.address.toLowerCase()));a.accounts.push(...f)}else i.set(o.connectorId,{...o})}const s={...n,[e]:Array.from(i.values())};Mt.setItem(Wt.CONNECTIONS,JSON.stringify(s))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=Mt.getItem(Wt.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=Ne.getConnections(),i=r[n]??[],s=new Map(i.map(a=>[a.connectorId,a])),o=s.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?s.delete(t):s.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),Mt.setItem(Wt.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(s.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=Mt.getItem(Wt.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=Ne.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),Mt.setItem(Wt.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=Ne.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(i=>i.toLowerCase()!==t.toLowerCase()),Mt.setItem(Wt.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(Ne.getDisconnectedConnectorIds()[e]??[]).some(i=>i.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=Mt.getItem(Wt.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){var n;try{const i=(n=Ne.getTransactionsCache()[t])==null?void 0:n[e];if(i&&!this.isCacheExpired(i.timestamp,this.cacheExpiry.transactionsHistory))return i.transactions;Ne.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:n,transactions:r}){try{const i=Ne.getTransactionsCache();i[t]={...i[t],[e]:{timestamp:n,transactions:r}},Mt.setItem(Wt.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(i))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:n,transactions:r})}},removeTransactionsCache({address:t,chainId:e}){try{const n=Ne.getTransactionsCache(),r=(n==null?void 0:n[t])||{},{[e]:i,...s}=r;Mt.setItem(Wt.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[t]:s}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=Mt.getItem(Wt.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const n=Ne.getTokenPriceCache()[t.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;Ne.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=Ne.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},Mt.setItem(Wt.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=Ne.getTokenPriceCache();Mt.setItem(Wt.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}}},be={isMobile(){var t;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((t=window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return be.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=rn.TEN_SEC_MS:!0},isAllowedRetry(t,e=rn.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(be.isClient()&&window.self!==window.top)try{const n=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],r="https://app.safe.global";if(n){const i=new URL(n),s=new URL(r);return i.hostname===s.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+rn.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function i(){t(...r)}n&&clearTimeout(n),n=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(be.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,i=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),i&&!(i!=null&&i.endsWith("/"))&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${r}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:r}},formatUniversalUrl(t,e){if(!be.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?Ne.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r;if(typeof window>"u")return!1;const t=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(n=window.matchMedia("(display-mode: standalone)"))==null?void 0:n.matches:!1,e=(r=window==null?void 0:window.navigator)==null?void 0:r.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const i=new Image;i.onload=n,i.onerror=r,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,be.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const i=Math.floor(r*1e3)/1e3;i&&(n=i.toString())}}return`${n}${e?` ${e}`:""}`},getApiUrl(){return oe.W3M_API_URL},getBlockchainApiUrl(){return oe.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return oe.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,i)=>{n[r]=i}),e.sort((r,i)=>{const s=n[r.id],o=n[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const i=r[e];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(t,e,n){const i=t.length===0?rn.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${n}`},createAccount(t,e,n,r,i){return{namespace:t,address:e,type:n,publicKey:r,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in oe.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),n,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",r),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,r+s),c=t.substring(r+s,o),u=t.substring(i),f=c+n;return a+f+u}};async function wv(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class LC{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...i}){const s=this.createUrl(i);return(await wv(s,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const i=this.createUrl(r);return(await wv(i,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await wv(s,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await wv(s,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await wv(s,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([i,s])=>{s&&r.searchParams.append(i,s)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const bte={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?rn.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(be.isTelegram()){if(be.isIos())return t.filter(e=>e!=="google");if(be.isMac())return t.filter(e=>e!=="x");if(be.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},$t=gr({features:rn.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:rn.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),ce={state:$t,subscribeKey(t,e){return Oi($t,t,e)},setOptions(t){Object.assign($t,t)},setRemoteFeatures(t){var n,r;if(!t)return;const e={...$t.remoteFeatures,...t};$t.remoteFeatures=e,(n=$t.remoteFeatures)!=null&&n.socials&&($t.remoteFeatures.socials=bte.filterSocialsByPlatform($t.remoteFeatures.socials)),(r=$t.features)!=null&&r.pay&&($t.remoteFeatures.email=!1,$t.remoteFeatures.socials=!1)},setFeatures(t){var n;if(!t)return;$t.features||($t.features=rn.DEFAULT_FEATURES);const e={...$t.features,...t};$t.features=e,(n=$t.features)!=null&&n.pay&&$t.remoteFeatures&&($t.remoteFeatures.email=!1,$t.remoteFeatures.socials=!1)},setProjectId(t){$t.projectId=t},setCustomRpcUrls(t){$t.customRpcUrls=t},setAllWallets(t){$t.allWallets=t},setIncludeWalletIds(t){$t.includeWalletIds=t},setExcludeWalletIds(t){$t.excludeWalletIds=t},setFeaturedWalletIds(t){$t.featuredWalletIds=t},setTokens(t){$t.tokens=t},setTermsConditionsUrl(t){$t.termsConditionsUrl=t},setPrivacyPolicyUrl(t){$t.privacyPolicyUrl=t},setCustomWallets(t){$t.customWallets=t},setIsSiweEnabled(t){$t.isSiweEnabled=t},setIsUniversalProvider(t){$t.isUniversalProvider=t},setSdkVersion(t){$t.sdkVersion=t},setMetadata(t){$t.metadata=t},setDisableAppend(t){$t.disableAppend=t},setEIP6963Enabled(t){$t.enableEIP6963=t},setDebug(t){$t.debug=t},setEnableWalletConnect(t){$t.enableWalletConnect=t},setEnableWalletGuide(t){$t.enableWalletGuide=t},setEnableAuthLogger(t){$t.enableAuthLogger=t},setEnableWallets(t){$t.enableWallets=t},setPreferUniversalLinks(t){$t.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,n]of Object.entries(rn.SIWX_DEFAULTS))t[e]??(t[e]=n);$t.siwx=t},setConnectMethodsOrder(t){$t.features={...$t.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){$t.features={...$t.features,walletFeaturesOrder:t}},setSocialsOrder(t){$t.remoteFeatures={...$t.remoteFeatures,socials:t}},setCollapseWallets(t){$t.features={...$t.features,collapseWallets:t}},setEnableEmbedded(t){$t.enableEmbedded=t},setAllowUnsupportedChain(t){$t.allowUnsupportedChain=t},setManualWCControl(t){$t.manualWCControl=t},setEnableNetworkSwitch(t){$t.enableNetworkSwitch=t},setEnableReconnect(t){$t.enableReconnect=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&($t.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){$t.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return $t.universalProviderConfigOverride},getSnapshot(){return eg($t)}},vte=Object.freeze({enabled:!0,events:[]}),Cte=new LC({baseUrl:be.getAnalyticsUrl(),clientId:null}),xte=5,Ete=60*1e3,Of=gr({...vte}),Ate={state:Of,subscribeKey(t,e){return Oi(Of,t,e)},async sendError(t,e){if(!Of.enabled)return;const n=Date.now();if(Of.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return n-o<Ete}).length>=xte)return;const i={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};Of.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=ce.state;await Cte.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:be.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){Of.enabled=!0},disable(){Of.enabled=!1},clearEvents(){Of.events=[]}};class Pw extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,Pw.prototype);let i=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const s=r.stack,o=s.indexOf(`
`);if(o>-1){const a=s.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,Pw):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function lD(t,e){let n="";try{t instanceof Error?n=t.message:typeof t=="string"?n=t:typeof t=="object"&&t!==null?n=JSON.stringify(t):n=String(t)}catch(i){n="Unknown error",console.error("Error parsing error message",i)}const r=t instanceof Pw?t:new Pw(n,e,t);throw Ate.sendError(r,r.category),r}function Yo(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const i=t[r];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return lD(a,e)}}:s=(...o)=>{try{return i(...o)}catch(a){return lD(a,e)}},n[r]=s}else n[r]=i}),n}var kw={};const Ste="https://secure.walletconnect.org/sdk",_te=(typeof process<"u"&&typeof kw<"u"?kw.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||Ste,Tte=(typeof process<"u"&&typeof kw<"u"?kw.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",Ite=(typeof process<"u"&&typeof kw<"u"?kw.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Et={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},tr={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Ys={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},Nte={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===Ys.PHANTOM.id&&!("phantom"in window)){const i=n.startsWith("https")?"https":"http",s=n.split("/")[2],o=encodeURIComponent(`${i}://${s}`);window.location.href=`${Ys.PHANTOM.url}/ul/browse/${r}?ref=${o}`}if(t===Ys.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${Ys.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===oe.CHAIN.SOLANA&&t===Ys.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${Ys.COINBASE.url}/dapp?cb_url=${r}`),e===oe.CHAIN.BITCOIN&&t===Ys.BINANCE.id&&!("binancew3w"in window)){const i=F.state.activeCaipNetwork,s=window.btoa("/pages/browser/index"),o=window.btoa(`url=${r}&defaultChainId=${(i==null?void 0:i.id)??1}`),a=new URL(Ys.BINANCE.deeplink);a.searchParams.set("appId",Ys.BINANCE.appId),a.searchParams.set("startPagePath",s),a.searchParams.set("startPageQuery",o);const c=new URL(Ys.BINANCE.url);c.searchParams.set("_dp",window.btoa(a.toString())),window.location.href=c.toString()}}},ia=gr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Pte={state:ia,subscribeNetworkImages(t){return xi(ia.networkImages,()=>t(ia.networkImages))},subscribeKey(t,e){return Oi(ia,t,e)},subscribe(t){return xi(ia,()=>t(ia))},setWalletImage(t,e){ia.walletImages[t]=e},setNetworkImage(t,e){ia.networkImages[t]=e},setChainImage(t,e){ia.chainImages[t]=e},setConnectorImage(t,e){ia.connectorImages={...ia.connectorImages,[t]:e}},setTokenImage(t,e){ia.tokenImages[t]=e},setCurrencyImage(t,e){ia.currencyImages[t]=e}},qi=Yo(Pte),kte={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},QT=gr({networkImagePromises:{}}),$n={async fetchWalletImage(t){if(t)return await nt._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(QT.networkImagePromises[t]||(QT.networkImagePromises[t]=nt._fetchNetworkImage(t)),await QT.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return qi.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return qi.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return qi.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return qi.state.networkImages[t]},getConnectorImage(t){var e;if(t!=null&&t.imageUrl)return t.imageUrl;if((e=t==null?void 0:t.info)!=null&&e.icon)return t.info.icon;if(t!=null&&t.imageId)return qi.state.connectorImages[t.imageId]},getChainImage(t){return qi.state.networkImages[kte[t]]}},$f=gr({message:"",variant:"info",open:!1}),Rte={state:$f,subscribeKey(t,e){return Oi($f,t,e)},open(t,e){const{debug:n}=ce.state,{code:r,displayMessage:i,debugMessage:s}=t;i&&n&&($f.message=i,$f.variant=e,$f.open=!0),s&&console.error(typeof s=="function"?s():s,r?{code:r}:void 0)},close(){$f.open=!1,$f.message="",$f.variant="info"}},Or=Yo(Rte),Ote=be.getAnalyticsUrl(),$te=new LC({baseUrl:Ote,clientId:null}),Dte=["MODAL_CREATED"],Wu=gr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),At={state:Wu,subscribe(t){return xi(Wu,()=>t(Wu))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=ce.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){var e;try{let n=Le.state.address;if("address"in t.data&&t.data.address&&(n=t.data.address),Dte.includes(t.data.event)||typeof window>"u")return;const r=(e=F.getActiveCaipNetwork())==null?void 0:e.caipNetworkId;await $te.post({path:"/e",params:At.getSdkProperties(),body:{eventId:be.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:n,properties:{..."properties"in t.data?t.data.properties:{},caipNetworkId:r}}}}),Wu.reportedErrors.FORBIDDEN=!1}catch(n){n instanceof Error&&n.cause instanceof Response&&n.cause.status===oe.HTTP_STATUS_CODES.FORBIDDEN&&!Wu.reportedErrors.FORBIDDEN&&(Or.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${cy()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Wu.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var n;Wu.timestamp=Date.now(),Wu.data=t;const e=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];((n=ce.state.features)!=null&&n.analytics||e.includes(t.event))&&At._sendAnalyticsEvent(Wu)}},Lte=be.getApiUrl(),Co=new LC({baseUrl:Lte,clientId:null}),Mte=40,uD=4,Bte=20,gn=gr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),nt={state:gn,subscribeKey(t,e){return Oi(gn,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=ce.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return ce.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Co.baseUrl}/getWalletImage/${t}`,n=await Co.getBlob({path:e,params:nt._getSdkProperties()});qi.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${Co.baseUrl}/public/getAssetImage/${t}`,n=await Co.getBlob({path:e,params:nt._getSdkProperties()});qi.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${Co.baseUrl}/public/getAssetImage/${t}`,n=await Co.getBlob({path:e,params:nt._getSdkProperties()});qi.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${Co.baseUrl}/public/getCurrencyImage/${t}`,n=await Co.getBlob({path:e,params:nt._getSdkProperties()});qi.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${Co.baseUrl}/public/getTokenImage/${t}`,n=await Co.getBlob({path:e,params:nt._getSdkProperties()});qi.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return be.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===Ys.COINBASE.id||n.id===Ys.BINANCE.id?!0:F.state.activeChain==="solana"&&(n.id===Ys.SOLFLARE.id||n.id===Ys.PHANTOM.id)):t},async fetchProjectConfig(){return(await Co.get({path:"/appkit/v1/config",params:nt._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await Co.get({path:"/projects/v1/origins",params:nt._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===oe.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=oe.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const t=F.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!$n.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>nt._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=pe.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>nt._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>nt._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>nt._fetchTokenImage(e)))},async fetchWallets(t){var s;const e=t.exclude??[];nt._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(Ys).map(o=>o.id));const r=await Co.get({path:"/getWallets",params:{...nt._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(s=t.include)==null?void 0:s.join(","),exclude:e.join(",")}});return{data:nt._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=ce.state;if(t!=null&&t.length){const e={...nt._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??uD,include:t},{data:n}=await nt.fetchWallets(e),r=[...n].sort((s,o)=>t.indexOf(s.id)-t.indexOf(o.id)),i=r.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(i.map(s=>nt._fetchWalletImage(s))),gn.featured=r,gn.allFeatured=r}},async fetchRecommendedWallets(){try{gn.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=ce.state,r=[...e??[],...n??[]].filter(Boolean),i=F.getRequestedCaipNetworkIds().join(","),s={page:1,entries:uD,include:t,exclude:r,chains:i},{data:o,count:a}=await nt.fetchWallets(s),c=Ne.getRecentWallets(),u=o.map(h=>h.image_id).filter(Boolean),f=c.map(h=>h.image_id).filter(Boolean);await Promise.allSettled([...u,...f].map(h=>nt._fetchWalletImage(h))),gn.recommended=o,gn.allRecommended=o,gn.count=a??0}catch{}finally{gn.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=ce.state,i=F.getRequestedCaipNetworkIds().join(","),s=[...gn.recommended.map(({id:f})=>f),...n??[],...r??[]].filter(Boolean),o={page:t,entries:Mte,include:e,exclude:s,chains:i},{data:a,count:c}=await nt.fetchWallets(o),u=a.slice(0,Bte).map(f=>f.image_id).filter(Boolean);await Promise.allSettled(u.map(f=>nt._fetchWalletImage(f))),gn.wallets=be.uniqueBy([...gn.wallets,...nt._filterOutExtensions(a)],"id").filter(f=>{var h;return(h=f.chains)==null?void 0:h.some(p=>i.includes(p))}),gn.count=c>gn.count?c:gn.count,gn.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await nt.fetchWallets(e);n&&n.forEach(r=>{gn.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=ce.state,i=F.getRequestedCaipNetworkIds().join(",");gn.search=[];const s={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:i},{data:o}=await nt.fetchWallets(s);At.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>nt._fetchWalletImage(c)),be.wait(300)]),gn.search=nt._filterOutExtensions(o)},initPromise(t,e){const n=gn.promises[t];return n||(gn.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const i=[t&&nt.initPromise("connectorImages",nt.fetchConnectorImages),e&&nt.initPromise("featuredWallets",nt.fetchFeaturedWallets),n&&nt.initPromise("recommendedWallets",nt.fetchRecommendedWallets),r&&nt.initPromise("networkImages",nt.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var t;(t=ce.state.features)!=null&&t.analytics&&nt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Co.get({path:"/getAnalyticsConfig",params:nt._getSdkProperties()});ce.setFeatures({analytics:t})}catch{ce.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){gn.featured=gn.allFeatured,gn.recommended=gn.allRecommended;return}const e=F.getRequestedCaipNetworkIds().join(",");gn.featured=gn.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),gn.recommended=gn.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),gn.filteredWallets=gn.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))})},clearFilterByNamespaces(){gn.filteredWallets=[]},setFilterByNamespace(t){if(!t){gn.featured=gn.allFeatured,gn.recommended=gn.allRecommended;return}const e=F.getRequestedCaipNetworkIds().join(",");gn.featured=gn.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),gn.recommended=gn.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),gn.filteredWallets=gn.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))})}},yr=gr({view:"Connect",history:["Connect"],transactionStack:[]}),Ute={state:yr,subscribeKey(t,e){return Oi(yr,t,e)},pushTransactionStack(t){yr.transactionStack.push(t)},popTransactionStack(t){const e=yr.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:i}=e;switch(t){case"success":n==null||n();break;case"error":r==null||r(),Ee.goBack();break;case"cancel":i==null||i(),Ee.goBack();break}},push(t,e){t!==yr.view&&(yr.view=t,yr.history.push(t),yr.data=e)},reset(t,e){yr.view=t,yr.history=[t],yr.data=e},replace(t,e){yr.history.at(-1)===t||(yr.view=t,yr.history[yr.history.length-1]=t,yr.data=e)},goBack(){var r;const t=F.state.activeCaipAddress,e=Ee.state.view==="ConnectingFarcaster",n=!t&&e;if(yr.history.length>1){yr.history.pop();const[i]=yr.history.slice(-1);i&&(t&&i==="Connect"?yr.view="Account":yr.view=i)}else Kt.close();(r=yr.data)!=null&&r.wallet&&(yr.data.wallet=void 0),setTimeout(()=>{var i,s,o;if(n){Le.setFarcasterUrl(void 0,F.state.activeChain);const a=pe.getAuthConnector();(i=a==null?void 0:a.provider)==null||i.reload();const c=eg(ce.state);(o=(s=a==null?void 0:a.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(yr.history.length>1){yr.history=yr.history.slice(0,t+1);const[e]=yr.history.slice(-1);e&&(yr.view=e)}},goBackOrCloseModal(){Ee.state.history.length>1?Ee.goBack():Kt.close()}},Ee=Yo(Ute),Hu=gr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),NN={state:Hu,subscribe(t){return xi(Hu,()=>t(Hu))},setThemeMode(t){Hu.themeMode=t;try{const e=pe.getAuthConnector();if(e){const n=NN.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:_d(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Hu.themeVariables={...Hu.themeVariables,...t};try{const e=pe.getAuthConnector();if(e){const n=NN.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:_d(Hu.themeVariables,Hu.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return eg(Hu)}},cs=Yo(NN),Az=Object.fromEntries(bz.map(t=>[t,void 0])),Fte=Object.fromEntries(bz.map(t=>[t,!0])),Hn=gr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:Az,filterByNamespaceMap:Fte}),jte={state:Hn,subscribe(t){return xi(Hn,()=>{t(Hn)})},subscribeKey(t,e){return Oi(Hn,t,e)},initialize(t){t.forEach(e=>{const n=Ne.getConnectedConnectorId(e);n&&pe.setConnectorId(n,e)})},setActiveConnector(t){t&&(Hn.activeConnector=tg(t))},setConnectors(t){t.filter(i=>!Hn.allConnectors.some(s=>s.id===i.id&&pe.getConnectorName(s.name)===pe.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&Hn.allConnectors.push(tg(i))});const n=pe.getEnabledNamespaces(),r=pe.getEnabledConnectors(n);Hn.connectors=pe.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(Hn.filterByNamespaceMap).forEach(e=>{Hn.filterByNamespaceMap[e]=!1}),t.forEach(e=>{Hn.filterByNamespaceMap[e]=!0}),pe.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){Hn.filterByNamespaceMap[t]=e,pe.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=pe.getEnabledNamespaces(),e=pe.getEnabledConnectors(t),n=pe.areAllNamespacesEnabled();Hn.connectors=pe.mergeMultiChainConnectors(e),n?nt.clearFilterByNamespaces():nt.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(Hn.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return Hn.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(Hn.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=pe.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const i=r[0],s=(i==null?void 0:i.id)===oe.CONNECTOR_ID.AUTH;r.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...r],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(i==null?void 0:i.id)||""}):i&&n.push(i)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,i=pe.getConnectorName(r);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===n.chain)||s.push(n),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===oe.CONNECTOR_ID.AUTH){const i=t,s=eg(ce.state),o=cs.getSnapshot().themeMode,a=cs.getSnapshot().themeVariables;(n=(e=i==null?void 0:i.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType}),(r=i==null?void 0:i.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:_d(a,o)}),pe.setConnectors([t])}else pe.setConnectors([t])},getAuthConnector(t){var r;const e=t||F.state.activeChain,n=Hn.connectors.find(i=>i.id===oe.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(s=>s.chain===e):n},getAnnouncedConnectorRdns(){return Hn.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return Hn.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:n}){const r=n||F.state.activeChain;return Hn.allConnectors.filter(s=>s.chain===r).find(s=>{var o;return s.explorerId===t||((o=s.info)==null?void 0:o.rdns)===e})},syncIfAuthConnector(t){var s,o;if(t.id!=="ID_AUTH")return;const e=t,n=eg(ce.state),r=cs.getSnapshot().themeMode,i=cs.getSnapshot().themeVariables;(o=(s=e==null?void 0:e.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:_d(i,r)})},getConnectorsByNamespace(t){const e=Hn.allConnectors.filter(n=>n.chain===t);return pe.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return F.checkIfSmartAccountEnabled()&&ii(t)===tr.ACCOUNT_TYPES.EOA},selectWalletConnector(t){const e=pe.getConnector({id:t.id,rdns:t.rdns});Nte.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||t.id,F.state.activeChain),e?Ee.push("ConnectingExternal",{connector:e,wallet:t}):Ee.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?pe.getConnectorsByNamespace(t):pe.mergeMultiChainConnectors(Hn.allConnectors)},setFilterByNamespace(t){Hn.filterByNamespace=t,Hn.connectors=pe.getConnectors(t),nt.setFilterByNamespace(t)},setConnectorId(t,e){t&&(Hn.activeConnectorIds={...Hn.activeConnectorIds,[e]:t},Ne.setConnectedConnectorId(e,t))},removeConnectorId(t){Hn.activeConnectorIds={...Hn.activeConnectorIds,[t]:void 0},Ne.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return Hn.activeConnectorIds[t]},isConnected(t){return t?!!Hn.activeConnectorIds[t]:Object.values(Hn.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){Hn.activeConnectorIds={...Az}}},pe=Yo(jte),zte=1e3,bv={checkNamespaceConnectorId(t,e){return pe.getConnectorId(t)===e},isSocialProvider(t){return rn.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:i,onConnect:s}){return new Promise((o,a)=>{if(t&&pe.setActiveConnector(e),i==null||i(be.isMobile()&&t),r){const u=Kt.subscribeKey("open",f=>{f||(Ee.state.view!==r&&Ee.replace(r),u(),a(new Error("Modal closed")))})}const c=F.subscribeKey("activeCaipAddress",u=>{u&&(s==null||s(),n&&Kt.close(),c(),o(Zs.parseCaipAddress(u)))})})},connectExternal(t){return new Promise((e,n)=>{const r=F.subscribeKey("activeCaipAddress",i=>{i&&(Kt.close(),r(),e(Zs.parseCaipAddress(i)))});Ce.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:i}){let s=Le.state.socialWindow,o=Le.state.socialProvider,a=!1,c=null;const u=e||F.state.activeChain,f=F.subscribeKey("activeCaipAddress",h=>{h&&(n&&Kt.close(),f())});return new Promise((h,p)=>{async function g(y){var b;if((b=y.data)!=null&&b.resultUri)if(y.origin===oe.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",g,!1);try{const C=pe.getAuthConnector(u);if(C&&!a){s&&(s.close(),Le.setSocialWindow(void 0,u),s=Le.state.socialWindow),a=!0;const x=y.data.resultUri;if(o&&At.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:o}}),o){Ne.setConnectedSocialProvider(o),await Ce.connectExternal({id:C.id,type:C.type,socialUri:x},C.chain);const E=F.state.activeCaipAddress;if(!E){p(new Error("Failed to connect"));return}h(Zs.parseCaipAddress(E)),At.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:o}})}}}catch{o&&At.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}}),p(new Error("Failed to connect"))}}else o&&At.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}})}async function w(){if(t&&(Le.setSocialProvider(t,u),o=Le.state.socialProvider,At.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:o}})),o==="farcaster"){r==null||r();const y=Kt.subscribeKey("open",C=>{!C&&t==="farcaster"&&(p(new Error("Popup closed")),i==null||i(),y())}),b=pe.getAuthConnector();if(b&&!Le.state.farcasterUrl)try{const{url:C}=await b.provider.getFarcasterUri();Le.setFarcasterUrl(C,u)}catch{p(new Error("Failed to connect to farcaster"))}}else{const y=pe.getAuthConnector();c=be.returnOpenHref(`${oe.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(y&&o){const{uri:b}=await y.provider.getSocialRedirectUri({provider:o});if(c&&b){Le.setSocialWindow(c,u),s=Le.state.socialWindow,c.location.href=b;const C=setInterval(()=>{s!=null&&s.closed&&!a&&(p(new Error("Popup closed")),clearInterval(C))},1e3);window.addEventListener("message",g,!1)}else c==null||c.close(),p(new Error("Failed to initiate social connection"))}}catch{p(new Error("Failed to initiate social connection")),c==null||c.close()}}}w()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((i,s)=>{if(n==null||n(),e){const a=Kt.subscribeKey("open",c=>{c||(Ee.state.view!==e&&Ee.replace(e),a(),s(new Error("Modal closed")))})}const o=F.subscribeKey("activeCaipAddress",a=>{a&&(r==null||r(),t&&Kt.close(),o(),i(Zs.parseCaipAddress(a)))})})},async updateEmail(){const t=Ne.getConnectedConnectorId(F.state.activeChain),e=pe.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==oe.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return await Kt.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,i)=>{const s=setInterval(()=>{const a=e.provider.getEmail()??"";a!==n&&(Kt.close(),clearInterval(s),o(),r({email:a}))},zte),o=Kt.subscribeKey("open",a=>{a||(Ee.state.view!=="Connect"&&Ee.push("Connect"),clearInterval(s),o(),i(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return F.checkIfSmartAccountEnabled()&&ii(t)===tr.ACCOUNT_TYPES.EOA}};function Sz(){var r,i;const t=((r=F.state.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((i=F.state.activeCaipNetwork)==null?void 0:i.id)||1,n=rn.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}function ii(t){var n;return(n=F.getAccountData(t))==null?void 0:n.preferredAccountType}function Td(t){var e,n;return t?(n=(e=F.state.chains.get(t))==null?void 0:e.networkState)==null?void 0:n.caipNetwork:F.state.activeCaipNetwork}const cc={getConnectionStatus(t,e){const n=pe.state.activeConnectorIds[e],r=Ce.getConnections(e);return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const s=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:s}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){var a;const e=!!((a=ce.state.remoteFeatures)!=null&&a.multiWallet),n=pe.state.activeConnectorIds[t],r=Ce.getConnections(t),s=(Ce.state.recentConnections.get(t)??[]).filter(c=>pe.getConnectorById(c.connectorId)),o=cc.excludeExistingConnections([...r.map(c=>c.connectorId),...n?[n]:[]],s);return e?{connections:r,recentConnections:o}:{connections:r.filter(c=>c.connectorId.toLowerCase()===(n==null?void 0:n.toLowerCase())),recentConnections:[]}}},qp=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Ti=gr({...qp}),Wte={state:Ti,subscribeKey(t,e){return Oi(Ti,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=be.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){Ti.message=qp.message,Ti.variant=qp.variant,Ti.svg=qp.svg,Ti.open=qp.open,Ti.autoClose=qp.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=qp.autoClose}){Ti.open?(Ti.open=!1,setTimeout(()=>{Ti.message=t,Ti.variant=n,Ti.svg=e,Ti.open=!0,Ti.autoClose=r},150)):(Ti.message=t,Ti.variant=n,Ti.svg=e,Ti.open=!0,Ti.autoClose=r)}},Tn=Wte,Hr=gr({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Hte={state:Hr,subscribe(t){return xi(Hr,()=>t(Hr))},setLastNetworkInView(t){Hr.lastNetworkInView=t},async fetchTransactions(t){var e;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Hr.loading=!0;try{const n=await Qt.fetchTransactions({account:t,cursor:Hr.next,chainId:(e=F.state.activeCaipNetwork)==null?void 0:e.caipNetworkId}),r=Ks.filterSpamTransactions(n.data),i=Ks.filterByConnectedChain(r),s=[...Hr.transactions,...i];Hr.loading=!1,Hr.transactions=s,Hr.transactionsByYear=Ks.groupTransactionsByYearAndMonth(Hr.transactionsByYear,i),Hr.empty=s.length===0,Hr.next=n.next?n.next:void 0}catch{const r=F.state.activeChain;At.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:ce.state.projectId,cursor:Hr.next,isSmartAccount:ii(r)===tr.ACCOUNT_TYPES.SMART_ACCOUNT}}),Tn.showError("Failed to fetch transactions"),Hr.loading=!1,Hr.empty=!0,Hr.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const i=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),o=n[i]??{},c=(o[s]??[]).filter(u=>u.id!==r.id);n[i]={...o,[s]:[...c,r].sort((u,f)=>new Date(f.metadata.minedAt).getTime()-new Date(u.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var i;return((i=r.nft_info)==null?void 0:i.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=F.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(i=>i.metadata.chain===e)},clearCursor(){Hr.next=void 0},resetTransactions(){Hr.transactions=[],Hr.transactionsByYear={},Hr.lastNetworkInView=void 0,Hr.loading=!1,Hr.empty=!1,Hr.next=void 0}},Ks=Yo(Hte,"API_ERROR"),Dn=gr({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Bp;const Vte={state:Dn,subscribe(t){return xi(Dn,()=>t(Dn))},subscribeKey(t,e){return Oi(Dn,t,e)},_getClient(){return Dn._client},setClient(t){Dn._client=tg(t)},initialize(t){const e=t.filter(n=>!!n.namespace).map(n=>n.namespace);Ce.syncStorageConnections(e)},syncStorageConnections(t){const e=Ne.getConnections(),n=t??Array.from(F.state.chains.keys());for(const r of n){const i=e[r]??[],s=new Map(Dn.recentConnections);s.set(r,i),Dn.recentConnections=s}},getConnections(t){return t?Dn.connections.get(t)??[]:[]},hasAnyConnection(t){const e=Ce.state.connections;return Array.from(e.values()).flatMap(n=>n).some(({connectorId:n})=>n===t)},async connectWalletConnect({cache:t="auto"}={}){var n,r,i,s;const e=be.isTelegram()||be.isSafari()&&be.isIos();if(t==="always"||t==="auto"&&e){if(Bp){await Bp,Bp=void 0;return}if(!be.isPairingExpired(Dn==null?void 0:Dn.wcPairingExpiry)){const o=Dn.wcUri;Dn.wcUri=o;return}Bp=(r=(n=Ce._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n).catch(()=>{}),Ce.state.status="connecting",await Bp,Bp=void 0,Dn.wcPairingExpiry=void 0,Ce.state.status="connected"}else await((s=(i=Ce._getClient())==null?void 0:i.connectWalletConnect)==null?void 0:s.call(i))},async connectExternal(t,e,n=!0){var i,s;const r=await((s=(i=Ce._getClient())==null?void 0:i.connectExternal)==null?void 0:s.call(i,t));return n&&F.setActiveNamespace(e),r},async reconnectExternal(t){var n,r;await((r=(n=Ce._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||F.state.activeChain;e&&pe.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;if(!e)return;Kt.setLoading(!0,F.state.activeChain);const n=pe.getAuthConnector();n&&(Le.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),Ne.setPreferredAccountTypes(Object.entries(F.state.chains).reduce((i,[s,o])=>{const a=s,c=ii(a);return c!==void 0&&(i[a]=c),i},{})),await Ce.reconnectExternal(n),Kt.setLoading(!1,F.state.activeChain),At.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=F.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=Ce._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=Ce._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=Ce._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=Ce._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=Ce._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=Ce._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=Ce._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=Ce._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=Ce._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=Ce._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=Ce._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=Ce._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){Dn.wcUri=void 0,Dn.wcPairingExpiry=void 0,Dn.wcLinking=void 0,Dn.recentWallet=void 0,Dn.status="disconnected",Ks.resetTransactions(),Ne.deleteWalletConnectDeepLink()},resetUri(){Dn.wcUri=void 0,Dn.wcPairingExpiry=void 0,Bp=void 0},finalizeWcConnection(t){var r,i;const{wcLinking:e,recentWallet:n}=Ce.state;e&&Ne.setWalletConnectDeepLink(e),n&&Ne.setAppKitRecent(n),At.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:e?"mobile":"qrcode",name:((i=(r=Ee.state.data)==null?void 0:r.wallet)==null?void 0:i.name)||"Unknown"}})},setWcBasic(t){Dn.wcBasic=t},setUri(t){Dn.wcUri=t,Dn.wcPairingExpiry=be.getPairingExpiry()},setWcLinking(t){Dn.wcLinking=t},setWcError(t){Dn.wcError=t,Dn.buffering=!1},setRecentWallet(t){Dn.recentWallet=t},setBuffering(t){Dn.buffering=t},setStatus(t){Dn.status=t},setIsSwitchingConnection(t){Dn.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:n}={}){var r;try{await((r=Ce._getClient())==null?void 0:r.disconnect({id:t,chainNamespace:e,initialDisconnect:n}))}catch(i){throw new Pw("Failed to disconnect","INTERNAL_SDK_ERROR",i)}},setConnections(t,e){const n=new Map(Dn.connections);n.set(e,t),Dn.connections=n},async handleAuthAccountSwitch({address:t,namespace:e}){var i,s;const n=(s=(i=Le.state.user)==null?void 0:i.accounts)==null?void 0:s.find(o=>o.type==="smartAccount"),r=n&&n.address.toLowerCase()===t.toLowerCase()&&bv.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await Ce.setPreferredAccountType(r,e)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=pe.getConnectorById(t.connectorId),i=t.connectorId===oe.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);if(i)i&&n&&await Ce.handleAuthAccountSwitch({address:n,namespace:e});else{const s=await Ce.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e);return s==null?void 0:s.address}return n},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){var u,f;const i=pe.getConnectorById(t.connectorId),s=(f=(u=t.auth)==null?void 0:u.name)==null?void 0:f.toLowerCase(),o=t.connectorId===oe.CONNECTOR_ID.AUTH,a=t.connectorId===oe.CONNECTOR_ID.WALLET_CONNECT;if(!i)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(s&&bv.isSocialProvider(s)){const{address:h}=await bv.connectSocial({social:s,closeModalOnConnect:r,onOpenFarcaster(){Kt.open({view:"ConnectingFarcaster"})},onConnect(){Ee.replace("ProfileWallets")}});c=h}else{const{address:h}=await bv.connectEmail({closeModalOnConnect:r,onOpen(){Kt.open({view:"EmailLogin"})},onConnect(){Ee.replace("ProfileWallets")}});c=h}else if(a){const{address:h}=await bv.connectWalletConnect({walletConnect:!0,connector:i,closeModalOnConnect:r,onOpen(p){const g=p?"AllWallets":"ConnectingWalletConnect";Kt.state.open?Ee.push(g):Kt.open({view:g})},onConnect(){Ee.replace("ProfileWallets")}});c=h}else{const h=await Ce.connectExternal({id:i.id,type:i.type,provider:i.provider,chain:e},e);h&&(c=h.address)}return o&&n&&await Ce.handleAuthAccountSwitch({address:n,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:i}){let s;const o=Le.getCaipAddress(n);if(o){const{address:c}=Zs.parseCaipAddress(o);s=c}const a=cc.getConnectionStatus(t,n);switch(a){case"connected":case"active":{const c=await Ce.handleActiveConnection({connection:t,namespace:n,address:e});if(s&&c){const u=c.toLowerCase()!==s.toLowerCase();i==null||i({address:c,namespace:n,hasSwitchedAccount:u,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await Ce.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});c&&(i==null||i({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${a}`)}}},Ce=Yo(Vte),P0=gr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),nl={state:P0,subscribe(t){return xi(P0,()=>t(P0))},subscribeOpen(t){return Oi(P0,"open",t)},set(t){Object.assign(P0,{...P0,...t})}},qte={async getTokenList(t){var r;const e=await Qt.fetchSwapTokens({chainId:t});return((r=e==null?void 0:e.tokens)==null?void 0:r.map(i=>({...i,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=F.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const n=(e=await(Ce==null?void 0:Ce.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:n,fast:n,instant:n};case"eip155":default:return await Qt.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const i=await Qt.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(i!=null&&i.allowance&&n&&r){const s=Ce.parseUnits(n,r)||0;return BigInt(i.allowance)>=s}return!1},async getMyTokensWithBalance(t){const e=await TR.getMyTokensWithBalance(t);return Le.setTokenBalance(e,F.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:Sz(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},fr=gr({tokenBalances:[],loading:!1}),Gte={state:fr,subscribe(t){return xi(fr,()=>t(fr))},subscribeKey(t,e){return Oi(fr,t,e)},setToken(t){t&&(fr.token=tg(t))},setTokenAmount(t){fr.sendTokenAmount=t},setReceiverAddress(t){fr.receiverAddress=t},setReceiverProfileImageUrl(t){fr.receiverProfileImageUrl=t},setReceiverProfileName(t){fr.receiverProfileName=t},setNetworkBalanceInUsd(t){fr.networkBalanceInUSD=t},setLoading(t){fr.loading=t},async sendToken(){var t;try{switch(Kn.setLoading(!0),(t=F.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await Kn.sendEvmToken();return;case"solana":await Kn.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{Kn.setLoading(!1)}},async sendEvmToken(){var n,r,i;const t=F.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=ii(t);if(!Kn.state.sendTokenAmount||!Kn.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Kn.state.token)throw new Error("A token is required");(n=Kn.state.token)!=null&&n.address?(At.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===tr.ACCOUNT_TYPES.SMART_ACCOUNT,token:Kn.state.token.address,amount:Kn.state.sendTokenAmount,network:((r=F.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}),await Kn.sendERC20Token({receiverAddress:Kn.state.receiverAddress,tokenAddress:Kn.state.token.address,sendTokenAmount:Kn.state.sendTokenAmount,decimals:Kn.state.token.quantity.decimals})):(At.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===tr.ACCOUNT_TYPES.SMART_ACCOUNT,token:Kn.state.token.symbol||"",amount:Kn.state.sendTokenAmount,network:((i=F.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),await Kn.sendNativeToken({receiverAddress:Kn.state.receiverAddress,sendTokenAmount:Kn.state.sendTokenAmount,decimals:Kn.state.token.quantity.decimals}))},async fetchTokenBalance(t){var o,a;fr.loading=!0;const e=F.state.activeChain,n=(o=F.state.activeCaipNetwork)==null?void 0:o.caipNetworkId,r=(a=F.state.activeCaipNetwork)==null?void 0:a.chainNamespace,i=Le.getCaipAddress(e)??F.state.activeCaipAddress,s=i?be.getPlainAddress(i):void 0;if(fr.lastRetry&&!be.isAllowedRetry(fr.lastRetry,30*rn.ONE_SEC_MS))return fr.loading=!1,[];try{if(s&&n&&r){const c=await TR.getMyTokensWithBalance();return fr.tokenBalances=c,fr.lastRetry=void 0,c}}catch(c){fr.lastRetry=Date.now(),t==null||t(c),Tn.showError("Token Balance Unavailable")}finally{fr.loading=!1}return[]},fetchNetworkBalance(){if(fr.tokenBalances.length===0)return;const t=qte.mapBalancesToSwapTokens(fr.tokenBalances);if(!t)return;const e=t.find(n=>n.address===Sz());e&&(fr.networkBalanceInUSD=e?xz.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var s,o,a;Ee.pushTransactionStack({});const e=t.receiverAddress,n=Le.state.address,r=Ce.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await Ce.sendTransaction({chainNamespace:oe.CHAIN.EVM,to:e,address:n,data:"0x",value:r??BigInt(0)}),At.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:ii("eip155")===tr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((s=Kn.state.token)==null?void 0:s.symbol)||"",amount:t.sendTokenAmount,network:((o=F.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)||""}}),(a=Ce._getClient())==null||a.updateBalance("eip155"),Kn.resetSend()},async sendERC20Token(t){Ee.pushTransactionStack({onSuccess(){Ee.replace("Account")}});const e=Ce.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(Le.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=be.getPlainAddress(t.tokenAddress);if(!n)throw new Error("SendController:sendERC20Token - tokenAddress is required");await Ce.writeContract({fromAddress:Le.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:gte.getERC20Abi(n),chainNamespace:oe.CHAIN.EVM}),Kn.resetSend()}},async sendSolanaToken(){var t;if(!Kn.state.sendTokenAmount||!Kn.state.receiverAddress)throw new Error("An amount and receiver address are required");Ee.pushTransactionStack({onSuccess(){Ee.replace("Account")}}),await Ce.sendTransaction({chainNamespace:"solana",to:Kn.state.receiverAddress,value:Kn.state.sendTokenAmount}),(t=Ce._getClient())==null||t.updateBalance("solana"),Kn.resetSend()},resetSend(){fr.token=void 0,fr.sendTokenAmount=void 0,fr.receiverAddress=void 0,fr.receiverProfileImageUrl=void 0,fr.receiverProfileName=void 0,fr.loading=!1,fr.tokenBalances=[]}},Kn=Yo(Gte),ZT={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},kE={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},ct=gr({chains:jee(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),Kte={state:ct,subscribe(t){return xi(ct,()=>{t(ct)})},subscribeKey(t,e){return Oi(ct,t,e)},subscribeChainProp(t,e,n){let r;return xi(ct.chains,()=>{var s;const i=n||ct.activeChain;if(i){const o=(s=ct.chains.get(i))==null?void 0:s[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:i}=Ne.getActiveNetworkProps(),s=e==null?void 0:e.find(f=>f.id.toString()===(r==null?void 0:r.toString())),a=t.find(f=>(f==null?void 0:f.namespace)===i)||(t==null?void 0:t[0]),c=t.map(f=>f.namespace).filter(f=>f!==void 0),u=ce.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(f=>f.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(ct.noAdapters=!0),ct.noAdapters||(ct.activeChain=a==null?void 0:a.namespace,ct.activeCaipNetwork=s,F.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:s}),ct.activeChain&&nl.set({activeChain:a==null?void 0:a.namespace})),u.forEach(f=>{const h=e==null?void 0:e.filter(w=>w.chainNamespace===f),p=Ne.getPreferredAccountTypes()||{},g={...ce.state.defaultAccountTypes,...p};F.state.chains.set(f,{namespace:f,networkState:gr({...kE,caipNetwork:h==null?void 0:h[0]}),accountState:gr({...ZT,preferredAccountType:g[f]}),caipNetworks:h??[],...n}),F.setRequestedCaipNetworks(h??[],f)})},removeAdapter(t){var e,n;if(ct.activeChain===t){const r=Array.from(ct.chains.entries()).find(([i])=>i!==t);if(r){const i=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];i&&F.setActiveCaipNetwork(i)}}ct.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");ct.chains.set(t.namespace,{namespace:t.namespace,networkState:{...kE,caipNetwork:r[0]},accountState:ZT,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),F.setRequestedCaipNetworks((r==null?void 0:r.filter(i=>i.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=ct.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(i=>i.id===t.id)||r.push(t),ct.chains.set(t.chainNamespace,{...e,caipNetworks:r}),F.setRequestedCaipNetworks(r,t.chainNamespace),pe.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,i,s;const n=ct.chains.get(t);if(n){const o=((r=ct.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((i=n.caipNetworks)==null?void 0:i.filter(c=>c.id!==e))||[]];o&&((s=n==null?void 0:n.caipNetworks)!=null&&s[0])&&F.setActiveCaipNetwork(n.caipNetworks[0]),ct.chains.set(t,{...n,caipNetworks:a}),F.setRequestedCaipNetworks(a||[],t),a.length===0&&pe.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=ct.chains.get(t);n&&(n.networkState={...n.networkState||kE,...e},ct.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=ct.chains.get(t);if(r){const i={...r.accountState||ZT,...e};ct.chains.set(t,{...r,accountState:i}),(ct.chains.size===1||ct.activeChain===t)&&(e.caipAddress&&(ct.activeCaipAddress=e.caipAddress),Le.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const n=ct.chains.get(t);if(n){const r={...n.networkState||kE,...e};ct.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){F.setChainAccountData(n,{[t]:e},r)},setActiveNamespace(t){var r,i;ct.activeChain=t;const e=t?ct.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(ct.activeCaipAddress=(i=e==null?void 0:e.accountState)==null?void 0:i.caipAddress,ct.activeCaipNetwork=n,F.setChainNetworkData(t,{caipNetwork:n}),Ne.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),nl.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,i,s;if(!t)return;ct.activeChain!==t.chainNamespace&&F.setIsSwitchingNamespace(!0);const e=ct.chains.get(t.chainNamespace);ct.activeChain=t.chainNamespace,ct.activeCaipNetwork=t,F.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?ct.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(i=e==null?void 0:e.accountState)==null?void 0:i.address}`:ct.activeCaipAddress=void 0,F.setAccountProp("caipAddress",ct.activeCaipAddress,t.chainNamespace),e&&Le.replaceState(e.accountState),Kn.resetSend(),nl.set({activeChain:ct.activeChain,selectedNetworkId:(s=ct.activeCaipNetwork)==null?void 0:s.caipNetworkId}),Ne.setActiveCaipNetworkId(t.caipNetworkId),!F.checkIfSupportedNetwork(t.chainNamespace)&&ce.state.enableNetworkSwitch&&!ce.state.allowUnsupportedChain&&!Ce.state.wcBasic&&F.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=ct.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var i;if(!t)return;const e=t!==F.state.activeChain,n=(i=F.getNetworkData(t))==null?void 0:i.caipNetwork,r=F.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await F.switchActiveNetwork(r)},async switchActiveNetwork(t){var s;const e=F.state.activeChain;if(!e)throw new Error("ChainController:switchActiveNetwork - namespace is required");const n=F.state.chains.get(e),r=!((s=n==null?void 0:n.caipNetworks)!=null&&s.some(o=>{var a;return o.id===((a=ct.activeCaipNetwork)==null?void 0:a.id)})),i=F.getNetworkControllerClient(t.chainNamespace);if(i){try{await i.switchCaipNetwork(t),r&&Kt.close()}catch{Ee.goBack()}At.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||ct.activeChain;if(!e)throw new Error("ChainController:getNetworkControllerClient - chain is required");const n=ct.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||ct.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=ct.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(t,e){var r;const n=(r=ct.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=ct.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return be.sortRequestedNetworks(n,r).filter(o=>o==null?void 0:o.id)},getAllRequestedCaipNetworks(){const t=[];return ct.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=F.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){F.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=F.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(r));pe.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return ct.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=F.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(t){var e,n;return t?(n=(e=ct.chains.get(t))==null?void 0:e.networkState)==null?void 0:n.caipNetwork:ct.activeCaipNetwork},getActiveCaipAddress(){return ct.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=ct.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=F.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());F.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){var i;const n=e||((i=ct.activeCaipNetwork)==null?void 0:i.caipNetworkId),r=F.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(s=>s.caipNetworkId===n):!0},checkIfSupportedChainId(t){if(!ct.activeChain)return!0;const e=F.getRequestedCaipNetworks(ct.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){F.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=$1.caipNetworkIdToNumber((r=ct.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=ct.activeChain;if(!e||!t)return!1;const n=F.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},showUnsupportedChainUI(){Kt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=ct.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&rn.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){F.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){var i,s;const e=t;if(!e)throw new Error("Chain is required to set account prop");const n=(s=(i=F.state.chains.get(e))==null?void 0:i.accountState)==null?void 0:s.preferredAccountType,r=ce.state.defaultAccountTypes[e];ct.activeCaipAddress=void 0,F.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),pe.removeConnectorId(e)},setIsSwitchingNamespace(t){ct.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(ct.chains.forEach(i=>{oe.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(s=>s===i.namespace)&&i.namespace&&t.push(i.namespace)}),t.length>0){const i=t[0];return e=i?(r=(n=ct.chains.get(i))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var n;const e=t||ct.activeChain;if(e)return(n=F.state.chains.get(e))==null?void 0:n.accountState},getNetworkData(t){var n;const e=t||ct.activeChain;if(e)return(n=F.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var i,s,o;if(!t)return;const n=F.state.chains.get(t),r=(i=n==null?void 0:n.caipNetworks)==null?void 0:i.find(a=>a.id===e);return r||((s=n==null?void 0:n.networkState)==null?void 0:s.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=pe.state.filterByNamespace;return(t?[ct.chains.get(t)]:Array.from(ct.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?F.getRequestedCaipNetworks(t):F.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){ct.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return ct.lastConnectedSIWECaipNetwork}},F=Yo(Kte),Yte={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},_z=be.getBlockchainApiUrl(),xo=gr({clientId:null,api:new LC({baseUrl:_z,clientId:null}),supportedChains:{http:[],ws:[]}}),Qt={state:xo,async get(t){const{st:e,sv:n}=Qt.getSdkProperties(),r=ce.state.projectId,i={...t.params||{},st:e,sv:n,projectId:r};return xo.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=ce.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{xo.supportedChains.http.length||await Qt.getSupportedNetworks()}catch{return!1}return xo.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Qt.get({path:"v1/supported-chains"});return xo.supportedChains=t,t}catch{return xo.supportedChains}},async fetchIdentity({address:t}){const e=Ne.getIdentityFromCacheForAddress(t);if(e)return e;const n=await Qt.get({path:`/v1/identity/${t}`,params:{sender:F.state.activeCaipAddress?be.getPlainAddress(F.state.activeCaipAddress):void 0}});return Ne.updateIdentityCache({address:t,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:t,cursor:e,signal:n,cache:r,chainId:i}){var c;if(!await Qt.isNetworkSupported((c=F.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))return{data:[],next:void 0};const o=Ne.getTransactionsCacheForAddress({address:t,chainId:i});if(o)return o;const a=await Qt.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:i},signal:n,cache:r});return Ne.updateTransactionsCache({address:t,chainId:i,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:i}){var o;return await Qt.isNetworkSupported((o=F.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Qt.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Qt.isNetworkSupported((n=F.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Qt.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var i;if(!await Qt.isNetworkSupported((i=F.state.activeCaipNetwork)==null?void 0:i.caipNetworkId))return{fungibles:[]};const n=Ne.getTokenPriceCacheForAddresses(t);if(n)return n;const r=await xo.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:ce.state.projectId},headers:{"Content-Type":"application/json"}});return Ne.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Qt.isNetworkSupported((r=F.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Qt.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var i;const{st:e,sv:n}=Qt.getSdkProperties();if(!await Qt.isNetworkSupported((i=F.state.activeCaipNetwork)==null?void 0:i.caipNetworkId))throw new Error("Network not supported for Gas Price");return Qt.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:i}){var o;if(!await Qt.isNetworkSupported((o=F.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return xo.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:rn.CONVERT_SLIPPAGE_TOLERANCE},projectId:ce.state.projectId,from:e,to:n,userAddress:r,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:i}=Qt.getSdkProperties();if(!await Qt.isNetworkSupported((o=F.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Qt.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:i}})},async getBalance(t,e,n){var u;const{st:r,sv:i}=Qt.getSdkProperties();if(!await Qt.isNetworkSupported((u=F.state.activeCaipNetwork)==null?void 0:u.caipNetworkId))return Tn.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=Ne.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Qt.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:i}});return Ne.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await Qt.isNetworkSupported((n=F.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Qt.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Qt.isNetworkSupported((n=F.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Qt.get({path:`/v1/profile/reverse/${t}`,params:{sender:Le.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Qt.isNetworkSupported((n=F.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Qt.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var s;return await Qt.isNetworkSupported((s=F.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?xo.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:i}){var a;return await Qt.isNetworkSupported((a=F.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await xo.api.post({path:"/v1/generators/onrampurl",params:{projectId:ce.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:i}})).url:""},async getOnrampOptions(){var e;if(!await Qt.isNetworkSupported((e=F.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Qt.get({path:"/v1/onramp/options"})}catch{return Yte}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var i;try{return await Qt.isNetworkSupported((i=F.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?await xo.api.post({path:"/v1/onramp/quote",params:{projectId:ce.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Qt.isNetworkSupported((n=F.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Qt.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var i;return await Qt.isNetworkSupported((i=F.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?xo.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:ce.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){xo.clientId=t,xo.api=new LC({baseUrl:_z,clientId:t})}},Qte="1.0.8";let Sa=class PN extends Error{constructor(e,n={}){var o;const r=n.cause instanceof PN?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof PN&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Qte}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function af(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const Tz=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Iz=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Nz=/^\(.+?\).*?$/,dD=/^tuple(?<array>(\[(\d*)\])*)$/;function kN(t){let e=t.type;if(dD.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=kN(s),i<n-1&&(e+=", ")}const r=af(dD,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,kN({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function vv(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=kN(i),r!==n-1&&(e+=", ")}return e}function Zte(t){var e;return t.type==="function"?`function ${t.name}(${vv(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${vv(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${vv(t.inputs)})`:t.type==="error"?`error ${t.name}(${vv(t.inputs)})`:t.type==="constructor"?`constructor(${vv(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Pz=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Jte(t){return Pz.test(t)}function Xte(t){return af(Pz,t)}const kz=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ene(t){return kz.test(t)}function tne(t){return af(kz,t)}const Rz=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function nne(t){return Rz.test(t)}function rne(t){return af(Rz,t)}const Oz=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function $z(t){return Oz.test(t)}function ine(t){return af(Oz,t)}const Dz=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function sne(t){return Dz.test(t)}function one(t){return af(Dz,t)}const Lz=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function ane(t){return Lz.test(t)}function cne(t){return af(Lz,t)}const lne=/^receive\(\) external payable$/;function une(t){return lne.test(t)}const dne=new Set(["indexed"]),RN=new Set(["calldata","memory","storage"]);class I$e extends Sa{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class fne extends Sa{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class hne extends Sa{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class pne extends Sa{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class mne extends Sa{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class gne extends Sa{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class yne extends Sa{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class wne extends Sa{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class pb extends Sa{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class bne extends Sa{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class vne extends Sa{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Cne extends Sa{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class xne extends Sa{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Ene(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:t}const JT=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Ane(t,e={}){if(nne(t))return Sne(t,e);if(ene(t))return _ne(t,e);if(Jte(t))return Tne(t,e);if(sne(t))return Ine(t,e);if(ane(t))return Nne(t);if(une(t))return{type:"receive",stateMutability:"payable"};throw new bne({signature:t})}function Sne(t,e={}){const n=rne(t);if(!n)throw new pb({signature:t,type:"function"});const r=Xc(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(rg(r[a],{modifiers:RN,structs:e,type:"function"}));const o=[];if(n.returns){const a=Xc(n.returns),c=a.length;for(let u=0;u<c;u++)o.push(rg(a[u],{modifiers:RN,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}function _ne(t,e={}){const n=tne(t);if(!n)throw new pb({signature:t,type:"event"});const r=Xc(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(rg(r[o],{modifiers:dne,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function Tne(t,e={}){const n=Xte(t);if(!n)throw new pb({signature:t,type:"error"});const r=Xc(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(rg(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function Ine(t,e={}){const n=one(t);if(!n)throw new pb({signature:t,type:"constructor"});const r=Xc(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(rg(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function Nne(t){const e=cne(t);if(!e)throw new pb({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const Pne=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,kne=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Rne=/^u?int$/;function rg(t,e){var h,p;const n=Ene(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(JT.has(n))return JT.get(n);const r=Nz.test(t),i=af(r?kne:Pne,t);if(!i)throw new pne({param:t});if(i.name&&$ne(i.name))throw new mne({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,u={};if(r){c="tuple";const g=Xc(i.type),w=[],y=g.length;for(let b=0;b<y;b++)w.push(rg(g[b],{structs:a}));u={components:w}}else if(i.type in a)c="tuple",u={components:a[i.type]};else if(Rne.test(i.type))c=`${i.type}256`;else if(c=i.type,(e==null?void 0:e.type)!=="struct"&&!Mz(c))throw new hne({type:c});if(i.modifier){if(!((p=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&p.call(h,i.modifier)))throw new gne({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(RN.has(i.modifier)&&!Dne(c,!!i.array))throw new yne({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const f={type:`${c}${i.array??""}`,...s,...o,...u};return JT.set(n,f),f}function Xc(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return r===0?Xc(a,[...e,n.trim()]):Xc(a,e,`${n}${o}`,r);case"(":return Xc(a,e,`${n}${o}`,r+1);case")":return Xc(a,e,`${n}${o}`,r-1);default:return Xc(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new xne({current:n,depth:r});return e.push(n.trim()),e}function Mz(t){return t==="address"||t==="bool"||t==="function"||t==="string"||Tz.test(t)||Iz.test(t)}const One=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function $ne(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||Tz.test(t)||Iz.test(t)||One.test(t)}function Dne(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Lne(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!$z(a))continue;const c=ine(a);if(!c)throw new pb({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],h=u.length;for(let p=0;p<h;p++){const w=u[p].trim();if(!w)continue;const y=rg(w,{type:"struct"});f.push(y)}if(!f.length)throw new vne({signature:a});e[c.name]=f}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];r[a]=Bz(c,e)}return r}const Mne=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Bz(t,e,n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(Nz.test(o.type))r.push(o);else{const c=af(Mne,o.type);if(!(c!=null&&c.type))throw new wne({abiParameter:o});const{array:u,type:f}=c;if(f in e){if(n.has(f))throw new Cne({type:f});r.push({...o,type:`tuple${u??""}`,components:Bz(e[f]??[],e,new Set([...n,f]))})}else if(Mz(f))r.push(o);else throw new fne({type:f})}}return r}function Uz(t){const e=Lne(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];$z(s)||n.push(Ane(s,e))}return n}function Cr(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}function Kh(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new Qne(t.type);return`${t.name}(${K5(t.inputs,{includeName:e})})`}function K5(t,{includeName:e=!1}={}){return t?t.map(n=>Bne(n,{includeName:e})).join(e?", ":","):""}function Bne(t,{includeName:e}){return t.type.startsWith("tuple")?`(${K5(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function Yh(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function hi(t){return Yh(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Fz="2.34.0";let Cv={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Fz}`},Fe=class ON extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof ON?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof ON&&n.cause.docsPath||n.docsPath,s=(a=Cv.getDocsUrl)==null?void 0:a.call(Cv,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...Cv.version?[`Version: ${Cv.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Fz}walk(e){return jz(this,e)}};function jz(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?jz(t.cause,e):e?null:t}class Une extends Fe{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class fD extends Fe{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class zz extends Fe{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${K5(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Y5 extends Fe{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Fne extends Fe{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class jne extends Fe{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${hi(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class zne extends Fe{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class N$e extends Fe{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class P$e extends Fe{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Wz extends Fe{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class Wne extends Fe{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class Hz extends Fe{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class k$e extends Fe{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class s3 extends Fe{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Hne extends Fe{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class R$e extends Fe{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Vne extends Fe{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Kh(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Kh(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class qne extends Fe{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class $N extends Fe{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${K5(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class Vz extends Fe{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Kh(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class Gne extends Fe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Kne extends Fe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class Yne extends Fe{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class Qne extends Fe{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class O$e extends Fe{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let qz=class extends Fe{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Gz=class extends Fe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class hD extends Fe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function mb(t,{dir:e,size:n=32}={}){return typeof t=="string"?Bh(t,{dir:e,size:n}):Zne(t,{dir:e,size:n})}function Bh(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Gz({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Zne(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Gz({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let Kz=class extends Fe{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class Jne extends Fe{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Xne extends Fe{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let ere=class extends Fe{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function kd(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function yc(t,{size:e}){if(hi(t)>e)throw new ere({givenSize:hi(t),maxSize:e})}function Fd(t,e={}){const{signed:n}=e;e.size&&yc(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function B$e(t,e={}){let n=t;if(e.size&&(yc(n,{size:e.size}),n=kd(n)),kd(n)==="0x00")return!1;if(kd(n)==="0x01")return!0;throw new Xne(n)}function jd(t,e={}){return Number(Fd(t,e))}function Yz(t,e={}){let n=vu(t);return e.size&&(yc(n,{size:e.size}),n=kd(n,{dir:"right"})),new TextDecoder().decode(n)}const tre=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Rw(t,e={}){return typeof t=="number"||typeof t=="bigint"?cn(t,e):typeof t=="string"?Q5(t,e):typeof t=="boolean"?Qz(t,e):Vo(t,e)}function Qz(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(yc(n,{size:e.size}),mb(n,{size:e.size})):n}function Vo(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=tre[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(yc(r,{size:e.size}),mb(r,{dir:"right",size:e.size})):r}function cn(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new Kz({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?mb(a,{size:r}):a}const nre=new TextEncoder;function Q5(t,e={}){const n=nre.encode(t);return Vo(n,e)}const rre=new TextEncoder;function Z5(t,e={}){return typeof t=="number"||typeof t=="bigint"?sre(t,e):typeof t=="boolean"?ire(t,e):Yh(t)?vu(t,e):Zz(t,e)}function ire(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(yc(n,{size:e.size}),mb(n,{size:e.size})):n}const Vu={zero:48,nine:57,A:65,F:70,a:97,f:102};function pD(t){if(t>=Vu.zero&&t<=Vu.nine)return t-Vu.zero;if(t>=Vu.A&&t<=Vu.F)return t-(Vu.A-10);if(t>=Vu.a&&t<=Vu.f)return t-(Vu.a-10)}function vu(t,e={}){let n=t;e.size&&(yc(n,{size:e.size}),n=mb(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=pD(r.charCodeAt(a++)),u=pD(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new Fe(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+u}return s}function sre(t,e){const n=cn(t,e);return vu(n)}function Zz(t,e={}){const n=rre.encode(t);return typeof e.size=="number"?(yc(n,{size:e.size}),mb(n,{dir:"right",size:e.size})):n}const RE=BigInt(2**32-1),mD=BigInt(32);function ore(t,e=!1){return e?{h:Number(t&RE),l:Number(t>>mD&RE)}:{h:Number(t>>mD&RE)|0,l:Number(t&RE)|0}}function are(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=ore(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const cre=(t,e,n)=>t<<n|e>>>32-n,lre=(t,e,n)=>e<<n|t>>>32-n,ure=(t,e,n)=>e<<n-32|t>>>64-n,dre=(t,e,n)=>t<<n-32|e>>>64-n,k0=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fre(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function o3(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ig(t,...e){if(!fre(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function U$e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");o3(t.outputLen),o3(t.blockLen)}function a3(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Jz(t,e){ig(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function hre(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function D1(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function XT(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ll(t,e){return t<<32-e|t>>>e}const pre=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function mre(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function gre(t){for(let e=0;e<t.length;e++)t[e]=mre(t[e]);return t}const gD=pre?t=>t:gre,Xz=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",yre=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function F$e(t){if(ig(t),Xz)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=yre[t[n]];return e}const qu={_0:48,_9:57,A:65,F:70,a:97,f:102};function yD(t){if(t>=qu._0&&t<=qu._9)return t-qu._0;if(t>=qu.A&&t<=qu.F)return t-(qu.A-10);if(t>=qu.a&&t<=qu.f)return t-(qu.a-10)}function j$e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Xz)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=yD(t.charCodeAt(s)),a=yD(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function wre(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function sR(t){return typeof t=="string"&&(t=wre(t)),ig(t),t}function z$e(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];ig(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let eW=class{};function tW(t){const e=r=>t().update(sR(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function H$e(t=32){if(k0&&typeof k0.getRandomValues=="function")return k0.getRandomValues(new Uint8Array(t));if(k0&&typeof k0.randomBytes=="function")return Uint8Array.from(k0.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const bre=BigInt(0),xv=BigInt(1),vre=BigInt(2),Cre=BigInt(7),xre=BigInt(256),Ere=BigInt(113),nW=[],rW=[],iW=[];for(let t=0,e=xv,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],nW.push(2*(5*r+n)),rW.push((t+1)*(t+2)/2%64);let i=bre;for(let s=0;s<7;s++)e=(e<<xv^(e>>Cre)*Ere)%xre,e&vre&&(i^=xv<<(xv<<BigInt(s))-xv);iW.push(i)}const sW=are(iW,!0),Are=sW[0],Sre=sW[1],wD=(t,e,n)=>n>32?ure(t,e,n):cre(t,e,n),bD=(t,e,n)=>n>32?dre(t,e,n):lre(t,e,n);function _re(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],f=n[c+1],h=wD(u,f,1)^n[a],p=bD(u,f,1)^n[a+1];for(let g=0;g<50;g+=10)t[o+g]^=h,t[o+g+1]^=p}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=rW[o],c=wD(i,s,a),u=bD(i,s,a),f=nW[o];i=t[f],s=t[f+1],t[f]=c,t[f+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Are[r],t[1]^=Sre[r]}D1(n)}let Tre=class oW extends eW{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,o3(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=hre(this.state)}clone(){return this._cloneInto()}keccak(){gD(this.state32),_re(this.state32,this.rounds),gD(this.state32),this.posOut=0,this.pos=0}update(e){a3(this),e=sR(e),ig(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){a3(this,!1),ig(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return o3(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Jz(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,D1(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new oW(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Ire=(t,e,n)=>tW(()=>new Tre(e,t,n)),Nre=Ire(1,136,256/8);function MC(t,e){const n=e||"hex",r=Nre(Yh(t,{strict:!1})?Z5(t):t);return n==="bytes"?r:Rw(r)}const Pre=t=>MC(Z5(t));function kre(t){return Pre(t)}function Rre(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new Fe("Unable to normalize signature.");return i}const Ore=t=>{const e=typeof t=="string"?t:Zte(t);return Rre(e)};function aW(t){return kre(Ore(t))}const oR=aW;class Qh extends Fe{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let J5=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const e6=new J5(8192);function gb(t,e){if(e6.has(`${t}.${e}`))return e6.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=MC(Zz(n),"bytes"),i=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return e6.set(`${t}.${e}`,s),s}function Id(t,e){if(!ul(t,{strict:!1}))throw new Qh({address:t});return gb(t,e)}const $re=/^0x[a-fA-F0-9]{40}$/,t6=new J5(8192);function ul(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(t6.has(r))return t6.get(r);const i=$re.test(t)?t.toLowerCase()===t?!0:n?gb(t)===t:!0:!1;return t6.set(r,i),i}function Zh(t){return typeof t[0]=="string"?X5(t):Dre(t)}function Dre(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function X5(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function c3(t,e,n,{strict:r}={}){return Yh(t,{strict:!1})?DN(t,e,n,{strict:r}):uW(t,e,n,{strict:r})}function cW(t,e){if(typeof e=="number"&&e>0&&e>hi(t)-1)throw new qz({offset:e,position:"start",size:hi(t)})}function lW(t,e,n){if(typeof e=="number"&&typeof n=="number"&&hi(t)!==n-e)throw new qz({offset:n,position:"end",size:hi(t)})}function uW(t,e,n,{strict:r}={}){cW(t,e);const i=t.slice(e,n);return r&&lW(i,e,n),i}function DN(t,e,n,{strict:r}={}){cW(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&lW(i,e,n),i}const q$e=/^(.*)\[([0-9]*)\]$/,Lre=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,dW=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function fW(t,e){if(t.length!==e.length)throw new zne({expectedLength:t.length,givenLength:e.length});const n=Mre({params:t,values:e}),r=cR(n);return r.length===0?"0x":r}function Mre({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(aR({param:t[r],value:e[r]}));return n}function aR({param:t,value:e}){const n=lR(t.type);if(n){const[r,i]=n;return Ure(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return Hre(e,{param:t});if(t.type==="address")return Bre(e);if(t.type==="bool")return jre(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=dW.exec(t.type)??[];return zre(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return Fre(e,{param:t});if(t.type==="string")return Wre(e);throw new Gne(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function cR(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=hi(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(cn(e+i,{size:32})),r.push(a),i+=hi(a)):n.push(a)}return Zh([...n,...r])}function Bre(t){if(!ul(t))throw new Qh({address:t});return{dynamic:!1,encoded:Bh(t.toLowerCase())}}function Ure(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new Yne(t);if(!r&&t.length!==e)throw new Fne({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=aR({param:n,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=cR(s);if(r){const a=cn(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Zh([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Zh(s.map(({encoded:o})=>o))}}function Fre(t,{param:e}){const[,n]=e.type.split("bytes"),r=hi(t);if(!n){let i=t;return r%32!==0&&(i=Bh(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Zh([Bh(cn(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new jne({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Bh(t,{dir:"right"})}}function jre(t){if(typeof t!="boolean")throw new Fe(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Bh(Qz(t))}}function zre(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new Kz({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:cn(t,{size:32,signed:e})}}function Wre(t){const e=Q5(t),n=Math.ceil(hi(e)/32),r=[];for(let i=0;i<n;i++)r.push(Bh(c3(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Zh([Bh(cn(hi(e),{size:32})),...r])}}function Hre(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=aR({param:s,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?cR(r):Zh(r.map(({encoded:i})=>i))}}function lR(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const uR=t=>c3(aW(t),0,4);function dR(t){const{abi:e,args:n=[],name:r}=t,i=Yh(r,{strict:!1}),s=e.filter(a=>i?a.type==="function"?uR(a)===r:a.type==="event"?oR(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const h="inputs"in a&&a.inputs[f];return h?LN(u,h):!1})){if(o&&"inputs"in o&&o.inputs){const u=hW(a.inputs,o.inputs,n);if(u)throw new Vne({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||s[0]}function LN(t,e){const n=typeof t,r=e.type;switch(r){case"address":return ul(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>LN(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>LN(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function hW(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return hW(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ul(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?ul(n[r],{strict:!1}):!1)return o}}function Vre(t,{method:e}){var r,i;const n={};return t.transport.type==="fallback"&&((i=(r=t.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:c})=>{a==="success"&&e===s&&(n[o]=c.request)})),s=>n[s]||t.request}function Yi(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const vD="/docs/contract/encodeFunctionData";function qre(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=dR({abi:e,args:n,name:r});if(!s)throw new s3(r,{docsPath:vD});i=s}if(i.type!=="function")throw new s3(void 0,{docsPath:vD});return{abi:[i],functionName:uR(Kh(i))}}function BC(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:qre(t)})(),i=n[0],s=r,o="inputs"in i&&i.inputs?fW(i.inputs,e??[]):void 0;return X5([s,o??"0x"])}const Gre={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Kre={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Yre={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class CD extends Fe{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class pW extends Fe{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class Qre extends Fe{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Zre={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Qre({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new pW({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new CD({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new CD({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function fR(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(Zre);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function Jre(t,e={}){typeof e.size<"u"&&yc(t,{size:e.size});const n=Vo(t,e);return Fd(n,e)}function Xre(t,e={}){let n=t;if(typeof e.size<"u"&&(yc(n,{size:e.size}),n=kd(n)),n.length>1||n[0]>1)throw new Jne(n);return!!n[0]}function Rd(t,e={}){typeof e.size<"u"&&yc(t,{size:e.size});const n=Vo(t,e);return jd(n,e)}function eie(t,e={}){let n=t;return typeof e.size<"u"&&(yc(n,{size:e.size}),n=kd(n,{dir:"right"})),new TextDecoder().decode(n)}function eS(t,e){const n=typeof e=="string"?vu(e):e,r=fR(n);if(hi(n)===0&&t.length>0)throw new Y5;if(hi(e)&&hi(e)<32)throw new zz({data:typeof e=="string"?e:Vo(e),params:t,size:hi(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(i);const[c,u]=Cy(r,a,{staticPosition:0});i+=u,s.push(c)}return s}function Cy(t,e,{staticPosition:n}){const r=lR(e.type);if(r){const[i,s]=r;return nie(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return oie(t,e,{staticPosition:n});if(e.type==="address")return tie(t);if(e.type==="bool")return rie(t);if(e.type.startsWith("bytes"))return iie(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return sie(t,e);if(e.type==="string")return aie(t,{staticPosition:n});throw new Kne(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const xD=32,MN=32;function tie(t){const e=t.readBytes(32);return[gb(Vo(uW(e,-20))),32]}function nie(t,e,{length:n,staticPosition:r}){if(!n){const o=Rd(t.readBytes(MN)),a=r+o,c=a+xD;t.setPosition(a);const u=Rd(t.readBytes(xD)),f=L1(e);let h=0;const p=[];for(let g=0;g<u;++g){t.setPosition(c+(f?g*32:h));const[w,y]=Cy(t,e,{staticPosition:c});h+=y,p.push(w)}return t.setPosition(r+32),[p,32]}if(L1(e)){const o=Rd(t.readBytes(MN)),a=r+o,c=[];for(let u=0;u<n;++u){t.setPosition(a+u*32);const[f]=Cy(t,e,{staticPosition:a});c.push(f)}return t.setPosition(r+32),[c,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,c]=Cy(t,e,{staticPosition:r+i});i+=c,s.push(a)}return[s,i]}function rie(t){return[Xre(t.readBytes(32),{size:32}),32]}function iie(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=Rd(t.readBytes(32));t.setPosition(n+o);const a=Rd(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Vo(c),32]}return[Vo(t.readBytes(Number.parseInt(i),32)),32]}function sie(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),i=t.readBytes(32);return[r>48?Jre(i,{signed:n}):Rd(i,{signed:n}),32]}function oie(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(L1(e)){const o=Rd(t.readBytes(MN)),a=n+o;for(let c=0;c<e.components.length;++c){const u=e.components[c];t.setPosition(a+s);const[f,h]=Cy(t,u,{staticPosition:a});s+=h,i[r?c:u==null?void 0:u.name]=f}return t.setPosition(n+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,u]=Cy(t,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=c,s+=u}return[i,s]}function aie(t,{staticPosition:e}){const n=Rd(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Rd(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=eie(kd(s));return t.setPosition(e+32),[o,32]}function L1(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(L1);const n=lR(t.type);return!!(n&&L1({...t,type:n[1]}))}function cie(t){const{abi:e,data:n}=t,r=c3(n,0,4);if(r==="0x")throw new Y5;const s=[...e||[],Kre,Yre].find(o=>o.type==="error"&&r===uR(Kh(o)));if(!s)throw new Wz(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?eS(s.inputs,c3(n,4)):void 0,errorName:s.name}}const ro=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function mW({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?ro(e[s]):e[s]}`).join(", ")})`}const lie={gwei:9,wei:18},uie={ether:-9,wei:9},die={ether:-18,gwei:-9};function yb(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function hR(t,e="wei"){return yb(t,lie[e])}function zo(t,e="wei"){return yb(t,uie[e])}class fie extends Fe{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class hie extends Fe{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ED(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function pie(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=ED(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=ED(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function UC(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class mie extends Fe{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class gie extends Fe{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",UC(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class yie extends Fe{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:h,value:p}){var w;const g=UC({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:h,value:typeof p<"u"&&`${hR(p)} ${((w=i==null?void 0:i.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${zo(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${zo(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${zo(u)} gwei`,nonce:f});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",g].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class gW extends Fe{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class yW extends Fe{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class wie extends Fe{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const bie=t=>t,pR=t=>t;class vie extends Fe{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:h,value:p,stateOverride:g}){var b;const w=n?Yi(n):void 0;let y=UC({from:w==null?void 0:w.address,to:h,value:typeof p<"u"&&`${hR(p)} ${((b=i==null?void 0:i.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${zo(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${zo(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${zo(u)} gwei`,nonce:f});g&&(y+=`
${pie(g)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class wW extends Fe{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=dR({abi:n,args:r,name:o}),u=c?mW({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?Kh(c,{includeName:!0}):void 0,h=UC({address:i&&bie(i),function:f,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class Cie extends Fe{constructor({abi:e,data:n,functionName:r,message:i}){let s,o,a,c;if(n&&n!=="0x")try{o=cie({abi:e,data:n});const{abiItem:f,errorName:h,args:p}=o;if(h==="Error")c=p[0];else if(h==="Panic"){const[g]=p;c=Gre[g]}else{const g=f?Kh(f,{includeName:!0}):void 0,w=f&&p?mW({abiItem:f,args:p,includeFunctionName:!1,includeName:!1}):void 0;a=[g?`Error: ${g}`:"",w&&w!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${w}`:""]}}catch(f){s=f}else i&&(c=i);let u;s instanceof Wz&&(u=s.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=u}}class xie extends Fe{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Eie extends Fe{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class mR extends Fe{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class c1 extends Fe{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${pR(o)}`,e&&`Request body: ${ro(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class gR extends Fe{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${pR(r)}`,`Request body: ${ro(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class AD extends Fe{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${pR(n)}`,`Request body: ${ro(e)}`],name:"TimeoutError"})}}const Aie=-1;class Qo extends Fe{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof gR?e.code:n??Aie}}class _a extends Qo{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class M1 extends Qo{constructor(e){super(e,{code:M1.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(M1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class B1 extends Qo{constructor(e){super(e,{code:B1.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(B1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class U1 extends Qo{constructor(e,{method:n}={}){super(e,{code:U1.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(U1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class F1 extends Qo{constructor(e){super(e,{code:F1.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(F1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class sg extends Qo{constructor(e){super(e,{code:sg.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(sg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class j1 extends Qo{constructor(e){super(e,{code:j1.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(j1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class z1 extends Qo{constructor(e){super(e,{code:z1.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(z1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Uh extends Qo{constructor(e){super(e,{code:Uh.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Uh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Ow extends Qo{constructor(e){super(e,{code:Ow.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Ow,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class sm extends Qo{constructor(e,{method:n}={}){super(e,{code:sm.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(sm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class $w extends Qo{constructor(e){super(e,{code:$w.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty($w,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class W1 extends Qo{constructor(e){super(e,{code:W1.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(W1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class wi extends _a{constructor(e){super(e,{code:wi.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(wi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class H1 extends _a{constructor(e){super(e,{code:H1.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(H1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class V1 extends _a{constructor(e,{method:n}={}){super(e,{code:V1.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(V1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class q1 extends _a{constructor(e){super(e,{code:q1.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(q1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class G1 extends _a{constructor(e){super(e,{code:G1.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(G1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Cu extends _a{constructor(e){super(e,{code:Cu.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Cu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Dw extends _a{constructor(e){super(e,{code:Dw.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Dw,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class K1 extends _a{constructor(e){super(e,{code:K1.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(K1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Y1 extends _a{constructor(e){super(e,{code:Y1.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Y1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Q1 extends _a{constructor(e){super(e,{code:Q1.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Q1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Z1 extends _a{constructor(e){super(e,{code:Z1.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Z1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class J1 extends _a{constructor(e){super(e,{code:J1.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(J1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Lw extends _a{constructor(e){super(e,{code:Lw.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Lw,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Sie extends Qo{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const _ie=3;function l3(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:o}){const a=t instanceof mR?t:t instanceof Fe?t.walk(w=>"data"in w)||t.walk():{},{code:c,data:u,details:f,message:h,shortMessage:p}=a,g=t instanceof Y5?new xie({functionName:s}):[_ie,sg.code].includes(c)&&(u||f||h||p)?new Cie({abi:e,data:typeof u=="object"?u.data:u,functionName:s,message:a instanceof gR?f:p??h}):t;return new wW(g,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}function Tie(t){const e=MC(`0x${t.substring(4)}`).substring(26);return gb(`0x${e}`)}const Iie="modulepreload",Nie=function(t){return"/"+t},SD={},Oe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(n.map(u=>{if(u=Nie(u),u in SD)return;SD[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":Iie,f||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),f)return new Promise((g,w)=>{p.addEventListener("load",g),p.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};async function Pie({hash:t,signature:e}){const n=Yh(t)?t:Rw(t),{secp256k1:r}=await Oe(async()=>{const{secp256k1:o}=await import("./secp256k1-CTA7T5qd.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:f,v:h,yParity:p}=e,g=Number(p??h),w=_D(g);return new r.Signature(Fd(u),Fd(f)).addRecoveryBit(w)}const o=Yh(e)?e:Rw(e);if(hi(o)!==65)throw new Error("invalid signature length");const a=jd(`0x${o.slice(130)}`),c=_D(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function _D(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function kie({hash:t,signature:e}){return Tie(await Pie({hash:t,signature:e}))}function Rie(t,e="hex"){const n=bW(t),r=fR(new Uint8Array(n.length));return n.encode(r),e==="hex"?Vo(r.bytes):r.bytes}function bW(t){return Array.isArray(t)?Oie(t.map(e=>bW(e))):$ie(t)}function Oie(t){const e=t.reduce((i,s)=>i+s.length,0),n=vW(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function $ie(t){const e=typeof t=="string"?vu(t):t,n=vW(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function vW(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Fe("Length is too large.")}function Die(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,s=MC(X5(["0x05",Rie([e?cn(e):"0x",i,n?cn(n):"0x"])]));return r==="bytes"?vu(s):s}async function CW(t){const{authorization:e,signature:n}=t;return kie({hash:Die(e),signature:n??e})}class Lie extends Fe{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:h,value:p}){var w;const g=UC({from:n==null?void 0:n.address,to:h,value:typeof p<"u"&&`${hR(p)} ${((w=i==null?void 0:i.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${zo(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${zo(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${zo(u)} gwei`,nonce:f});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",g].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class om extends Fe{constructor({cause:e,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(om,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(om,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class u3 extends Fe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${zo(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(u3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class BN extends Fe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${zo(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(BN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class UN extends Fe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(UN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class FN extends Fe{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(FN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class jN extends Fe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(jN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class zN extends Fe{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(zN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class WN extends Fe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(WN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class HN extends Fe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(HN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class VN extends Fe{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(VN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class d3 extends Fe{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${zo(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${zo(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(d3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class tS extends Fe{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function yR(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof Fe?t.walk(i=>(i==null?void 0:i.code)===om.code):t;return r instanceof Fe?new om({cause:t,message:r.details}):om.nodeMessage.test(n)?new om({cause:t,message:t.details}):u3.nodeMessage.test(n)?new u3({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):BN.nodeMessage.test(n)?new BN({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):UN.nodeMessage.test(n)?new UN({cause:t,nonce:e==null?void 0:e.nonce}):FN.nodeMessage.test(n)?new FN({cause:t,nonce:e==null?void 0:e.nonce}):jN.nodeMessage.test(n)?new jN({cause:t,nonce:e==null?void 0:e.nonce}):zN.nodeMessage.test(n)?new zN({cause:t}):WN.nodeMessage.test(n)?new WN({cause:t,gas:e==null?void 0:e.gas}):HN.nodeMessage.test(n)?new HN({cause:t,gas:e==null?void 0:e.gas}):VN.nodeMessage.test(n)?new VN({cause:t}):d3.nodeMessage.test(n)?new d3({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new tS({cause:t})}function Mie(t,{docsPath:e,...n}){const r=(()=>{const i=yR(t,n);return i instanceof tS?t:i})();return new Lie(r,{docsPath:e,...n})}function wR(t,{format:e}){if(!e)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in t&&(n[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=e(t||{});return r(i),n}const Bie={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function nS(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=Uie(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Vo(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=cn(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=cn(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=cn(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=cn(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=cn(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=cn(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=Bie[t.type]),typeof t.value<"u"&&(e.value=cn(t.value)),e}function Uie(t){return t.map(e=>({address:e.address,r:e.r?cn(BigInt(e.r)):e.r,s:e.s?cn(BigInt(e.s)):e.s,chainId:cn(e.chainId),nonce:cn(e.nonce),...typeof e.yParity<"u"?{yParity:cn(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:cn(e.v)}:{}}))}function TD(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new hD({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new hD({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function Fie(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=cn(e)),n!==void 0&&(o.nonce=cn(n)),r!==void 0&&(o.state=TD(r)),i!==void 0){if(o.state)throw new hie;o.stateDiff=TD(i)}return o}function xW(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!ul(n,{strict:!1}))throw new Qh({address:n});if(e[n])throw new fie({address:n});e[n]=Fie(r)}return e}const jie=2n**256n-1n;function FC(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=t,o=e?Yi(e):void 0;if(o&&!ul(o.address))throw new Qh({address:o.address});if(s&&!ul(s))throw new Qh({address:s});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new mie;if(r&&r>jie)throw new u3({maxFeePerGas:r});if(i&&r&&i>r)throw new d3({maxFeePerGas:r,maxPriorityFeePerGas:i})}class zie extends Fe{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class bR extends Fe{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Wie extends Fe{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${zo(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class EW extends Fe{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const AW={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function SW(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?jd(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?jd(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?AW[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=Hie(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function Hie(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function Vie(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:SW(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function X1(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:i}={}){var u,f,h;const s=i??!1,o=n!==void 0?cn(n):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[o||r,s]},{dedupe:!!o}),!a)throw new EW({blockHash:e,blockNumber:n});return(((h=(f=(u=t.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:h.format)||Vie)(a)}async function _W(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function G$e(t,e){return TW(t,e)}async function TW(t,e){var s,o;const{block:n,chain:r=t.chain,request:i}=e||{};try{const a=((s=r==null?void 0:r.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const u=n||await Cr(t,X1,"getBlock")({}),f=await a({block:u,client:t,request:i});if(f===null)throw new Error;return f}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return Fd(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):Cr(t,X1,"getBlock")({}),Cr(t,_W,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new bR;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function K$e(t,e){return qN(t,e)}async function qN(t,e){var p,g;const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var w,y;return typeof((w=r==null?void 0:r.fees)==null?void 0:w.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):((y=r==null?void 0:r.fees)==null?void 0:y.baseFeeMultiplier)??1.2})();if(o<1)throw new zie;const c=10**(((p=o.toString().split(".")[1])==null?void 0:p.length)??0),u=w=>w*BigInt(Math.ceil(o*c))/BigInt(c),f=n||await Cr(t,X1,"getBlock")({});if(typeof((g=r==null?void 0:r.fees)==null?void 0:g.estimateFeesPerGas)=="function"){const w=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:u,request:i,type:s});if(w!==null)return w}if(s==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new bR;const w=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await TW(t,{block:f,chain:r,request:i}),y=u(f.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??y+w,maxPriorityFeePerGas:w}}return{gasPrice:(i==null?void 0:i.gasPrice)??u(await Cr(t,_W,"getGasPrice")({}))}}async function IW(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?cn(r):n]},{dedupe:!!r});return jd(i)}function NW(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>vu(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>Vo(s))}function PW(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>vu(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>vu(o)):t.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],c=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?s:s.map(o=>Vo(o))}function qie(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}function Gie(t,e,n){return t&e^~t&n}function Kie(t,e,n){return t&e^t&n^e&n}class Yie extends eW{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=XT(this.buffer)}update(e){a3(this),e=sR(e),ig(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=XT(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){a3(this),Jz(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,D1(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;qie(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=XT(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,f[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Df=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Qie=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Lf=new Uint32Array(64);let Zie=class extends Yie{constructor(e=32){super(64,e,8,!1),this.A=Df[0]|0,this.B=Df[1]|0,this.C=Df[2]|0,this.D=Df[3]|0,this.E=Df[4]|0,this.F=Df[5]|0,this.G=Df[6]|0,this.H=Df[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let h=0;h<16;h++,n+=4)Lf[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const p=Lf[h-15],g=Lf[h-2],w=Ll(p,7)^Ll(p,18)^p>>>3,y=Ll(g,17)^Ll(g,19)^g>>>10;Lf[h]=y+Lf[h-7]+w+Lf[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:f}=this;for(let h=0;h<64;h++){const p=Ll(a,6)^Ll(a,11)^Ll(a,25),g=f+p+Gie(a,c,u)+Qie[h]+Lf[h]|0,y=(Ll(r,2)^Ll(r,13)^Ll(r,22))+Kie(r,i,s)|0;f=u,u=c,c=a,a=o+g|0,o=s,s=i,i=r,r=g+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,i,s,o,a,c,u,f)}roundClean(){D1(Lf)}destroy(){this.set(0,0,0,0,0,0,0,0),D1(this.buffer)}};const Jie=tW(()=>new Zie),Xie=Jie;function ese(t,e){return Xie(Yh(t,{strict:!1})?Z5(t):t)}function tse(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=ese(e);return i.set([n],0),r==="bytes"?i:Vo(i)}function nse(t){const{commitments:e,version:n}=t,r=t.to,i=[];for(const s of e)i.push(tse({commitment:s,to:r,version:n}));return i}const ID=6,kW=32,vR=4096,RW=kW*vR,ND=RW*ID-1-1*vR*ID;class rse extends Fe{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class ise extends Fe{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function sse(t){const e=typeof t.data=="string"?vu(t.data):t.data,n=hi(e);if(!n)throw new ise;if(n>ND)throw new rse({maxSize:ND,size:n});const r=[];let i=!0,s=0;for(;i;){const o=fR(new Uint8Array(RW));let a=0;for(;a<vR;){const c=e.slice(s,s+(kW-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),i=!1;break}a++,s+=31}r.push(o)}return r.map(o=>Vo(o.bytes))}function ose(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??sse({data:e}),s=t.commitments??NW({blobs:i,kzg:n,to:r}),o=t.proofs??PW({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}function ase(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new gie({transaction:t})}async function jC(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return jd(e)}const OW=["blobVersionedHashes","chainId","fees","gas","nonce","type"],PD=new Map;async function rS(t,e){const{account:n=t.account,blobs:r,chain:i,gas:s,kzg:o,nonce:a,nonceManager:c,parameters:u=OW,type:f}=e,h=n&&Yi(n),p={...e,...h?{from:h==null?void 0:h.address}:{}};let g;async function w(){return g||(g=await Cr(t,X1,"getBlock")({blockTag:"latest"}),g)}let y;async function b(){return y||(i?i.id:typeof e.chainId<"u"?e.chainId:(y=await Cr(t,jC,"getChainId")({}),y))}if(u.includes("nonce")&&typeof a>"u"&&h)if(c){const C=await b();p.nonce=await c.consume({address:h.address,chainId:C,client:t})}else p.nonce=await Cr(t,IW,"getTransactionCount")({address:h.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const C=NW({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const x=nse({commitments:C,to:"hex"});p.blobVersionedHashes=x}if(u.includes("sidecars")){const x=PW({blobs:r,commitments:C,kzg:o}),E=ose({blobs:r,commitments:C,proofs:x,to:"hex"});p.sidecars=E}}if(u.includes("chainId")&&(p.chainId=await b()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{p.type=ase(p)}catch{let C=PD.get(t.uid);if(typeof C>"u"){const x=await w();C=typeof(x==null?void 0:x.baseFeePerGas)=="bigint",PD.set(t.uid,C)}p.type=C?"eip1559":"legacy"}if(u.includes("fees"))if(p.type!=="legacy"&&p.type!=="eip2930"){if(typeof p.maxFeePerGas>"u"||typeof p.maxPriorityFeePerGas>"u"){const C=await w(),{maxFeePerGas:x,maxPriorityFeePerGas:E}=await qN(t,{block:C,chain:i,request:p});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<E)throw new Wie({maxPriorityFeePerGas:E});p.maxPriorityFeePerGas=E,p.maxFeePerGas=x}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new bR;if(typeof e.gasPrice>"u"){const C=await w(),{gasPrice:x}=await qN(t,{block:C,chain:i,request:p,type:"legacy"});p.gasPrice=x}}return u.includes("gas")&&typeof s>"u"&&(p.gas=await Cr(t,DW,"estimateGas")({...p,account:h&&{address:h.address,type:"json-rpc"}})),FC(p),delete p.parameters,p}async function $W(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const i=typeof n=="bigint"?cn(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}async function DW(t,e){var i,s,o;const{account:n=t.account}=e,r=n?Yi(n):void 0;try{let J=function(D){const{block:H,request:z,rpcStateOverride:Y}=D;return t.request({method:"eth_estimateGas",params:Y?[z,H??t.experimental_blockTag??"latest",Y]:H?[z,H]:[z]})};const{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,blockNumber:h,blockTag:p,data:g,gas:w,gasPrice:y,maxFeePerBlobGas:b,maxFeePerGas:C,maxPriorityFeePerGas:x,nonce:E,value:I,stateOverride:S,...T}=await rS(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),O=(typeof h=="bigint"?cn(h):void 0)||p,k=xW(S),M=await(async()=>{if(T.to)return T.to;if(c&&c.length>0)return await CW({authorization:c[0]}).catch(()=>{throw new Fe("`to` is required. Could not infer from `authorizationList`")})})();FC(e);const L=(o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,Q=(L||nS)({...wR(T,{format:L}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,data:g,gas:w,gasPrice:y,maxFeePerBlobGas:b,maxFeePerGas:C,maxPriorityFeePerGas:x,nonce:E,to:M,value:I});let $=BigInt(await J({block:O,request:Q,rpcStateOverride:k}));if(c){const D=await $W(t,{address:Q.from}),H=await Promise.all(c.map(async z=>{const{address:Y}=z,K=await J({block:O,request:{authorizationList:void 0,data:g,from:r==null?void 0:r.address,to:Y,value:cn(D)},rpcStateOverride:k}).catch(()=>100000n);return 2n*BigInt(K)}));$+=H.reduce((z,Y)=>z+Y,0n)}return $}catch(a){throw Mie(a,{...e,account:r,chain:t.chain})}}function LW(t,e){if(!ul(t,{strict:!1}))throw new Qh({address:t});if(!ul(e,{strict:!1}))throw new Qh({address:e});return t.toLowerCase()===e.toLowerCase()}const kD="/docs/contract/decodeEventLog";function cse(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[o,...a]=i;if(!o)throw new Wne({docsPath:kD});const c=e.find(y=>y.type==="event"&&o===oR(Kh(y)));if(!(c&&"name"in c)||c.type!=="event")throw new Hz(o,{docsPath:kD});const{name:u,inputs:f}=c,h=f==null?void 0:f.some(y=>!("name"in y&&y.name)),p=h?[]:{},g=f.map((y,b)=>[y,b]).filter(([y])=>"indexed"in y&&y.indexed);for(let y=0;y<g.length;y++){const[b,C]=g[y],x=a[y];if(!x)throw new Vz({abiItem:c,param:b});p[h?C:b.name||C]=lse({param:b,value:x})}const w=f.filter(y=>!("indexed"in y&&y.indexed));if(w.length>0){if(n&&n!=="0x")try{const y=eS(w,n);if(y)if(h)for(let b=0;b<f.length;b++)p[b]=p[b]??y.shift();else for(let b=0;b<w.length;b++)p[w[b].name]=y[b]}catch(y){if(s)throw y instanceof zz||y instanceof pW?new $N({abiItem:c,data:n,params:w,size:hi(n)}):y}else if(s)throw new $N({abiItem:c,data:"0x",params:w,size:0})}return{eventName:u,args:Object.values(p).length>0?p:void 0}}function lse({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(eS([t],e)||[])[0]}function use(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(f=>f.type==="event"&&o.topics[0]===oR(f));if(!c)return null;const u=cse({...o,abi:[c],strict:i});return s&&!s.includes(u.eventName)||!dse({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...o}}catch(c){let u,f;if(c instanceof Hz)return null;if(c instanceof $N||c instanceof Vz){if(i)return null;u=c.abiItem.name,f=(a=c.abiItem.inputs)==null?void 0:a.some(h=>!("name"in h&&h.name))}return{...o,args:f?[]:{},eventName:u}}}).filter(Boolean)}function dse(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?LW(o,a):s.type==="string"||s.type==="bytes"?MC(Z5(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,o)=>{if(s==null)return!0;const a=n[o];return a?(Array.isArray(s)?s:[s]).some(u=>i(a,u,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,o])=>{if(o==null)return!0;const a=n.find(u=>u.name===s);return a?(Array.isArray(o)?o:[o]).some(u=>i(a,u,e[s])):!1}):!1}function MW(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const n6="/docs/contract/decodeFunctionResult";function CR(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const a=dR({abi:e,args:n,name:r});if(!a)throw new s3(r,{docsPath:n6});s=a}if(s.type!=="function")throw new s3(void 0,{docsPath:n6});if(!s.outputs)throw new Hne(s.name,{docsPath:n6});const o=eS(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const fse="0.1.1";function hse(){return fse}let wb=class GN extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof GN){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof GN&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${hse()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return BW(this,e)}};function BW(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?BW(t.cause,e):e?null:t}const pse="#__bigint";function mse(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+pse:i,n)}function UW(t,e){if(Mw(t)>e)throw new Ase({givenSize:Mw(t),maxSize:e})}function gse(t,e){if(typeof e=="number"&&e>0&&e>Mw(t)-1)throw new zW({offset:e,position:"start",size:Mw(t)})}function yse(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Mw(t)!==n-e)throw new zW({offset:n,position:"end",size:Mw(t)})}function FW(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new Sse({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const wse=new TextEncoder,bse=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vse(t,e={}){const{strict:n=!1}=e;if(!t)throw new RD(t);if(typeof t!="string")throw new RD(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new OD(t);if(!t.startsWith("0x"))throw new OD(t)}function Q$e(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Z$e(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(UW(n,e.size),jW(n,e.size)):n}function Cse(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=bse[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(UW(r,e.size),xse(r,e.size)):r}function ld(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const u=typeof t=="bigint"?"n":"";throw new Ese({max:s?`${s}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${t}${u}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?jW(c,r):c}function J$e(t,e={}){return Cse(wse.encode(t),e)}function jW(t,e){return FW(t,{dir:"left",size:e})}function xse(t,e){return FW(t,{dir:"right",size:e})}function X$e(t,e,n,r={}){const{strict:i}=r;gse(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&yse(s,e,n),s}function Mw(t){return Math.ceil((t.length-2)/2)}function eDe(t,e={}){const{strict:n=!1}=e;try{return vse(t,{strict:n}),!0}catch{return!1}}let Ese=class extends wb{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class RD extends wb{constructor(e){super(`Value \`${typeof e=="object"?mse(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class OD extends wb{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let Ase=class extends wb{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class zW extends wb{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let Sse=class extends wb{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function _se(t){return{address:t.address,amount:ld(t.amount),index:ld(t.index),validatorIndex:ld(t.validatorIndex)}}function Tse(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:ld(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:ld(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:ld(t.gasLimit)},...typeof t.number=="bigint"&&{number:ld(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:ld(t.prevRandao)},...typeof t.time=="bigint"&&{time:ld(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(_se)}}}const KN=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],iDe=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],WW=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],sDe=[...WW,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],oDe=[...WW,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],aDe=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],cDe=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],lDe=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],uDe=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Ise="0x82ad56cb",Nse="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Pse="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",dDe="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class YN extends Fe{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class kse extends Fe{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class Rse extends Fe{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class HW extends Fe{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const r6="/docs/contract/encodeDeployData";function xR(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new Une({docsPath:r6});if(!("inputs"in i))throw new fD({docsPath:r6});if(!i.inputs||i.inputs.length===0)throw new fD({docsPath:r6});const s=fW(i.inputs,n);return X5([r,s])}function VW({blockNumber:t,chain:e,contract:n}){var i;const r=(i=e==null?void 0:e.contracts)==null?void 0:i[n];if(!r)throw new YN({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new YN({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Ose(t,{docsPath:e,...n}){const r=(()=>{const i=yR(t,n);return i instanceof tS?t:i})();return new vie(r,{docsPath:e,...n})}function ER(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const i6=new Map;function qW({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const f=c();o();const h=f.map(({args:p})=>p);h.length!==0&&t(h).then(p=>{i&&Array.isArray(p)&&p.sort(i);for(let g=0;g<f.length;g++){const{resolve:w}=f[g];w==null||w([p[g],p])}}).catch(p=>{for(let g=0;g<f.length;g++){const{reject:w}=f[g];w==null||w(p)}})},o=()=>i6.delete(e),a=()=>c().map(({args:f})=>f),c=()=>i6.get(e)||[],u=f=>i6.set(e,[...c(),f]);return{flush:o,async schedule(f){const{promise:h,resolve:p,reject:g}=ER();return(n==null?void 0:n([...a(),f]))&&s(),c().length>0?(u({args:f,resolve:p,reject:g}),h):(u({args:f,resolve:p,reject:g}),setTimeout(s,r),h)}}}async function GW(t,e){var Q,J,$,D;const{account:n=t.account,authorizationList:r,batch:i=!!((Q=t.batch)!=null&&Q.multicall),blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:h,factory:p,factoryData:g,gas:w,gasPrice:y,maxFeePerBlobGas:b,maxFeePerGas:C,maxPriorityFeePerGas:x,nonce:E,to:I,value:S,stateOverride:T,...R}=e,O=n?Yi(n):void 0;if(f&&(p||g))throw new Fe("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&I)throw new Fe("Cannot provide both `code` & `to` as parameters.");const k=f&&h,M=p&&g&&I&&h,L=k||M,j=k?Lse({code:f,data:h}):M?Mse({data:h,factory:p,factoryData:g,to:I}):h;try{FC(e);const z=(typeof s=="bigint"?cn(s):void 0)||o,Y=u?Tse(u):void 0,K=xW(T),q=(D=($=(J=t.chain)==null?void 0:J.formatters)==null?void 0:$.transactionRequest)==null?void 0:D.format,ue=(q||nS)({...wR(R,{format:q}),from:O==null?void 0:O.address,accessList:a,authorizationList:r,blobs:c,data:j,gas:w,gasPrice:y,maxFeePerBlobGas:b,maxFeePerGas:C,maxPriorityFeePerGas:x,nonce:E,to:L?void 0:I,value:S});if(i&&$se({request:ue})&&!K&&!Y)try{return await Dse(t,{...ue,blockNumber:s,blockTag:o})}catch(ve){if(!(ve instanceof HW)&&!(ve instanceof YN))throw ve}const le=(()=>{const ve=[ue,z];return K&&Y?[...ve,K,Y]:K?[...ve,K]:Y?[...ve,{},Y]:ve})(),ge=await t.request({method:"eth_call",params:le});return ge==="0x"?{data:void 0}:{data:ge}}catch(H){const z=Bse(H),{offchainLookup:Y,offchainLookupSignature:K}=await Oe(async()=>{const{offchainLookup:q,offchainLookupSignature:V}=await import("./ccip-7edvvbQh.js");return{offchainLookup:q,offchainLookupSignature:V}},__vite__mapDeps([0,1]));if(t.ccipRead!==!1&&(z==null?void 0:z.slice(0,10))===K&&I)return{data:await Y(t,{data:z,to:I})};throw L&&(z==null?void 0:z.slice(0,10))==="0x101bb98d"?new Eie({factory:p}):Ose(H,{...e,account:O,chain:t.chain})}}function $se({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(Ise)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function Dse(t,e){var y;const{batchSize:n=1024,wait:r=0}=typeof((y=t.batch)==null?void 0:y.multicall)=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:s=t.experimental_blockTag??"latest",data:o,multicallAddress:a,to:c}=e;let u=a;if(!u){if(!t.chain)throw new HW;u=VW({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=(typeof i=="bigint"?cn(i):void 0)||s,{schedule:p}=qW({id:`${t.uid}.${h}`,wait:r,shouldSplitBatch(b){return b.reduce((x,{data:E})=>x+(E.length-2),0)>n*2},fn:async b=>{const C=b.map(I=>({allowFailure:!0,callData:I.data,target:I.to})),x=BC({abi:KN,args:[C],functionName:"aggregate3"}),E=await t.request({method:"eth_call",params:[{data:x,to:u},h]});return CR({abi:KN,args:[C],functionName:"aggregate3",data:E||"0x"})}}),[{returnData:g,success:w}]=await p({data:o,to:c});if(!w)throw new mR({data:g});return g==="0x"?{data:void 0}:{data:g}}function Lse(t){const{code:e,data:n}=t;return xR({abi:Uz(["constructor(bytes, bytes)"]),bytecode:Nse,args:[e,n]})}function Mse(t){const{data:e,factory:n,factoryData:r,to:i}=t;return xR({abi:Uz(["constructor(address, bytes, address, bytes)"]),bytecode:Pse,args:[i,e,n,r]})}function Bse(t){var n;if(!(t instanceof Fe))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function KW(t,e){const{abi:n,address:r,args:i,functionName:s,...o}=e,a=BC({abi:n,args:i,functionName:s});try{const{data:c}=await Cr(t,GW,"call")({...o,data:a,to:r});return CR({abi:n,args:i,functionName:s,data:c||"0x"})}catch(c){throw l3(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}const s6=new Map,$D=new Map;let Use=0;function e2(t,e,n){const r=++Use,i=()=>s6.get(t)||[],s=()=>{const f=i();s6.set(t,f.filter(h=>h.id!==r))},o=()=>{const f=i();if(!f.some(p=>p.id===r))return;const h=$D.get(t);if(f.length===1&&h){const p=h();p instanceof Promise&&p.catch(()=>{})}s()},a=i();if(s6.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const f in e)c[f]=(...h)=>{var g,w;const p=i();if(p.length!==0)for(const y of p)(w=(g=y.fns)[f])==null||w.call(g,...h)};const u=n(c);return typeof u=="function"&&$D.set(t,u),o}async function f3(t){return new Promise(e=>setTimeout(e,t))}function AR(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const c=await(n==null?void 0:n(a))??r;await f3(c);const u=async()=>{i&&(await t({unpoll:s}),await f3(r),u())};u()})(),s}const Fse=new Map,jse=new Map;function zse(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=e(t,Fse),r=e(t,jse);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Wse(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=zse(e),i=r.response.get();if(i&&n>0&&new Date().getTime()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Hse=t=>`blockNumber.${t}`;async function Vse(t,{cacheTime:e=t.cacheTime}={}){const n=await Wse(()=>t.request({method:"eth_blockNumber"}),{cacheKey:Hse(t.uid),cacheTime:e});return BigInt(n)}async function qse(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>MW(s));return!("abi"in e)||!e.abi?i:use({abi:e.abi,logs:i,strict:n})}async function Gse(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}class Lg extends Fe{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class IA extends Fe{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function YW({chain:t,currentChainId:e}){if(!t)throw new Rse;if(e!==t.id)throw new kse({chain:t,currentChainId:e})}function QW(t,{docsPath:e,...n}){const r=(()=>{const i=yR(t,n);return i instanceof tS?t:i})();return new yie(r,{docsPath:e,...n})}async function ZW(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const o6=new J5(128);async function zC(t,e){var x,E,I,S;const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:g,type:w,value:y,...b}=e;if(typeof n>"u")throw new Lg({docsPath:"/docs/actions/wallet/sendTransaction"});const C=n?Yi(n):null;try{FC(e);const T=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await CW({authorization:s[0]}).catch(()=>{throw new Fe("`to` is required. Could not infer from `authorizationList`.")})})();if((C==null?void 0:C.type)==="json-rpc"||C===null){let R;r!==null&&(R=await Cr(t,jC,"getChainId")({}),YW({currentChainId:R,chain:r}));const O=(I=(E=(x=t.chain)==null?void 0:x.formatters)==null?void 0:E.transactionRequest)==null?void 0:I.format,M=(O||nS)({...wR(b,{format:O}),accessList:i,authorizationList:s,blobs:o,chainId:R,data:a,from:C==null?void 0:C.address,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:g,to:T,type:w,value:y}),L=o6.get(t.uid),j=L?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:j,params:[M]},{retryCount:0})}catch(Q){if(L===!1)throw Q;const J=Q;if(J.name==="InvalidInputRpcError"||J.name==="InvalidParamsRpcError"||J.name==="MethodNotFoundRpcError"||J.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[M]},{retryCount:0}).then($=>(o6.set(t.uid,!0),$)).catch($=>{const D=$;throw D.name==="MethodNotFoundRpcError"||D.name==="MethodNotSupportedRpcError"?(o6.set(t.uid,!1),J):D});throw J}}if((C==null?void 0:C.type)==="local"){const R=await Cr(t,rS,"prepareTransactionRequest")({account:C,accessList:i,authorizationList:s,blobs:o,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:g,nonceManager:C.nonceManager,parameters:[...OW,"sidecars"],type:w,value:y,...b,to:T}),O=(S=r==null?void 0:r.serializers)==null?void 0:S.transaction,k=await C.signTransaction(R,{serializer:O});return await Cr(t,ZW,"sendRawTransaction")({serializedTransaction:k})}throw(C==null?void 0:C.type)==="smart"?new IA({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new IA({docsPath:"/docs/actions/wallet/sendTransaction",type:C==null?void 0:C.type})}catch(T){throw T instanceof IA?T:QW(T,{...e,account:C,chain:e.chain||void 0})}}async function JW(t,e){const{abi:n,account:r=t.account,address:i,args:s,dataSuffix:o,functionName:a,...c}=e;if(typeof r>"u")throw new Lg({docsPath:"/docs/contract/writeContract"});const u=r?Yi(r):null,f=BC({abi:n,args:s,functionName:a});try{return await Cr(t,zC,"sendTransaction")({data:`${f}${o?o.replace("0x",""):""}`,to:i,account:u,...c})}catch(h){throw l3(h,{abi:n,address:i,args:s,docsPath:"/docs/contract/writeContract",functionName:a,sender:u==null?void 0:u.address})}}class Kse extends Fe{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}function t2(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof e=="function"?e({count:a,error:u}):e;f&&await f3(f),o({count:a+1})};try{const u=await t();i(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});s(u)}};o()})}const XW={"0x0":"reverted","0x1":"success"};function Yse(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>MW(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?jd(t.transactionIndex):null,status:t.status?XW[t.status]:null,type:t.type?AW[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const eH="0x5792579257925792579257925792579257925792579257925792579257925792",tH=cn(0,{size:32});async function Qse(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:u="2.0.0"}=e,f=n?Yi(n):null,h=e.calls.map(p=>{const g=p,w=g.abi?BC({abi:g.abi,functionName:g.functionName,args:g.args}):g.data;return{data:g.dataSuffix&&w?Zh([w,g.dataSuffix]):w,to:g.to,value:g.value?cn(g.value):void 0}});try{const p=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:h,capabilities:r,chainId:cn(i.id),from:f==null?void 0:f.address,id:c,version:u}]},{retryCount:0});return typeof p=="string"?{id:p}:p}catch(p){const g=p;if(s&&(g.name==="MethodNotFoundRpcError"||g.name==="MethodNotSupportedRpcError"||g.name==="UnknownRpcError"||g.details.toLowerCase().includes("does not exist / is not available")||g.details.toLowerCase().includes("missing or invalid. request()")||g.details.toLowerCase().includes("did not match any variant of untagged enum")||g.details.toLowerCase().includes("account upgraded to unsupported contract")||g.details.toLowerCase().includes("eip-7702 not supported")||g.details.toLowerCase().includes("unsupported wc_ method")||g.details.toLowerCase().includes("feature toggled misconfigured"))){if(r&&Object.values(r).some(x=>!x.optional)){const x="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Dw(new Fe(x,{details:x}))}if(a&&h.length>1){const C="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Lw(new Fe(C,{details:C}))}const w=[];for(const C of h){const x=zC(t,{account:f,chain:i,data:C.data,to:C.to,value:C.value?Fd(C.value):void 0});w.push(x),o>0&&await new Promise(E=>setTimeout(E,o))}const y=await Promise.allSettled(w);if(y.every(C=>C.status==="rejected"))throw y[0].reason;const b=y.map(C=>C.status==="fulfilled"?C.value:tH);return{id:Zh([...b,cn(i.id,{size:32}),eH])}}throw QW(p,{...e,account:f,chain:e.chain})}}async function nH(t,e){async function n(f){if(f.endsWith(eH.slice(2))){const p=kd(DN(f,-64,-32)),g=DN(f,0,-64).slice(2).match(/.{1,64}/g),w=await Promise.all(g.map(b=>tH.slice(2)!==b?t.request({method:"eth_getTransactionReceipt",params:[`0x${b}`]},{dedupe:!0}):void 0)),y=w.some(b=>b===null)?100:w.every(b=>(b==null?void 0:b.status)==="0x1")?200:w.every(b=>(b==null?void 0:b.status)==="0x0")?500:600;return{atomic:!1,chainId:jd(p),receipts:w.filter(Boolean),status:y,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:i,receipts:s,version:o="2.0.0",...a}=await n(e.id),[c,u]=(()=>{const f=a.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...a,atomic:r,chainId:i?jd(i):void 0,receipts:(s==null?void 0:s.map(f=>({...f,blockNumber:Fd(f.blockNumber),gasUsed:Fd(f.gasUsed),status:XW[f.status]})))??[],statusCode:u,status:c,version:o}}async function Zse(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:y})=>y===200||y>=300,retryCount:s=4,retryDelay:o=({count:y})=>~~(1<<y)*200,timeout:a=6e4,throwOnFailure:c=!1}=e,u=ro(["waitForCallsStatus",t.uid,n]),{promise:f,resolve:h,reject:p}=ER();let g;const w=e2(u,{resolve:h,reject:p},y=>{const b=AR(async()=>{const C=x=>{clearTimeout(g),b(),x(),w()};try{const x=await t2(async()=>{const E=await nH(t,{id:n});if(c&&E.status==="failure")throw new Kse(E);return E},{retryCount:s,delay:o});if(!i(x))return;C(()=>y.resolve(x))}catch(x){C(()=>y.reject(x))}},{interval:r,emitOnBegin:!0});return b});return g=a?setTimeout(()=>{w(),clearTimeout(g),p(new Jse({id:n}))},a):void 0,await f}class Jse extends Fe{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const QN=256;let OE=QN,$E;function rH(t=11){if(!$E||OE+t>QN*2){$E="",OE=0;for(let e=0;e<QN;e++)$E+=(256+Math.random()*256|0).toString(16).substring(1)}return $E.substring(OE,OE+++t)}function SR(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:s="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=t.pollingInterval??u,h=t.cacheTime??f,p=t.account?Yi(t.account):void 0,{config:g,request:w,value:y}=t.transport({chain:n,pollingInterval:f}),b={...g,...y},C={account:p,batch:e,cacheTime:h,ccipRead:r,chain:n,key:i,name:s,pollingInterval:f,request:w,transport:b,type:o,uid:rH(),...a?{experimental_blockTag:a}:{}};function x(E){return I=>{const S=I(E);for(const R in C)delete S[R];const T={...E,...S};return Object.assign(T,{extend:x(T)})}}return Object.assign(C,{extend:x(C)})}const DE=new J5(8192);function Xse(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(DE.get(n))return DE.get(n);const r=t().finally(()=>DE.delete(n));return DE.set(n,r),r}function eoe(t,e={}){return async(n,r={})=>{var h;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:u}=n;if((h=s==null?void 0:s.exclude)!=null&&h.includes(u))throw new sm(new Error("method not supported"),{method:u});if(s!=null&&s.include&&!s.include.includes(u))throw new sm(new Error("method not supported"),{method:u});const f=i?Q5(`${c}.${ro(n)}`):void 0;return Xse(()=>t2(async()=>{try{return await t(n)}catch(p){const g=p;switch(g.code){case M1.code:throw new M1(g);case B1.code:throw new B1(g);case U1.code:throw new U1(g,{method:n.method});case F1.code:throw new F1(g);case sg.code:throw new sg(g);case j1.code:throw new j1(g);case z1.code:throw new z1(g);case Uh.code:throw new Uh(g);case Ow.code:throw new Ow(g);case sm.code:throw new sm(g,{method:n.method});case $w.code:throw new $w(g);case W1.code:throw new W1(g);case wi.code:throw new wi(g);case H1.code:throw new H1(g);case V1.code:throw new V1(g);case q1.code:throw new q1(g);case G1.code:throw new G1(g);case Cu.code:throw new Cu(g);case Dw.code:throw new Dw(g);case K1.code:throw new K1(g);case Y1.code:throw new Y1(g);case Q1.code:throw new Q1(g);case Z1.code:throw new Z1(g);case J1.code:throw new J1(g);case Lw.code:throw new Lw(g);case 5e3:throw new wi(g);default:throw p instanceof Fe?p:new Sie(g)}}},{delay:({count:p,error:g})=>{var w;if(g&&g instanceof c1){const y=(w=g==null?void 0:g.headers)==null?void 0:w.get("Retry-After");if(y!=null&&y.match(/\d/))return Number.parseInt(y)*1e3}return~~(1<<p)*o},retryCount:a,shouldRetry:({error:p})=>toe(p)}),{enabled:i,id:f})}}function toe(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===$w.code||t.code===sg.code:t instanceof c1&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function _R({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const u=rH();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:eoe(r,{methods:e,retryCount:i,retryDelay:s,uid:u}),value:c}}function iH(t,e={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>_R({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}function DD(t,e={}){const{key:n="fallback",name:r="Fallback",rank:i=!1,shouldThrow:s=noe,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:u=4e3,timeout:f,...h})=>{let p=t,g=()=>{};const w=_R({key:n,name:r,async request({method:y,params:b}){let C;const x=async(E=0)=>{const I=p[E]({...h,chain:c,retryCount:0,timeout:f});try{const S=await I.request({method:y,params:b});return g({method:y,params:b,response:S,transport:I,status:"success"}),S}catch(S){if(g({error:S,method:y,params:b,transport:I,status:"error"}),s(S)||E===p.length-1||(C??(C=p.slice(E+1).some(T=>{const{include:R,exclude:O}=T({chain:c}).config.methods||{};return R?R.includes(y):O?!O.includes(y):!0})),!C))throw S;return x(E+1)}};return x()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:y=>g=y,transports:p.map(y=>y({chain:c,retryCount:0}))});if(i){const y=typeof i=="object"?i:{};roe({chain:c,interval:y.interval??u,onTransports:b=>p=b,ping:y.ping,sampleCount:y.sampleCount,timeout:y.timeout,transports:p,weights:y.weights})}return w}}function noe(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Ow.code||t.code===wi.code||om.nodeMessage.test(t.message)||t.code===5e3))}function roe({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,f=[],h=async()=>{const p=await Promise.all(o.map(async y=>{const b=y({chain:t,retryCount:0,timeout:s}),C=Date.now();let x,E;try{await(r?r({transport:b}):b.request({method:"net_listening"})),E=1}catch{E=0}finally{x=Date.now()}return{latency:x-C,success:E}}));f.push(p),f.length>i&&f.shift();const g=Math.max(...f.map(y=>Math.max(...y.map(({latency:b})=>b)))),w=o.map((y,b)=>{const C=f.map(T=>T[b].latency),E=1-C.reduce((T,R)=>T+R,0)/C.length/g,I=f.map(T=>T[b].success),S=I.reduce((T,R)=>T+R,0)/I.length;return S===0?[0,b]:[u*E+c*S,b]}).sort((y,b)=>b[0]-y[0]);n(w.map(([,y])=>o[y])),await f3(e),h()};h()}class ioe extends Fe{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function sH(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(e)},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function soe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const LD=soe();function ooe(t,e={}){return{async request(n){var h;const{body:r,onRequest:i=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:f}=a;try{const p=await sH(async({signal:w})=>{const y={...a,body:Array.isArray(r)?ro(r.map(E=>({jsonrpc:"2.0",id:E.id??LD.take(),...E}))):ro({jsonrpc:"2.0",id:r.id??LD.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:f||(o>0?w:null)},b=new Request(t,y),C=await(i==null?void 0:i(b,y))??{...y,url:t};return await fetch(C.url??t,C)},{errorInstance:new AD({body:r,url:t}),timeout:o,signal:!0});s&&await s(p);let g;if((h=p.headers.get("Content-Type"))!=null&&h.startsWith("application/json"))g=await p.json();else{g=await p.text();try{g=JSON.parse(g||"{}")}catch(w){if(p.ok)throw w;g={error:g}}}if(!p.ok)throw new c1({body:r,details:ro(g.error)||p.statusText,headers:p.headers,status:p.status,url:t});return g}catch(p){throw p instanceof c1||p instanceof AD?p:new c1({body:r,cause:p,url:t})}}}}function LE(t,e={}){const{batch:n,fetchOptions:r,key:i="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:u,raw:f}=e;return({chain:h,retryCount:p,timeout:g})=>{const{batchSize:w=1e3,wait:y=0}=typeof n=="object"?n:{},b=e.retryCount??p,C=g??e.timeout??1e4,x=t||(h==null?void 0:h.rpcUrls.default.http[0]);if(!x)throw new ioe;const E=ooe(x,{fetchOptions:r,onRequest:a,onResponse:c,timeout:C});return _R({key:i,methods:s,name:o,async request({method:I,params:S}){const T={method:I,params:S},{schedule:R}=qW({id:x,wait:y,shouldSplitBatch(L){return L.length>w},fn:L=>E.request({body:L}),sort:(L,j)=>L.id-j.id}),O=async L=>n?R(L):[await E.request({body:L})],[{error:k,result:M}]=await O(T);if(f)return{error:k,result:M};if(k)throw new gR({body:T,error:k,url:x});return M},retryCount:b,retryDelay:u,timeout:C,type:"http"},{fetchOptions:r,url:x})}}async function aoe(t){const e=Vre(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}function WC(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}class coe extends Fe{constructor({domain:e}){super(`Invalid domain "${ro(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class loe extends Fe{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class uoe extends Fe{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function doe(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(c,u)=>{const f={...u};for(const h of c){const{name:p,type:g}=h;g==="address"&&(f[p]=f[p].toLowerCase())}return f},o=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return s(i[r],n)})();return ro({domain:o,message:a,primaryType:r,types:i})}function foe(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(o,a)=>{for(const c of o){const{name:u,type:f}=c,h=a[u],p=f.match(dW);if(p&&(typeof h=="number"||typeof h=="bigint")){const[y,b,C]=p;cn(h,{signed:b==="int",size:Number.parseInt(C)/8})}if(f==="address"&&typeof h=="string"&&!ul(h))throw new Qh({address:h});const g=f.match(Lre);if(g){const[y,b]=g;if(b&&hi(h)!==Number.parseInt(b))throw new qne({expectedSize:Number.parseInt(b),givenSize:hi(h)})}const w=i[f];w&&(poe(f),s(w,h))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new coe({domain:e});s(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])s(i[r],n);else throw new loe({primaryType:r,types:i})}function hoe({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function poe(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new uoe({type:t})}class moe extends Fe{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function goe(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new moe({value:t});let[n,r="0"]=t.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[s,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):r=`${s}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${i?"-":""}${n}${r}`)}async function oH(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){var f,h,p;const o=r||"latest",a=n!==void 0?cn(n):void 0;let c=null;if(i?c=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,cn(s)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,cn(s)]},{dedupe:!!a}),!c)throw new gW({blockHash:e,blockNumber:n,blockTag:o,hash:i,index:s});return(((p=(h=(f=t.chain)==null?void 0:f.formatters)==null?void 0:h.transaction)==null?void 0:p.format)||SW)(c)}async function a6(t,{hash:e}){var i,s,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new yW({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||Yse)(n)}async function yoe(t,e){var C;const{account:n,allowFailure:r=!0,batchSize:i,blockNumber:s,blockTag:o,multicallAddress:a,stateOverride:c}=e,u=e.contracts,f=i??(typeof((C=t.batch)==null?void 0:C.multicall)=="object"&&t.batch.multicall.batchSize||1024);let h=a;if(!h){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");h=VW({blockNumber:s,chain:t.chain,contract:"multicall3"})}const p=[[]];let g=0,w=0;for(let x=0;x<u.length;x++){const{abi:E,address:I,args:S,functionName:T}=u[x];try{const R=BC({abi:E,args:S,functionName:T});w+=(R.length-2)/2,f>0&&w>f&&p[g].length>0&&(g++,w=(R.length-2)/2,p[g]=[]),p[g]=[...p[g],{allowFailure:!0,callData:R,target:I}]}catch(R){const O=l3(R,{abi:E,address:I,args:S,docsPath:"/docs/contract/multicall",functionName:T,sender:n});if(!r)throw O;p[g]=[...p[g],{allowFailure:!0,callData:"0x",target:I}]}}const y=await Promise.allSettled(p.map(x=>Cr(t,KW,"readContract")({abi:KN,account:n,address:h,args:[x],blockNumber:s,blockTag:o,functionName:"aggregate3",stateOverride:c}))),b=[];for(let x=0;x<y.length;x++){const E=y[x];if(E.status==="rejected"){if(!r)throw E.reason;for(let S=0;S<p[x].length;S++)b.push({status:"failure",error:E.reason,result:void 0});continue}const I=E.value;for(let S=0;S<I.length;S++){const{returnData:T,success:R}=I[S],{callData:O}=p[x][S],{abi:k,address:M,functionName:L,args:j}=u[b.length];try{if(O==="0x")throw new Y5;if(!R)throw new mR({data:T});const Q=CR({abi:k,args:j,data:T,functionName:L});b.push(r?{result:Q,status:"success"}:Q)}catch(Q){const J=l3(Q,{abi:k,address:M,args:j,docsPath:"/docs/contract/multicall",functionName:L});if(!r)throw J;b.push({error:J,result:void 0,status:"failure"})}}}if(b.length!==u.length)throw new Fe("multicall results mismatch");return b}function woe(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const h=ro(["watchBlockNumber",t.uid,e,n,o]);return e2(h,{onBlockNumber:r,onError:i},p=>AR(async()=>{var g;try{const w=await Cr(t,Vse,"getBlockNumber")({cacheTime:0});if(c){if(w===c)return;if(w-c>1&&n)for(let y=c+1n;y<w;y++)p.onBlockNumber(y,c),c=y}(!c||w>c)&&(p.onBlockNumber(w,c),c=w)}catch(w){(g=p.onError)==null||g.call(p,w)}},{emitOnBegin:e,interval:o}))})():(()=>{const h=ro(["watchBlockNumber",t.uid,e,n]);return e2(h,{onBlockNumber:r,onError:i},p=>{let g=!0,w=()=>g=!1;return(async()=>{try{const y=(()=>{if(t.transport.type==="fallback"){const C=t.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return C?C.value:t.transport}return t.transport})(),{unsubscribe:b}=await y.subscribe({params:["newHeads"],onData(C){var E;if(!g)return;const x=Fd((E=C.result)==null?void 0:E.number);p.onBlockNumber(x,c),c=x},onError(C){var x;(x=p.onError)==null||x.call(p,C)}});w=b,g||w()}catch(y){i==null||i(y)}})(),()=>w()})})()}async function boe(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:S})=>~~(1<<S)*200,timeout:c=18e4}=e,u=ro(["waitForTransactionReceipt",t.uid,i]),f=(()=>{var S;return e.pollingInterval?e.pollingInterval:(S=t.chain)!=null&&S.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let h,p,g,w=!1,y,b;const{promise:C,resolve:x,reject:E}=ER(),I=c?setTimeout(()=>{b(),y(),E(new wie({hash:i}))},c):void 0;return y=e2(u,{onReplaced:s,resolve:x,reject:E},async S=>{if(g=await Cr(t,a6,"getTransactionReceipt")({hash:i}).catch(()=>{}),g&&r<=1){clearTimeout(I),S.resolve(g),y();return}b=Cr(t,woe,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(T){const R=k=>{clearTimeout(I),b(),k(),y()};let O=T;if(!w)try{if(g){if(r>1&&(!g.blockNumber||O-g.blockNumber+1n<r))return;R(()=>S.resolve(g));return}if(n&&!h&&(w=!0,await t2(async()=>{h=await Cr(t,oH,"getTransaction")({hash:i}),h.blockNumber&&(O=h.blockNumber)},{delay:a,retryCount:o}),w=!1),g=await Cr(t,a6,"getTransactionReceipt")({hash:i}),r>1&&(!g.blockNumber||O-g.blockNumber+1n<r))return;R(()=>S.resolve(g))}catch(k){if(k instanceof gW||k instanceof yW){if(!h){w=!1;return}try{p=h,w=!0;const M=await t2(()=>Cr(t,X1,"getBlock")({blockNumber:O,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:Q})=>Q instanceof EW});w=!1;const L=M.transactions.find(({from:Q,nonce:J})=>Q===p.from&&J===p.nonce);if(!L||(g=await Cr(t,a6,"getTransactionReceipt")({hash:L.hash}),r>1&&(!g.blockNumber||O-g.blockNumber+1n<r)))return;let j="replaced";L.to===p.to&&L.value===p.value&&L.input===p.input?j="repriced":L.from===L.to&&L.value===0n&&(j="cancelled"),R(()=>{var Q;(Q=S.onReplaced)==null||Q.call(S,{reason:j,replacedTransaction:p,transaction:L,transactionReceipt:g}),S.resolve(g)})}catch(M){R(()=>S.reject(M))}}else R(()=>S.reject(k))}}})}),C}function voe(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const u=ro(["watchPendingTransactions",t.uid,e,s]);return e2(u,{onTransactions:r,onError:n},f=>{let h;const p=AR(async()=>{var g;try{if(!h)try{h=await Cr(t,aoe,"createPendingTransactionFilter")({});return}catch(y){throw p(),y}const w=await Cr(t,qse,"getFilterChanges")({filter:h});if(w.length===0)return;if(e)f.onTransactions(w);else for(const y of w)f.onTransactions([y])}catch(w){(g=f.onError)==null||g.call(f,w)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await Cr(t,Gse,"uninstallFilter")({filter:h}),p()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!u)return;const g=p.result;r([g])},onError(p){n==null||n(p)}});f=h,u||f()}catch(h){n==null||n(h)}})(),()=>f()})()}async function Coe(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:cn(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function xoe(t,e){const{abi:n,args:r,bytecode:i,...s}=e,o=xR({abi:n,args:r,bytecode:i});return zC(t,{...s,...s.authorizationList?{to:null}:{},data:o})}async function Eoe(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>gb(r))}async function Aoe(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?Yi(n):void 0,s=r?[i==null?void 0:i.address,[cn(r)]]:[i==null?void 0:i.address],o=await t.request({method:"wallet_getCapabilities",params:s}),a={};for(const[c,u]of Object.entries(o)){a[Number(c)]={};for(let[f,h]of Object.entries(u))f==="addSubAccount"&&(f="unstable_addSubAccount"),a[Number(c)][f]=h}return typeof r=="number"?a[r]:a}async function Soe(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function aH(t,e){var c;const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new Lg({docsPath:"/docs/eip7702/prepareAuthorization"});const s=Yi(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Yi(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await Cr(t,jC,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await Cr(t,IW,"getTransactionCount")({address:s.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&LW(o.address,s.address))&&(a.nonce+=1)),a}async function _oe(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Id(n))}async function Toe(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function Ioe(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function Noe(t,e){const{account:n=t.account}=e;if(!n)throw new Lg({docsPath:"/docs/eip7702/signAuthorization"});const r=Yi(n);if(!r.signAuthorization)throw new IA({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await aH(t,e);return r.signAuthorization(i)}async function cH(t,{account:e=t.account,message:n}){if(!e)throw new Lg({docsPath:"/docs/actions/wallet/signMessage"});const r=Yi(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?Q5(n):n.raw instanceof Uint8Array?Rw(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function Poe(t,e){var u,f,h,p;const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new Lg({docsPath:"/docs/actions/wallet/signTransaction"});const s=Yi(n);FC({account:s,...e});const o=await Cr(t,jC,"getChainId")({});r!==null&&YW({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((u=t.chain)==null?void 0:u.formatters),c=((f=a==null?void 0:a.transactionRequest)==null?void 0:f.format)||nS;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:(p=(h=t.chain)==null?void 0:h.serializers)==null?void 0:p.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(i),chainId:cn(o),from:s.address}]},{retryCount:0})}async function koe(t,e){const{account:n=t.account,domain:r,message:i,primaryType:s}=e;if(!n)throw new Lg({docsPath:"/docs/actions/wallet/signTypedData"});const o=Yi(n),a={EIP712Domain:hoe({domain:r}),...e.types};if(foe({domain:r,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:i,primaryType:s,types:a});const c=doe({domain:r,message:i,primaryType:s,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function Roe(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:cn(e)}]},{retryCount:0})}async function Ooe(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function $oe(t){return{addChain:e=>Coe(t,e),deployContract:e=>xoe(t,e),getAddresses:()=>Eoe(t),getCallsStatus:e=>nH(t,e),getCapabilities:e=>Aoe(t,e),getChainId:()=>jC(t),getPermissions:()=>Soe(t),prepareAuthorization:e=>aH(t,e),prepareTransactionRequest:e=>rS(t,e),requestAddresses:()=>_oe(t),requestPermissions:e=>Toe(t,e),sendCalls:e=>Qse(t,e),sendRawTransaction:e=>ZW(t,e),sendTransaction:e=>zC(t,e),showCallsStatus:e=>Ioe(t,e),signAuthorization:e=>Noe(t,e),signMessage:e=>cH(t,e),signTransaction:e=>Poe(t,e),signTypedData:e=>koe(t,e),switchChain:e=>Roe(t,e),waitForCallsStatus:e=>Zse(t,e),watchAsset:e=>Ooe(t,e),writeContract:e=>JW(t,e)}}const c6={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return yb(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},TR={async getMyTokensWithBalance(t){const e=Le.state.address,n=F.state.activeCaipNetwork,r=pe.getConnectorId("eip155")===oe.CONNECTOR_ID.AUTH;if(!e||!n)return[];const i=`${n.caipNetworkId}:${e}`,s=Ne.getBalanceCacheForCaipAddress(i);if(s)return s.balances;if(n.chainNamespace===oe.CHAIN.EVM&&r){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const o=await Qt.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){var n,r;try{const i=c6.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),s=await Ce.getCapabilities(t);if(!((r=(n=s==null?void 0:s[i])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await Ce.walletGetAssets({account:t,chainFilter:[i]});if(!c6.isWalletGetAssetsResponse(o))return null;const c=(o[i]||[]).map(u=>c6.createBalance(u,e.caipNetworkId));return Ne.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},Ml=gr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),Doe={state:Ml,replaceState(t){t&&Object.assign(Ml,tg(t))},subscribe(t){return F.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return F.subscribeChainProp("accountState",i=>{if(i){const s=i[t];r!==s&&(r=s,e(s))}},n)},setStatus(t,e){F.setAccountProp("status",t,e)},getCaipAddress(t){var e,n;if(t)return(n=(e=F.state.chains.get(t))==null?void 0:e.accountState)==null?void 0:n.caipAddress},setCaipAddress(t,e){const n=t?be.getPlainAddress(t):void 0;e===F.state.activeChain&&(F.state.activeCaipAddress=t),F.setAccountProp("caipAddress",t,e),F.setAccountProp("address",n,e)},setBalance(t,e,n){F.setAccountProp("balance",t,n),F.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){F.setAccountProp("profileName",t,e)},setProfileImage(t,e){F.setAccountProp("profileImage",t,e)},setUser(t,e){F.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){F.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){F.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){F.setAccountProp("currentTab",t,F.state.activeChain)},setTokenBalance(t,e){t&&F.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){F.setAccountProp("shouldUpdateToAddress",t,e)},addAddressLabel(t,e,n){var i,s;if(!n)return;const r=((s=(i=F.state.chains.get(n))==null?void 0:i.accountState)==null?void 0:s.addressLabels)||new Map;r.set(t,e),F.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){var r,i;if(!e)return;const n=((i=(r=F.state.chains.get(e))==null?void 0:r.accountState)==null?void 0:i.addressLabels)||new Map;n.delete(t),F.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){F.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){F.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&F.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){F.setAccountProp("socialWindow",t?tg(t):void 0,e)},setFarcasterUrl(t,e){F.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var s,o;Ml.balanceLoading=!0;const e=(s=F.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=F.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=F.state.activeCaipAddress,i=r?be.getPlainAddress(r):void 0;if(Ml.lastRetry&&!be.isAllowedRetry(Ml.lastRetry,30*rn.ONE_SEC_MS))return Ml.balanceLoading=!1,[];try{if(i&&e&&n){const a=await TR.getMyTokensWithBalance();return Le.setTokenBalance(a,n),Ml.lastRetry=void 0,Ml.balanceLoading=!1,a}}catch(a){Ml.lastRetry=Date.now(),t==null||t(a),Tn.showError("Token Balance Unavailable")}finally{Ml.balanceLoading=!1}return[]},resetAccount(t){F.resetAccount(t)}},Le=Yo(Doe),lH={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=F.state.activeCaipNetwork,r=Ee.state.data;if(t.id===(n==null?void 0:n.id))return;const s=Le.getCaipAddress(F.state.activeChain),o=t.chainNamespace!==F.state.activeChain,a=Le.getCaipAddress(t.chainNamespace),u=pe.getConnectorId(F.state.activeChain)===oe.CONNECTOR_ID.AUTH,f=oe.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(h=>h===t.chainNamespace);e||u&&f?Ee.push("SwitchNetwork",{...r,network:t}):s&&o&&!a?Ee.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):Ee.push("SwitchNetwork",{...r,network:t})}},Eo=gr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Loe={state:Eo,subscribe(t){return xi(Eo,()=>t(Eo))},subscribeKey(t,e){return Oi(Eo,t,e)},async open(t){var s,o;const e=t==null?void 0:t.namespace,n=F.state.activeChain,r=e&&e!==n,i=(s=F.getAccountData(t==null?void 0:t.namespace))==null?void 0:s.caipAddress;if(Ce.state.wcBasic?nt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await nt.prefetch(),pe.setFilterByNamespace(t==null?void 0:t.namespace),Kt.setLoading(!0,e),e&&r){const a=((o=F.getNetworkData(e))==null?void 0:o.caipNetwork)||F.getRequestedCaipNetworks(e)[0];a&&lH.onSwitchNetwork({network:a,ignoreSwitchConfirmation:!0})}else{const a=F.state.noAdapters;ce.state.manualWCControl||a&&!i?be.isMobile()?Ee.reset("AllWallets"):Ee.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?Ee.reset(t.view,t.data):i?Ee.reset("Account"):Ee.reset("Connect")}Eo.open=!0,nl.set({open:!0}),At.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=ce.state.enableEmbedded,e=!!F.state.activeCaipAddress;Eo.open&&At.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Eo.open=!1,Ee.reset("Connect"),Kt.clearLoading(),t?e?Ee.replace("Account"):Ee.push("Connect"):nl.set({open:!1}),Ce.resetUri()},setLoading(t,e){e&&Eo.loadingNamespaceMap.set(e,t),Eo.loading=t,nl.set({loading:t})},clearLoading(){Eo.loadingNamespaceMap.clear(),Eo.loading=!1,nl.set({loading:!1})},shake(){Eo.shake||(Eo.shake=!0,setTimeout(()=>{Eo.shake=!1},500))}},Kt=Yo(Loe),l1={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},ZN={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},Moe={providers:Ez,selectedProvider:null,error:null,purchaseCurrency:l1,paymentCurrency:ZN,purchaseCurrencies:[l1],paymentCurrencies:[],quotesLoading:!1},Bn=gr(Moe),Boe={state:Bn,subscribe(t){return xi(Bn,()=>t(Bn))},subscribeKey(t,e){return Oi(Bn,t,e)},setSelectedProvider(t){var e,n;if(t&&t.name==="meld"){const r=F.state.activeChain,i=r===oe.CHAIN.SOLANA?"SOL":"USDC",s=r?((n=(e=F.state.chains.get(r))==null?void 0:e.accountState)==null?void 0:n.address)??"":"",o=new URL(t.url);o.searchParams.append("publicKey",wte),o.searchParams.append("destinationCurrencyCode",i),o.searchParams.append("walletAddress",s),o.searchParams.append("externalCustomerId",ce.state.projectId),Bn.selectedProvider={...t,url:o.toString()}}else Bn.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=Ez.filter(r=>e.includes(r.name));Bn.providers=n}else Bn.providers=[]},setPurchaseCurrency(t){Bn.purchaseCurrency=t},setPaymentCurrency(t){Bn.paymentCurrency=t},setPurchaseAmount(t){JN.state.purchaseAmount=t},setPaymentAmount(t){JN.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Qt.getOnrampOptions();Bn.purchaseCurrencies=t.purchaseCurrencies,Bn.paymentCurrencies=t.paymentCurrencies,Bn.paymentCurrency=t.paymentCurrencies[0]||ZN,Bn.purchaseCurrency=t.purchaseCurrencies[0]||l1,await nt.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await nt.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;Bn.quotesLoading=!0;try{const n=await Qt.getOnrampQuote({purchaseCurrency:Bn.purchaseCurrency,paymentCurrency:Bn.paymentCurrency,amount:((t=Bn.paymentAmount)==null?void 0:t.toString())||"0",network:(e=Bn.purchaseCurrency)==null?void 0:e.symbol});return Bn.quotesLoading=!1,Bn.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return Bn.error=n.message,Bn.quotesLoading=!1,null}finally{Bn.quotesLoading=!1}},resetState(){Bn.selectedProvider=null,Bn.error=null,Bn.purchaseCurrency=l1,Bn.paymentCurrency=ZN,Bn.purchaseCurrencies=[l1],Bn.paymentCurrencies=[],Bn.paymentAmount=void 0,Bn.purchaseAmount=void 0,Bn.quotesLoading=!1}},JN=Yo(Boe),Dc=gr({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),Uoe={state:Dc,subscribe(t){return xi(Dc,()=>t(Dc))},subscribeKey(t,e){return Oi(Dc,t,e)},showTooltip({message:t,triggerRect:e,variant:n}){Dc.open=!0,Dc.message=t,Dc.triggerRect=e,Dc.variant=n},hide(){Dc.open=!1,Dc.message="",Dc.triggerRect={width:0,height:0,top:0,left:0}}},ma=Yo(Uoe),MD=2147483648,Foe={convertEVMChainIdToCoinType(t){if(t>=MD)throw new Error("Invalid chainId");return(MD|t)>>>0}},ja=gr({suggestions:[],loading:!1}),joe={state:ja,subscribe(t){return xi(ja,()=>t(ja))},subscribeKey(t,e){return Oi(ja,t,e)},async resolveName(t){var e,n;try{return await Qt.lookupEnsName(t)}catch(r){const i=r;throw new Error(((n=(e=i==null?void 0:i.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Qt.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{ja.loading=!0,ja.suggestions=[];const e=await Qt.getEnsNameSuggestions(t);return ja.suggestions=e.suggestions||[],ja.suggestions}catch(e){const n=u1.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{ja.loading=!1}},async getNamesForAddress(t){try{if(!F.state.activeCaipNetwork)return[];const n=Ne.getEnsFromCacheForAddress(t);if(n)return n;const r=await Qt.reverseLookupEnsName({address:t});return Ne.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=u1.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=F.state.activeCaipNetwork,n=Le.state.address,r=pe.getAuthConnector();if(!e)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");ja.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Ee.pushTransactionStack({onCancel(){Ee.replace("RegisterAccountName")}});const s=await Ce.signMessage(i);ja.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=Foe.convertEVMChainIdToCoinType(Number(o));await Qt.registerEnsName({coinType:a,address:n,signature:s,message:i}),Le.setProfileName(t,e.chainNamespace),Ne.updateEnsCache({address:n,ens:[{name:t,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),Ee.replace("RegisterAccountNameSuccess")}catch(i){const s=u1.parseEnsApiError(i,`Error registering name ${t}`);throw Ee.replace("RegisterAccountName"),new Error(s)}finally{ja.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,i;const n=t;return((i=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:i.description)||e}},u1=Yo(joe),Ev=gr({isLegalCheckboxChecked:!1}),Gm={state:Ev,subscribe(t){return xi(Ev,()=>t(Ev))},subscribeKey(t,e){return Oi(Ev,t,e)},setIsLegalCheckboxChecked(t){Ev.isLegalCheckboxChecked=t}};var ME={exports:{}},BD;function zoe(){if(BD)return ME.exports;BD=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(S,T,R){return Function.prototype.apply.call(S,T,R)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:n=function(S){return Object.getOwnPropertyNames(S)};function r(I){console&&console.warn&&console.warn(I)}var i=Number.isNaN||function(S){return S!==S};function s(){s.init.call(this)}ME.exports=s,ME.exports.once=C,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(I){if(typeof I!="number"||I<0||i(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");o=I}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function c(I){return I._maxListeners===void 0?s.defaultMaxListeners:I._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(S){for(var T=[],R=1;R<arguments.length;R++)T.push(arguments[R]);var O=S==="error",k=this._events;if(k!==void 0)O=O&&k.error===void 0;else if(!O)return!1;if(O){var M;if(T.length>0&&(M=T[0]),M instanceof Error)throw M;var L=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw L.context=M,L}var j=k[S];if(j===void 0)return!1;if(typeof j=="function")e(j,this,T);else for(var Q=j.length,J=w(j,Q),R=0;R<Q;++R)e(J[R],this,T);return!0};function u(I,S,T,R){var O,k,M;if(a(T),k=I._events,k===void 0?(k=I._events=Object.create(null),I._eventsCount=0):(k.newListener!==void 0&&(I.emit("newListener",S,T.listener?T.listener:T),k=I._events),M=k[S]),M===void 0)M=k[S]=T,++I._eventsCount;else if(typeof M=="function"?M=k[S]=R?[T,M]:[M,T]:R?M.unshift(T):M.push(T),O=c(I),O>0&&M.length>O&&!M.warned){M.warned=!0;var L=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");L.name="MaxListenersExceededWarning",L.emitter=I,L.type=S,L.count=M.length,r(L)}return I}s.prototype.addListener=function(S,T){return u(this,S,T,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(S,T){return u(this,S,T,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(I,S,T){var R={fired:!1,wrapFn:void 0,target:I,type:S,listener:T},O=f.bind(R);return O.listener=T,R.wrapFn=O,O}s.prototype.once=function(S,T){return a(T),this.on(S,h(this,S,T)),this},s.prototype.prependOnceListener=function(S,T){return a(T),this.prependListener(S,h(this,S,T)),this},s.prototype.removeListener=function(S,T){var R,O,k,M,L;if(a(T),O=this._events,O===void 0)return this;if(R=O[S],R===void 0)return this;if(R===T||R.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete O[S],O.removeListener&&this.emit("removeListener",S,R.listener||T));else if(typeof R!="function"){for(k=-1,M=R.length-1;M>=0;M--)if(R[M]===T||R[M].listener===T){L=R[M].listener,k=M;break}if(k<0)return this;k===0?R.shift():y(R,k),R.length===1&&(O[S]=R[0]),O.removeListener!==void 0&&this.emit("removeListener",S,L||T)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(S){var T,R,O;if(R=this._events,R===void 0)return this;if(R.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):R[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete R[S]),this;if(arguments.length===0){var k=Object.keys(R),M;for(O=0;O<k.length;++O)M=k[O],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=R[S],typeof T=="function")this.removeListener(S,T);else if(T!==void 0)for(O=T.length-1;O>=0;O--)this.removeListener(S,T[O]);return this};function p(I,S,T){var R=I._events;if(R===void 0)return[];var O=R[S];return O===void 0?[]:typeof O=="function"?T?[O.listener||O]:[O]:T?b(O):w(O,O.length)}s.prototype.listeners=function(S){return p(this,S,!0)},s.prototype.rawListeners=function(S){return p(this,S,!1)},s.listenerCount=function(I,S){return typeof I.listenerCount=="function"?I.listenerCount(S):g.call(I,S)},s.prototype.listenerCount=g;function g(I){var S=this._events;if(S!==void 0){var T=S[I];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function w(I,S){for(var T=new Array(S),R=0;R<S;++R)T[R]=I[R];return T}function y(I,S){for(;S+1<I.length;S++)I[S]=I[S+1];I.pop()}function b(I){for(var S=new Array(I.length),T=0;T<S.length;++T)S[T]=I[T].listener||I[T];return S}function C(I,S){return new Promise(function(T,R){function O(M){I.removeListener(S,k),R(M)}function k(){typeof I.removeListener=="function"&&I.removeListener("error",O),T([].slice.call(arguments))}E(I,S,k,{once:!0}),S!=="error"&&x(I,O,{once:!0})})}function x(I,S,T){typeof I.on=="function"&&E(I,"error",S,T)}function E(I,S,T,R){if(typeof I.on=="function")R.once?I.once(S,T):I.on(S,T);else if(typeof I.addEventListener=="function")I.addEventListener(S,function O(k){R.once&&I.removeEventListener(S,O),T(k)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}return ME.exports}var wc=zoe();const IR=gc(wc);var l6={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var XN=function(t,e){return XN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},XN(t,e)};function Woe(t,e){XN(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var e4=function(){return e4=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},e4.apply(this,arguments)};function Hoe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Voe(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function qoe(t,e){return function(n,r){e(n,r,t)}}function Goe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Koe(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function c(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Yoe(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(f){return c([u,f])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(f){u=[6,f],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Qoe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Zoe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function t4(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function uH(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Joe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(uH(arguments[e]));return t}function Xoe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function n2(t){return this instanceof n2?(this.v=t,this):new n2(t)}function eae(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(g){return new Promise(function(w,y){s.push([p,g,w,y])>1||a(p,g)})})}function a(p,g){try{c(r[p](g))}catch(w){h(s[0][3],w)}}function c(p){p.value instanceof n2?Promise.resolve(p.value.v).then(u,f):h(s[0][2],p)}function u(p){a("next",p)}function f(p){a("throw",p)}function h(p,g){p(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function tae(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:n2(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function nae(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof t4=="function"?t4(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function rae(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function iae(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function sae(t){return t&&t.__esModule?t:{default:t}}function oae(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function aae(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const cae=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return e4},__asyncDelegator:tae,__asyncGenerator:eae,__asyncValues:nae,__await:n2,__awaiter:Koe,__classPrivateFieldGet:oae,__classPrivateFieldSet:aae,__createBinding:Qoe,__decorate:Voe,__exportStar:Zoe,__extends:Woe,__generator:Yoe,__importDefault:sae,__importStar:iae,__makeTemplateObject:rae,__metadata:Goe,__param:qoe,__read:uH,__rest:Hoe,__spread:Joe,__spreadArrays:Xoe,__values:t4},Symbol.toStringTag,{value:"Module"})),iS=Kj(cae);var u6={},Av={},UD;function lae(){if(UD)return Av;UD=1,Object.defineProperty(Av,"__esModule",{value:!0}),Av.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return Av.delay=t,Av}var Up={},d6={},Fp={},FD;function uae(){return FD||(FD=1,Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.ONE_THOUSAND=Fp.ONE_HUNDRED=void 0,Fp.ONE_HUNDRED=100,Fp.ONE_THOUSAND=1e3),Fp}var f6={},jD;function dae(){return jD||(jD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(f6)),f6}var zD;function dH(){return zD||(zD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=iS;e.__exportStar(uae(),t),e.__exportStar(dae(),t)}(d6)),d6}var WD;function fae(){if(WD)return Up;WD=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.fromMiliseconds=Up.toMiliseconds=void 0;const t=dH();function e(r){return r*t.ONE_THOUSAND}Up.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Up.fromMiliseconds=n,Up}var HD;function hae(){return HD||(HD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=iS;e.__exportStar(lae(),t),e.__exportStar(fae(),t)}(u6)),u6}var R0={},VD;function pae(){if(VD)return R0;VD=1,Object.defineProperty(R0,"__esModule",{value:!0}),R0.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return R0.Watch=t,R0.default=t,R0}var h6={},Sv={},qD;function mae(){if(qD)return Sv;qD=1,Object.defineProperty(Sv,"__esModule",{value:!0}),Sv.IWatch=void 0;class t{}return Sv.IWatch=t,Sv}var GD;function gae(){return GD||(GD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),iS.__exportStar(mae(),t)}(h6)),h6}var KD;function yae(){return KD||(KD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=iS;e.__exportStar(hae(),t),e.__exportStar(pae(),t),e.__exportStar(gae(),t),e.__exportStar(dH(),t)}(l6)),l6}var rt=yae();class Mg{}let wae=class extends Mg{constructor(e){super()}};const YD=rt.FIVE_SECONDS,Bg={pulse:"heartbeat_pulse"};let bae=class fH extends wae{constructor(e){super(e),this.events=new wc.EventEmitter,this.interval=YD,this.interval=(e==null?void 0:e.interval)||YD}static async init(e){const n=new fH(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),rt.toMiliseconds(this.interval))}pulse(){this.events.emit(Bg.pulse)}};const vae=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Cae=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,xae=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Eae(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Aae(t);return}return e}function Aae(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function BE(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!xae.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(vae.test(t)||Cae.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Eae)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function Ug(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function hH(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Ug(n);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}let p6;function HC(){return p6||(p6=hH("keyval-store","keyval")),p6}function QD(t,e=HC()){return e("readonly",n=>Ug(n.get(t)))}function Sae(t,e,n=HC()){return n("readwrite",r=>(r.put(e,t),Ug(r.transaction)))}function _ae(t,e=HC()){return e("readwrite",n=>(n.delete(t),Ug(n.transaction)))}function Tae(t=HC()){return t("readwrite",e=>(e.clear(),Ug(e.transaction)))}function Iae(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Ug(t.transaction)}function Nae(t=HC()){return t("readonly",e=>{if(e.getAllKeys)return Ug(e.getAllKeys());const n=[];return Iae(e,r=>n.push(r.key)).then(()=>n)})}const Pae=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),kae=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function og(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return kae(t)}catch{return t}}function zd(t){return typeof t=="string"?t:Pae(t)||""}var m6,ZD;function Rae(){if(ZD)return m6;ZD=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}m6=e;function e(n,r,i){var s=i&&i.stringify||t,o=1;if(typeof n=="object"&&n!==null){var a=r.length+o;if(a===1)return n;var c=new Array(a);c[0]=s(n);for(var u=1;u<a;u++)c[u]=s(r[u]);return c.join(" ")}if(typeof n!="string")return n;var f=r.length;if(f===0)return n;for(var h="",p=1-o,g=-1,w=n&&n.length||0,y=0;y<w;){if(n.charCodeAt(y)===37&&y+1<w){switch(g=g>-1?g:0,n.charCodeAt(y+1)){case 100:case 102:if(p>=f||r[p]==null)break;g<y&&(h+=n.slice(g,y)),h+=Number(r[p]),g=y+2,y++;break;case 105:if(p>=f||r[p]==null)break;g<y&&(h+=n.slice(g,y)),h+=Math.floor(Number(r[p])),g=y+2,y++;break;case 79:case 111:case 106:if(p>=f||r[p]===void 0)break;g<y&&(h+=n.slice(g,y));var b=typeof r[p];if(b==="string"){h+="'"+r[p]+"'",g=y+2,y++;break}if(b==="function"){h+=r[p].name||"<anonymous>",g=y+2,y++;break}h+=s(r[p]),g=y+2,y++;break;case 115:if(p>=f)break;g<y&&(h+=n.slice(g,y)),h+=String(r[p]),g=y+2,y++;break;case 37:g<y&&(h+=n.slice(g,y)),h+="%",g=y+2,y++,p--;break}++p}++y}return g===-1?n:(g<w&&(h+=n.slice(g)),h)}return m6}var g6,JD;function Oae(){if(JD)return g6;JD=1;const t=Rae();g6=i;const e=S().console||{},n={mapHttpRequest:w,mapHttpResponse:w,wrapRequestSerializer:y,wrapResponseSerializer:y,wrapErrorSerializer:y,req:w,res:w,err:p};function r(T,R){return Array.isArray(T)?T.filter(function(k){return k!=="!stdSerializers.err"}):T===!0?Object.keys(R):!1}function i(T){T=T||{},T.browser=T.browser||{};const R=T.browser.transmit;if(R&&typeof R.send!="function")throw Error("pino: transmit option must have a send function");const O=T.browser.write||e;T.browser.write&&(T.browser.asObject=!0);const k=T.serializers||{},M=r(T.browser.serialize,k);let L=T.browser.serialize;Array.isArray(T.browser.serialize)&&T.browser.serialize.indexOf("!stdSerializers.err")>-1&&(L=!1);const j=["error","fatal","warn","info","debug","trace"];typeof O=="function"&&(O.error=O.fatal=O.warn=O.info=O.debug=O.trace=O),T.enabled===!1&&(T.level="silent");const Q=T.level||"info",J=Object.create(O);J.log||(J.log=b),Object.defineProperty(J,"levelVal",{get:D}),Object.defineProperty(J,"level",{get:H,set:z});const $={transmit:R,serialize:M,asObject:T.browser.asObject,levels:j,timestamp:g(T)};J.levels=i.levels,J.level=Q,J.setMaxListeners=J.getMaxListeners=J.emit=J.addListener=J.on=J.prependListener=J.once=J.prependOnceListener=J.removeListener=J.removeAllListeners=J.listeners=J.listenerCount=J.eventNames=J.write=J.flush=b,J.serializers=k,J._serialize=M,J._stdErrSerialize=L,J.child=Y,R&&(J._logEvent=h());function D(){return this.level==="silent"?1/0:this.levels.values[this.level]}function H(){return this._level}function z(K){if(K!=="silent"&&!this.levels.values[K])throw Error("unknown level "+K);this._level=K,s($,J,"error","log"),s($,J,"fatal","error"),s($,J,"warn","error"),s($,J,"info","log"),s($,J,"debug","log"),s($,J,"trace","log")}function Y(K,q){if(!K)throw new Error("missing bindings for child Pino");q=q||{},M&&K.serializers&&(q.serializers=K.serializers);const V=q.serializers;if(M&&V){var ue=Object.assign({},k,V),le=T.browser.serialize===!0?Object.keys(ue):M;delete K.serializers,c([K],le,ue,this._stdErrSerialize)}function ge(ve){this._childLevel=(ve._childLevel|0)+1,this.error=u(ve,K,"error"),this.fatal=u(ve,K,"fatal"),this.warn=u(ve,K,"warn"),this.info=u(ve,K,"info"),this.debug=u(ve,K,"debug"),this.trace=u(ve,K,"trace"),ue&&(this.serializers=ue,this._serialize=le),R&&(this._logEvent=h([].concat(ve._logEvent.bindings,K)))}return ge.prototype=this,new ge(this)}return J}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:C,epochTime:x,unixTime:E,isoTime:I});function s(T,R,O,k){const M=Object.getPrototypeOf(R);R[O]=R.levelVal>R.levels.values[O]?b:M[O]?M[O]:e[O]||e[k]||b,o(T,R,O)}function o(T,R,O){!T.transmit&&R[O]===b||(R[O]=function(k){return function(){const L=T.timestamp(),j=new Array(arguments.length),Q=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var J=0;J<j.length;J++)j[J]=arguments[J];if(T.serialize&&!T.asObject&&c(j,this._serialize,this.serializers,this._stdErrSerialize),T.asObject?k.call(Q,a(this,O,j,L)):k.apply(Q,j),T.transmit){const $=T.transmit.level||R.level,D=i.levels.values[$],H=i.levels.values[O];if(H<D)return;f(this,{ts:L,methodLevel:O,methodValue:H,transmitValue:i.levels.values[T.transmit.level||R.level],send:T.transmit.send,val:R.levelVal},j)}}}(R[O]))}function a(T,R,O,k){T._serialize&&c(O,T._serialize,T.serializers,T._stdErrSerialize);const M=O.slice();let L=M[0];const j={};k&&(j.time=k),j.level=i.levels.values[R];let Q=(T._childLevel|0)+1;if(Q<1&&(Q=1),L!==null&&typeof L=="object"){for(;Q--&&typeof M[0]=="object";)Object.assign(j,M.shift());L=M.length?t(M.shift(),M):void 0}else typeof L=="string"&&(L=t(M.shift(),M));return L!==void 0&&(j.msg=L),j}function c(T,R,O,k){for(const M in T)if(k&&T[M]instanceof Error)T[M]=i.stdSerializers.err(T[M]);else if(typeof T[M]=="object"&&!Array.isArray(T[M]))for(const L in T[M])R&&R.indexOf(L)>-1&&L in O&&(T[M][L]=O[L](T[M][L]))}function u(T,R,O){return function(){const k=new Array(1+arguments.length);k[0]=R;for(var M=1;M<k.length;M++)k[M]=arguments[M-1];return T[O].apply(this,k)}}function f(T,R,O){const k=R.send,M=R.ts,L=R.methodLevel,j=R.methodValue,Q=R.val,J=T._logEvent.bindings;c(O,T._serialize||Object.keys(T.serializers),T.serializers,T._stdErrSerialize===void 0?!0:T._stdErrSerialize),T._logEvent.ts=M,T._logEvent.messages=O.filter(function($){return J.indexOf($)===-1}),T._logEvent.level.label=L,T._logEvent.level.value=j,k(L,T._logEvent,Q),T._logEvent=h(J)}function h(T){return{ts:0,messages:[],bindings:T||[],level:{label:"",value:0}}}function p(T){const R={type:T.constructor.name,msg:T.message,stack:T.stack};for(const O in T)R[O]===void 0&&(R[O]=T[O]);return R}function g(T){return typeof T.timestamp=="function"?T.timestamp:T.timestamp===!1?C:x}function w(){return{}}function y(T){return T}function b(){}function C(){return!1}function x(){return Date.now()}function E(){return Math.round(Date.now()/1e3)}function I(){return new Date(Date.now()).toISOString()}function S(){function T(R){return typeof R<"u"&&R}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return T(self)||T(window)||T(this)||{}}}return g6}var ny=Oae();const VC=gc(ny),$ae={level:"info"},qC="custom_context",NR=1e3*1024;let Dae=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},XD=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new Dae(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},pH=class{constructor(e,n=NR){this.level=e??"error",this.levelValue=ny.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new XD(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===ny.levels.values.error?console.error(e):n===ny.levels.values.warn?console.warn(e):n===ny.levels.values.debug?console.debug(e):n===ny.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(zd({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new XD(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(zd({extraMetadata:e})),new Blob(n,{type:"application/json"})}},Lae=class{constructor(e,n=NR){this.baseChunkLogger=new pH(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},Mae=class{constructor(e,n=NR){this.baseChunkLogger=new pH(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Bae=Object.defineProperty,Uae=Object.defineProperties,Fae=Object.getOwnPropertyDescriptors,e7=Object.getOwnPropertySymbols,jae=Object.prototype.hasOwnProperty,zae=Object.prototype.propertyIsEnumerable,t7=(t,e,n)=>e in t?Bae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h3=(t,e)=>{for(var n in e||(e={}))jae.call(e,n)&&t7(t,n,e[n]);if(e7)for(var n of e7(e))zae.call(e,n)&&t7(t,n,e[n]);return t},p3=(t,e)=>Uae(t,Fae(e));function bb(t){return p3(h3({},t),{level:(t==null?void 0:t.level)||$ae.level})}function Wae(t,e=qC){return t[e]||""}function Hae(t,e,n=qC){return t[n]=e,t}function Zo(t,e=qC){let n="";return typeof t.bindings>"u"?n=Wae(t,e):n=t.bindings().context||"",n}function Vae(t,e,n=qC){const r=Zo(t,n);return r.trim()?`${r}/${e}`:e}function Bs(t,e,n=qC){const r=Vae(t,e,n),i=t.child({context:r});return Hae(i,r,n)}function qae(t){var e,n;const r=new Lae((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:VC(p3(h3({},t.opts),{level:"trace",browser:p3(h3({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function Gae(t){var e;const n=new Mae((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:VC(p3(h3({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function PR(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?qae(t):Gae(t)}function Kae(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function mH(t,...e){if(!Kae(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function n7(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Yae(t,e){mH(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const O0=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const y6=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Qae(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function gH(t){return typeof t=="string"&&(t=Qae(t)),mH(t),t}let Zae=class{clone(){return this._cloneInto()}};function Jae(t){const e=r=>t().update(gH(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function yH(t=32){if(O0&&typeof O0.getRandomValues=="function")return O0.getRandomValues(new Uint8Array(t));if(O0&&typeof O0.randomBytes=="function")return O0.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function Xae(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}let ece=class extends Zae{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=y6(this.buffer)}update(e){n7(this);const{view:n,buffer:r,blockLen:i}=this;e=gH(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=y6(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){n7(this),Yae(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;Xae(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=y6(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,f[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const UE=BigInt(2**32-1),n4=BigInt(32);function wH(t,e=!1){return e?{h:Number(t&UE),l:Number(t>>n4&UE)}:{h:Number(t>>n4&UE)|0,l:Number(t&UE)|0}}function tce(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=wH(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const nce=(t,e)=>BigInt(t>>>0)<<n4|BigInt(e>>>0),rce=(t,e,n)=>t>>>n,ice=(t,e,n)=>t<<32-n|e>>>n,sce=(t,e,n)=>t>>>n|e<<32-n,oce=(t,e,n)=>t<<32-n|e>>>n,ace=(t,e,n)=>t<<64-n|e>>>n-32,cce=(t,e,n)=>t>>>n-32|e<<64-n,lce=(t,e)=>e,uce=(t,e)=>t,dce=(t,e,n)=>t<<n|e>>>32-n,fce=(t,e,n)=>e<<n|t>>>32-n,hce=(t,e,n)=>e<<n-32|t>>>64-n,pce=(t,e,n)=>t<<n-32|e>>>64-n;function mce(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const gce=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),yce=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,wce=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),bce=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,vce=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Cce=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,bn={fromBig:wH,split:tce,toBig:nce,shrSH:rce,shrSL:ice,rotrSH:sce,rotrSL:oce,rotrBH:ace,rotrBL:cce,rotr32H:lce,rotr32L:uce,rotlSH:dce,rotlSL:fce,rotlBH:hce,rotlBL:pce,add:mce,add3L:gce,add3H:yce,add4L:wce,add4H:bce,add5H:Cce,add5L:vce},[xce,Ece]=bn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Mf=new Uint32Array(80),Bf=new Uint32Array(80);let Ace=class extends ece{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:f,Fh:h,Fl:p,Gh:g,Gl:w,Hh:y,Hl:b}=this;return[e,n,r,i,s,o,a,c,u,f,h,p,g,w,y,b]}set(e,n,r,i,s,o,a,c,u,f,h,p,g,w,y,b){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=f|0,this.Fh=h|0,this.Fl=p|0,this.Gh=g|0,this.Gl=w|0,this.Hh=y|0,this.Hl=b|0}process(e,n){for(let E=0;E<16;E++,n+=4)Mf[E]=e.getUint32(n),Bf[E]=e.getUint32(n+=4);for(let E=16;E<80;E++){const I=Mf[E-15]|0,S=Bf[E-15]|0,T=bn.rotrSH(I,S,1)^bn.rotrSH(I,S,8)^bn.shrSH(I,S,7),R=bn.rotrSL(I,S,1)^bn.rotrSL(I,S,8)^bn.shrSL(I,S,7),O=Mf[E-2]|0,k=Bf[E-2]|0,M=bn.rotrSH(O,k,19)^bn.rotrBH(O,k,61)^bn.shrSH(O,k,6),L=bn.rotrSL(O,k,19)^bn.rotrBL(O,k,61)^bn.shrSL(O,k,6),j=bn.add4L(R,L,Bf[E-7],Bf[E-16]),Q=bn.add4H(j,T,M,Mf[E-7],Mf[E-16]);Mf[E]=Q|0,Bf[E]=j|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:f,Eh:h,El:p,Fh:g,Fl:w,Gh:y,Gl:b,Hh:C,Hl:x}=this;for(let E=0;E<80;E++){const I=bn.rotrSH(h,p,14)^bn.rotrSH(h,p,18)^bn.rotrBH(h,p,41),S=bn.rotrSL(h,p,14)^bn.rotrSL(h,p,18)^bn.rotrBL(h,p,41),T=h&g^~h&y,R=p&w^~p&b,O=bn.add5L(x,S,R,Ece[E],Bf[E]),k=bn.add5H(O,C,I,T,xce[E],Mf[E]),M=O|0,L=bn.rotrSH(r,i,28)^bn.rotrBH(r,i,34)^bn.rotrBH(r,i,39),j=bn.rotrSL(r,i,28)^bn.rotrBL(r,i,34)^bn.rotrBL(r,i,39),Q=r&s^r&a^s&a,J=i&o^i&c^o&c;C=y|0,x=b|0,y=g|0,b=w|0,g=h|0,w=p|0,{h,l:p}=bn.add(u|0,f|0,k|0,M|0),u=a|0,f=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const $=bn.add3L(M,j,J);r=bn.add3H($,k,L,Q),i=$|0}({h:r,l:i}=bn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=bn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=bn.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:f}=bn.add(this.Dh|0,this.Dl|0,u|0,f|0),{h,l:p}=bn.add(this.Eh|0,this.El|0,h|0,p|0),{h:g,l:w}=bn.add(this.Fh|0,this.Fl|0,g|0,w|0),{h:y,l:b}=bn.add(this.Gh|0,this.Gl|0,y|0,b|0),{h:C,l:x}=bn.add(this.Hh|0,this.Hl|0,C|0,x|0),this.set(r,i,s,o,a,c,u,f,h,p,g,w,y,b,C,x)}roundClean(){Mf.fill(0),Bf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Sce=Jae(()=>new Ace);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kR=BigInt(0),bH=BigInt(1),_ce=BigInt(2);function RR(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function OR(t){if(!RR(t))throw new Error("Uint8Array expected")}function w6(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Tce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function $R(t){OR(t);let e="";for(let n=0;n<t.length;n++)e+=Tce[t[n]];return e}function vH(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?kR:BigInt("0x"+t)}const Gu={_0:48,_9:57,A:65,F:70,a:97,f:102};function r7(t){if(t>=Gu._0&&t<=Gu._9)return t-Gu._0;if(t>=Gu.A&&t<=Gu.F)return t-(Gu.A-10);if(t>=Gu.a&&t<=Gu.f)return t-(Gu.a-10)}function CH(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=r7(t.charCodeAt(s)),a=r7(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Ice(t){return vH($R(t))}function NA(t){return OR(t),vH($R(Uint8Array.from(t).reverse()))}function xH(t,e){return CH(t.toString(16).padStart(e*2,"0"))}function r4(t,e){return xH(t,e).reverse()}function Ku(t,e,n){let r;if(typeof e=="string")try{r=CH(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(RR(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function i7(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];OR(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const b6=t=>typeof t=="bigint"&&kR<=t;function Nce(t,e,n){return b6(t)&&b6(e)&&b6(n)&&e<=t&&t<n}function _v(t,e,n,r){if(!Nce(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Pce(t){let e;for(e=0;t>kR;t>>=bH,e+=1);return e}const kce=t=>(_ce<<BigInt(t-1))-bH,Rce={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||RR(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function DR(t,e,n={}){const r=(i,s,o)=>{const a=Rce[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function s7(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Gi=BigInt(0),ui=BigInt(1),Qp=BigInt(2),Oce=BigInt(3),i4=BigInt(4),o7=BigInt(5),a7=BigInt(8);function Pi(t,e){const n=t%e;return n>=Gi?n:e+n}function $ce(t,e,n){if(e<Gi)throw new Error("invalid exponent, negatives unsupported");if(n<=Gi)throw new Error("invalid modulus");if(n===ui)return Gi;let r=ui;for(;e>Gi;)e&ui&&(r=r*t%n),t=t*t%n,e>>=ui;return r}function Bl(t,e,n){let r=t;for(;e-- >Gi;)r*=r,r%=n;return r}function c7(t,e){if(t===Gi)throw new Error("invert: expected non-zero number");if(e<=Gi)throw new Error("invert: expected positive modulus, got "+e);let n=Pi(t,e),r=e,i=Gi,s=ui;for(;n!==Gi;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==ui)throw new Error("invert: does not exist");return Pi(i,e)}function Dce(t){const e=(t-ui)/Qp;let n,r,i;for(n=t-ui,r=0;n%Qp===Gi;n/=Qp,r++);for(i=Qp;i<t&&$ce(i,e,t)!==t-ui;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+ui)/i4;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+ui)/Qp;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,u=o.pow(o.mul(o.ONE,i),n),f=o.pow(a,s),h=o.pow(a,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let p=1;for(let w=o.sqr(h);p<c&&!o.eql(w,o.ONE);p++)w=o.sqr(w);const g=o.pow(u,ui<<BigInt(c-p-1));u=o.sqr(g),f=o.mul(f,g),h=o.mul(h,u),c=p}return f}}function Lce(t){if(t%i4===Oce){const e=(t+ui)/i4;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%a7===o7){const e=(t-o7)/a7;return function(n,r){const i=n.mul(r,Qp),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,Qp),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return Dce(t)}const Mce=(t,e)=>(Pi(t,e)&ui)===ui,Bce=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Uce(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Bce.reduce((r,i)=>(r[i]="function",r),e);return DR(t,n)}function Fce(t,e,n){if(n<Gi)throw new Error("invalid exponent, negatives unsupported");if(n===Gi)return t.ONE;if(n===ui)return e;let r=t.ONE,i=e;for(;n>Gi;)n&ui&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ui;return r}function jce(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function EH(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function AH(t,e,n=!1,r={}){if(t<=Gi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=EH(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:kce(i),ZERO:Gi,ONE:ui,create:c=>Pi(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Gi<=c&&c<t},is0:c=>c===Gi,isOdd:c=>(c&ui)===ui,neg:c=>Pi(-c,t),eql:(c,u)=>c===u,sqr:c=>Pi(c*c,t),add:(c,u)=>Pi(c+u,t),sub:(c,u)=>Pi(c-u,t),mul:(c,u)=>Pi(c*u,t),pow:(c,u)=>Fce(a,c,u),div:(c,u)=>Pi(c*c7(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>c7(c,t),sqrt:r.sqrt||(c=>(o||(o=Lce(t)),o(a,c))),invertBatch:c=>jce(a,c),cmov:(c,u,f)=>f?u:c,toBytes:c=>n?r4(c,s):xH(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?NA(c):Ice(c)}});return Object.freeze(a)}const l7=BigInt(0),FE=BigInt(1);function v6(t,e){const n=e.negate();return t?n:e}function SH(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function C6(t,e){SH(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function zce(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Wce(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const x6=new WeakMap,_H=new WeakMap;function E6(t){return _H.get(t)||1}function Hce(t,e){return{constTimeNegate:v6,hasPrecomputes(n){return E6(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>l7;)r&FE&&(i=i.add(s)),s=s.double(),r>>=FE;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=C6(r,e),o=[];let a=n,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let f=1;f<s;f++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=C6(n,e);let a=t.ZERO,c=t.BASE;const u=BigInt(2**n-1),f=2**n,h=BigInt(n);for(let p=0;p<s;p++){const g=p*o;let w=Number(i&u);i>>=h,w>o&&(w-=f,i+=FE);const y=g,b=g+Math.abs(w)-1,C=p%2!==0,x=w<0;w===0?c=c.add(v6(C,r[y])):a=a.add(v6(x,r[b]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=C6(n,e),c=BigInt(2**n-1),u=2**n,f=BigInt(n);for(let h=0;h<o;h++){const p=h*a;if(i===l7)break;let g=Number(i&c);if(i>>=f,g>a&&(g-=u,i+=FE),g===0)continue;let w=r[p+Math.abs(g)-1];g<0&&(w=w.negate()),s=s.add(w)}return s},getPrecomputes(n,r,i){let s=x6.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&x6.set(r,i(s))),s},wNAFCached(n,r,i){const s=E6(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=E6(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){SH(r,e),_H.set(n,r),x6.delete(n)}}}function Vce(t,e,n,r){if(zce(n,t),Wce(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Pce(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((e.BITS-1)/o)*o;let f=i;for(let h=u;h>=0;h-=o){c.fill(i);for(let g=0;g<r.length;g++){const w=r[g],y=Number(w>>BigInt(h)&BigInt(a));c[y]=c[y].add(n[g])}let p=i;for(let g=c.length-1,w=i;g>0;g--)w=w.add(c[g]),p=p.add(w);if(f=f.add(p),h!==0)for(let g=0;g<o;g++)f=f.double()}return f}function qce(t){return Uce(t.Fp),DR(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...EH(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Lc=BigInt(0),Ao=BigInt(1),jE=BigInt(2),Gce=BigInt(8),Kce={zip215:!0};function Yce(t){const e=qce(t);return DR(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Qce(t){const e=Yce(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,u=jE<<BigInt(a*8)-Ao,f=n.create,h=AH(e.n,e.nBitLength),p=e.uvRatio||(($,D)=>{try{return{isValid:!0,value:n.sqrt($*n.inv(D))}}catch{return{isValid:!1,value:Lc}}}),g=e.adjustScalarBytes||($=>$),w=e.domain||(($,D,H)=>{if(w6("phflag",H),D.length||H)throw new Error("Contexts/pre-hash are not supported");return $});function y($,D){_v("coordinate "+$,D,Lc,u)}function b($){if(!($ instanceof E))throw new Error("ExtendedPoint expected")}const C=s7(($,D)=>{const{ex:H,ey:z,ez:Y}=$,K=$.is0();D==null&&(D=K?Gce:n.inv(Y));const q=f(H*D),V=f(z*D),ue=f(Y*D);if(K)return{x:Lc,y:Ao};if(ue!==Ao)throw new Error("invZ was invalid");return{x:q,y:V}}),x=s7($=>{const{a:D,d:H}=e;if($.is0())throw new Error("bad point: ZERO");const{ex:z,ey:Y,ez:K,et:q}=$,V=f(z*z),ue=f(Y*Y),le=f(K*K),ge=f(le*le),ve=f(V*D),Pe=f(le*f(ve+ue)),Ie=f(ge+f(H*f(V*ue)));if(Pe!==Ie)throw new Error("bad point: equation left != right (1)");const ke=f(z*Y),it=f(K*q);if(ke!==it)throw new Error("bad point: equation left != right (2)");return!0});class E{constructor(D,H,z,Y){this.ex=D,this.ey=H,this.ez=z,this.et=Y,y("x",D),y("y",H),y("z",z),y("t",Y),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(D){if(D instanceof E)throw new Error("extended point not allowed");const{x:H,y:z}=D||{};return y("x",H),y("y",z),new E(H,z,Ao,f(H*z))}static normalizeZ(D){const H=n.invertBatch(D.map(z=>z.ez));return D.map((z,Y)=>z.toAffine(H[Y])).map(E.fromAffine)}static msm(D,H){return Vce(E,h,D,H)}_setWindowSize(D){T.setWindowSize(this,D)}assertValidity(){x(this)}equals(D){b(D);const{ex:H,ey:z,ez:Y}=this,{ex:K,ey:q,ez:V}=D,ue=f(H*V),le=f(K*Y),ge=f(z*V),ve=f(q*Y);return ue===le&&ge===ve}is0(){return this.equals(E.ZERO)}negate(){return new E(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){const{a:D}=e,{ex:H,ey:z,ez:Y}=this,K=f(H*H),q=f(z*z),V=f(jE*f(Y*Y)),ue=f(D*K),le=H+z,ge=f(f(le*le)-K-q),ve=ue+q,Pe=ve-V,Ie=ue-q,ke=f(ge*Pe),it=f(ve*Ie),Xt=f(ge*Ie),dn=f(Pe*ve);return new E(ke,it,dn,Xt)}add(D){b(D);const{a:H,d:z}=e,{ex:Y,ey:K,ez:q,et:V}=this,{ex:ue,ey:le,ez:ge,et:ve}=D;if(H===BigInt(-1)){const Jt=f((K-Y)*(le+ue)),An=f((K+Y)*(le-ue)),In=f(An-Jt);if(In===Lc)return this.double();const en=f(q*jE*ve),Ft=f(V*jE*ge),xn=Ft+en,Me=An+Jt,sn=Ft-en,tn=f(xn*In),Fn=f(Me*sn),Lr=f(xn*sn),pn=f(In*Me);return new E(tn,Fn,pn,Lr)}const Pe=f(Y*ue),Ie=f(K*le),ke=f(V*z*ve),it=f(q*ge),Xt=f((Y+K)*(ue+le)-Pe-Ie),dn=it-ke,hn=it+ke,rr=f(Ie-H*Pe),st=f(Xt*dn),Te=f(hn*rr),Qe=f(Xt*rr),at=f(dn*hn);return new E(st,Te,at,Qe)}subtract(D){return this.add(D.negate())}wNAF(D){return T.wNAFCached(this,D,E.normalizeZ)}multiply(D){const H=D;_v("scalar",H,Ao,r);const{p:z,f:Y}=this.wNAF(H);return E.normalizeZ([z,Y])[0]}multiplyUnsafe(D,H=E.ZERO){const z=D;return _v("scalar",z,Lc,r),z===Lc?S:this.is0()||z===Ao?this:T.wNAFCachedUnsafe(this,z,E.normalizeZ,H)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return T.unsafeLadder(this,r).is0()}toAffine(D){return C(this,D)}clearCofactor(){const{h:D}=e;return D===Ao?this:this.multiplyUnsafe(D)}static fromHex(D,H=!1){const{d:z,a:Y}=e,K=n.BYTES;D=Ku("pointHex",D,K),w6("zip215",H);const q=D.slice(),V=D[K-1];q[K-1]=V&-129;const ue=NA(q),le=H?u:n.ORDER;_v("pointHex.y",ue,Lc,le);const ge=f(ue*ue),ve=f(ge-Ao),Pe=f(z*ge-Y);let{isValid:Ie,value:ke}=p(ve,Pe);if(!Ie)throw new Error("Point.fromHex: invalid y coordinate");const it=(ke&Ao)===Ao,Xt=(V&128)!==0;if(!H&&ke===Lc&&Xt)throw new Error("Point.fromHex: x=0 and x_0=1");return Xt!==it&&(ke=f(-ke)),E.fromAffine({x:ke,y:ue})}static fromPrivateKey(D){return k(D).point}toRawBytes(){const{x:D,y:H}=this.toAffine(),z=r4(H,n.BYTES);return z[z.length-1]|=D&Ao?128:0,z}toHex(){return $R(this.toRawBytes())}}E.BASE=new E(e.Gx,e.Gy,Ao,f(e.Gx*e.Gy)),E.ZERO=new E(Lc,Ao,Ao,Lc);const{BASE:I,ZERO:S}=E,T=Hce(E,a*8);function R($){return Pi($,r)}function O($){return R(NA($))}function k($){const D=n.BYTES;$=Ku("private key",$,D);const H=Ku("hashed private key",s($),2*D),z=g(H.slice(0,D)),Y=H.slice(D,2*D),K=O(z),q=I.multiply(K),V=q.toRawBytes();return{head:z,prefix:Y,scalar:K,point:q,pointBytes:V}}function M($){return k($).pointBytes}function L($=new Uint8Array,...D){const H=i7(...D);return O(s(w(H,Ku("context",$),!!i)))}function j($,D,H={}){$=Ku("message",$),i&&($=i($));const{prefix:z,scalar:Y,pointBytes:K}=k(D),q=L(H.context,z,$),V=I.multiply(q).toRawBytes(),ue=L(H.context,V,K,$),le=R(q+ue*Y);_v("signature.s",le,Lc,r);const ge=i7(V,r4(le,n.BYTES));return Ku("result",ge,n.BYTES*2)}const Q=Kce;function J($,D,H,z=Q){const{context:Y,zip215:K}=z,q=n.BYTES;$=Ku("signature",$,2*q),D=Ku("message",D),H=Ku("publicKey",H,q),K!==void 0&&w6("zip215",K),i&&(D=i(D));const V=NA($.slice(q,2*q));let ue,le,ge;try{ue=E.fromHex(H,K),le=E.fromHex($.slice(0,q),K),ge=I.multiplyUnsafe(V)}catch{return!1}if(!K&&ue.isSmallOrder())return!1;const ve=L(Y,le.toRawBytes(),ue.toRawBytes(),D);return le.add(ue.multiplyUnsafe(ve)).subtract(ge).clearCofactor().equals(E.ZERO)}return I._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:j,verify:J,ExtendedPoint:E,utils:{getExtendedPublicKey:k,randomPrivateKey:()=>o(n.BYTES),precompute($=8,D=E.BASE){return D._setWindowSize($),D.multiply(BigInt(3)),D}}}}BigInt(0),BigInt(1);const LR=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),u7=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Zce=BigInt(1),d7=BigInt(2);BigInt(3);const Jce=BigInt(5),Xce=BigInt(8);function ele(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=LR,o=t*t%s*t%s,a=Bl(o,d7,s)*o%s,c=Bl(a,Zce,s)*t%s,u=Bl(c,Jce,s)*c%s,f=Bl(u,e,s)*u%s,h=Bl(f,n,s)*f%s,p=Bl(h,r,s)*h%s,g=Bl(p,i,s)*p%s,w=Bl(g,i,s)*p%s,y=Bl(w,e,s)*u%s;return{pow_p_5_8:Bl(y,d7,s)*t%s,b2:o}}function tle(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function nle(t,e){const n=LR,r=Pi(e*e*e,n),i=Pi(r*r*e,n),s=ele(t*i).pow_p_5_8;let o=Pi(t*r*s,n);const a=Pi(e*o*o,n),c=o,u=Pi(o*u7,n),f=a===t,h=a===Pi(-t,n),p=a===Pi(-t*u7,n);return f&&(o=c),(h||p)&&(o=u),Mce(o,n)&&(o=Pi(-o,n)),{isValid:f||h,value:o}}const rle=AH(LR,void 0,!0),ile={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:rle,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Xce,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Sce,randomBytes:yH,adjustScalarBytes:tle,uvRatio:nle},TH=Qce(ile),sle="EdDSA",ole="JWT",m3=".",sS="base64url",IH="utf8",NH="utf8",ale=":",cle="did",lle="key",f7="base58btc",ule="z",dle="K36",fle=32;function MR(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function PH(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?MR(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function kH(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=PH(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return MR(n)}function hle(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var y=0,b=0,C=0,x=w.length;C!==x&&w[C]===0;)C++,y++;for(var E=(x-C)*f+1>>>0,I=new Uint8Array(E);C!==x;){for(var S=w[C],T=0,R=E-1;(S!==0||T<b)&&R!==-1;R--,T++)S+=256*I[R]>>>0,I[R]=S%a>>>0,S=S/a>>>0;if(S!==0)throw new Error("Non-zero carry");b=T,C++}for(var O=E-b;O!==E&&I[O]===0;)O++;for(var k=c.repeat(y);O<E;++O)k+=t.charAt(I[O]);return k}function p(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var y=0;if(w[y]!==" "){for(var b=0,C=0;w[y]===c;)b++,y++;for(var x=(w.length-y)*u+1>>>0,E=new Uint8Array(x);w[y];){var I=n[w.charCodeAt(y)];if(I===255)return;for(var S=0,T=x-1;(I!==0||S<C)&&T!==-1;T--,S++)I+=a*E[T]>>>0,E[T]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");C=S,y++}if(w[y]!==" "){for(var R=x-C;R!==x&&E[R]===0;)R++;for(var O=new Uint8Array(b+(x-R)),k=b;R!==x;)O[k++]=E[R++];return O}}}function g(w){var y=p(w);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:p,decode:g}}var ple=hle,mle=ple;const RH=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},gle=t=>new TextEncoder().encode(t),yle=t=>new TextDecoder().decode(t);let wle=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},ble=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return OH(this,e)}},vle=class{constructor(e){this.decoders=e}or(e){return OH(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const OH=(t,e)=>new vle({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Cle=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new wle(e,n,r),this.decoder=new ble(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const oS=({name:t,prefix:e,encode:n,decode:r})=>new Cle(t,e,n,r),GC=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=mle(n,e);return oS({prefix:t,name:e,encode:r,decode:s=>RH(i(s))})},xle=(t,e,n,r)=>{const i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let f=0;f<s;++f){const h=i[t[f]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Ele=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},ps=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>oS({prefix:e,name:t,encode(i){return Ele(i,r,n)},decode(i){return xle(i,r,n,t)}}),Ale=oS({prefix:"\0",name:"identity",encode:t=>yle(t),decode:t=>gle(t)});var Sle=Object.freeze({__proto__:null,identity:Ale});const _le=ps({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Tle=Object.freeze({__proto__:null,base2:_le});const Ile=ps({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Nle=Object.freeze({__proto__:null,base8:Ile});const Ple=GC({prefix:"9",name:"base10",alphabet:"0123456789"});var kle=Object.freeze({__proto__:null,base10:Ple});const Rle=ps({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ole=ps({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var $le=Object.freeze({__proto__:null,base16:Rle,base16upper:Ole});const Dle=ps({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Lle=ps({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Mle=ps({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ble=ps({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ule=ps({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Fle=ps({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),jle=ps({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),zle=ps({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Wle=ps({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Hle=Object.freeze({__proto__:null,base32:Dle,base32upper:Lle,base32pad:Mle,base32padupper:Ble,base32hex:Ule,base32hexupper:Fle,base32hexpad:jle,base32hexpadupper:zle,base32z:Wle});const Vle=GC({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),qle=GC({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Gle=Object.freeze({__proto__:null,base36:Vle,base36upper:qle});const Kle=GC({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Yle=GC({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Qle=Object.freeze({__proto__:null,base58btc:Kle,base58flickr:Yle});const Zle=ps({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Jle=ps({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Xle=ps({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),eue=ps({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var tue=Object.freeze({__proto__:null,base64:Zle,base64pad:Jle,base64url:Xle,base64urlpad:eue});const $H=Array.from(""),nue=$H.reduce((t,e,n)=>(t[n]=e,t),[]),rue=$H.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function iue(t){return t.reduce((e,n)=>(e+=nue[n],e),"")}function sue(t){const e=[];for(const n of t){const r=rue[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const oue=oS({prefix:"",name:"base256emoji",encode:iue,decode:sue});var aue=Object.freeze({__proto__:null,base256emoji:oue}),cue=DH,h7=128,lue=-128,uue=Math.pow(2,31);function DH(t,e,n){e=e||[],n=n||0;for(var r=n;t>=uue;)e[n++]=t&255|h7,t/=128;for(;t&lue;)e[n++]=t&255|h7,t>>>=7;return e[n]=t|0,DH.bytes=n-r+1,e}var due=s4,fue=128,p7=127;function s4(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw s4.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&p7)<<i:(o&p7)*Math.pow(2,i),i+=7}while(o>=fue);return s4.bytes=s-r,n}var hue=Math.pow(2,7),pue=Math.pow(2,14),mue=Math.pow(2,21),gue=Math.pow(2,28),yue=Math.pow(2,35),wue=Math.pow(2,42),bue=Math.pow(2,49),vue=Math.pow(2,56),Cue=Math.pow(2,63),xue=function(t){return t<hue?1:t<pue?2:t<mue?3:t<gue?4:t<yue?5:t<wue?6:t<bue?7:t<vue?8:t<Cue?9:10},Eue={encode:cue,decode:due,encodingLength:xue},LH=Eue;const m7=(t,e,n=0)=>(LH.encode(t,e,n),e),g7=t=>LH.encodingLength(t),o4=(t,e)=>{const n=e.byteLength,r=g7(t),i=r+g7(n),s=new Uint8Array(i+n);return m7(t,s,0),m7(n,s,r),s.set(e,i),new Aue(t,n,e,s)};let Aue=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const MH=({name:t,code:e,encode:n})=>new Sue(t,e,n);let Sue=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?o4(this.code,n):n.then(r=>o4(this.code,r))}else throw Error("Unknown type, must be binary type")}};const BH=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),_ue=MH({name:"sha2-256",code:18,encode:BH("SHA-256")}),Tue=MH({name:"sha2-512",code:19,encode:BH("SHA-512")});var Iue=Object.freeze({__proto__:null,sha256:_ue,sha512:Tue});const UH=0,Nue="identity",FH=RH,Pue=t=>o4(UH,FH(t)),kue={code:UH,name:Nue,encode:FH,digest:Pue};var Rue=Object.freeze({__proto__:null,identity:kue});new TextEncoder,new TextDecoder;const y7={...Sle,...Tle,...Nle,...kle,...$le,...Hle,...Gle,...Qle,...tue,...aue};({...Iue,...Rue});function jH(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const w7=jH("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),A6=jH("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=PH(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),zH={utf8:w7,"utf-8":w7,hex:y7.base16,latin1:A6,ascii:A6,binary:A6,...y7};function aS(t,e="utf8"){const n=zH[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function vb(t,e="utf8"){const n=zH[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?MR(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function b7(t){return og(aS(vb(t,sS),IH))}function g3(t){return aS(vb(zd(t),IH),sS)}function WH(t){const e=vb(dle,f7),n=ule+aS(kH([e,t]),f7);return[cle,lle,n].join(ale)}function Oue(t){return aS(t,sS)}function $ue(t){return vb(t,sS)}function Due(t){return vb([g3(t.header),g3(t.payload)].join(m3),NH)}function Lue(t){return[g3(t.header),g3(t.payload),Oue(t.signature)].join(m3)}function a4(t){const e=t.split(m3),n=b7(e[0]),r=b7(e[1]),i=$ue(e[2]),s=vb(e.slice(0,2).join(m3),NH);return{header:n,payload:r,signature:i,data:s}}function v7(t=yH(fle)){const e=TH.getPublicKey(t);return{secretKey:kH([t,e]),publicKey:e}}async function Mue(t,e,n,r,i=rt.fromMiliseconds(Date.now())){const s={alg:sle,typ:ole},o=WH(r.publicKey),a=i+n,c={iss:o,sub:t,aud:e,iat:i,exp:a},u=Due({header:s,payload:c}),f=TH.sign(u,r.secretKey.slice(0,32));return Lue({header:s,payload:c,signature:f})}var C7=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Bue=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),Uue=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),Fue=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),jue=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),zue=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Wue=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Hue=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,x7=3,Vue=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Wue]],E7=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function que(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new zue:typeof navigator<"u"?Kue(navigator.userAgent):Que()}function Gue(t){return t!==""&&Vue.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function Kue(t){var e=Gue(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new jue;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<x7&&(i=C7(C7([],i,!0),Zue(x7-i.length),!0)):i=[];var s=i.join("."),o=Yue(t),a=Hue.exec(t);return a&&a[1]?new Fue(n,s,o,a[1]):new Bue(n,s,o)}function Yue(t){for(var e=0,n=E7.length;e<n;e++){var r=E7[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function Que(){var t=typeof process<"u"&&process.version;return t?new Uue(process.version.slice(1)):null}function Zue(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Ar={},A7;function HH(){if(A7)return Ar;A7=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.getLocalStorage=Ar.getLocalStorageOrThrow=Ar.getCrypto=Ar.getCryptoOrThrow=Ar.getLocation=Ar.getLocationOrThrow=Ar.getNavigator=Ar.getNavigatorOrThrow=Ar.getDocument=Ar.getDocumentOrThrow=Ar.getFromWindowOrThrow=Ar.getFromWindow=void 0;function t(p){let g;return typeof window<"u"&&typeof window[p]<"u"&&(g=window[p]),g}Ar.getFromWindow=t;function e(p){const g=t(p);if(!g)throw new Error(`${p} is not defined in Window`);return g}Ar.getFromWindowOrThrow=e;function n(){return e("document")}Ar.getDocumentOrThrow=n;function r(){return t("document")}Ar.getDocument=r;function i(){return e("navigator")}Ar.getNavigatorOrThrow=i;function s(){return t("navigator")}Ar.getNavigator=s;function o(){return e("location")}Ar.getLocationOrThrow=o;function a(){return t("location")}Ar.getLocation=a;function c(){return e("crypto")}Ar.getCryptoOrThrow=c;function u(){return t("crypto")}Ar.getCrypto=u;function f(){return e("localStorage")}Ar.getLocalStorageOrThrow=f;function h(){return t("localStorage")}return Ar.getLocalStorage=h,Ar}var Wd=HH(),Tv={},S7;function Jue(){if(S7)return Tv;S7=1,Object.defineProperty(Tv,"__esModule",{value:!0}),Tv.getWindowMetadata=void 0;const t=HH();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function i(){const g=n.getElementsByTagName("link"),w=[];for(let y=0;y<g.length;y++){const b=g[y],C=b.getAttribute("rel");if(C&&C.toLowerCase().indexOf("icon")>-1){const x=b.getAttribute("href");if(x)if(x.toLowerCase().indexOf("https:")===-1&&x.toLowerCase().indexOf("http:")===-1&&x.indexOf("//")!==0){let E=r.protocol+"//"+r.host;if(x.indexOf("/")===0)E+=x;else{const I=r.pathname.split("/");I.pop();const S=I.join("/");E+=S+"/"+x}w.push(E)}else if(x.indexOf("//")===0){const E=r.protocol+x;w.push(E)}else w.push(x)}}return w}function s(...g){const w=n.getElementsByTagName("meta");for(let y=0;y<w.length;y++){const b=w[y],C=["itemprop","property","name"].map(x=>b.getAttribute(x)).filter(x=>x?g.includes(x):!1);if(C.length&&C){const x=b.getAttribute("content");if(x)return x}}return""}function o(){let g=s("name","og:site_name","og:title","twitter:title");return g||(g=n.title),g}function a(){return s("description","og:description","twitter:description","keywords")}const c=o(),u=a(),f=r.origin,h=i();return{description:u,url:f,icons:h,name:c}}return Tv.getWindowMetadata=e,Tv}var Xue=Jue();function ede(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){const f=t.charAt(u),h=f.charCodeAt(0);if(e[h]!==255)throw new TypeError(f+" is ambiguous");e[h]=u}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let f=0,h=0,p=0;const g=u.length;for(;p!==g&&u[p]===0;)p++,f++;const w=(g-p)*s+1>>>0,y=new Uint8Array(w);for(;p!==g;){let x=u[p],E=0;for(let I=w-1;(x!==0||E<h)&&I!==-1;I--,E++)x+=256*y[I]>>>0,y[I]=x%n>>>0,x=x/n>>>0;if(x!==0)throw new Error("Non-zero carry");h=E,p++}let b=w-h;for(;b!==w&&y[b]===0;)b++;let C=r.repeat(f);for(;b<w;++b)C+=t.charAt(y[b]);return C}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let f=0,h=0,p=0;for(;u[f]===r;)h++,f++;const g=(u.length-f)*i+1>>>0,w=new Uint8Array(g);for(;f<u.length;){const x=u.charCodeAt(f);if(x>255)return;let E=e[x];if(E===255)return;let I=0;for(let S=g-1;(E!==0||I<p)&&S!==-1;S--,I++)E+=n*w[S]>>>0,w[S]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");p=I,f++}let y=g-p;for(;y!==g&&w[y]===0;)y++;const b=new Uint8Array(h+(g-y));let C=h;for(;y!==g;)b[C++]=w[y++];return b}function c(u){const f=a(u);if(f)return f;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var tde="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Cb=ede(tde);function nde(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&r<e){const s=t.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function rde(t,e,n){const r=t.length;let i=n,s=0;for(;s<r;){let o=t.charCodeAt(s++);if((o&4294967168)===0){e[i++]=o;continue}else if((o&4294965248)===0)e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<r){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128):(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128)}e[i++]=o&63|128}}const ide=new TextEncoder,sde=50;function ode(t,e,n){ide.encodeInto(t,e.subarray(n))}function ade(t,e,n){t.length>sde?ode(t,e,n):rde(t,e,n)}const cde=4096;function VH(t,e,n){let r=e;const i=r+n,s=[];let o="";for(;r<i;){const a=t[r++];if((a&128)===0)s.push(a);else if((a&224)===192){const c=t[r++]&63;s.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,u=t[r++]&63;s.push((a&31)<<12|c<<6|u)}else if((a&248)===240){const c=t[r++]&63,u=t[r++]&63,f=t[r++]&63;let h=(a&7)<<18|c<<12|u<<6|f;h>65535&&(h-=65536,s.push(h>>>10&1023|55296),h=56320|h&1023),s.push(h)}else s.push(a);s.length>=cde&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const lde=new TextDecoder,ude=200;function dde(t,e,n){const r=t.subarray(e,e+n);return lde.decode(r)}function fde(t,e,n){return n>ude?dde(t,e,n):VH(t,e,n)}class zE{constructor(e,n){this.type=e,this.data=n}}class ha extends Error{constructor(e){super(e);const n=Object.create(ha.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:ha.name})}}const Iv=4294967295;function hde(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function qH(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function GH(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function pde(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const mde=-1,gde=4294967296-1,yde=17179869184-1;function wde({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=yde)if(e===0&&t<=gde){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|n&3),s.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),qH(r,4,t),n}}function bde(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function vde(t){if(t instanceof Date){const e=bde(t);return wde(e)}else return null}function Cde(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,s=n>>>2;return{sec:i,nsec:s}}case 12:{const n=GH(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new ha(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function xde(t){const e=Cde(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Ede={type:mde,encode:vde,decode:xde};class y3{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Ede)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=-1-r;return new zE(o,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=r;return new zE(o,s)}}}return e instanceof zE?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new zE(n,e)}}y3.defaultCodec=new y3;function Ade(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function c4(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Ade(t)?new Uint8Array(t):Uint8Array.from(t)}const Sde=100,_de=2048;let Tde=class KH{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??y3.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??Sde,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??_de,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new KH({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=nde(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),ade(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=c4(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),hde(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),qH(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function Ide(t,e){return new Tde(e).encodeSharedRef(t)}function S6(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const Nde=16,Pde=16;class kde{constructor(e=Nde,n=Pde){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return s.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const s=VH(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,s),s}}const l4="array",d1="map_key",YH="map_value",Rde=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new ha("The type of key must be string or number but "+typeof t)};class Ode{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=l4,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=d1,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===l4){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===d1||e.type===YH){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Nv=-1,BR=new DataView(new ArrayBuffer(0)),$de=new Uint8Array(BR.buffer);try{BR.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const _7=new RangeError("Insufficient data"),Dde=new kde;let Lde=class QH{constructor(e){this.totalPos=0,this.pos=0,this.view=BR,this.bytes=$de,this.headByte=Nv,this.stack=new Ode,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??y3.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??Iv,this.maxBinLength=(e==null?void 0:e.maxBinLength)??Iv,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??Iv,this.maxMapLength=(e==null?void 0:e.maxMapLength)??Iv,this.maxExtLength=(e==null?void 0:e.maxExtLength)??Iv,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:Dde,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??Rde}clone(){return new QH({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Nv,this.stack.reset()}setBuffer(e){const n=c4(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Nv&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=c4(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${S6(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const s of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new ha(`Unrecognized type byte: ${S6(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===l4)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===d1){if(n==="__proto__")throw new ha("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=YH;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=d1;continue e}}return n}}readHeadByte(){return this.headByte===Nv&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Nv}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new ha(`Unrecognized array type byte: ${S6(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new ha(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new ha(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var s;if(e>this.maxStrLength)throw new ha(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw _7;const r=this.pos+n;let i;return this.stateIsMapKey()&&((s=this.keyDecoder)!=null&&s.canBeCached(e))?i=this.keyDecoder.decode(this.bytes,r,e):i=fde(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===d1:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new ha(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw _7;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new ha(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=pde(this.view,this.pos);return this.pos+=8,e}readI64(){const e=GH(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function Mde(t,e){return new Lde(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Bde(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ZH(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function w3(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function UR(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function u4(t){if(!Array.isArray(t))throw new Error("array expected")}function b3(t,e){if(!ZH(!0,e))throw new Error(`${t}: array of strings expected`)}function Ude(t,e){if(!ZH(!1,e))throw new Error(`${t}: array of numbers expected`)}function Fde(...t){const e=s=>s,n=(s,o)=>a=>s(o(a)),r=t.map(s=>s.encode).reduceRight(n,e),i=t.map(s=>s.decode).reduce(n,e);return{encode:r,decode:i}}function jde(t){const e=typeof t=="string"?t.split(""):t,n=e.length;b3("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(u4(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(u4(i),i.map(s=>{w3("alphabet.decode",s);const o=r.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function zde(t=""){return w3("join",t),{encode:e=>(b3("join.decode",e),e.join(t)),decode:e=>(w3("join.decode",e),e.split(t))}}function Wde(t,e="="){return UR(t),w3("padding",e),{encode(n){for(b3("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){b3("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const JH=(t,e)=>e===0?t:JH(e,t%e),v3=(t,e)=>t+(e-JH(t,e)),_6=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function T7(t,e,n,r){if(u4(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(v3(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${v3(e,n)}`);let i=0,s=0;const o=_6[e],a=_6[n]-1,c=[];for(const u of t){if(UR(u),u>=o)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(i=i<<e|u,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=n;s-=n)c.push((i>>s-n&a)>>>0);const f=_6[s];if(f===void 0)throw new Error("invalid carry");i&=f-1}if(i=i<<n-s&a,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&c.push(i>>>0),c}function Hde(t,e=!1){if(UR(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(v3(8,t)>32||v3(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!Bde(n))throw new Error("radix2.encode input should be Uint8Array");return T7(Array.from(n),8,t,!e)},decode:n=>(Ude("radix2.decode",n),Uint8Array.from(T7(n,t,8,e)))}}const Vde=Fde(Hde(5),jde("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Wde(5),zde(""));function qde(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var y=0,b=0,C=0,x=w.length;C!==x&&w[C]===0;)C++,y++;for(var E=(x-C)*f+1>>>0,I=new Uint8Array(E);C!==x;){for(var S=w[C],T=0,R=E-1;(S!==0||T<b)&&R!==-1;R--,T++)S+=256*I[R]>>>0,I[R]=S%a>>>0,S=S/a>>>0;if(S!==0)throw new Error("Non-zero carry");b=T,C++}for(var O=E-b;O!==E&&I[O]===0;)O++;for(var k=c.repeat(y);O<E;++O)k+=t.charAt(I[O]);return k}function p(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var y=0;if(w[y]!==" "){for(var b=0,C=0;w[y]===c;)b++,y++;for(var x=(w.length-y)*u+1>>>0,E=new Uint8Array(x);w[y];){var I=n[w.charCodeAt(y)];if(I===255)return;for(var S=0,T=x-1;(I!==0||S<C)&&T!==-1;T--,S++)I+=a*E[T]>>>0,E[T]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");C=S,y++}if(w[y]!==" "){for(var R=x-C;R!==x&&E[R]===0;)R++;for(var O=new Uint8Array(b+(x-R)),k=b;R!==x;)O[k++]=E[R++];return O}}}function g(w){var y=p(w);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:p,decode:g}}var Gde=qde,Kde=Gde;const Yde=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Qde=t=>new TextEncoder().encode(t),Zde=t=>new TextDecoder().decode(t);class Jde{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Xde{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return XH(this,e)}}class efe{constructor(e){this.decoders=e}or(e){return XH(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const XH=(t,e)=>new efe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class tfe{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Jde(e,n,r),this.decoder=new Xde(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const cS=({name:t,prefix:e,encode:n,decode:r})=>new tfe(t,e,n,r),KC=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=Kde(n,e);return cS({prefix:t,name:e,encode:r,decode:s=>Yde(i(s))})},nfe=(t,e,n,r)=>{const i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let f=0;f<s;++f){const h=i[t[f]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},rfe=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},ms=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>cS({prefix:e,name:t,encode(i){return rfe(i,r,n)},decode(i){return nfe(i,r,n,t)}}),ife=cS({prefix:"\0",name:"identity",encode:t=>Zde(t),decode:t=>Qde(t)}),sfe=Object.freeze(Object.defineProperty({__proto__:null,identity:ife},Symbol.toStringTag,{value:"Module"})),ofe=ms({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),afe=Object.freeze(Object.defineProperty({__proto__:null,base2:ofe},Symbol.toStringTag,{value:"Module"})),cfe=ms({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),lfe=Object.freeze(Object.defineProperty({__proto__:null,base8:cfe},Symbol.toStringTag,{value:"Module"})),ufe=KC({prefix:"9",name:"base10",alphabet:"0123456789"}),dfe=Object.freeze(Object.defineProperty({__proto__:null,base10:ufe},Symbol.toStringTag,{value:"Module"})),ffe=ms({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),hfe=ms({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),pfe=Object.freeze(Object.defineProperty({__proto__:null,base16:ffe,base16upper:hfe},Symbol.toStringTag,{value:"Module"})),mfe=ms({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gfe=ms({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),yfe=ms({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wfe=ms({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),bfe=ms({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),vfe=ms({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Cfe=ms({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),xfe=ms({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Efe=ms({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Afe=Object.freeze(Object.defineProperty({__proto__:null,base32:mfe,base32hex:bfe,base32hexpad:Cfe,base32hexpadupper:xfe,base32hexupper:vfe,base32pad:yfe,base32padupper:wfe,base32upper:gfe,base32z:Efe},Symbol.toStringTag,{value:"Module"})),Sfe=KC({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),_fe=KC({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Tfe=Object.freeze(Object.defineProperty({__proto__:null,base36:Sfe,base36upper:_fe},Symbol.toStringTag,{value:"Module"})),Ife=KC({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Nfe=KC({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Pfe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Ife,base58flickr:Nfe},Symbol.toStringTag,{value:"Module"})),kfe=ms({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Rfe=ms({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ofe=ms({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),$fe=ms({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Dfe=Object.freeze(Object.defineProperty({__proto__:null,base64:kfe,base64pad:Rfe,base64url:Ofe,base64urlpad:$fe},Symbol.toStringTag,{value:"Module"})),eV=Array.from(""),Lfe=eV.reduce((t,e,n)=>(t[n]=e,t),[]),Mfe=eV.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Bfe(t){return t.reduce((e,n)=>(e+=Lfe[n],e),"")}function Ufe(t){const e=[];for(const n of t){const r=Mfe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Ffe=cS({prefix:"",name:"base256emoji",encode:Bfe,decode:Ufe}),jfe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Ffe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const I7={...sfe,...afe,...lfe,...dfe,...pfe,...Afe,...Tfe,...Pfe,...Dfe,...jfe},zfe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var T6,N7;function tV(){if(N7)return T6;N7=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function n(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function r(o){return(4294967296+o).toString(16).substring(1)}function i(o,a,c){let u=`
`+o+" = ";for(let f=0;f<a.length;f+=2){if(c===32)u+=r(a[f]).toUpperCase(),u+=" ",u+=r(a[f+1]).toUpperCase();else if(c===64)u+=r(a[f+1]).toUpperCase(),u+=r(a[f]).toUpperCase();else throw new Error("Invalid size "+c);f%6===4?u+=`
`+new Array(o.length+4).join(" "):f<a.length-2&&(u+=" ")}console.log(u)}function s(o,a,c){let u=new Date().getTime();const f=new Uint8Array(a);for(let p=0;p<a;p++)f[p]=p%256;const h=new Date().getTime();console.log("Generated random input in "+(h-u)+"ms"),u=h;for(let p=0;p<c;p++){const g=o(f),w=new Date().getTime(),y=w-u;u=w,console.log("Hashed in "+y+"ms: "+g.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(y/1e3)*100)/100+" MB PER SECOND")}}return T6={normalizeInput:e,toHex:n,debugPrint:i,testSpeed:s},T6}var I6,P7;function Wfe(){if(P7)return I6;P7=1;const t=tV();function e(C,x,E){const I=C[x]+C[E];let S=C[x+1]+C[E+1];I>=4294967296&&S++,C[x]=I,C[x+1]=S}function n(C,x,E,I){let S=C[x]+E;E<0&&(S+=4294967296);let T=C[x+1]+I;S>=4294967296&&T++,C[x]=S,C[x+1]=T}function r(C,x){return C[x]^C[x+1]<<8^C[x+2]<<16^C[x+3]<<24}function i(C,x,E,I,S,T){const R=u[S],O=u[S+1],k=u[T],M=u[T+1];e(c,C,x),n(c,C,R,O);let L=c[I]^c[C],j=c[I+1]^c[C+1];c[I]=j,c[I+1]=L,e(c,E,I),L=c[x]^c[E],j=c[x+1]^c[E+1],c[x]=L>>>24^j<<8,c[x+1]=j>>>24^L<<8,e(c,C,x),n(c,C,k,M),L=c[I]^c[C],j=c[I+1]^c[C+1],c[I]=L>>>16^j<<16,c[I+1]=j>>>16^L<<16,e(c,E,I),L=c[x]^c[E],j=c[x+1]^c[E+1],c[x]=j>>>31^L<<1,c[x+1]=L>>>31^j<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(C){return C*2})),c=new Uint32Array(32),u=new Uint32Array(32);function f(C,x){let E=0;for(E=0;E<16;E++)c[E]=C.h[E],c[E+16]=s[E];for(c[24]=c[24]^C.t,c[25]=c[25]^C.t/4294967296,x&&(c[28]=~c[28],c[29]=~c[29]),E=0;E<32;E++)u[E]=r(C.b,4*E);for(E=0;E<12;E++)i(0,8,16,24,a[E*16+0],a[E*16+1]),i(2,10,18,26,a[E*16+2],a[E*16+3]),i(4,12,20,28,a[E*16+4],a[E*16+5]),i(6,14,22,30,a[E*16+6],a[E*16+7]),i(0,10,20,30,a[E*16+8],a[E*16+9]),i(2,12,22,24,a[E*16+10],a[E*16+11]),i(4,14,16,26,a[E*16+12],a[E*16+13]),i(6,8,18,28,a[E*16+14],a[E*16+15]);for(E=0;E<16;E++)C.h[E]=C.h[E]^c[E]^c[E+16]}const h=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(C,x,E,I){if(C===0||C>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(x&&x.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(E&&E.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(I&&I.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const S={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:C};h.fill(0),h[0]=C,x&&(h[1]=x.length),h[2]=1,h[3]=1,E&&h.set(E,32),I&&h.set(I,48);for(let T=0;T<16;T++)S.h[T]=s[T]^r(h,T*4);return x&&(g(S,x),S.c=128),S}function g(C,x){for(let E=0;E<x.length;E++)C.c===128&&(C.t+=C.c,f(C,!1),C.c=0),C.b[C.c++]=x[E]}function w(C){for(C.t+=C.c;C.c<128;)C.b[C.c++]=0;f(C,!0);const x=new Uint8Array(C.outlen);for(let E=0;E<C.outlen;E++)x[E]=C.h[E>>2]>>8*(E&3);return x}function y(C,x,E,I,S){E=E||64,C=t.normalizeInput(C),I&&(I=t.normalizeInput(I)),S&&(S=t.normalizeInput(S));const T=p(E,x,I,S);return g(T,C),w(T)}function b(C,x,E,I,S){const T=y(C,x,E,I,S);return t.toHex(T)}return I6={blake2b:y,blake2bHex:b,blake2bInit:p,blake2bUpdate:g,blake2bFinal:w},I6}var N6,k7;function Hfe(){if(k7)return N6;k7=1;const t=tV();function e(w,y){return w[y]^w[y+1]<<8^w[y+2]<<16^w[y+3]<<24}function n(w,y,b,C,x,E){o[w]=o[w]+o[y]+x,o[C]=r(o[C]^o[w],16),o[b]=o[b]+o[C],o[y]=r(o[y]^o[b],12),o[w]=o[w]+o[y]+E,o[C]=r(o[C]^o[w],8),o[b]=o[b]+o[C],o[y]=r(o[y]^o[b],7)}function r(w,y){return w>>>y^w<<32-y}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function c(w,y){let b=0;for(b=0;b<8;b++)o[b]=w.h[b],o[b+8]=i[b];for(o[12]^=w.t,o[13]^=w.t/4294967296,y&&(o[14]=~o[14]),b=0;b<16;b++)a[b]=e(w.b,4*b);for(b=0;b<10;b++)n(0,4,8,12,a[s[b*16+0]],a[s[b*16+1]]),n(1,5,9,13,a[s[b*16+2]],a[s[b*16+3]]),n(2,6,10,14,a[s[b*16+4]],a[s[b*16+5]]),n(3,7,11,15,a[s[b*16+6]],a[s[b*16+7]]),n(0,5,10,15,a[s[b*16+8]],a[s[b*16+9]]),n(1,6,11,12,a[s[b*16+10]],a[s[b*16+11]]),n(2,7,8,13,a[s[b*16+12]],a[s[b*16+13]]),n(3,4,9,14,a[s[b*16+14]],a[s[b*16+15]]);for(b=0;b<8;b++)w.h[b]^=o[b]^o[b+8]}function u(w,y){if(!(w>0&&w<=32))throw new Error("Incorrect output length, should be in [1, 32]");const b=y?y.length:0;if(y&&!(b>0&&b<=32))throw new Error("Incorrect key length, should be in [1, 32]");const C={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:w};return C.h[0]^=16842752^b<<8^w,b>0&&(f(C,y),C.c=64),C}function f(w,y){for(let b=0;b<y.length;b++)w.c===64&&(w.t+=w.c,c(w,!1),w.c=0),w.b[w.c++]=y[b]}function h(w){for(w.t+=w.c;w.c<64;)w.b[w.c++]=0;c(w,!0);const y=new Uint8Array(w.outlen);for(let b=0;b<w.outlen;b++)y[b]=w.h[b>>2]>>8*(b&3)&255;return y}function p(w,y,b){b=b||32,w=t.normalizeInput(w);const C=u(b,y);return f(C,w),h(C)}function g(w,y,b){const C=p(w,y,b);return t.toHex(C)}return N6={blake2s:p,blake2sHex:g,blake2sInit:u,blake2sUpdate:f,blake2sFinal:h},N6}var P6,R7;function Vfe(){if(R7)return P6;R7=1;const t=Wfe(),e=Hfe();return P6={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},P6}var qfe=Vfe();const Gfe="PARSE_ERROR",Kfe="INVALID_REQUEST",Yfe="METHOD_NOT_FOUND",Qfe="INVALID_PARAMS",nV="INTERNAL_ERROR",FR="SERVER_ERROR",Zfe=[-32700,-32600,-32601,-32602,-32603],f1={[Gfe]:{code:-32700,message:"Parse error"},[Kfe]:{code:-32600,message:"Invalid Request"},[Yfe]:{code:-32601,message:"Method not found"},[Qfe]:{code:-32602,message:"Invalid params"},[nV]:{code:-32603,message:"Internal error"},[FR]:{code:-32e3,message:"Server error"}},rV=FR;function Jfe(t){return Zfe.includes(t)}function O7(t){return Object.keys(f1).includes(t)?f1[t]:f1[rV]}function Xfe(t){const e=Object.values(f1).find(n=>n.code===t);return e||f1[rV]}function iV(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var k6={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var d4=function(t,e){return d4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},d4(t,e)};function ehe(t,e){d4(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var f4=function(){return f4=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},f4.apply(this,arguments)};function the(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nhe(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function rhe(t,e){return function(n,r){e(n,r,t)}}function ihe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function she(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function c(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function ohe(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(f){return c([u,f])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(f){u=[6,f],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ahe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function che(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function h4(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sV(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function lhe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(sV(arguments[e]));return t}function uhe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function r2(t){return this instanceof r2?(this.v=t,this):new r2(t)}function dhe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(g){return new Promise(function(w,y){s.push([p,g,w,y])>1||a(p,g)})})}function a(p,g){try{c(r[p](g))}catch(w){h(s[0][3],w)}}function c(p){p.value instanceof r2?Promise.resolve(p.value.v).then(u,f):h(s[0][2],p)}function u(p){a("next",p)}function f(p){a("throw",p)}function h(p,g){p(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function fhe(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:r2(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function hhe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof h4=="function"?h4(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function phe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function mhe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function ghe(t){return t&&t.__esModule?t:{default:t}}function yhe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function whe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const bhe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return f4},__asyncDelegator:fhe,__asyncGenerator:dhe,__asyncValues:hhe,__await:r2,__awaiter:she,__classPrivateFieldGet:yhe,__classPrivateFieldSet:whe,__createBinding:ahe,__decorate:nhe,__exportStar:che,__extends:ehe,__generator:ohe,__importDefault:ghe,__importStar:mhe,__makeTemplateObject:phe,__metadata:ihe,__param:rhe,__read:sV,__rest:the,__spread:lhe,__spreadArrays:uhe,__values:h4},Symbol.toStringTag,{value:"Module"})),vhe=Kj(bhe);var Yu={},$7;function Che(){if($7)return Yu;$7=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.isBrowserCryptoAvailable=Yu.getSubtleCrypto=Yu.getBrowerCrypto=void 0;function t(){return(ou==null?void 0:ou.crypto)||(ou==null?void 0:ou.msCrypto)||{}}Yu.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}Yu.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Yu.isBrowserCryptoAvailable=n,Yu}var Qu={},D7;function xhe(){if(D7)return Qu;D7=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.isBrowser=Qu.isNode=Qu.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Qu.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Qu.isNode=e;function n(){return!t()&&!e()}return Qu.isBrowser=n,Qu}var L7;function Ehe(){return L7||(L7=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=vhe;e.__exportStar(Che(),t),e.__exportStar(xhe(),t)}(k6)),k6}var Ahe=Ehe();function Vl(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Mh(t=6){return BigInt(Vl(t))}function au(t,e,n){return{id:n||Vl(),jsonrpc:"2.0",method:t,params:e}}function i2(t,e){return{id:t,jsonrpc:"2.0",result:e}}function lS(t,e,n){return{id:t,jsonrpc:"2.0",error:She(e)}}function She(t,e){return typeof t>"u"?O7(nV):(typeof t=="string"&&(t=Object.assign(Object.assign({},O7(FR)),{message:t})),Jfe(t.code)&&(t=Xfe(t.code)),t)}let _he=class{},The=class extends _he{constructor(){super()}},Ihe=class extends The{constructor(e){super()}};const Nhe="^https?:",Phe="^wss?:";function khe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function oV(t,e){const n=khe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function M7(t){return oV(t,Nhe)}function B7(t){return oV(t,Phe)}function Rhe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function aV(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function jR(t){return aV(t)&&"method"in t}function uS(t){return aV(t)&&(ql(t)||rc(t))}function ql(t){return"result"in t}function rc(t){return"error"in t}let bc=class extends Ihe{constructor(e){super(e),this.events=new wc.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(au(e.method,e.params||[],e.id||Mh().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{rc(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),uS(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Ohe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),$he=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",U7=t=>t.split("?")[0],F7=10,Dhe=Ohe();let Lhe=class{constructor(e){if(this.url=e,this.events=new wc.EventEmitter,this.registering=!1,!B7(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(zd(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!B7(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=Ahe.isReactNative()?void 0:{rejectUnauthorized:!Rhe(e)},s=new Dhe(e,[],i);$he()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?og(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=lS(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return iV(e,U7(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>F7&&this.events.setMaxListeners(F7)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${U7(this.url)}`));return this.events.emit("register_error",n),n}};var WE={exports:{}},j7;function Mhe(){return j7||(j7=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ou<"u"&&ou,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof ou<"u"&&ou||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u($){return $&&DataView.prototype.isPrototypeOf($)}if(c.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function($){return $&&f.indexOf(Object.prototype.toString.call($))>-1};function p($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test($)||$==="")throw new TypeError('Invalid character in header field name: "'+$+'"');return $.toLowerCase()}function g($){return typeof $!="string"&&($=String($)),$}function w($){var D={next:function(){var H=$.shift();return{done:H===void 0,value:H}}};return c.iterable&&(D[Symbol.iterator]=function(){return D}),D}function y($){this.map={},$ instanceof y?$.forEach(function(D,H){this.append(H,D)},this):Array.isArray($)?$.forEach(function(D){if(D.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+D.length);this.append(D[0],D[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(D){this.append(D,$[D])},this)}y.prototype.append=function($,D){$=p($),D=g(D);var H=this.map[$];this.map[$]=H?H+", "+D:D},y.prototype.delete=function($){delete this.map[p($)]},y.prototype.get=function($){return $=p($),this.has($)?this.map[$]:null},y.prototype.has=function($){return this.map.hasOwnProperty(p($))},y.prototype.set=function($,D){this.map[p($)]=g(D)},y.prototype.forEach=function($,D){for(var H in this.map)this.map.hasOwnProperty(H)&&$.call(D,this.map[H],H,this)},y.prototype.keys=function(){var $=[];return this.forEach(function(D,H){$.push(H)}),w($)},y.prototype.values=function(){var $=[];return this.forEach(function(D){$.push(D)}),w($)},y.prototype.entries=function(){var $=[];return this.forEach(function(D,H){$.push([H,D])}),w($)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function b($){if(!$._noBody){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}}function C($){return new Promise(function(D,H){$.onload=function(){D($.result)},$.onerror=function(){H($.error)}})}function x($){var D=new FileReader,H=C(D);return D.readAsArrayBuffer($),H}function E($){var D=new FileReader,H=C(D),z=/charset=([A-Za-z0-9_-]+)/.exec($.type),Y=z?z[1]:"utf-8";return D.readAsText($,Y),H}function I($){for(var D=new Uint8Array($),H=new Array(D.length),z=0;z<D.length;z++)H[z]=String.fromCharCode(D[z]);return H.join("")}function S($){if($.slice)return $.slice(0);var D=new Uint8Array($.byteLength);return D.set(new Uint8Array($)),D.buffer}function T(){return this.bodyUsed=!1,this._initBody=function($){this.bodyUsed=this.bodyUsed,this._bodyInit=$,$?typeof $=="string"?this._bodyText=$:c.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:c.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:c.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():c.arrayBuffer&&c.blob&&u($)?(this._bodyArrayBuffer=S($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||h($))?this._bodyArrayBuffer=S($):this._bodyText=$=Object.prototype.toString.call($):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var $=b(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var $=b(this);return $||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(x);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var $=b(this);if($)return $;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(I(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function O($){var D=$.toUpperCase();return R.indexOf(D)>-1?D:$}function k($,D){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');D=D||{};var H=D.body;if($ instanceof k){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,D.headers||(this.headers=new y($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!H&&$._bodyInit!=null&&(H=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=D.credentials||this.credentials||"same-origin",(D.headers||!this.headers)&&(this.headers=new y(D.headers)),this.method=O(D.method||this.method||"GET"),this.mode=D.mode||this.mode||null,this.signal=D.signal||this.signal||function(){if("AbortController"in a){var K=new AbortController;return K.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(H),(this.method==="GET"||this.method==="HEAD")&&(D.cache==="no-store"||D.cache==="no-cache")){var z=/([?&])_=[^&]*/;if(z.test(this.url))this.url=this.url.replace(z,"$1_="+new Date().getTime());else{var Y=/\?/;this.url+=(Y.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})};function M($){var D=new FormData;return $.trim().split("&").forEach(function(H){if(H){var z=H.split("="),Y=z.shift().replace(/\+/g," "),K=z.join("=").replace(/\+/g," ");D.append(decodeURIComponent(Y),decodeURIComponent(K))}}),D}function L($){var D=new y,H=$.replace(/\r?\n[\t ]+/g," ");return H.split("\r").map(function(z){return z.indexOf(`
`)===0?z.substr(1,z.length):z}).forEach(function(z){var Y=z.split(":"),K=Y.shift().trim();if(K){var q=Y.join(":").trim();try{D.append(K,q)}catch(V){console.warn("Response "+V.message)}}}),D}T.call(k.prototype);function j($,D){if(!(this instanceof j))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(D||(D={}),this.type="default",this.status=D.status===void 0?200:D.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=D.statusText===void 0?"":""+D.statusText,this.headers=new y(D.headers),this.url=D.url||"",this._initBody($)}T.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},j.error=function(){var $=new j(null,{status:200,statusText:""});return $.ok=!1,$.status=0,$.type="error",$};var Q=[301,302,303,307,308];j.redirect=function($,D){if(Q.indexOf(D)===-1)throw new RangeError("Invalid status code");return new j(null,{status:D,headers:{location:$}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(D,H){this.message=D,this.name=H;var z=Error(D);this.stack=z.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function J($,D){return new Promise(function(H,z){var Y=new k($,D);if(Y.signal&&Y.signal.aborted)return z(new o.DOMException("Aborted","AbortError"));var K=new XMLHttpRequest;function q(){K.abort()}K.onload=function(){var le={statusText:K.statusText,headers:L(K.getAllResponseHeaders()||"")};Y.url.indexOf("file://")===0&&(K.status<200||K.status>599)?le.status=200:le.status=K.status,le.url="responseURL"in K?K.responseURL:le.headers.get("X-Request-URL");var ge="response"in K?K.response:K.responseText;setTimeout(function(){H(new j(ge,le))},0)},K.onerror=function(){setTimeout(function(){z(new TypeError("Network request failed"))},0)},K.ontimeout=function(){setTimeout(function(){z(new TypeError("Network request timed out"))},0)},K.onabort=function(){setTimeout(function(){z(new o.DOMException("Aborted","AbortError"))},0)};function V(le){try{return le===""&&a.location.href?a.location.href:le}catch{return le}}if(K.open(Y.method,V(Y.url),!0),Y.credentials==="include"?K.withCredentials=!0:Y.credentials==="omit"&&(K.withCredentials=!1),"responseType"in K&&(c.blob?K.responseType="blob":c.arrayBuffer&&(K.responseType="arraybuffer")),D&&typeof D.headers=="object"&&!(D.headers instanceof y||a.Headers&&D.headers instanceof a.Headers)){var ue=[];Object.getOwnPropertyNames(D.headers).forEach(function(le){ue.push(p(le)),K.setRequestHeader(le,g(D.headers[le]))}),Y.headers.forEach(function(le,ge){ue.indexOf(ge)===-1&&K.setRequestHeader(ge,le)})}else Y.headers.forEach(function(le,ge){K.setRequestHeader(ge,le)});Y.signal&&(Y.signal.addEventListener("abort",q),K.onreadystatechange=function(){K.readyState===4&&Y.signal.removeEventListener("abort",q)}),K.send(typeof Y._bodyInit>"u"?null:Y._bodyInit)})}return J.polyfill=!0,a.fetch||(a.fetch=J,a.Headers=y,a.Request=k,a.Response=j),o.Headers=y,o.Request=k,o.Response=j,o.fetch=J,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(WE,WE.exports)),WE.exports}var Bhe=Mhe();const z7=gc(Bhe);var Uhe=Object.defineProperty,Fhe=Object.defineProperties,jhe=Object.getOwnPropertyDescriptors,W7=Object.getOwnPropertySymbols,zhe=Object.prototype.hasOwnProperty,Whe=Object.prototype.propertyIsEnumerable,H7=(t,e,n)=>e in t?Uhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V7=(t,e)=>{for(var n in e||(e={}))zhe.call(e,n)&&H7(t,n,e[n]);if(W7)for(var n of W7(e))Whe.call(e,n)&&H7(t,n,e[n]);return t},q7=(t,e)=>Fhe(t,jhe(e));const Hhe={Accept:"application/json","Content-Type":"application/json"},Vhe="POST",G7={headers:Hhe,method:Vhe},K7=10;let wl=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new wc.EventEmitter,this.isAvailable=!1,this.registering=!1,!M7(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=zd(e),r=await(await z7(this.url,q7(V7({},G7),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!M7(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=zd({id:1,jsonrpc:"2.0",method:"test",params:[]});await z7(e,q7(V7({},G7),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?og(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=lS(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return iV(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>K7&&this.events.setMaxListeners(K7)}},jp=null;const Bo={getSIWX(){return ce.state.siwx},async initializeIfEnabled(t=F.getActiveCaipAddress()){var s,o,a;const e=ce.state.siwx;if(!(e&&t))return;const[n,r,i]=t.split(":");if(F.checkIfSupportedNetwork(n,`${n}:${r}`))try{if((s=ce.state.remoteFeatures)!=null&&s.emailCapture){const u=(o=F.getAccountData(n))==null?void 0:o.user;await Kt.open({view:"DataCapture",data:{email:(u==null?void 0:u.email)??void 0}});return}if(jp&&await jp,(await e.getSessions(`${n}:${r}`,i)).length)return;await Kt.open({view:"SIWXSignMessage"})}catch(c){console.error("SIWXUtil:initializeIfEnabled",c),At.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((a=Ce._getClient())==null?void 0:a.disconnect().catch(console.error)),Ee.reset("Connect"),Tn.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=ce.state.siwx,e=be.getPlainAddress(F.getActiveCaipAddress()),n=Td(),r=Ce._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),s=i.toString();pe.getConnectorId(n.chainNamespace)===oe.CONNECTOR_ID.AUTH&&Ee.pushTransactionStack({});const a=await r.signMessage(s);await t.addSession({data:i,message:s,signature:a}),F.setLastConnectedSIWECaipNetwork(n),Kt.close(),At.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!Kt.state.open||Ee.state.view==="ApproveTransaction")&&await Kt.open({view:"SIWXSignMessage"}),Tn.showError("Error signing message"),At.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();if((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e)){const r=F.getLastConnectedSIWECaipNetwork();if(r){const i=await(e==null?void 0:e.getSessions(r==null?void 0:r.caipNetworkId,be.getPlainAddress(F.getActiveCaipAddress())||""));i&&i.length>0?await F.switchActiveNetwork(r):await Ce.disconnect()}else await Ce.disconnect()}else Kt.close();Kt.close(),At.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const t=this.getSIWX(),e=F.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const i=await(t==null?void 0:t.getSessions(r.caipNetworkId,be.getPlainAddress(F.getActiveCaipAddress())||""));i&&n.push(...i)})),n},async getSessions(t){const e=ce.state.siwx;let n=t==null?void 0:t.address;if(!n){const i=F.getActiveCaipAddress();n=be.getPlainAddress(i)}let r=t==null?void 0:t.caipNetworkId;if(!r){const i=F.getActiveCaipNetwork();r=i==null?void 0:i.caipNetworkId}return e&&n&&r?e.getSessions(r,n):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=Ee.state.view==="ApproveTransaction",r=Ee.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:n,preferredAccountType:r,chainNamespace:i}){var h;const s=Bo.getSIWX(),o=Td();if(!s||!i.includes(oe.CHAIN.EVM)||(h=ce.state.remoteFeatures)!=null&&h.emailCapture){const p=await t.connect({chainId:e,socialUri:n,preferredAccountType:r});return{address:p.address,chainId:p.chainId,accounts:p.accounts}}const a=`${i}:${e}`,c=await s.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),u={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},f=await t.connect({chainId:e,socialUri:n,siwxMessage:u,preferredAccountType:r});return u.accountAddress=f.address,u.serializedMessage=f.message||"",f.signature&&f.message&&await Bo.addEmbeddedWalletSession(u,f.message,f.signature),F.setLastConnectedSIWECaipNetwork(o),{address:f.address,chainId:f.chainId,accounts:f.accounts}},async addEmbeddedWalletSession(t,e,n){if(jp)return jp;const r=Bo.getSIWX();return r?(jp=r.addSession({data:t,message:e,signature:n}).finally(()=>{jp=null}),jp):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var c,u,f;const r=Bo.getSIWX(),i=Td(),s=new Set(e.map(h=>h.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const o=await r.createMessage({chainId:((c=Td())==null?void 0:c.caipNetworkId)||"",accountAddress:""}),a=await t.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:n,chains:[o.chainId,...e.filter(h=>h!==o.chainId)]});if(Tn.showLoading("Authenticating...",{autoClose:!1}),Le.setConnectedWalletInfo({...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:(u=a.session.peer.metadata.icons)==null?void 0:u[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(f=a==null?void 0:a.auths)!=null&&f.length){const h=a.auths.map(p=>{const g=t.client.formatAuthMessage({request:p.p,iss:p.p.iss});return{data:{...p.p,accountAddress:p.p.iss.split(":").slice(-1).join(""),chainId:p.p.iss.split(":").slice(2,4).join(":"),uri:p.p.aud,version:p.p.version||o.version,expirationTime:p.p.exp,issuedAt:p.p.iat,notBefore:p.p.nbf},message:g,signature:p.s.s,cacao:p}});try{await r.setSessions(h),i&&F.setLastConnectedSIWECaipNetwork(i),At.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Bo.getSIWXEventProperties()})}catch(p){throw console.error("SIWX:universalProviderAuth - failed to set sessions",p),At.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Bo.getSIWXEventProperties()}),await t.disconnect().catch(console.error),p}finally{Tn.hide()}}return!0},getSIWXEventProperties(){var e;const t=F.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:((e=F.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:ii(t)===tr.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},qhe={},Ghe=(t,e)=>{const n=U.useRef(void 0);U.useEffect(()=>{n.current=kee(t,e)}),U.useDebugValue(n.current)},Khe=Ghe,Yhe=new WeakMap;function Y7(t,e){const r=U.useMemo(()=>t&&new WeakMap,[t]),i=U.useRef(void 0);let s=!0;const o=U.useSyncExternalStore(U.useCallback(c=>{const u=xi(t,c);return c(),u},[t,void 0]),()=>{const c=eg(t);try{if(!s&&i.current&&!yz(i.current,c,r,new WeakMap))return i.current}catch{}return c},()=>eg(t));s=!1,U.useLayoutEffect(()=>{i.current=o}),(qhe?"production":void 0)!=="production"&&Khe(o,r);const a=U.useMemo(()=>new WeakMap,[]);return gz(o,r,a,Yhe)}function Qhe(){try{return be.returnOpenHref(`${oe.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes")}catch{throw new Error("Could not open social popup")}}async function Zhe(){Ee.push("ConnectingFarcaster");const t=pe.getAuthConnector();if(t&&!Le.state.farcasterUrl)try{const{url:e}=await t.provider.getFarcasterUri();Le.setFarcasterUrl(e,F.state.activeChain)}catch(e){Ee.goBack(),Tn.showError(e)}}async function Jhe(t){Ee.push("ConnectingSocial");const e=pe.getAuthConnector();let n=null;try{const r=setTimeout(()=>{throw new Error("Social login timed out. Please try again.")},45e3);if(e&&t){if(be.isTelegram()||(n=Qhe()),n)Le.setSocialWindow(n,F.state.activeChain);else if(!be.isTelegram())throw new Error("Could not create social popup");const{uri:i}=await e.provider.getSocialRedirectUri({provider:t});if(!i)throw n==null||n.close(),new Error("Could not fetch the social redirect uri");if(n&&(n.location.href=i),be.isTelegram()){Ne.setTelegramSocialProvider(t);const s=be.formatTelegramSocialLoginUrl(i);be.openHref(s,"_top")}clearTimeout(r)}}catch(r){n==null||n.close(),Tn.showError(r==null?void 0:r.message)}}async function Xhe(t){Le.setSocialProvider(t,F.state.activeChain),At.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:t}}),t==="farcaster"?await Zhe():await Jhe(t)}function epe(t){var u;const e=Y7(F.state),{activeConnectorIds:n}=Y7(pe.state),r=e.activeChain;if(!r)return{allAccounts:[],address:void 0,caipAddress:void 0,status:void 0,isConnected:!1,embeddedWalletInfo:void 0};const i=(u=e.chains.get(r))==null?void 0:u.accountState,s=pe.getAuthConnector(r),o=n[r];return{allAccounts:Ce.getConnections(r).flatMap(f=>f.accounts.map(({address:h,type:p,publicKey:g})=>be.createAccount(r,h,p||"eoa",g))),caipAddress:i==null?void 0:i.caipAddress,address:be.getPlainAddress(i==null?void 0:i.caipAddress),isConnected:!!(i!=null&&i.caipAddress),status:i==null?void 0:i.status,embeddedWalletInfo:s&&o===oe.CONNECTOR_ID.AUTH?{user:i!=null&&i.user?{...i.user,username:Ne.getConnectedSocialUsername()}:void 0,authProvider:(i==null?void 0:i.socialProvider)||"email",accountType:i==null?void 0:i.preferredAccountType,isSmartAccountDeployed:!!(i!=null&&i.smartAccountDeployed)}:void 0}}const _r={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",EIP155:oe.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},pa={ConnectorExplorerIds:{[oe.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[oe.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[oe.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[oe.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[oe.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[_r.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[_r.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[_r.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[_r.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[_r.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[_r.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[_r.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[_r.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[_r.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[_r.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[_r.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[_r.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[oe.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[oe.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[oe.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[oe.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[oe.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[oe.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[oe.CONNECTOR_ID.INJECTED]:"Browser Wallet",[oe.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[oe.CONNECTOR_ID.COINBASE]:"Coinbase",[oe.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[oe.CONNECTOR_ID.LEDGER]:"Ledger",[oe.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[oe.CONNECTOR_ID.INJECTED]:"INJECTED",[oe.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[oe.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[oe.CONNECTOR_ID.AUTH]:"AUTH",[_r.CONNECTOR_TYPE_AUTH]:"AUTH"}},ar={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${_r.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())},getActiveNamespaceConnectedToAuth(){const t=F.state.activeChain;return oe.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>pe.getConnectorId(e)===oe.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:n}){let r=0;return new Promise(i=>{async function s(){return r+=1,await t()?i(!0):r>=n?i(!1):(setTimeout(s,e),null)}s()})}},tpe=new AbortController,qr={EmbeddedWalletAbortController:tpe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${cy()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systems date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`}}},npe={createLogger(t,e="error"){const n=bb({level:e}),{logger:r}=PR({opts:n});return r.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},r}},rpe="rpc.walletconnect.org";function Q7(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const R6=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],el={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===rpe}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:oe.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${oe.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var i,s,o;const r=(o=(s=(i=t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null?void 0:o[0];return R6.includes(e)?Q7(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var p,g,w,y,b,C,x;const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=(w=(g=(p=t.rpcUrls)==null?void 0:p.default)==null?void 0:g.http)==null?void 0:w[0],a=this.getDefaultRpcUrl(t,s,n),c=((C=(b=(y=t==null?void 0:t.rpcUrls)==null?void 0:y.chainDefault)==null?void 0:b.http)==null?void 0:C[0])||o,u=((x=r==null?void 0:r[s])==null?void 0:x.map(E=>E.url))||[],f=[...u,...a?[a]:[]],h=[...u];return c&&!h.includes(c)&&h.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:pa.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:f},chainDefault:{http:h}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(i=>el.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var i,s,o;const r=[];return n==null||n.forEach(a=>{r.push(LE(a.url,a.config))}),R6.includes(t.caipNetworkId)&&r.push(LE(Q7(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(s=(i=t==null?void 0:t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null||o.forEach(a=>{r.push(LE(a))}),DD(r)},extendWagmiTransports(t,e,n){if(R6.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return DD([n,LE(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:oe.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=Ne.getActiveCaipNetworkId(),n=F.getAllRequestedCaipNetworks(),r=Array.from(((c=F.state.chains)==null?void 0:c.keys())||[]),i=e==null?void 0:e.split(":")[0],s=i?r.includes(i):!1,o=n==null?void 0:n.find(u=>u.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},C3={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},So=gr({providers:{...C3},providerIds:{...C3}}),br={state:So,subscribeKey(t,e){return Oi(So,t,e)},subscribe(t){return xi(So,()=>{t(So)})},subscribeProviders(t){return xi(So.providers,()=>t(So.providers))},setProvider(t,e){t&&e&&(So.providers[t]=tg(e))},getProvider(t){if(t)return So.providers[t]},setProviderId(t,e){e&&(So.providerIds[t]=e)},getProviderId(t){if(t)return So.providerIds[t]},reset(){So.providers={...C3},So.providerIds={...C3}},resetChain(t){So.providers[t]=void 0,So.providerIds[t]=void 0}},Z7={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},ss={set(t,e){ga.isClient&&localStorage.setItem(`${Et.STORAGE_KEY}${t}`,e)},get(t){return ga.isClient?localStorage.getItem(`${Et.STORAGE_KEY}${t}`):null},delete(t,e){ga.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Et.STORAGE_KEY}${t}`))}},HE=30*1e3,ga={checkIfAllowedToTriggerEmail(){const t=ss.get(Et.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<HE){const n=Math.ceil((HE-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=ss.get(Et.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<HE)return Math.ceil((HE-e)/1e3)}return 0},checkIfRequestExists(t){return tr.NOT_SAFE_RPC_METHODS.includes(t.method)||tr.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(Z7.transactionHash))||(t==null?void 0:t.match(Z7.signedMessage)))?Et.RPC_RESPONSE_TYPE_TX:Et.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return tr.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Yn;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Yn||(Yn={}));var p4;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(p4||(p4={}));const ht=Yn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),lh=t=>{switch(typeof t){case"undefined":return ht.undefined;case"string":return ht.string;case"number":return isNaN(t)?ht.nan:ht.number;case"boolean":return ht.boolean;case"function":return ht.function;case"bigint":return ht.bigint;case"symbol":return ht.symbol;case"object":return Array.isArray(t)?ht.array:t===null?ht.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ht.promise:typeof Map<"u"&&t instanceof Map?ht.map:typeof Set<"u"&&t instanceof Set?ht.set:typeof Date<"u"&&t instanceof Date?ht.date:ht.object;default:return ht.unknown}},Xe=Yn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ipe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class il extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Yn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}il.create=t=>new il(t);const s2=(t,e)=>{let n;switch(t.code){case Xe.invalid_type:t.received===ht.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Xe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Yn.jsonStringifyReplacer)}`;break;case Xe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Yn.joinValues(t.keys,", ")}`;break;case Xe.invalid_union:n="Invalid input";break;case Xe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Yn.joinValues(t.options)}`;break;case Xe.invalid_enum_value:n=`Invalid enum value. Expected ${Yn.joinValues(t.options)}, received '${t.received}'`;break;case Xe.invalid_arguments:n="Invalid function arguments";break;case Xe.invalid_return_type:n="Invalid function return type";break;case Xe.invalid_date:n="Invalid date";break;case Xe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Yn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Xe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Xe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Xe.custom:n="Invalid input";break;case Xe.invalid_intersection_types:n="Intersection results could not be merged";break;case Xe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Xe.not_finite:n="Number must be finite";break;default:n=e.defaultError,Yn.assertNever(t)}return{message:n}};let cV=s2;function spe(t){cV=t}function x3(){return cV}const E3=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},ope=[];function wt(t,e){const n=E3({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,x3(),s2].filter(r=>!!r)});t.common.issues.push(n)}class $s{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return fn;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return $s.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return fn;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const fn=Object.freeze({status:"aborted"}),lV=t=>({status:"dirty",value:t}),oo=t=>({status:"valid",value:t}),m4=t=>t.status==="aborted",g4=t=>t.status==="dirty",o2=t=>t.status==="valid",A3=t=>typeof Promise<"u"&&t instanceof Promise;var Ht;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ht||(Ht={}));class xu{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const J7=(t,e)=>{if(o2(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new il(t.common.issues);return this._error=n,this._error}}};function yn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class Cn{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return lh(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:lh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new $s,ctx:{common:e.parent.common,data:e.data,parsedType:lh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(A3(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lh(e)},s=this._parseSync({data:e,path:i.path,parent:i});return J7(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lh(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(A3(i)?i:Promise.resolve(i));return J7(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Xe.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new dl({schema:this,typeName:nn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Od.create(this,this._def)}nullable(){return lg.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return sl.create(this,this._def)}promise(){return Uw.create(this,this._def)}or(e){return u2.create([this,e],this._def)}and(e){return d2.create(this,e,this._def)}transform(e){return new dl({...yn(this._def),schema:this,typeName:nn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new g2({...yn(this._def),innerType:this,defaultValue:n,typeName:nn.ZodDefault})}brand(){return new dV({typeName:nn.ZodBranded,type:this,...yn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new I3({...yn(this._def),innerType:this,catchValue:n,typeName:nn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return YC.create(this,e)}readonly(){return P3.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ape=/^c[^\s-]{8,}$/i,cpe=/^[a-z][a-z0-9]*$/,lpe=/^[0-9A-HJKMNP-TV-Z]{26}$/,upe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,dpe=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,fpe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let O6;const hpe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ppe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,mpe=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function gpe(t,e){return!!((e==="v4"||!e)&&hpe.test(t)||(e==="v6"||!e)&&ppe.test(t))}class rl extends Cn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ht.string){const s=this._getOrReturnCtx(e);return wt(s,{code:Xe.invalid_type,expected:ht.string,received:s.parsedType}),fn}const r=new $s;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),wt(i,{code:Xe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),wt(i,{code:Xe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?wt(i,{code:Xe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&wt(i,{code:Xe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")dpe.test(e.data)||(i=this._getOrReturnCtx(e,i),wt(i,{validation:"email",code:Xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")O6||(O6=new RegExp(fpe,"u")),O6.test(e.data)||(i=this._getOrReturnCtx(e,i),wt(i,{validation:"emoji",code:Xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")upe.test(e.data)||(i=this._getOrReturnCtx(e,i),wt(i,{validation:"uuid",code:Xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")ape.test(e.data)||(i=this._getOrReturnCtx(e,i),wt(i,{validation:"cuid",code:Xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")cpe.test(e.data)||(i=this._getOrReturnCtx(e,i),wt(i,{validation:"cuid2",code:Xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")lpe.test(e.data)||(i=this._getOrReturnCtx(e,i),wt(i,{validation:"ulid",code:Xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),wt(i,{validation:"url",code:Xe.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),wt(i,{validation:"regex",code:Xe.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),wt(i,{code:Xe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),wt(i,{code:Xe.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),wt(i,{code:Xe.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?mpe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),wt(i,{code:Xe.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?gpe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),wt(i,{validation:"ip",code:Xe.invalid_string,message:s.message}),r.dirty()):Yn.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Xe.invalid_string,...Ht.errToObj(r)})}_addCheck(e){return new rl({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ht.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ht.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ht.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ht.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ht.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ht.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ht.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ht.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...Ht.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ht.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ht.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ht.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ht.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ht.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ht.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ht.errToObj(n)})}nonempty(e){return this.min(1,Ht.errToObj(e))}trim(){return new rl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new rl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new rl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}rl.create=t=>{var e;return new rl({checks:[],typeName:nn.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...yn(t)})};function ype(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Jh extends Cn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ht.number){const s=this._getOrReturnCtx(e);return wt(s,{code:Xe.invalid_type,expected:ht.number,received:s.parsedType}),fn}let r;const i=new $s;for(const s of this._def.checks)s.kind==="int"?Yn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),wt(r,{code:Xe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),wt(r,{code:Xe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),wt(r,{code:Xe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?ype(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),wt(r,{code:Xe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),wt(r,{code:Xe.not_finite,message:s.message}),i.dirty()):Yn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ht.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ht.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ht.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ht.toString(n))}setLimit(e,n,r,i){return new Jh({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ht.toString(i)}]})}_addCheck(e){return new Jh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ht.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ht.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ht.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ht.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ht.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ht.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ht.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ht.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ht.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Yn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Jh.create=t=>new Jh({checks:[],typeName:nn.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...yn(t)});class Xh extends Cn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ht.bigint){const s=this._getOrReturnCtx(e);return wt(s,{code:Xe.invalid_type,expected:ht.bigint,received:s.parsedType}),fn}let r;const i=new $s;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),wt(r,{code:Xe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),wt(r,{code:Xe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),wt(r,{code:Xe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Yn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ht.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ht.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ht.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ht.toString(n))}setLimit(e,n,r,i){return new Xh({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ht.toString(i)}]})}_addCheck(e){return new Xh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ht.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ht.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ht.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ht.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ht.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Xh.create=t=>{var e;return new Xh({checks:[],typeName:nn.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...yn(t)})};class a2 extends Cn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ht.boolean){const r=this._getOrReturnCtx(e);return wt(r,{code:Xe.invalid_type,expected:ht.boolean,received:r.parsedType}),fn}return oo(e.data)}}a2.create=t=>new a2({typeName:nn.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...yn(t)});class ag extends Cn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ht.date){const s=this._getOrReturnCtx(e);return wt(s,{code:Xe.invalid_type,expected:ht.date,received:s.parsedType}),fn}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return wt(s,{code:Xe.invalid_date}),fn}const r=new $s;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),wt(i,{code:Xe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),wt(i,{code:Xe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Yn.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ag({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ht.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ht.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ag.create=t=>new ag({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:nn.ZodDate,...yn(t)});class S3 extends Cn{_parse(e){if(this._getType(e)!==ht.symbol){const r=this._getOrReturnCtx(e);return wt(r,{code:Xe.invalid_type,expected:ht.symbol,received:r.parsedType}),fn}return oo(e.data)}}S3.create=t=>new S3({typeName:nn.ZodSymbol,...yn(t)});class c2 extends Cn{_parse(e){if(this._getType(e)!==ht.undefined){const r=this._getOrReturnCtx(e);return wt(r,{code:Xe.invalid_type,expected:ht.undefined,received:r.parsedType}),fn}return oo(e.data)}}c2.create=t=>new c2({typeName:nn.ZodUndefined,...yn(t)});class l2 extends Cn{_parse(e){if(this._getType(e)!==ht.null){const r=this._getOrReturnCtx(e);return wt(r,{code:Xe.invalid_type,expected:ht.null,received:r.parsedType}),fn}return oo(e.data)}}l2.create=t=>new l2({typeName:nn.ZodNull,...yn(t)});class Bw extends Cn{constructor(){super(...arguments),this._any=!0}_parse(e){return oo(e.data)}}Bw.create=t=>new Bw({typeName:nn.ZodAny,...yn(t)});class Km extends Cn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return oo(e.data)}}Km.create=t=>new Km({typeName:nn.ZodUnknown,...yn(t)});class Hd extends Cn{_parse(e){const n=this._getOrReturnCtx(e);return wt(n,{code:Xe.invalid_type,expected:ht.never,received:n.parsedType}),fn}}Hd.create=t=>new Hd({typeName:nn.ZodNever,...yn(t)});class _3 extends Cn{_parse(e){if(this._getType(e)!==ht.undefined){const r=this._getOrReturnCtx(e);return wt(r,{code:Xe.invalid_type,expected:ht.void,received:r.parsedType}),fn}return oo(e.data)}}_3.create=t=>new _3({typeName:nn.ZodVoid,...yn(t)});class sl extends Cn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ht.array)return wt(n,{code:Xe.invalid_type,expected:ht.array,received:n.parsedType}),fn;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(wt(n,{code:o?Xe.too_big:Xe.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(wt(n,{code:Xe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(wt(n,{code:Xe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new xu(n,o,n.path,a)))).then(o=>$s.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new xu(n,o,n.path,a)));return $s.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new sl({...this._def,minLength:{value:e,message:Ht.toString(n)}})}max(e,n){return new sl({...this._def,maxLength:{value:e,message:Ht.toString(n)}})}length(e,n){return new sl({...this._def,exactLength:{value:e,message:Ht.toString(n)}})}nonempty(e){return this.min(1,e)}}sl.create=(t,e)=>new sl({type:t,minLength:null,maxLength:null,exactLength:null,typeName:nn.ZodArray,...yn(e)});function ry(t){if(t instanceof Zr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Od.create(ry(r))}return new Zr({...t._def,shape:()=>e})}else return t instanceof sl?new sl({...t._def,type:ry(t.element)}):t instanceof Od?Od.create(ry(t.unwrap())):t instanceof lg?lg.create(ry(t.unwrap())):t instanceof Eu?Eu.create(t.items.map(e=>ry(e))):t}class Zr extends Cn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Yn.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ht.object){const u=this._getOrReturnCtx(e);return wt(u,{code:Xe.invalid_type,expected:ht.object,received:u.parsedType}),fn}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Hd&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const f=s[u],h=i.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new xu(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Hd){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of a)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(u==="strict")a.length>0&&(wt(i,{code:Xe.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of a){const h=i.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new xu(i,h,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const h=await f.key;u.push({key:h,value:await f.value,alwaysSet:f.alwaysSet})}return u}).then(u=>$s.mergeObjectSync(r,u)):$s.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Ht.errToObj,new Zr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Ht.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Zr({...this._def,unknownKeys:"strip"})}passthrough(){return new Zr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Zr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Zr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:nn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Zr({...this._def,catchall:e})}pick(e){const n={};return Yn.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Zr({...this._def,shape:()=>n})}omit(e){const n={};return Yn.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Zr({...this._def,shape:()=>n})}deepPartial(){return ry(this)}partial(e){const n={};return Yn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Zr({...this._def,shape:()=>n})}required(e){const n={};return Yn.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Od;)s=s._def.innerType;n[r]=s}}),new Zr({...this._def,shape:()=>n})}keyof(){return uV(Yn.objectKeys(this.shape))}}Zr.create=(t,e)=>new Zr({shape:()=>t,unknownKeys:"strip",catchall:Hd.create(),typeName:nn.ZodObject,...yn(e)});Zr.strictCreate=(t,e)=>new Zr({shape:()=>t,unknownKeys:"strict",catchall:Hd.create(),typeName:nn.ZodObject,...yn(e)});Zr.lazycreate=(t,e)=>new Zr({shape:t,unknownKeys:"strip",catchall:Hd.create(),typeName:nn.ZodObject,...yn(e)});class u2 extends Cn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new il(a.ctx.common.issues));return wt(n,{code:Xe.invalid_union,unionErrors:o}),fn}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new il(c));return wt(n,{code:Xe.invalid_union,unionErrors:a}),fn}}get options(){return this._def.options}}u2.create=(t,e)=>new u2({options:t,typeName:nn.ZodUnion,...yn(e)});const PA=t=>t instanceof h2?PA(t.schema):t instanceof dl?PA(t.innerType()):t instanceof p2?[t.value]:t instanceof ep?t.options:t instanceof m2?Object.keys(t.enum):t instanceof g2?PA(t._def.innerType):t instanceof c2?[void 0]:t instanceof l2?[null]:null;class dS extends Cn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ht.object)return wt(n,{code:Xe.invalid_type,expected:ht.object,received:n.parsedType}),fn;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(wt(n,{code:Xe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),fn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=PA(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new dS({typeName:nn.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...yn(r)})}}function y4(t,e){const n=lh(t),r=lh(e);if(t===e)return{valid:!0,data:t};if(n===ht.object&&r===ht.object){const i=Yn.objectKeys(e),s=Yn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=y4(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===ht.array&&r===ht.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=y4(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===ht.date&&r===ht.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class d2 extends Cn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(m4(s)||m4(o))return fn;const a=y4(s.value,o.value);return a.valid?((g4(s)||g4(o))&&n.dirty(),{status:n.value,value:a.data}):(wt(r,{code:Xe.invalid_intersection_types}),fn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}d2.create=(t,e,n)=>new d2({left:t,right:e,typeName:nn.ZodIntersection,...yn(n)});class Eu extends Cn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ht.array)return wt(r,{code:Xe.invalid_type,expected:ht.array,received:r.parsedType}),fn;if(r.data.length<this._def.items.length)return wt(r,{code:Xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),fn;!this._def.rest&&r.data.length>this._def.items.length&&(wt(r,{code:Xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new xu(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>$s.mergeArray(n,o)):$s.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Eu({...this._def,rest:e})}}Eu.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Eu({items:t,typeName:nn.ZodTuple,rest:null,...yn(e)})};class f2 extends Cn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ht.object)return wt(r,{code:Xe.invalid_type,expected:ht.object,received:r.parsedType}),fn;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new xu(r,a,r.path,a)),value:o._parse(new xu(r,r.data[a],r.path,a))});return r.common.async?$s.mergeObjectAsync(n,i):$s.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Cn?new f2({keyType:e,valueType:n,typeName:nn.ZodRecord,...yn(r)}):new f2({keyType:rl.create(),valueType:e,typeName:nn.ZodRecord,...yn(n)})}}class T3 extends Cn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ht.map)return wt(r,{code:Xe.invalid_type,expected:ht.map,received:r.parsedType}),fn;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,c],u)=>({key:i._parse(new xu(r,a,r.path,[u,"key"])),value:s._parse(new xu(r,c,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return fn;(u.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(u.value,f.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return fn;(u.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(u.value,f.value)}return{status:n.value,value:a}}}}T3.create=(t,e,n)=>new T3({valueType:e,keyType:t,typeName:nn.ZodMap,...yn(n)});class cg extends Cn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ht.set)return wt(r,{code:Xe.invalid_type,expected:ht.set,received:r.parsedType}),fn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(wt(r,{code:Xe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(wt(r,{code:Xe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const f of c){if(f.status==="aborted")return fn;f.status==="dirty"&&n.dirty(),u.add(f.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((c,u)=>s._parse(new xu(r,c,r.path,u)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new cg({...this._def,minSize:{value:e,message:Ht.toString(n)}})}max(e,n){return new cg({...this._def,maxSize:{value:e,message:Ht.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}cg.create=(t,e)=>new cg({valueType:t,minSize:null,maxSize:null,typeName:nn.ZodSet,...yn(e)});class xy extends Cn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ht.function)return wt(n,{code:Xe.invalid_type,expected:ht.function,received:n.parsedType}),fn;function r(a,c){return E3({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,x3(),s2].filter(u=>!!u),issueData:{code:Xe.invalid_arguments,argumentsError:c}})}function i(a,c){return E3({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,x3(),s2].filter(u=>!!u),issueData:{code:Xe.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Uw){const a=this;return oo(async function(...c){const u=new il([]),f=await a._def.args.parseAsync(c,s).catch(g=>{throw u.addIssue(r(c,g)),u}),h=await Reflect.apply(o,this,f);return await a._def.returns._def.type.parseAsync(h,s).catch(g=>{throw u.addIssue(i(h,g)),u})})}else{const a=this;return oo(function(...c){const u=a._def.args.safeParse(c,s);if(!u.success)throw new il([r(c,u.error)]);const f=Reflect.apply(o,this,u.data),h=a._def.returns.safeParse(f,s);if(!h.success)throw new il([i(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new xy({...this._def,args:Eu.create(e).rest(Km.create())})}returns(e){return new xy({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new xy({args:e||Eu.create([]).rest(Km.create()),returns:n||Km.create(),typeName:nn.ZodFunction,...yn(r)})}}class h2 extends Cn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}h2.create=(t,e)=>new h2({getter:t,typeName:nn.ZodLazy,...yn(e)});class p2 extends Cn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return wt(n,{received:n.data,code:Xe.invalid_literal,expected:this._def.value}),fn}return{status:"valid",value:e.data}}get value(){return this._def.value}}p2.create=(t,e)=>new p2({value:t,typeName:nn.ZodLiteral,...yn(e)});function uV(t,e){return new ep({values:t,typeName:nn.ZodEnum,...yn(e)})}class ep extends Cn{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return wt(n,{expected:Yn.joinValues(r),received:n.parsedType,code:Xe.invalid_type}),fn}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return wt(n,{received:n.data,code:Xe.invalid_enum_value,options:r}),fn}return oo(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return ep.create(e)}exclude(e){return ep.create(this.options.filter(n=>!e.includes(n)))}}ep.create=uV;class m2 extends Cn{_parse(e){const n=Yn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ht.string&&r.parsedType!==ht.number){const i=Yn.objectValues(n);return wt(r,{expected:Yn.joinValues(i),received:r.parsedType,code:Xe.invalid_type}),fn}if(n.indexOf(e.data)===-1){const i=Yn.objectValues(n);return wt(r,{received:r.data,code:Xe.invalid_enum_value,options:i}),fn}return oo(e.data)}get enum(){return this._def.values}}m2.create=(t,e)=>new m2({values:t,typeName:nn.ZodNativeEnum,...yn(e)});class Uw extends Cn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ht.promise&&n.common.async===!1)return wt(n,{code:Xe.invalid_type,expected:ht.promise,received:n.parsedType}),fn;const r=n.parsedType===ht.promise?n.data:Promise.resolve(n.data);return oo(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Uw.create=(t,e)=>new Uw({type:t,typeName:nn.ZodPromise,...yn(e)});class dl extends Cn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{wt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?fn:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?fn:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!o2(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o2(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Yn.assertNever(i)}}dl.create=(t,e,n)=>new dl({schema:t,typeName:nn.ZodEffects,effect:e,...yn(n)});dl.createWithPreprocess=(t,e,n)=>new dl({schema:e,effect:{type:"preprocess",transform:t},typeName:nn.ZodEffects,...yn(n)});class Od extends Cn{_parse(e){return this._getType(e)===ht.undefined?oo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Od.create=(t,e)=>new Od({innerType:t,typeName:nn.ZodOptional,...yn(e)});class lg extends Cn{_parse(e){return this._getType(e)===ht.null?oo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}lg.create=(t,e)=>new lg({innerType:t,typeName:nn.ZodNullable,...yn(e)});class g2 extends Cn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ht.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}g2.create=(t,e)=>new g2({innerType:t,typeName:nn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...yn(e)});class I3 extends Cn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return A3(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new il(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new il(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}I3.create=(t,e)=>new I3({innerType:t,typeName:nn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...yn(e)});class N3 extends Cn{_parse(e){if(this._getType(e)!==ht.nan){const r=this._getOrReturnCtx(e);return wt(r,{code:Xe.invalid_type,expected:ht.nan,received:r.parsedType}),fn}return{status:"valid",value:e.data}}}N3.create=t=>new N3({typeName:nn.ZodNaN,...yn(t)});const wpe=Symbol("zod_brand");class dV extends Cn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class YC extends Cn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?fn:s.status==="dirty"?(n.dirty(),lV(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?fn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new YC({in:e,out:n,typeName:nn.ZodPipeline})}}class P3 extends Cn{_parse(e){const n=this._def.innerType._parse(e);return o2(n)&&(n.value=Object.freeze(n.value)),n}}P3.create=(t,e)=>new P3({innerType:t,typeName:nn.ZodReadonly,...yn(e)});const fV=(t,e={},n)=>t?Bw.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:c})}}):Bw.create(),bpe={object:Zr.lazycreate};var nn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(nn||(nn={}));const vpe=(t,e={message:`Input not instance of ${t.name}`})=>fV(n=>n instanceof t,e),hV=rl.create,pV=Jh.create,Cpe=N3.create,xpe=Xh.create,mV=a2.create,Epe=ag.create,Ape=S3.create,Spe=c2.create,_pe=l2.create,Tpe=Bw.create,Ipe=Km.create,Npe=Hd.create,Ppe=_3.create,kpe=sl.create,Rpe=Zr.create,Ope=Zr.strictCreate,$pe=u2.create,Dpe=dS.create,Lpe=d2.create,Mpe=Eu.create,Bpe=f2.create,Upe=T3.create,Fpe=cg.create,jpe=xy.create,zpe=h2.create,Wpe=p2.create,Hpe=ep.create,Vpe=m2.create,qpe=Uw.create,X7=dl.create,Gpe=Od.create,Kpe=lg.create,Ype=dl.createWithPreprocess,Qpe=YC.create,Zpe=()=>hV().optional(),Jpe=()=>pV().optional(),Xpe=()=>mV().optional(),eme={string:t=>rl.create({...t,coerce:!0}),number:t=>Jh.create({...t,coerce:!0}),boolean:t=>a2.create({...t,coerce:!0}),bigint:t=>Xh.create({...t,coerce:!0}),date:t=>ag.create({...t,coerce:!0})},tme=fn;var G=Object.freeze({__proto__:null,defaultErrorMap:s2,setErrorMap:spe,getErrorMap:x3,makeIssue:E3,EMPTY_PATH:ope,addIssueToContext:wt,ParseStatus:$s,INVALID:fn,DIRTY:lV,OK:oo,isAborted:m4,isDirty:g4,isValid:o2,isAsync:A3,get util(){return Yn},get objectUtil(){return p4},ZodParsedType:ht,getParsedType:lh,ZodType:Cn,ZodString:rl,ZodNumber:Jh,ZodBigInt:Xh,ZodBoolean:a2,ZodDate:ag,ZodSymbol:S3,ZodUndefined:c2,ZodNull:l2,ZodAny:Bw,ZodUnknown:Km,ZodNever:Hd,ZodVoid:_3,ZodArray:sl,ZodObject:Zr,ZodUnion:u2,ZodDiscriminatedUnion:dS,ZodIntersection:d2,ZodTuple:Eu,ZodRecord:f2,ZodMap:T3,ZodSet:cg,ZodFunction:xy,ZodLazy:h2,ZodLiteral:p2,ZodEnum:ep,ZodNativeEnum:m2,ZodPromise:Uw,ZodEffects:dl,ZodTransformer:dl,ZodOptional:Od,ZodNullable:lg,ZodDefault:g2,ZodCatch:I3,ZodNaN:N3,BRAND:wpe,ZodBranded:dV,ZodPipeline:YC,ZodReadonly:P3,custom:fV,Schema:Cn,ZodSchema:Cn,late:bpe,get ZodFirstPartyTypeKind(){return nn},coerce:eme,any:Tpe,array:kpe,bigint:xpe,boolean:mV,date:Epe,discriminatedUnion:Dpe,effect:X7,enum:Hpe,function:jpe,instanceof:vpe,intersection:Lpe,lazy:zpe,literal:Wpe,map:Upe,nan:Cpe,nativeEnum:Vpe,never:Npe,null:_pe,nullable:Kpe,number:pV,object:Rpe,oboolean:Xpe,onumber:Jpe,optional:Gpe,ostring:Zpe,pipeline:Qpe,preprocess:Ype,promise:qpe,record:Bpe,set:Fpe,strictObject:Ope,string:hV,symbol:Ape,transformer:X7,tuple:Mpe,undefined:Spe,union:$pe,unknown:Ipe,void:Ppe,NEVER:tme,ZodIssueCode:Xe,quotelessJson:ipe,ZodError:il});const ei=G.object({message:G.string()});function pt(t){return G.literal(Et[t])}const fS=G.object({serializedMessage:G.string().optional(),accountAddress:G.string(),chainId:G.string(),notBefore:G.string().optional(),domain:G.string(),uri:G.string(),version:G.string(),nonce:G.string(),statement:G.string().optional(),resources:G.array(G.string()).optional(),requestId:G.string().optional(),issuedAt:G.string().optional(),expirationTime:G.string().optional()});G.object({accessList:G.array(G.string()),blockHash:G.string().nullable(),blockNumber:G.string().nullable(),chainId:G.string().or(G.number()),from:G.string(),gas:G.string(),hash:G.string(),input:G.string().nullable(),maxFeePerGas:G.string(),maxPriorityFeePerGas:G.string(),nonce:G.string(),r:G.string(),s:G.string(),to:G.string(),transactionIndex:G.string().nullable(),type:G.string(),v:G.string(),value:G.string()});const nme=G.object({chainId:G.string().or(G.number()),rpcUrl:G.optional(G.string())}),rme=G.object({email:G.string().email()}),ime=G.object({otp:G.string()}),sme=G.object({uri:G.string(),preferredAccountType:G.optional(G.string()),chainId:G.optional(G.string().or(G.number())),siwxMessage:G.optional(fS),rpcUrl:G.optional(G.string())}),ome=G.object({chainId:G.optional(G.string().or(G.number())),preferredAccountType:G.optional(G.string()),socialUri:G.optional(G.string()),siwxMessage:G.optional(fS),rpcUrl:G.optional(G.string())}),ame=G.object({provider:G.enum(["google","github","apple","facebook","x","discord"])}),cme=G.object({email:G.string().email()}),lme=G.object({otp:G.string()}),ume=G.object({otp:G.string()}),dme=G.object({themeMode:G.optional(G.enum(["light","dark"])),themeVariables:G.optional(G.record(G.string(),G.string().or(G.number()))),w3mThemeVariables:G.optional(G.record(G.string(),G.string()))}),fme=G.object({metadata:G.object({name:G.string(),description:G.string(),url:G.string(),icons:G.array(G.string())}).optional(),sdkVersion:G.string().optional(),sdkType:G.string().optional(),projectId:G.string()}),hme=G.object({type:G.string()}),pme=G.object({action:G.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),mme=G.object({url:G.string()}),gme=G.object({userName:G.string()}),yme=G.object({email:G.string().optional().nullable(),address:G.string(),chainId:G.string().or(G.number()),accounts:G.array(G.object({address:G.string(),type:G.enum([tr.ACCOUNT_TYPES.EOA,tr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:G.string().optional().nullable(),preferredAccountType:G.optional(G.string()),signature:G.string().optional(),message:G.string().optional(),siwxMessage:G.optional(fS)}),wme=G.object({action:G.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),bme=G.object({email:G.string().email().optional().nullable(),address:G.string(),chainId:G.string().or(G.number()),smartAccountDeployed:G.optional(G.boolean()),accounts:G.array(G.object({address:G.string(),type:G.enum([tr.ACCOUNT_TYPES.EOA,tr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:G.optional(G.string()),signature:G.string().optional(),message:G.string().optional(),siwxMessage:G.optional(fS)}),vme=G.object({uri:G.string()}),Cme=G.object({isConnected:G.boolean()}),xme=G.object({chainId:G.string().or(G.number())}),Eme=G.object({chainId:G.string().or(G.number())}),Ame=G.object({newEmail:G.string().email()}),Sme=G.object({smartAccountEnabledNetworks:G.array(G.number())});G.object({address:G.string(),isDeployed:G.boolean()});const _me=G.object({version:G.string().optional()}),Tme=G.object({type:G.string(),address:G.string()}),Ime=G.any(),Nme=G.object({method:G.literal("eth_accounts")}),Pme=G.object({method:G.literal("eth_blockNumber")}),kme=G.object({method:G.literal("eth_call"),params:G.array(G.any())}),Rme=G.object({method:G.literal("eth_chainId")}),Ome=G.object({method:G.literal("eth_estimateGas"),params:G.array(G.any())}),$me=G.object({method:G.literal("eth_feeHistory"),params:G.array(G.any())}),Dme=G.object({method:G.literal("eth_gasPrice")}),Lme=G.object({method:G.literal("eth_getAccount"),params:G.array(G.any())}),Mme=G.object({method:G.literal("eth_getBalance"),params:G.array(G.any())}),Bme=G.object({method:G.literal("eth_getBlockByHash"),params:G.array(G.any())}),Ume=G.object({method:G.literal("eth_getBlockByNumber"),params:G.array(G.any())}),Fme=G.object({method:G.literal("eth_getBlockReceipts"),params:G.array(G.any())}),jme=G.object({method:G.literal("eth_getBlockTransactionCountByHash"),params:G.array(G.any())}),zme=G.object({method:G.literal("eth_getBlockTransactionCountByNumber"),params:G.array(G.any())}),Wme=G.object({method:G.literal("eth_getCode"),params:G.array(G.any())}),Hme=G.object({method:G.literal("eth_getFilterChanges"),params:G.array(G.any())}),Vme=G.object({method:G.literal("eth_getFilterLogs"),params:G.array(G.any())}),qme=G.object({method:G.literal("eth_getLogs"),params:G.array(G.any())}),Gme=G.object({method:G.literal("eth_getProof"),params:G.array(G.any())}),Kme=G.object({method:G.literal("eth_getStorageAt"),params:G.array(G.any())}),Yme=G.object({method:G.literal("eth_getTransactionByBlockHashAndIndex"),params:G.array(G.any())}),Qme=G.object({method:G.literal("eth_getTransactionByBlockNumberAndIndex"),params:G.array(G.any())}),Zme=G.object({method:G.literal("eth_getTransactionByHash"),params:G.array(G.any())}),Jme=G.object({method:G.literal("eth_getTransactionCount"),params:G.array(G.any())}),Xme=G.object({method:G.literal("eth_getTransactionReceipt"),params:G.array(G.any())}),ege=G.object({method:G.literal("eth_getUncleCountByBlockHash"),params:G.array(G.any())}),tge=G.object({method:G.literal("eth_getUncleCountByBlockNumber"),params:G.array(G.any())}),nge=G.object({method:G.literal("eth_maxPriorityFeePerGas")}),rge=G.object({method:G.literal("eth_newBlockFilter")}),ige=G.object({method:G.literal("eth_newFilter"),params:G.array(G.any())}),sge=G.object({method:G.literal("eth_newPendingTransactionFilter")}),oge=G.object({method:G.literal("eth_sendRawTransaction"),params:G.array(G.any())}),age=G.object({method:G.literal("eth_syncing"),params:G.array(G.any())}),cge=G.object({method:G.literal("eth_uninstallFilter"),params:G.array(G.any())}),eL=G.object({method:G.literal("personal_sign"),params:G.array(G.any())}),lge=G.object({method:G.literal("eth_signTypedData_v4"),params:G.array(G.any())}),uge=G.object({method:G.literal("eth_sendTransaction"),params:G.array(G.any())}),dge=G.object({method:G.literal("solana_signMessage"),params:G.object({message:G.string(),pubkey:G.string()})}),fge=G.object({method:G.literal("solana_signTransaction"),params:G.object({transaction:G.string()})}),hge=G.object({method:G.literal("solana_signAllTransactions"),params:G.object({transactions:G.array(G.string())})}),pge=G.object({method:G.literal("solana_signAndSendTransaction"),params:G.object({transaction:G.string(),options:G.object({skipPreflight:G.boolean().optional(),preflightCommitment:G.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:G.number().optional(),minContextSlot:G.number().optional()}).optional()})}),mge=G.object({method:G.literal("wallet_sendCalls"),params:G.array(G.object({chainId:G.string().or(G.number()).optional(),from:G.string().optional(),version:G.string().optional(),capabilities:G.any().optional(),calls:G.array(G.object({to:G.string().startsWith("0x"),data:G.string().startsWith("0x").optional(),value:G.string().optional()}))}))}),gge=G.object({method:G.literal("wallet_getCallsStatus"),params:G.array(G.string())}),yge=G.object({method:G.literal("wallet_getCapabilities"),params:G.array(G.string().or(G.number()).optional()).optional()}),wge=G.object({method:G.literal("wallet_grantPermissions"),params:G.array(G.any())}),bge=G.object({method:G.literal("wallet_revokePermissions"),params:G.any()}),vge=G.object({method:G.literal("wallet_getAssets"),params:G.any()}),tL=G.object({token:G.string()}),mt=G.object({id:G.string().optional()}),$6={appEvent:mt.extend({type:pt("APP_SWITCH_NETWORK"),payload:nme}).or(mt.extend({type:pt("APP_CONNECT_EMAIL"),payload:rme})).or(mt.extend({type:pt("APP_CONNECT_DEVICE")})).or(mt.extend({type:pt("APP_CONNECT_OTP"),payload:ime})).or(mt.extend({type:pt("APP_CONNECT_SOCIAL"),payload:sme})).or(mt.extend({type:pt("APP_GET_FARCASTER_URI")})).or(mt.extend({type:pt("APP_CONNECT_FARCASTER")})).or(mt.extend({type:pt("APP_GET_USER"),payload:G.optional(ome)})).or(mt.extend({type:pt("APP_GET_SOCIAL_REDIRECT_URI"),payload:ame})).or(mt.extend({type:pt("APP_SIGN_OUT")})).or(mt.extend({type:pt("APP_IS_CONNECTED"),payload:G.optional(tL)})).or(mt.extend({type:pt("APP_GET_CHAIN_ID")})).or(mt.extend({type:pt("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(mt.extend({type:pt("APP_INIT_SMART_ACCOUNT")})).or(mt.extend({type:pt("APP_SET_PREFERRED_ACCOUNT"),payload:hme})).or(mt.extend({type:pt("APP_RPC_REQUEST"),payload:eL.or(vge).or(Nme).or(Pme).or(kme).or(Rme).or(Ome).or($me).or(Dme).or(Lme).or(Mme).or(Bme).or(Ume).or(Fme).or(jme).or(zme).or(Wme).or(Hme).or(Vme).or(qme).or(Gme).or(Kme).or(Yme).or(Qme).or(Zme).or(Jme).or(Xme).or(ege).or(tge).or(nge).or(rge).or(ige).or(sge).or(oge).or(age).or(cge).or(eL).or(lge).or(uge).or(dge).or(fge).or(hge).or(pge).or(gge).or(mge).or(yge).or(wge).or(bge).and(G.object({chainId:G.string().or(G.number()).optional(),chainNamespace:G.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:G.string().optional()}))})).or(mt.extend({type:pt("APP_UPDATE_EMAIL"),payload:cme})).or(mt.extend({type:pt("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:lme})).or(mt.extend({type:pt("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:ume})).or(mt.extend({type:pt("APP_SYNC_THEME"),payload:dme})).or(mt.extend({type:pt("APP_SYNC_DAPP_DATA"),payload:fme})).or(mt.extend({type:pt("APP_RELOAD")})).or(mt.extend({type:pt("APP_RPC_ABORT")})),frameEvent:mt.extend({type:pt("FRAME_SWITCH_NETWORK_ERROR"),payload:ei}).or(mt.extend({type:pt("FRAME_SWITCH_NETWORK_SUCCESS"),payload:Eme})).or(mt.extend({type:pt("FRAME_CONNECT_EMAIL_SUCCESS"),payload:pme})).or(mt.extend({type:pt("FRAME_CONNECT_EMAIL_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:mme})).or(mt.extend({type:pt("FRAME_GET_FARCASTER_URI_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:gme})).or(mt.extend({type:pt("FRAME_CONNECT_FARCASTER_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_CONNECT_OTP_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_CONNECT_OTP_SUCCESS")})).or(mt.extend({type:pt("FRAME_CONNECT_DEVICE_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_CONNECT_DEVICE_SUCCESS")})).or(mt.extend({type:pt("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:yme})).or(mt.extend({type:pt("FRAME_CONNECT_SOCIAL_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_GET_USER_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_GET_USER_SUCCESS"),payload:bme})).or(mt.extend({type:pt("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:vme})).or(mt.extend({type:pt("FRAME_SIGN_OUT_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_SIGN_OUT_SUCCESS")})).or(mt.extend({type:pt("FRAME_IS_CONNECTED_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_IS_CONNECTED_SUCCESS"),payload:Cme})).or(mt.extend({type:pt("FRAME_GET_CHAIN_ID_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_GET_CHAIN_ID_SUCCESS"),payload:xme})).or(mt.extend({type:pt("FRAME_RPC_REQUEST_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_RPC_REQUEST_SUCCESS"),payload:Ime})).or(mt.extend({type:pt("FRAME_SESSION_UPDATE"),payload:tL})).or(mt.extend({type:pt("FRAME_UPDATE_EMAIL_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_UPDATE_EMAIL_SUCCESS"),payload:wme})).or(mt.extend({type:pt("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(mt.extend({type:pt("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Ame})).or(mt.extend({type:pt("FRAME_SYNC_THEME_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_SYNC_THEME_SUCCESS")})).or(mt.extend({type:pt("FRAME_SYNC_DAPP_DATA_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(mt.extend({type:pt("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Sme})).or(mt.extend({type:pt("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Tme})).or(mt.extend({type:pt("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_READY"),payload:_me})).or(mt.extend({type:pt("FRAME_RELOAD_ERROR"),payload:ei})).or(mt.extend({type:pt("FRAME_RELOAD_SUCCESS")}))};function D6(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}function Cge({projectId:t,chainId:e,enableLogger:n,rpcUrl:r=oe.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:i=!1}){const s=new URL(_te);return s.searchParams.set("projectId",t),s.searchParams.set("chainId",String(e)),s.searchParams.set("version",Ite),s.searchParams.set("enableLogger",String(n)),s.searchParams.set("rpcUrl",r),i&&s.searchParams.set("enableCloudAuthAccount","true"),s.toString()}class xge{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:i=!0,enableCloudAuthAccount:s=!1,rpcUrl:o=oe.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,u)=>{function f({data:h}){var g;if(!D6(Et.FRAME_EVENT_KEY,h))return;const p=$6.frameEvent.safeParse(h);if(!p.success){console.warn("W3mFrame: invalid frame event",p.error.message);return}((g=p.data)==null?void 0:g.id)===a&&(c(p.data),window.removeEventListener("message",f))}ga.isClient&&(window.addEventListener("message",f),u.addEventListener("abort",()=>{window.removeEventListener("message",f)}))},onFrameEvent:a=>{ga.isClient&&window.addEventListener("message",({data:c})=>{if(!D6(Et.FRAME_EVENT_KEY,c))return;const u=$6.frameEvent.safeParse(c);u.success?a(u.data):console.warn("W3mFrame: invalid frame event",u.error.message)})},onAppEvent:a=>{ga.isClient&&window.addEventListener("message",({data:c})=>{if(!D6(Et.APP_EVENT_KEY,c))return;const u=$6.appEvent.safeParse(c);u.success||console.warn("W3mFrame: invalid app event",u.error.message),a(c)})},postAppEvent:a=>{var c;if(ga.isClient){if(!((c=this.iframe)!=null&&c.contentWindow))throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(ga.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),this.rpcUrl=o,n&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),ga.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=Cge({projectId:e,chainId:r,enableLogger:i,rpcUrl:this.rpcUrl,enableCloudAuthAccount:s}),a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=a,this.iframe.onerror=()=>{var c;(c=this.frameLoadPromiseResolver)==null||c.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{var u;c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(u=this.frameLoadPromiseResolver)==null||u.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class Ege{constructor(e){var s;const n=bb({level:Tte}),{logger:r,chunkLoggerController:i}=PR({opts:n});this.logger=Bs(r,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&((s=this.chunkLoggerController)!=null&&s.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class gV{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:c}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new Ege(e)),this.abortController=s,this.getActiveCaipNetwork=o,this.getCaipNetworks=a;const u=this.getRpcUrl(n);this.w3mFrame=new xge({projectId:e,isAppClient:!0,chainId:n,enableLogger:r,rpcUrl:u,enableCloudAuthAccount:c}),this.onTimeout=i,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===Et.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!ss.get(Et.EMAIL_LOGIN_USED_KEY)}getEmail(){return ss.get(Et.EMAIL)}getUsername(){return ss.get(Et.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:Et.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{ga.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:Et.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:Et.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:Et.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:Et.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:Et.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return await this.init(),this.appEvent({type:Et.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:Et.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:Et.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:Et.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:Et.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:Et.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:Et.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:Et.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n,r;if(e!=null&&e.socialUri)try{await this.init();const i=this.getRpcUrl(e.chainId),s=await this.appEvent({type:Et.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:i}});return s.userName&&this.setSocialLoginSuccess(s.userName),this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(i){throw(n=this.w3mLogger)==null||n.logger.error({error:i},"Error connecting social"),i}else try{const i=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.getUser({chainId:i,preferredAccountType:e==null?void 0:e.preferredAccountType,siwxMessage:e==null?void 0:e.siwxMessage,rpcUrl:this.getRpcUrl(i)});return this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(i){throw(r=this.w3mLogger)==null||r.logger.error({error:i},"Error connecting"),i}}async getUser(e){var n;try{await this.init();const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.appEvent({type:Et.APP_GET_USER,payload:{...e,chainId:r,rpcUrl:this.getRpcUrl(r)}});return this.user=i,i}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial({uri:e,chainId:n,preferredAccountType:r}){var i;try{await this.init();const s=this.getRpcUrl(n),o=await this.appEvent({type:Et.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:n,rpcUrl:s,preferredAccountType:r}});return o.userName&&this.setSocialLoginSuccess(o.userName),o}catch(s){throw(i=this.w3mLogger)==null||i.logger.error({error:s},"Error connecting social"),s}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:Et.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:Et.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork({chainId:e}){var n;try{const r=this.getRpcUrl(e),i=await this.appEvent({type:Et.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:r}});return this.setLastUsedChainId(i.chainId),i}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const i=setTimeout(()=>{r()},3e3);await this.appEvent({type:Et.APP_SIGN_OUT}),clearTimeout(i),r()})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var r,i,s,o,a;const n=e;try{if(tr.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();const c=e.chainNamespace||"eip155",u=(r=this.getActiveCaipNetwork(c))==null?void 0:r.id;n.chainNamespace=c,n.chainId=u,n.rpcUrl=this.getRpcUrl(u),(i=this.rpcRequestHandler)==null||i.call(this,e);const f=await this.appEvent({type:Et.APP_RPC_REQUEST,payload:n});return(s=this.rpcSuccessHandler)==null||s.call(this,f,n),f}catch(c){throw(o=this.rpcErrorHandler)==null||o.call(this,c,n),(a=this.w3mLogger)==null||a.logger.error({error:c},"Error requesting"),c}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Et.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Et.FRAME_IS_CONNECTED_ERROR&&e(),n.type===Et.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Et.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Et.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Et.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===Et.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:tr.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){var e;try{await Promise.all(this.openRpcRequests.map(async({abortController:n,method:r})=>{tr.SAFE_RPC_METHODS.includes(r)||n.abort(),await this.appEvent({type:Et.APP_RPC_ABORT})})),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,r;function i(c){return c.replace("@w3m-app/","")}const s=[Et.APP_SYNC_DAPP_DATA,Et.APP_SYNC_THEME,Et.APP_SET_PREFERRED_ACCOUNT],o=i(e.type);return!this.w3mFrame.iframeIsReady&&!s.includes(e.type)&&(r=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[Et.APP_CONNECT_EMAIL,Et.APP_CONNECT_DEVICE,Et.APP_CONNECT_OTP,Et.APP_CONNECT_SOCIAL,Et.APP_GET_SOCIAL_REDIRECT_URI].map(i).includes(o)&&(n=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,u)=>{var g,w,y;const f=Math.random().toString(36).substring(7);(y=(g=this.w3mLogger)==null?void 0:(w=g.logger).info)==null||y.call(w,{event:e,id:f},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:f});const h=new AbortController;if(o==="RPC_REQUEST"){const b=e;this.openRpcRequests=[...this.openRpcRequests,{...b.payload,abortController:h}]}h.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?u(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&u(new Error("Something went wrong"))});function p(b,C){var x,E,I;b.id===f&&((E=C==null?void 0:(x=C.logger).info)==null||E.call(x,{framEvent:b,id:f},"Received frame response"),b.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in b&&c(b.payload),c(void 0)):b.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in b&&u(new Error(((I=b.payload)==null?void 0:I.message)||"An error occurred")),u(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(f,b=>p(b,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){ss.set(Et.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){ss.set(Et.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&ss.set(Et.EMAIL,e),ss.set(Et.EMAIL_LOGIN_USED_KEY,"true"),ss.delete(Et.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){ss.delete(Et.EMAIL_LOGIN_USED_KEY),ss.delete(Et.EMAIL),ss.delete(Et.LAST_USED_CHAIN_KEY),ss.delete(Et.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&ss.set(Et.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=ss.get(Et.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){ss.set(Et.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){var s,o;let n=e===void 0?void 0:"eip155";typeof e=="string"&&(e.includes(":")?n=(s=Zs.parseCaipNetworkId(e))==null?void 0:s.chainNamespace:Number.isInteger(Number(e))?n="eip155":n="solana");const r=this.getCaipNetworks(n),i=e?r.find(a=>String(a.id)===String(e)||a.caipNetworkId===e):r[0];return(o=i==null?void 0:i.rpcUrls.default.http)==null?void 0:o[0]}}class Ym{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a}){var c;return Ym.instance||(Ym.instance=new gV({projectId:e,chainId:n,enableLogger:r,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:!!((c=ce.state.remoteFeatures)!=null&&c.emailCapture)})),Ym.instance}}function Age(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function zi(t,...e){try{return Age(t(...e))}catch(n){return Promise.reject(n)}}function Sge(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function _ge(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function kA(t){if(Sge(t))return String(t);if(_ge(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return kA(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const w4="base64:";function Tge(t){return typeof t=="string"?t:w4+Pge(t)}function Ige(t){return typeof t!="string"||!t.startsWith(w4)?t:Nge(t.slice(w4.length))}function Nge(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function Pge(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function To(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function kge(...t){return To(t.join(":"))}function VE(t){return t=To(t),t?t+":":""}function Rge(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function Oge(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const $ge="memory",Dge=()=>{const t=new Map;return{name:$ge,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Lge(t={}){const e={mounts:{"":t.driver||Dge()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=u=>{for(const f of e.mountpoints)if(u.startsWith(f))return{base:f,relativeKey:u.slice(f.length),driver:e.mounts[f]};return{base:"",relativeKey:u,driver:e.mounts[""]}},r=(u,f)=>e.mountpoints.filter(h=>h.startsWith(u)||f&&u.startsWith(h)).map(h=>({relativeBase:u.length>h.length?u.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(u,f)=>{if(e.watching){f=To(f);for(const h of e.watchListeners)h(u,f)}},s=async()=>{if(!e.watching){e.watching=!0;for(const u in e.mounts)e.unwatch[u]=await nL(e.mounts[u],i,u)}},o=async()=>{if(e.watching){for(const u in e.unwatch)await e.unwatch[u]();e.unwatch={},e.watching=!1}},a=(u,f,h)=>{const p=new Map,g=w=>{let y=p.get(w.base);return y||(y={driver:w.driver,base:w.base,items:[]},p.set(w.base,y)),y};for(const w of u){const y=typeof w=="string",b=To(y?w:w.key),C=y?void 0:w.value,x=y||!w.options?f:{...f,...w.options},E=n(b);g(E).items.push({key:b,value:C,relativeKey:E.relativeKey,options:x})}return Promise.all([...p.values()].map(w=>h(w))).then(w=>w.flat())},c={hasItem(u,f={}){u=To(u);const{relativeKey:h,driver:p}=n(u);return zi(p.hasItem,h,f)},getItem(u,f={}){u=To(u);const{relativeKey:h,driver:p}=n(u);return zi(p.getItem,h,f).then(g=>BE(g))},getItems(u,f={}){return a(u,f,h=>h.driver.getItems?zi(h.driver.getItems,h.items.map(p=>({key:p.relativeKey,options:p.options})),f).then(p=>p.map(g=>({key:kge(h.base,g.key),value:BE(g.value)}))):Promise.all(h.items.map(p=>zi(h.driver.getItem,p.relativeKey,p.options).then(g=>({key:p.key,value:BE(g)})))))},getItemRaw(u,f={}){u=To(u);const{relativeKey:h,driver:p}=n(u);return p.getItemRaw?zi(p.getItemRaw,h,f):zi(p.getItem,h,f).then(g=>Ige(g))},async setItem(u,f,h={}){if(f===void 0)return c.removeItem(u);u=To(u);const{relativeKey:p,driver:g}=n(u);g.setItem&&(await zi(g.setItem,p,kA(f),h),g.watch||i("update",u))},async setItems(u,f){await a(u,f,async h=>{if(h.driver.setItems)return zi(h.driver.setItems,h.items.map(p=>({key:p.relativeKey,value:kA(p.value),options:p.options})),f);h.driver.setItem&&await Promise.all(h.items.map(p=>zi(h.driver.setItem,p.relativeKey,kA(p.value),p.options)))})},async setItemRaw(u,f,h={}){if(f===void 0)return c.removeItem(u,h);u=To(u);const{relativeKey:p,driver:g}=n(u);if(g.setItemRaw)await zi(g.setItemRaw,p,f,h);else if(g.setItem)await zi(g.setItem,p,Tge(f),h);else return;g.watch||i("update",u)},async removeItem(u,f={}){typeof f=="boolean"&&(f={removeMeta:f}),u=To(u);const{relativeKey:h,driver:p}=n(u);p.removeItem&&(await zi(p.removeItem,h,f),(f.removeMeta||f.removeMata)&&await zi(p.removeItem,h+"$",f),p.watch||i("remove",u))},async getMeta(u,f={}){typeof f=="boolean"&&(f={nativeOnly:f}),u=To(u);const{relativeKey:h,driver:p}=n(u),g=Object.create(null);if(p.getMeta&&Object.assign(g,await zi(p.getMeta,h,f)),!f.nativeOnly){const w=await zi(p.getItem,h+"$",f).then(y=>BE(y));w&&typeof w=="object"&&(typeof w.atime=="string"&&(w.atime=new Date(w.atime)),typeof w.mtime=="string"&&(w.mtime=new Date(w.mtime)),Object.assign(g,w))}return g},setMeta(u,f,h={}){return this.setItem(u+"$",f,h)},removeMeta(u,f={}){return this.removeItem(u+"$",f)},async getKeys(u,f={}){var b;u=VE(u);const h=r(u,!0);let p=[];const g=[];let w=!0;for(const C of h){(b=C.driver.flags)!=null&&b.maxDepth||(w=!1);const x=await zi(C.driver.getKeys,C.relativeBase,f);for(const E of x){const I=C.mountpoint+To(E);p.some(S=>I.startsWith(S))||g.push(I)}p=[C.mountpoint,...p.filter(E=>!E.startsWith(C.mountpoint))]}const y=f.maxDepth!==void 0&&!w;return g.filter(C=>(!y||Rge(C,f.maxDepth))&&Oge(C,u))},async clear(u,f={}){u=VE(u),await Promise.all(r(u,!1).map(async h=>{if(h.driver.clear)return zi(h.driver.clear,h.relativeBase,f);if(h.driver.removeItem){const p=await h.driver.getKeys(h.relativeBase||"",f);return Promise.all(p.map(g=>h.driver.removeItem(g,f)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(u=>rL(u)))},async watch(u){return await s(),e.watchListeners.push(u),async()=>{e.watchListeners=e.watchListeners.filter(f=>f!==u),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(u,f){if(u=VE(u),u&&e.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(e.mountpoints.push(u),e.mountpoints.sort((h,p)=>p.length-h.length)),e.mounts[u]=f,e.watching&&Promise.resolve(nL(f,i,u)).then(h=>{e.unwatch[u]=h}).catch(console.error),c},async unmount(u,f=!0){var h,p;u=VE(u),!(!u||!e.mounts[u])&&(e.watching&&u in e.unwatch&&((p=(h=e.unwatch)[u])==null||p.call(h),delete e.unwatch[u]),f&&await rL(e.mounts[u]),e.mountpoints=e.mountpoints.filter(g=>g!==u),delete e.mounts[u])},getMount(u=""){u=To(u)+":";const f=n(u);return{driver:f.driver,base:f.base}},getMounts(u="",f={}){return u=To(u),r(u,f.parents).map(p=>({driver:p.driver,base:p.mountpoint}))},keys:(u,f={})=>c.getKeys(u,f),get:(u,f={})=>c.getItem(u,f),set:(u,f,h={})=>c.setItem(u,f,h),has:(u,f={})=>c.hasItem(u,f),del:(u,f={})=>c.removeItem(u,f),remove:(u,f={})=>c.removeItem(u,f)};return c}function nL(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function rL(t){typeof t.dispose=="function"&&await zi(t.dispose)}const Mge="idb-keyval";var Bge=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=hH(t.dbName,t.storeName)),{name:Mge,options:t,async hasItem(i){return!(typeof await QD(n(i),r)>"u")},async getItem(i){return await QD(n(i),r)??null},setItem(i,s){return Sae(n(i),s,r)},removeItem(i){return _ae(n(i),r)},getKeys(){return Nae(r)},clear(){return Tae(r)}}};const Uge="WALLET_CONNECT_V2_INDEXED_DB",Fge="keyvaluestorage";let jge=class{constructor(){this.indexedDb=Lge({driver:Bge({dbName:Uge,storeName:Fge})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,zd(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var L6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},RA={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof L6<"u"&&L6.localStorage?RA.exports=L6.localStorage:typeof window<"u"&&window.localStorage?RA.exports=window.localStorage:RA.exports=new e})();function zge(t){var e;return[t[0],og((e=t[1])!=null?e:"")]}let Wge=class{constructor(){this.localStorage=RA.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(zge)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return og(n)}async setItem(e,n){this.localStorage.setItem(e,zd(n))}async removeItem(e){this.localStorage.removeItem(e)}};const Hge="wc_storage_version",iL=1,Vge=async(t,e,n)=>{const r=Hge,i=await e.getItem(r);if(i&&i>=iL){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const u=await t.getItem(a);await e.setItem(a,u),o.push(a)}}await e.setItem(r,iL),n(e),qge(t,o)},qge=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let Gge=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new Wge;this.storage=e;try{const n=new jge;Vge(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var Kge=Object.defineProperty,Yge=(t,e,n)=>e in t?Kge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sL=(t,e,n)=>Yge(t,typeof e!="symbol"?e+"":e,n);let Qge=class extends Mg{constructor(e){super(),this.opts=e,sL(this,"protocol","wc"),sL(this,"version",2)}};var Zge=Object.defineProperty,Jge=(t,e,n)=>e in t?Zge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xge=(t,e,n)=>Jge(t,e+"",n);let e0e=class extends Mg{constructor(e,n){super(),this.core=e,this.logger=n,Xge(this,"records",new Map)}},t0e=class{constructor(e,n){this.logger=e,this.core=n}},n0e=class extends Mg{constructor(e,n){super(),this.relayer=e,this.logger=n}},r0e=class extends Mg{constructor(e){super()}},i0e=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},s0e=class extends Mg{constructor(e,n){super(),this.relayer=e,this.logger=n}},o0e=class extends Mg{constructor(e,n){super(),this.core=e,this.logger=n}},a0e=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},c0e=class{constructor(e,n){this.projectId=e,this.logger=n}},l0e=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var u0e=Object.defineProperty,d0e=(t,e,n)=>e in t?u0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oL=(t,e,n)=>d0e(t,typeof e!="symbol"?e+"":e,n);let f0e=class{constructor(e){this.opts=e,oL(this,"protocol","wc"),oL(this,"version",2)}},h0e=class{constructor(e){this.client=e}};function y2(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function b4(t){return y2(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const yV="2.31.0";let Pv={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${yV}`},hS=class v4 extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof v4?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof v4&&n.cause.docsPath||n.docsPath,s=(a=Pv.getDocsUrl)==null?void 0:a.call(Pv,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...Pv.version?[`Version: ${Pv.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=yV}walk(e){return wV(this,e)}};function wV(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?wV(t.cause,e):e?null:t}class bV extends hS{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function xb(t,{dir:e,size:n=32}={}){return typeof t=="string"?p0e(t,{dir:e,size:n}):m0e(t,{dir:e,size:n})}function p0e(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new bV({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function m0e(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new bV({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}class g0e extends hS{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class y0e extends hS{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Eb(t,{size:e}){if(b4(t)>e)throw new y0e({givenSize:b4(t),maxSize:e})}function C4(t,e={}){const{signed:n}=e;e.size&&Eb(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function w0e(t,e={}){return Number(C4(t,e))}const b0e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function x4(t,e={}){return typeof t=="number"||typeof t=="bigint"?CV(t,e):typeof t=="string"?x0e(t,e):typeof t=="boolean"?v0e(t,e):vV(t,e)}function v0e(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Eb(n,{size:e.size}),xb(n,{size:e.size})):n}function vV(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=b0e[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Eb(r,{size:e.size}),xb(r,{dir:"right",size:e.size})):r}function CV(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new g0e({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?xb(a,{size:r}):a}const C0e=new TextEncoder;function x0e(t,e={}){const n=C0e.encode(t);return vV(n,e)}const E0e=new TextEncoder;function A0e(t,e={}){return typeof t=="number"||typeof t=="bigint"?_0e(t,e):typeof t=="boolean"?S0e(t,e):y2(t)?xV(t,e):EV(t,e)}function S0e(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Eb(n,{size:e.size}),xb(n,{size:e.size})):n}const Zu={zero:48,nine:57,A:65,F:70,a:97,f:102};function aL(t){if(t>=Zu.zero&&t<=Zu.nine)return t-Zu.zero;if(t>=Zu.A&&t<=Zu.F)return t-(Zu.A-10);if(t>=Zu.a&&t<=Zu.f)return t-(Zu.a-10)}function xV(t,e={}){let n=t;e.size&&(Eb(n,{size:e.size}),n=xb(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=aL(r.charCodeAt(a++)),u=aL(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new hS(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+u}return s}function _0e(t,e){const n=CV(t,e);return xV(n)}function EV(t,e={}){const n=E0e.encode(t);return typeof e.size=="number"?(Eb(n,{size:e.size}),xb(n,{dir:"right",size:e.size})):n}const qE=BigInt(2**32-1),cL=BigInt(32);function T0e(t,e=!1){return e?{h:Number(t&qE),l:Number(t>>cL&qE)}:{h:Number(t>>cL&qE)|0,l:Number(t&qE)|0}}function I0e(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=T0e(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const N0e=(t,e,n)=>t<<n|e>>>32-n,P0e=(t,e,n)=>e<<n|t>>>32-n,k0e=(t,e,n)=>e<<n-32|t>>>64-n,R0e=(t,e,n)=>t<<n-32|e>>>64-n,$0=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function O0e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function k3(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function w2(t,...e){if(!O0e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function YDe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");k3(t.outputLen),k3(t.blockLen)}function lL(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function $0e(t,e){w2(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function D0e(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function AV(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function QDe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ZDe(t,e){return t<<32-e|t>>>e}const L0e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function M0e(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function B0e(t){for(let e=0;e<t.length;e++)t[e]=M0e(t[e]);return t}const uL=L0e?t=>t:B0e;function U0e(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function SV(t){return typeof t=="string"&&(t=U0e(t)),w2(t),t}function JDe(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];w2(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let F0e=class{};function j0e(t){const e=r=>t().update(SV(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function e7e(t=32){if($0&&typeof $0.getRandomValues=="function")return $0.getRandomValues(new Uint8Array(t));if($0&&typeof $0.randomBytes=="function")return Uint8Array.from($0.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const z0e=BigInt(0),kv=BigInt(1),W0e=BigInt(2),H0e=BigInt(7),V0e=BigInt(256),q0e=BigInt(113),_V=[],TV=[],IV=[];for(let t=0,e=kv,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],_V.push(2*(5*r+n)),TV.push((t+1)*(t+2)/2%64);let i=z0e;for(let s=0;s<7;s++)e=(e<<kv^(e>>H0e)*q0e)%V0e,e&W0e&&(i^=kv<<(kv<<BigInt(s))-kv);IV.push(i)}const NV=I0e(IV,!0),G0e=NV[0],K0e=NV[1],dL=(t,e,n)=>n>32?k0e(t,e,n):N0e(t,e,n),fL=(t,e,n)=>n>32?R0e(t,e,n):P0e(t,e,n);function Y0e(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],f=n[c+1],h=dL(u,f,1)^n[a],p=fL(u,f,1)^n[a+1];for(let g=0;g<50;g+=10)t[o+g]^=h,t[o+g+1]^=p}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=TV[o],c=dL(i,s,a),u=fL(i,s,a),f=_V[o];i=t[f],s=t[f+1],t[f]=c,t[f+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=G0e[r],t[1]^=K0e[r]}AV(n)}let Q0e=class PV extends F0e{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,k3(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=D0e(this.state)}clone(){return this._cloneInto()}keccak(){uL(this.state32),Y0e(this.state32,this.rounds),uL(this.state32),this.posOut=0,this.pos=0}update(e){lL(this),e=SV(e),w2(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){lL(this,!1),w2(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return k3(e),this.xofInto(new Uint8Array(e))}digestInto(e){if($0e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,AV(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new PV(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Z0e=(t,e,n)=>j0e(()=>new Q0e(e,t,n)),J0e=Z0e(1,136,256/8);function kV(t,e){const n=e||"hex",r=J0e(y2(t,{strict:!1})?A0e(t):t);return n==="bytes"?r:x4(r)}class X0e extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const M6=new X0e(8192);function eye(t,e){if(M6.has(`${t}.${e}`))return M6.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=kV(EV(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return M6.set(`${t}.${e}`,s),s}function tye(t){const e=kV(`0x${t.substring(4)}`).substring(26);return eye(`0x${e}`)}async function nye({hash:t,signature:e}){const n=y2(t)?t:x4(t),{secp256k1:r}=await Oe(async()=>{const{secp256k1:o}=await import("./secp256k1-CjMj_nzW.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:f,v:h,yParity:p}=e,g=Number(p??h),w=hL(g);return new r.Signature(C4(u),C4(f)).addRecoveryBit(w)}const o=y2(e)?e:x4(e);if(b4(o)!==65)throw new Error("invalid signature length");const a=w0e(`0x${o.slice(130)}`),c=hL(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function hL(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function rye({hash:t,signature:e}){return tye(await nye({hash:t,signature:e}))}function zR(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function RV(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?zR(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function h1(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=RV(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return zR(n)}function OV(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const pL=OV("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),B6=OV("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=RV(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),$V={utf8:pL,"utf-8":pL,hex:I7.base16,latin1:B6,ascii:B6,binary:B6,...I7};function lc(t,e="utf8"){const n=$V[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?zR(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Wo(t,e="utf8"){const n=$V[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}var iye={};const sye=":";function Qm(t){const[e,n]=t.split(sye);return{namespace:e,reference:n}}function DV(t,e){return t.includes(":")?[t]:e.chains||[]}var oye=Object.defineProperty,aye=Object.defineProperties,cye=Object.getOwnPropertyDescriptors,mL=Object.getOwnPropertySymbols,lye=Object.prototype.hasOwnProperty,uye=Object.prototype.propertyIsEnumerable,E4=(t,e,n)=>e in t?oye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gL=(t,e)=>{for(var n in e||(e={}))lye.call(e,n)&&E4(t,n,e[n]);if(mL)for(var n of mL(e))uye.call(e,n)&&E4(t,n,e[n]);return t},dye=(t,e)=>aye(t,cye(e)),yL=(t,e,n)=>E4(t,typeof e!="symbol"?e+"":e,n);const fye="ReactNative",ya={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},hye="js";function R3(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function pp(){return!Wd.getDocument()&&!!Wd.getNavigator()&&navigator.product===fye}function pye(){return pp()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function mye(){return pp()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Ab(){return!R3()&&!!Wd.getNavigator()&&!!Wd.getDocument()}function QC(){return pp()?ya.reactNative:R3()?ya.node:Ab()?ya.browser:ya.unknown}function wL(){var t;try{return pp()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function gye(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function yye(t){var e,n;const r=LV();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),dye(gL(gL({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function LV(){return Xue.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function wye(){if(QC()===ya.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=que();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function bye(){var t;const e=QC();return e===ya.browser?[e,((t=Wd.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function MV(t,e,n){const r=wye(),i=bye();return[[t,e].join("-"),[hye,n].join("-"),r,i].join("/")}function vye({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const u=n.split("?"),f=MV(t,e,r),h={auth:i,ua:f,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},p=gye(u[1]||"",h);return u[0]+"?"+p}function am(t,e){return t.filter(n=>e.includes(n)).length===t.length}function A4(t){return Object.fromEntries(t.entries())}function S4(t){return new Map(Object.entries(t))}function Gp(t=rt.FIVE_MINUTES,e){const n=rt.toMiliseconds(t||rt.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const u=new Error(e);o=Promise.reject(u),c(u)},n),r=a,i=c})}}function du(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function BV(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Cye(t){return BV("topic",t)}function xye(t){return BV("id",t)}function UV(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Ni(t,e){return rt.fromMiliseconds(Date.now()+rt.toMiliseconds(t))}function th(t){return Date.now()>=rt.toMiliseconds(t)}function or(t,e){return`${t}${e?`:${e}`:""}`}function yu(t=[],e=[]){return[...new Set([...t,...e])]}async function Eye({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=Aye(s,t,e),a=QC();if(a===ya.browser){if(!((r=Wd.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Sye(o)}else a===ya.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function Aye(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Nye(r,!0)}`}else i=`${i}/wc?${r}`;return i}function Sye(t){let e="_self";Iye()?e="_top":(Tye()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function _ye(t,e){let n="";try{if(Ab()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function bL(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function vL(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function WR(){return typeof process<"u"&&iye.IS_VITEST==="true"}function Tye(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Iye(){try{return window.self!==window.top}catch{return!1}}function Nye(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function FV(t){return Buffer.from(t,"base64").toString("utf-8")}function Pye(t){return new Promise(e=>setTimeout(e,t))}let kye=class{constructor({limit:e}){yL(this,"limit"),yL(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const GE=BigInt(2**32-1),CL=BigInt(32);function jV(t,e=!1){return e?{h:Number(t&GE),l:Number(t>>CL&GE)}:{h:Number(t>>CL&GE)|0,l:Number(t&GE)|0}}function zV(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=jV(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const xL=(t,e,n)=>t>>>n,EL=(t,e,n)=>t<<32-n|e>>>n,nh=(t,e,n)=>t>>>n|e<<32-n,rh=(t,e,n)=>t<<32-n|e>>>n,Yv=(t,e,n)=>t<<64-n|e>>>n-32,Qv=(t,e,n)=>t>>>n-32|e<<64-n,Rye=(t,e)=>e,Oye=(t,e)=>t,$ye=(t,e,n)=>t<<n|e>>>32-n,Dye=(t,e,n)=>e<<n|t>>>32-n,Lye=(t,e,n)=>e<<n-32|t>>>64-n,Mye=(t,e,n)=>t<<n-32|e>>>64-n;function Uc(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const HR=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),VR=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Bye=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Uye=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Fye=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),jye=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,D0=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function qR(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Vd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function dc(t,...e){if(!qR(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function GR(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Vd(t.outputLen),Vd(t.blockLen)}function tp(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function KR(t,e){dc(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function b2(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function fc(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function U6(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ul(t,e){return t<<32-e|t>>>e}const WV=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function HV(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const nd=WV?t=>t:t=>HV(t);function zye(t){for(let e=0;e<t.length;e++)t[e]=HV(t[e]);return t}const ih=WV?t=>t:zye,VV=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Wye=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function v2(t){if(dc(t),VV)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Wye[t[n]];return e}const Ju={_0:48,_9:57,A:65,F:70,a:97,f:102};function AL(t){if(t>=Ju._0&&t<=Ju._9)return t-Ju._0;if(t>=Ju.A&&t<=Ju.F)return t-(Ju.A-10);if(t>=Ju.a&&t<=Ju.f)return t-(Ju.a-10)}function YR(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(VV)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=AL(t.charCodeAt(s)),a=AL(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Hye(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function ol(t){return typeof t=="string"&&(t=Hye(t)),dc(t),t}function cm(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];dc(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let pS=class{};function ZC(t){const e=r=>t().update(ol(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Vye(t){const e=(r,i)=>t(i).update(ol(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Sb(t=32){if(D0&&typeof D0.getRandomValues=="function")return D0.getRandomValues(new Uint8Array(t));if(D0&&typeof D0.randomBytes=="function")return Uint8Array.from(D0.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const qye=BigInt(0),Rv=BigInt(1),Gye=BigInt(2),Kye=BigInt(7),Yye=BigInt(256),Qye=BigInt(113),qV=[],GV=[],KV=[];for(let t=0,e=Rv,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],qV.push(2*(5*r+n)),GV.push((t+1)*(t+2)/2%64);let i=qye;for(let s=0;s<7;s++)e=(e<<Rv^(e>>Kye)*Qye)%Yye,e&Gye&&(i^=Rv<<(Rv<<BigInt(s))-Rv);KV.push(i)}const YV=zV(KV,!0),Zye=YV[0],Jye=YV[1],SL=(t,e,n)=>n>32?Lye(t,e,n):$ye(t,e,n),_L=(t,e,n)=>n>32?Mye(t,e,n):Dye(t,e,n);function Xye(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],f=n[c+1],h=SL(u,f,1)^n[a],p=_L(u,f,1)^n[a+1];for(let g=0;g<50;g+=10)t[o+g]^=h,t[o+g+1]^=p}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=GV[o],c=SL(i,s,a),u=_L(i,s,a),f=qV[o];i=t[f],s=t[f+1],t[f]=c,t[f+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Zye[r],t[1]^=Jye[r]}fc(n)}let ewe=class QV extends pS{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,Vd(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=b2(this.state)}clone(){return this._cloneInto()}keccak(){ih(this.state32),Xye(this.state32,this.rounds),ih(this.state32),this.posOut=0,this.pos=0}update(e){tp(this),e=ol(e),dc(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){tp(this,!1),dc(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Vd(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(KR(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,fc(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new QV(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const twe=(t,e,n)=>ZC(()=>new ewe(e,t,n)),nwe=twe(1,136,256/8);function rwe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}function iwe(t,e,n){return t&e^~t&n}function swe(t,e,n){return t&e^t&n^e&n}let ZV=class extends pS{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=U6(this.buffer)}update(e){tp(this),e=ol(e),dc(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=U6(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){tp(this),KR(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,fc(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;rwe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=U6(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,f[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Uf=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),As=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ss=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),owe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ff=new Uint32Array(64);let awe=class extends ZV{constructor(e=32){super(64,e,8,!1),this.A=Uf[0]|0,this.B=Uf[1]|0,this.C=Uf[2]|0,this.D=Uf[3]|0,this.E=Uf[4]|0,this.F=Uf[5]|0,this.G=Uf[6]|0,this.H=Uf[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let h=0;h<16;h++,n+=4)Ff[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const p=Ff[h-15],g=Ff[h-2],w=Ul(p,7)^Ul(p,18)^p>>>3,y=Ul(g,17)^Ul(g,19)^g>>>10;Ff[h]=y+Ff[h-7]+w+Ff[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:f}=this;for(let h=0;h<64;h++){const p=Ul(a,6)^Ul(a,11)^Ul(a,25),g=f+p+iwe(a,c,u)+owe[h]+Ff[h]|0,w=(Ul(r,2)^Ul(r,13)^Ul(r,22))+swe(r,i,s)|0;f=u,u=c,c=a,a=o+g|0,o=s,s=i,i=r,r=g+w|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,i,s,o,a,c,u,f)}roundClean(){fc(Ff)}destroy(){this.set(0,0,0,0,0,0,0,0),fc(this.buffer)}};const JV=zV(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),cwe=JV[0],lwe=JV[1],jf=new Uint32Array(80),zf=new Uint32Array(80);let QR=class extends ZV{constructor(e=64){super(128,e,16,!1),this.Ah=Ss[0]|0,this.Al=Ss[1]|0,this.Bh=Ss[2]|0,this.Bl=Ss[3]|0,this.Ch=Ss[4]|0,this.Cl=Ss[5]|0,this.Dh=Ss[6]|0,this.Dl=Ss[7]|0,this.Eh=Ss[8]|0,this.El=Ss[9]|0,this.Fh=Ss[10]|0,this.Fl=Ss[11]|0,this.Gh=Ss[12]|0,this.Gl=Ss[13]|0,this.Hh=Ss[14]|0,this.Hl=Ss[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:f,Fh:h,Fl:p,Gh:g,Gl:w,Hh:y,Hl:b}=this;return[e,n,r,i,s,o,a,c,u,f,h,p,g,w,y,b]}set(e,n,r,i,s,o,a,c,u,f,h,p,g,w,y,b){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=f|0,this.Fh=h|0,this.Fl=p|0,this.Gh=g|0,this.Gl=w|0,this.Hh=y|0,this.Hl=b|0}process(e,n){for(let E=0;E<16;E++,n+=4)jf[E]=e.getUint32(n),zf[E]=e.getUint32(n+=4);for(let E=16;E<80;E++){const I=jf[E-15]|0,S=zf[E-15]|0,T=nh(I,S,1)^nh(I,S,8)^xL(I,S,7),R=rh(I,S,1)^rh(I,S,8)^EL(I,S,7),O=jf[E-2]|0,k=zf[E-2]|0,M=nh(O,k,19)^Yv(O,k,61)^xL(O,k,6),L=rh(O,k,19)^Qv(O,k,61)^EL(O,k,6),j=Bye(R,L,zf[E-7],zf[E-16]),Q=Uye(j,T,M,jf[E-7],jf[E-16]);jf[E]=Q|0,zf[E]=j|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:f,Eh:h,El:p,Fh:g,Fl:w,Gh:y,Gl:b,Hh:C,Hl:x}=this;for(let E=0;E<80;E++){const I=nh(h,p,14)^nh(h,p,18)^Yv(h,p,41),S=rh(h,p,14)^rh(h,p,18)^Qv(h,p,41),T=h&g^~h&y,R=p&w^~p&b,O=Fye(x,S,R,lwe[E],zf[E]),k=jye(O,C,I,T,cwe[E],jf[E]),M=O|0,L=nh(r,i,28)^Yv(r,i,34)^Yv(r,i,39),j=rh(r,i,28)^Qv(r,i,34)^Qv(r,i,39),Q=r&s^r&a^s&a,J=i&o^i&c^o&c;C=y|0,x=b|0,y=g|0,b=w|0,g=h|0,w=p|0,{h,l:p}=Uc(u|0,f|0,k|0,M|0),u=a|0,f=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const $=HR(M,j,J);r=VR($,k,L,Q),i=$|0}({h:r,l:i}=Uc(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Uc(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Uc(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:f}=Uc(this.Dh|0,this.Dl|0,u|0,f|0),{h,l:p}=Uc(this.Eh|0,this.El|0,h|0,p|0),{h:g,l:w}=Uc(this.Fh|0,this.Fl|0,g|0,w|0),{h:y,l:b}=Uc(this.Gh|0,this.Gl|0,y|0,b|0),{h:C,l:x}=Uc(this.Hh|0,this.Hl|0,C|0,x|0),this.set(r,i,s,o,a,c,u,f,h,p,g,w,y,b,C,x)}roundClean(){fc(jf,zf)}destroy(){fc(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},uwe=class extends QR{constructor(){super(48),this.Ah=As[0]|0,this.Al=As[1]|0,this.Bh=As[2]|0,this.Bl=As[3]|0,this.Ch=As[4]|0,this.Cl=As[5]|0,this.Dh=As[6]|0,this.Dl=As[7]|0,this.Eh=As[8]|0,this.El=As[9]|0,this.Fh=As[10]|0,this.Fl=As[11]|0,this.Gh=As[12]|0,this.Gl=As[13]|0,this.Hh=As[14]|0,this.Hl=As[15]|0}};const _s=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class dwe extends QR{constructor(){super(32),this.Ah=_s[0]|0,this.Al=_s[1]|0,this.Bh=_s[2]|0,this.Bl=_s[3]|0,this.Ch=_s[4]|0,this.Cl=_s[5]|0,this.Dh=_s[6]|0,this.Dl=_s[7]|0,this.Eh=_s[8]|0,this.El=_s[9]|0,this.Fh=_s[10]|0,this.Fl=_s[11]|0,this.Gh=_s[12]|0,this.Gl=_s[13]|0,this.Hh=_s[14]|0,this.Hl=_s[15]|0}}const mS=ZC(()=>new awe),fwe=ZC(()=>new QR),hwe=ZC(()=>new uwe),pwe=ZC(()=>new dwe),mwe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Ii=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),lt=new Uint32Array(32);function Wf(t,e,n,r,i,s){const o=i[s],a=i[s+1];let c=lt[2*t],u=lt[2*t+1],f=lt[2*e],h=lt[2*e+1],p=lt[2*n],g=lt[2*n+1],w=lt[2*r],y=lt[2*r+1],b=HR(c,f,o);u=VR(b,u,h,a),c=b|0,{Dh:y,Dl:w}={Dh:y^u,Dl:w^c},{Dh:y,Dl:w}={Dh:Rye(y,w),Dl:Oye(y)},{h:g,l:p}=Uc(g,p,y,w),{Bh:h,Bl:f}={Bh:h^g,Bl:f^p},{Bh:h,Bl:f}={Bh:nh(h,f,24),Bl:rh(h,f,24)},lt[2*t]=c,lt[2*t+1]=u,lt[2*e]=f,lt[2*e+1]=h,lt[2*n]=p,lt[2*n+1]=g,lt[2*r]=w,lt[2*r+1]=y}function Hf(t,e,n,r,i,s){const o=i[s],a=i[s+1];let c=lt[2*t],u=lt[2*t+1],f=lt[2*e],h=lt[2*e+1],p=lt[2*n],g=lt[2*n+1],w=lt[2*r],y=lt[2*r+1],b=HR(c,f,o);u=VR(b,u,h,a),c=b|0,{Dh:y,Dl:w}={Dh:y^u,Dl:w^c},{Dh:y,Dl:w}={Dh:nh(y,w,16),Dl:rh(y,w,16)},{h:g,l:p}=Uc(g,p,y,w),{Bh:h,Bl:f}={Bh:h^g,Bl:f^p},{Bh:h,Bl:f}={Bh:Yv(h,f,63),Bl:Qv(h,f,63)},lt[2*t]=c,lt[2*t+1]=u,lt[2*e]=f,lt[2*e+1]=h,lt[2*n]=p,lt[2*n+1]=g,lt[2*r]=w,lt[2*r+1]=y}function gwe(t,e={},n,r,i){if(Vd(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}class ywe extends pS{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Vd(e),Vd(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=b2(this.buffer)}update(e){tp(this),e=ol(e),dc(e);const{blockLen:n,buffer:r,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<s;){this.pos===n&&(ih(i),this.compress(i,0,!1),ih(i),this.pos=0);const u=Math.min(n-this.pos,s-c),f=o+c;if(u===n&&!(f%4)&&c+u<s){const h=new Uint32Array(a,f,Math.floor((s-c)/4));ih(h);for(let p=0;c+n<s;p+=i.length,c+=n)this.length+=n,this.compress(h,p,!1);ih(h);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,this.length+=u,c+=u}return this}digestInto(e){tp(this),KR(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,fc(this.buffer.subarray(n)),ih(r),this.compress(r,0,!0),ih(r);const i=b2(e);this.get().forEach((s,o)=>i[o]=nd(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=i,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class wwe extends ywe{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Ii[0]|0,this.v0h=Ii[1]|0,this.v1l=Ii[2]|0,this.v1h=Ii[3]|0,this.v2l=Ii[4]|0,this.v2h=Ii[5]|0,this.v3l=Ii[6]|0,this.v3h=Ii[7]|0,this.v4l=Ii[8]|0,this.v4h=Ii[9]|0,this.v5l=Ii[10]|0,this.v5h=Ii[11]|0,this.v6l=Ii[12]|0,this.v6h=Ii[13]|0,this.v7l=Ii[14]|0,this.v7h=Ii[15]|0,gwe(n,e,64,16,16);let{key:r,personalization:i,salt:s}=e,o=0;if(r!==void 0&&(r=ol(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=ol(s);const a=b2(s);this.v4l^=nd(a[0]),this.v4h^=nd(a[1]),this.v5l^=nd(a[2]),this.v5h^=nd(a[3])}if(i!==void 0){i=ol(i);const a=b2(i);this.v6l^=nd(a[0]),this.v6h^=nd(a[1]),this.v7l^=nd(a[2]),this.v7h^=nd(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:o,v3l:a,v3h:c,v4l:u,v4h:f,v5l:h,v5h:p,v6l:g,v6h:w,v7l:y,v7h:b}=this;return[e,n,r,i,s,o,a,c,u,f,h,p,g,w,y,b]}set(e,n,r,i,s,o,a,c,u,f,h,p,g,w,y,b){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=u|0,this.v4h=f|0,this.v5l=h|0,this.v5h=p|0,this.v6l=g|0,this.v6h=w|0,this.v7l=y|0,this.v7h=b|0}compress(e,n,r){this.get().forEach((c,u)=>lt[u]=c),lt.set(Ii,16);let{h:i,l:s}=jV(BigInt(this.length));lt[24]=Ii[8]^s,lt[25]=Ii[9]^i,r&&(lt[28]=~lt[28],lt[29]=~lt[29]);let o=0;const a=mwe;for(let c=0;c<12;c++)Wf(0,4,8,12,e,n+2*a[o++]),Hf(0,4,8,12,e,n+2*a[o++]),Wf(1,5,9,13,e,n+2*a[o++]),Hf(1,5,9,13,e,n+2*a[o++]),Wf(2,6,10,14,e,n+2*a[o++]),Hf(2,6,10,14,e,n+2*a[o++]),Wf(3,7,11,15,e,n+2*a[o++]),Hf(3,7,11,15,e,n+2*a[o++]),Wf(0,5,10,15,e,n+2*a[o++]),Hf(0,5,10,15,e,n+2*a[o++]),Wf(1,6,11,12,e,n+2*a[o++]),Hf(1,6,11,12,e,n+2*a[o++]),Wf(2,7,8,13,e,n+2*a[o++]),Hf(2,7,8,13,e,n+2*a[o++]),Wf(3,4,9,14,e,n+2*a[o++]),Hf(3,4,9,14,e,n+2*a[o++]);this.v0l^=lt[0]^lt[16],this.v0h^=lt[1]^lt[17],this.v1l^=lt[2]^lt[18],this.v1h^=lt[3]^lt[19],this.v2l^=lt[4]^lt[20],this.v2h^=lt[5]^lt[21],this.v3l^=lt[6]^lt[22],this.v3h^=lt[7]^lt[23],this.v4l^=lt[8]^lt[24],this.v4h^=lt[9]^lt[25],this.v5l^=lt[10]^lt[26],this.v5h^=lt[11]^lt[27],this.v6l^=lt[12]^lt[28],this.v6h^=lt[13]^lt[29],this.v7l^=lt[14]^lt[30],this.v7h^=lt[15]^lt[31],fc(lt)}destroy(){this.destroyed=!0,fc(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const bwe=Vye(t=>new wwe(t)),vwe="https://rpc.walletconnect.org/v1";function XV(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(nwe(n)).toString("hex")}async function Cwe(t,e,n,r,i,s){switch(n.t){case"eip191":return await xwe(t,e,n.s);case"eip1271":return await Ewe(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function xwe(t,e,n){return(await rye({hash:XV(e),signature:n})).toLowerCase()===t.toLowerCase()}async function Ewe(t,e,n,r,i,s){const o=Qm(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",u=n.substring(2),f=(u.length/2).toString(16).padStart(64,"0"),h=(e.startsWith("0x")?e:XV(e)).substring(2),p=a+h+c+f+u,g=await fetch(`${s||vwe}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Awe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:p},"latest"]})}),{result:w}=await g.json();return w?w.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Awe(){return Date.now()+Math.floor(Math.random()*1e3)}function Swe(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return Cb.encode(s)}function _we(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=bwe(r,{dkLen:32});return Cb.encode(i)}function TL(t){const e=new Uint8Array(mS(Twe(t)));return Cb.encode(e)}function Twe(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function IL(t){const e=Buffer.from(t,"base64"),n=Mde(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=Ide(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),o=pwe(s);return Vde.encode(o).replace(/=+$/,"")}function F6(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function Iwe(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(F6(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(F6(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(F6(r.length)),i.push(r);const s=Buffer.concat(i),o=mS(s);return Buffer.from(o).toString("hex").toUpperCase()}var Nwe=Object.defineProperty,Pwe=Object.defineProperties,kwe=Object.getOwnPropertyDescriptors,NL=Object.getOwnPropertySymbols,Rwe=Object.prototype.hasOwnProperty,Owe=Object.prototype.propertyIsEnumerable,PL=(t,e,n)=>e in t?Nwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$we=(t,e)=>{for(var n in e||(e={}))Rwe.call(e,n)&&PL(t,n,e[n]);if(NL)for(var n of NL(e))Owe.call(e,n)&&PL(t,n,e[n]);return t},Dwe=(t,e)=>Pwe(t,kwe(e));const Lwe="did:pkh:",ZR=t=>t==null?void 0:t.split(":"),Mwe=t=>{const e=t&&ZR(t);if(e)return t.includes(Lwe)?e[3]:e[1]},_4=t=>{const e=t&&ZR(t);if(e)return e[2]+":"+e[3]},O3=t=>{const e=t&&ZR(t);if(e)return e.pop()};async function kL(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=eq(i,i.iss),o=O3(i.iss);return await Cwe(o,s,r,_4(i.iss),n)}const eq=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=O3(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${Mwe(e)}`,c=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,f=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,p=t.requestId?`Request ID: ${t.requestId}`:void 0,g=t.resources?`Resources:${t.resources.map(y=>`
- ${y}`).join("")}`:void 0,w=OA(t.resources);if(w){const y=C2(w);i=qwe(i,y)}return[n,r,"",i,"",s,o,a,c,u,f,h,p,g].filter(y=>y!=null).join(`
`)};function Bwe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Uwe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function ug(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function Fwe(t,e,n,r={}){return n==null||n.sort((i,s)=>i.localeCompare(s)),{att:{[t]:jwe(e,n,r)}}}function jwe(t,e,n={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function tq(t){return ug(t),`urn:recap:${Bwe(t).replace(/=/g,"")}`}function C2(t){const e=Uwe(t.replace("urn:recap:",""));return ug(e),e}function zwe(t,e,n){const r=Fwe(t,e,n);return tq(r)}function Wwe(t){return t&&t.includes("urn:recap:")}function Hwe(t,e){const n=C2(t),r=C2(e),i=Vwe(n,r);return tq(i)}function Vwe(t,e){ug(t),ug(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,u;r.att[i]=Dwe($we({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((u=e.att[i])==null?void 0:u[a])})})}),r}function qwe(t="",e){ug(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));c.sort((h,p)=>h.action.localeCompare(p.action));const u={};c.forEach(h=>{u[h.ability]||(u[h.ability]=[]),u[h.ability].push(h.action)});const f=Object.keys(u).map(h=>(i++,`(${i}) '${h}': '${u[h].join("', '")}' for '${a}'.`));r.push(f.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function RL(t){var e;const n=C2(t);ug(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function OL(t){const e=C2(t);ug(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function OA(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return Wwe(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function nq(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function T4(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function j6(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Do(t,...e){if(!nq(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function $L(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Gwe(t,e){Do(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Fh(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Fw(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Kwe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Ywe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Qwe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function I4(t){if(typeof t=="string")t=Qwe(t);else if(nq(t))t=N4(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Zwe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Jwe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Xwe=(t,e)=>{function n(r,...i){if(Do(r),!Ywe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");t.varSizeNonce?Do(u):Do(u,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Do(i[1]);const o=e(r,...i),a=(u,f)=>{if(f!==void 0){if(u!==2)throw new Error("cipher output not supported");Do(f)}};let c=!1;return{encrypt(u,f){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Do(u),a(o.encrypt.length,f),o.encrypt(u,f)},decrypt(u,f){if(Do(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,f),o.decrypt(u,f)}}}return Object.assign(n,t),n};function DL(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!tbe(e))throw new Error("invalid output, must be aligned");return e}function LL(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function ebe(t,e,n){T4(n);const r=new Uint8Array(16),i=Kwe(r);return LL(i,0,BigInt(e),n),LL(i,8,BigInt(t),n),r}function tbe(t){return t.byteOffset%4===0}function N4(t){return Uint8Array.from(t)}const rq=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),nbe=rq("expand 16-byte k"),rbe=rq("expand 32-byte k"),ibe=Fh(nbe),sbe=Fh(rbe);function Vn(t,e){return t<<e|t>>>32-e}function P4(t){return t.byteOffset%4===0}const KE=64,obe=16,iq=2**32-1,ML=new Uint32Array;function abe(t,e,n,r,i,s,o,a){const c=i.length,u=new Uint8Array(KE),f=Fh(u),h=P4(i)&&P4(s),p=h?Fh(i):ML,g=h?Fh(s):ML;for(let w=0;w<c;o++){if(t(e,n,r,f,o,a),o>=iq)throw new Error("arx: counter overflow");const y=Math.min(KE,c-w);if(h&&y===KE){const b=w/4;if(w%4!==0)throw new Error("arx: invalid block position");for(let C=0,x;C<obe;C++)x=b+C,g[x]=p[x]^f[C];w+=KE;continue}for(let b=0,C;b<y;b++)C=w+b,s[C]=i[C]^u[b];w+=y}}function cbe(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=Zwe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return j6(i),j6(o),T4(s),T4(n),(a,c,u,f,h=0)=>{Do(a),Do(c),Do(u);const p=u.length;if(f===void 0&&(f=new Uint8Array(p)),Do(f),j6(h),h<0||h>=iq)throw new Error("arx: counter overflow");if(f.length<p)throw new Error(`arx: output (${f.length}) is shorter than data (${p})`);const g=[];let w=a.length,y,b;if(w===32)g.push(y=N4(a)),b=sbe;else if(w===16&&n)y=new Uint8Array(32),y.set(a),y.set(a,16),b=ibe,g.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${w}`);P4(c)||g.push(c=N4(c));const C=Fh(y);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(b,C,Fh(c.subarray(0,16)),C),c=c.subarray(16)}const x=16-i;if(x!==c.length)throw new Error(`arx: nonce must be ${x} or 16 bytes`);if(x!==12){const I=new Uint8Array(12);I.set(c,s?0:12-c.length),c=I,g.push(c)}const E=Fh(c);return abe(t,b,C,E,u,f,h,o),Fw(...g),f}}const ts=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class lbe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=I4(e),Do(e,32);const n=ts(e,0),r=ts(e,2),i=ts(e,4),s=ts(e,6),o=ts(e,8),a=ts(e,10),c=ts(e,12),u=ts(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let f=0;f<8;f++)this.pad[f]=ts(e,16+2*f)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],u=o[2],f=o[3],h=o[4],p=o[5],g=o[6],w=o[7],y=o[8],b=o[9],C=ts(e,n+0),x=ts(e,n+2),E=ts(e,n+4),I=ts(e,n+6),S=ts(e,n+8),T=ts(e,n+10),R=ts(e,n+12),O=ts(e,n+14);let k=s[0]+(C&8191),M=s[1]+((C>>>13|x<<3)&8191),L=s[2]+((x>>>10|E<<6)&8191),j=s[3]+((E>>>7|I<<9)&8191),Q=s[4]+((I>>>4|S<<12)&8191),J=s[5]+(S>>>1&8191),$=s[6]+((S>>>14|T<<2)&8191),D=s[7]+((T>>>11|R<<5)&8191),H=s[8]+((R>>>8|O<<8)&8191),z=s[9]+(O>>>5|i),Y=0,K=Y+k*a+M*(5*b)+L*(5*y)+j*(5*w)+Q*(5*g);Y=K>>>13,K&=8191,K+=J*(5*p)+$*(5*h)+D*(5*f)+H*(5*u)+z*(5*c),Y+=K>>>13,K&=8191;let q=Y+k*c+M*a+L*(5*b)+j*(5*y)+Q*(5*w);Y=q>>>13,q&=8191,q+=J*(5*g)+$*(5*p)+D*(5*h)+H*(5*f)+z*(5*u),Y+=q>>>13,q&=8191;let V=Y+k*u+M*c+L*a+j*(5*b)+Q*(5*y);Y=V>>>13,V&=8191,V+=J*(5*w)+$*(5*g)+D*(5*p)+H*(5*h)+z*(5*f),Y+=V>>>13,V&=8191;let ue=Y+k*f+M*u+L*c+j*a+Q*(5*b);Y=ue>>>13,ue&=8191,ue+=J*(5*y)+$*(5*w)+D*(5*g)+H*(5*p)+z*(5*h),Y+=ue>>>13,ue&=8191;let le=Y+k*h+M*f+L*u+j*c+Q*a;Y=le>>>13,le&=8191,le+=J*(5*b)+$*(5*y)+D*(5*w)+H*(5*g)+z*(5*p),Y+=le>>>13,le&=8191;let ge=Y+k*p+M*h+L*f+j*u+Q*c;Y=ge>>>13,ge&=8191,ge+=J*a+$*(5*b)+D*(5*y)+H*(5*w)+z*(5*g),Y+=ge>>>13,ge&=8191;let ve=Y+k*g+M*p+L*h+j*f+Q*u;Y=ve>>>13,ve&=8191,ve+=J*c+$*a+D*(5*b)+H*(5*y)+z*(5*w),Y+=ve>>>13,ve&=8191;let Pe=Y+k*w+M*g+L*p+j*h+Q*f;Y=Pe>>>13,Pe&=8191,Pe+=J*u+$*c+D*a+H*(5*b)+z*(5*y),Y+=Pe>>>13,Pe&=8191;let Ie=Y+k*y+M*w+L*g+j*p+Q*h;Y=Ie>>>13,Ie&=8191,Ie+=J*f+$*u+D*c+H*a+z*(5*b),Y+=Ie>>>13,Ie&=8191;let ke=Y+k*b+M*y+L*w+j*g+Q*p;Y=ke>>>13,ke&=8191,ke+=J*h+$*f+D*u+H*c+z*a,Y+=ke>>>13,ke&=8191,Y=(Y<<2)+Y|0,Y=Y+K|0,K=Y&8191,Y=Y>>>13,q+=Y,s[0]=K,s[1]=q,s[2]=V,s[3]=ue,s[4]=le,s[5]=ge,s[6]=ve,s[7]=Pe,s[8]=Ie,s[9]=ke}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Fw(r)}update(e){$L(this),e=I4(e),Do(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Fw(this.h,this.r,this.buffer,this.pad)}digestInto(e){$L(this),Gwe(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function ube(t){const e=(r,i)=>t(i).update(I4(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const dbe=ube(t=>new lbe(t));function fbe(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],u=t[3],f=e[0],h=e[1],p=e[2],g=e[3],w=e[4],y=e[5],b=e[6],C=e[7],x=i,E=n[0],I=n[1],S=n[2],T=o,R=a,O=c,k=u,M=f,L=h,j=p,Q=g,J=w,$=y,D=b,H=C,z=x,Y=E,K=I,q=S;for(let ue=0;ue<s;ue+=2)T=T+M|0,z=Vn(z^T,16),J=J+z|0,M=Vn(M^J,12),T=T+M|0,z=Vn(z^T,8),J=J+z|0,M=Vn(M^J,7),R=R+L|0,Y=Vn(Y^R,16),$=$+Y|0,L=Vn(L^$,12),R=R+L|0,Y=Vn(Y^R,8),$=$+Y|0,L=Vn(L^$,7),O=O+j|0,K=Vn(K^O,16),D=D+K|0,j=Vn(j^D,12),O=O+j|0,K=Vn(K^O,8),D=D+K|0,j=Vn(j^D,7),k=k+Q|0,q=Vn(q^k,16),H=H+q|0,Q=Vn(Q^H,12),k=k+Q|0,q=Vn(q^k,8),H=H+q|0,Q=Vn(Q^H,7),T=T+L|0,q=Vn(q^T,16),D=D+q|0,L=Vn(L^D,12),T=T+L|0,q=Vn(q^T,8),D=D+q|0,L=Vn(L^D,7),R=R+j|0,z=Vn(z^R,16),H=H+z|0,j=Vn(j^H,12),R=R+j|0,z=Vn(z^R,8),H=H+z|0,j=Vn(j^H,7),O=O+Q|0,Y=Vn(Y^O,16),J=J+Y|0,Q=Vn(Q^J,12),O=O+Q|0,Y=Vn(Y^O,8),J=J+Y|0,Q=Vn(Q^J,7),k=k+M|0,K=Vn(K^k,16),$=$+K|0,M=Vn(M^$,12),k=k+M|0,K=Vn(K^k,8),$=$+K|0,M=Vn(M^$,7);let V=0;r[V++]=o+T|0,r[V++]=a+R|0,r[V++]=c+O|0,r[V++]=u+k|0,r[V++]=f+M|0,r[V++]=h+L|0,r[V++]=p+j|0,r[V++]=g+Q|0,r[V++]=w+J|0,r[V++]=y+$|0,r[V++]=b+D|0,r[V++]=C+H|0,r[V++]=x+z|0,r[V++]=E+Y|0,r[V++]=I+K|0,r[V++]=S+q|0}const hbe=cbe(fbe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),pbe=new Uint8Array(16),BL=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(pbe.subarray(n))},mbe=new Uint8Array(32);function UL(t,e,n,r,i){const s=t(e,n,mbe),o=dbe.create(s);i&&BL(o,i),BL(o,r);const a=ebe(r.length,i?i.length:0,!0);o.update(a);const c=o.digest();return Fw(s,a),c}const gbe=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=DL(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=UL(t,e,n,a,r);return s.set(c,o),Fw(c),s},decrypt(i,s){s=DL(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=UL(t,e,n,o,r);if(!Jwe(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Fw(c),s}}),sq=Xwe({blockSize:64,nonceLength:12,tagLength:16},gbe(hbe));let oq=class extends pS{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,GR(e);const r=ol(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),fc(s)}update(e){return tp(this),this.iHash.update(e),this}digestInto(e){tp(this),dc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const gS=(t,e,n)=>new oq(t,e).update(n).digest();gS.create=(t,e)=>new oq(t,e);function ybe(t,e,n){return GR(t),n===void 0&&(n=new Uint8Array(t.outputLen)),gS(t,ol(n),ol(e))}const z6=Uint8Array.from([0]),FL=Uint8Array.of();function wbe(t,e,n,r=32){GR(t),Vd(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=FL);const o=new Uint8Array(s*i),a=gS.create(t,e),c=a._cloneInto(),u=new Uint8Array(a.outputLen);for(let f=0;f<s;f++)z6[0]=f+1,c.update(f===0?FL:u).update(n).update(z6).digestInto(u),o.set(u,i*f),a._cloneInto(c);return a.destroy(),c.destroy(),fc(u,z6),o.slice(0,r)}const bbe=(t,e,n,r,i)=>wbe(t,ybe(t,e,n),r,i),yS=mS,JR=BigInt(0),k4=BigInt(1);function $3(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function YE(t){const e=t.toString(16);return e.length&1?"0"+e:e}function aq(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?JR:BigInt("0x"+t)}function wS(t){return aq(v2(t))}function D3(t){return dc(t),aq(v2(Uint8Array.from(t).reverse()))}function XR(t,e){return YR(t.toString(16).padStart(e*2,"0"))}function e8(t,e){return XR(t,e).reverse()}function Oo(t,e,n){let r;if(typeof e=="string")try{r=YR(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(qR(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const W6=t=>typeof t=="bigint"&&JR<=t;function vbe(t,e,n){return W6(t)&&W6(e)&&W6(n)&&e<=t&&t<n}function R4(t,e,n,r){if(!vbe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Cbe(t){let e;for(e=0;t>JR;t>>=k4,e+=1);return e}const bS=t=>(k4<<BigInt(t))-k4;function xbe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=p=>new Uint8Array(p),i=p=>Uint8Array.of(p);let s=r(t),o=r(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},u=(...p)=>n(o,s,...p),f=(p=r(0))=>{o=u(i(0),p),s=u(),p.length!==0&&(o=u(i(1),p),s=u())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const g=[];for(;p<e;){s=u();const w=s.slice();g.push(w),p+=s.length}return cm(...g)};return(p,g)=>{c(),f(p);let w;for(;!(w=g(h()));)f();return c(),w}}function vS(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function jL(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const jo=BigInt(0),io=BigInt(1),lm=BigInt(2),Ebe=BigInt(3),cq=BigInt(4),lq=BigInt(5),uq=BigInt(8);function oc(t,e){const n=t%e;return n>=jo?n:e+n}function Bc(t,e,n){let r=t;for(;e-- >jo;)r*=r,r%=n;return r}function zL(t,e){if(t===jo)throw new Error("invert: expected non-zero number");if(e<=jo)throw new Error("invert: expected positive modulus, got "+e);let n=oc(t,e),r=e,i=jo,s=io;for(;n!==jo;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==io)throw new Error("invert: does not exist");return oc(i,e)}function dq(t,e){const n=(t.ORDER+io)/cq,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function Abe(t,e){const n=(t.ORDER-lq)/uq,r=t.mul(e,lm),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,lm),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Sbe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-io,n=0;for(;e%lm===jo;)e/=lm,n++;let r=lm;const i=_b(t);for(;WL(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return dq;let s=i.pow(r,e);const o=(e+io)/lm;return function(a,c){if(a.is0(c))return c;if(WL(a,c)!==1)throw new Error("Cannot find square root");let u=n,f=a.mul(a.ONE,s),h=a.pow(c,e),p=a.pow(c,o);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let g=1,w=a.sqr(h);for(;!a.eql(w,a.ONE);)if(g++,w=a.sqr(w),g===u)throw new Error("Cannot find square root");const y=io<<BigInt(u-g-1),b=a.pow(f,y);u=g,f=a.sqr(b),h=a.mul(h,f),p=a.mul(p,b)}return p}}function _be(t){return t%cq===Ebe?dq:t%uq===lq?Abe:Sbe(t)}const Tbe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ibe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Tbe.reduce((r,i)=>(r[i]="function",r),e);return vS(t,n),t}function Nbe(t,e,n){if(n<jo)throw new Error("invalid exponent, negatives unsupported");if(n===jo)return t.ONE;if(n===io)return e;let r=t.ONE,i=e;for(;n>jo;)n&io&&(r=t.mul(r,i)),i=t.sqr(i),n>>=io;return r}function fq(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function WL(t,e){const n=(t.ORDER-io)/lm,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Pbe(t,e){e!==void 0&&Vd(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function _b(t,e,n=!1,r={}){if(t<=jo)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const f=e;f.BITS&&(i=f.BITS),f.sqrt&&(s=f.sqrt),typeof f.isLE=="boolean"&&(n=f.isLE)}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:o,nByteLength:a}=Pbe(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:bS(o),ZERO:jo,ONE:io,create:f=>oc(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return jo<=f&&f<t},is0:f=>f===jo,isValidNot0:f=>!u.is0(f)&&u.isValid(f),isOdd:f=>(f&io)===io,neg:f=>oc(-f,t),eql:(f,h)=>f===h,sqr:f=>oc(f*f,t),add:(f,h)=>oc(f+h,t),sub:(f,h)=>oc(f-h,t),mul:(f,h)=>oc(f*h,t),pow:(f,h)=>Nbe(u,f,h),div:(f,h)=>oc(f*zL(h,t),t),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>zL(f,t),sqrt:s||(f=>(c||(c=_be(t)),c(u,f))),toBytes:f=>n?e8(f,a):XR(f,a),fromBytes:f=>{if(f.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+f.length);return n?D3(f):wS(f)},invertBatch:f=>fq(u,f),cmov:(f,h,p)=>p?h:f});return Object.freeze(u)}function hq(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function pq(t){const e=hq(t);return e+Math.ceil(e/2)}function kbe(t,e,n=!1){const r=t.length,i=hq(e),s=pq(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?D3(t):wS(t),a=oc(o,e-io)+io;return n?e8(a,i):XR(a,i)}const jw=BigInt(0),um=BigInt(1);function p1(t,e){const n=e.negate();return t?n:e}function Rbe(t,e,n){const r=s=>s.pz,i=fq(t.Fp,n.map(r));return n.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function mq(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function H6(t,e){mq(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=bS(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function HL(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=um);const u=e*r,f=u+Math.abs(a)-1,h=a===0,p=a<0,g=e%2!==0;return{nextN:c,offset:f,isZero:h,isNeg:p,isNegF:g,offsetF:u}}function Obe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function $be(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const V6=new WeakMap,gq=new WeakMap;function q6(t){return gq.get(t)||1}function VL(t){if(t!==jw)throw new Error("invalid wNAF")}function Dbe(t,e){return{constTimeNegate:p1,hasPrecomputes(n){return q6(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>jw;)r&um&&(i=i.add(s)),s=s.double(),r>>=um;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=H6(r,e),o=[];let a=n,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let f=1;f<s;f++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=H6(n,e);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:h,isNeg:p,isNegF:g,offsetF:w}=HL(i,c,a);i=u,h?o=o.add(p1(g,r[w])):s=s.add(p1(p,r[f]))}return VL(i),{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=H6(n,e);for(let a=0;a<o.windows&&i!==jw;a++){const{nextN:c,offset:u,isZero:f,isNeg:h}=HL(i,a,o);if(i=c,!f){const p=r[u];s=s.add(h?p.negate():p)}}return VL(i),s},getPrecomputes(n,r,i){let s=V6.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(s=i(s)),V6.set(r,s))),s},wNAFCached(n,r,i){const s=q6(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=q6(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){mq(r,e),gq.set(n,r),V6.delete(n)}}}function Lbe(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>jw||r>jw;)n&um&&(s=s.add(i)),r&um&&(o=o.add(i)),i=i.double(),n>>=um,r>>=um;return{p1:s,p2:o}}function Mbe(t,e,n,r){Obe(n,t),$be(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Cbe(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=bS(c),f=new Array(Number(u)+1).fill(o),h=Math.floor((e.BITS-1)/c)*c;let p=o;for(let g=h;g>=0;g-=c){f.fill(o);for(let y=0;y<s;y++){const b=r[y],C=Number(b>>BigInt(g)&u);f[C]=f[C].add(n[y])}let w=o;for(let y=f.length-1,b=o;y>0;y--)b=b.add(f[y]),w=w.add(b);if(p=p.add(w),g!==0)for(let y=0;y<c;y++)p=p.double()}return p}function qL(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Ibe(e),e}else return _b(t)}function Bbe(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>jw))throw new Error(`CURVE.${o} must be positive bigint`)}const r=qL(e.p,n.Fp),i=qL(e.n,n.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Ov=BigInt(0),L0=BigInt(1),QE=BigInt(2);function Ube(t){return vS(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function Fbe(t){const e=Ube(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||Sb,u=a?255:448,f=a?32:56,h=BigInt(a?9:5),p=BigInt(a?121665:39081),g=a?QE**BigInt(254):QE**BigInt(447),w=a?BigInt(8)*QE**BigInt(251)-L0:BigInt(4)*QE**BigInt(445)-L0,y=g+w+L0,b=k=>oc(k,n),C=x(h);function x(k){return e8(b(k),f)}function E(k){const M=Oo("u coordinate",k,f);return a&&(M[31]&=127),b(D3(M))}function I(k){return D3(i(Oo("scalar",k,f)))}function S(k,M){const L=O(E(M),I(k));if(L===Ov)throw new Error("invalid private or public key received");return x(L)}function T(k){return S(k,C)}function R(k,M,L){const j=b(k*(M-L));return M=b(M-j),L=b(L+j),{x_2:M,x_3:L}}function O(k,M){R4("u",k,Ov,n),R4("scalar",M,g,y);const L=M,j=k;let Q=L0,J=Ov,$=k,D=L0,H=Ov;for(let Y=BigInt(u-1);Y>=Ov;Y--){const K=L>>Y&L0;H^=K,{x_2:Q,x_3:$}=R(H,Q,$),{x_2:J,x_3:D}=R(H,J,D),H=K;const q=Q+J,V=b(q*q),ue=Q-J,le=b(ue*ue),ge=V-le,ve=$+D,Pe=$-D,Ie=b(Pe*q),ke=b(ve*ue),it=Ie+ke,Xt=Ie-ke;$=b(it*it),D=b(j*b(Xt*Xt)),Q=b(V*le),J=b(ge*(V+b(p*ge)))}({x_2:Q,x_3:$}=R(H,Q,$)),{x_2:J,x_3:D}=R(H,J,D);const z=s(J);return b(Q*z)}return{scalarMult:S,scalarMultBase:T,getSharedSecret:(k,M)=>S(k,M),getPublicKey:k=>T(k),utils:{randomPrivateKey:()=>c(f)},GuBytes:C.slice()}}BigInt(0);const jbe=BigInt(1),GL=BigInt(2),zbe=BigInt(3),Wbe=BigInt(5);BigInt(8);const yq={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Hbe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=yq.p,o=t*t%s*t%s,a=Bc(o,GL,s)*o%s,c=Bc(a,jbe,s)*t%s,u=Bc(c,Wbe,s)*c%s,f=Bc(u,e,s)*u%s,h=Bc(f,n,s)*f%s,p=Bc(h,r,s)*h%s,g=Bc(p,i,s)*p%s,w=Bc(g,i,s)*p%s,y=Bc(w,e,s)*u%s;return{pow_p_5_8:Bc(y,GL,s)*t%s,b2:o}}function Vbe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const O4=(()=>{const t=yq.p;return Fbe({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=Hbe(e);return oc(Bc(n,zbe,t)*r,t)},adjustScalarBytes:Vbe})})();function KL(t){t.lowS!==void 0&&$3("lowS",t.lowS),t.prehash!==void 0&&$3("prehash",t.prehash)}class qbe extends Error{constructor(e=""){super(e)}}const ud={Err:qbe,_tlv:{encode:(t,e)=>{const{Err:n}=ud;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=YE(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?YE(i.length/2|128):"";return YE(t)+s+i+e},decode(t,e){const{Err:n}=ud;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)o=o<<8|f;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=ud;if(t<m1)throw new e("integer: negative integers are not allowed");let n=YE(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ud;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return wS(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ud,i=Oo("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:u,l:f}=r.decode(2,c);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=ud,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},m1=BigInt(0),g1=BigInt(1),Gbe=BigInt(2),ZE=BigInt(3),Kbe=BigInt(4);function Ybe(t,e,n){function r(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),n)}return r}function wq(t,e,n){const{BYTES:r}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=Oo("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof s}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function Qbe(t,e={}){const{Fp:n,Fn:r}=Bbe("weierstrass",t,e),{h:i,n:s}=t;vS(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(O,k,M){const{x:L,y:j}=k.toAffine(),Q=n.toBytes(L);if($3("isCompressed",M),M){a();const J=!n.isOdd(j);return cm(bq(J),Q)}else return cm(Uint8Array.of(4),Q,n.toBytes(j))}function u(O){dc(O);const k=n.BYTES,M=k+1,L=2*k+1,j=O.length,Q=O[0],J=O.subarray(1);if(j===M&&(Q===2||Q===3)){const $=n.fromBytes(J);if(!n.isValid($))throw new Error("bad point: is not on curve, wrong x");const D=p($);let H;try{H=n.sqrt(D)}catch(Y){const K=Y instanceof Error?": "+Y.message:"";throw new Error("bad point: is not on curve, sqrt error"+K)}a();const z=n.isOdd(H);return(Q&1)===1!==z&&(H=n.neg(H)),{x:$,y:H}}else if(j===L&&Q===4){const $=n.fromBytes(J.subarray(k*0,k*1)),D=n.fromBytes(J.subarray(k*1,k*2));if(!g($,D))throw new Error("bad point: is not on curve");return{x:$,y:D}}else throw new Error(`bad point: got length ${j}, expected compressed=${M} or uncompressed=${L}`)}const f=e.toBytes||c,h=e.fromBytes||u,p=Ybe(n,t.a,t.b);function g(O,k){const M=n.sqr(k),L=p(O);return n.eql(M,L)}if(!g(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const w=n.mul(n.pow(t.a,ZE),Kbe),y=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(w,y)))throw new Error("bad curve params: a or b");function b(O,k,M=!1){if(!n.isValid(k)||M&&n.is0(k))throw new Error(`bad point coordinate ${O}`);return k}function C(O){if(!(O instanceof S))throw new Error("ProjectivePoint expected")}const x=jL((O,k)=>{const{px:M,py:L,pz:j}=O;if(n.eql(j,n.ONE))return{x:M,y:L};const Q=O.is0();k==null&&(k=Q?n.ONE:n.inv(j));const J=n.mul(M,k),$=n.mul(L,k),D=n.mul(j,k);if(Q)return{x:n.ZERO,y:n.ZERO};if(!n.eql(D,n.ONE))throw new Error("invZ was invalid");return{x:J,y:$}}),E=jL(O=>{if(O.is0()){if(e.allowInfinityPoint&&!n.is0(O.py))return;throw new Error("bad point: ZERO")}const{x:k,y:M}=O.toAffine();if(!n.isValid(k)||!n.isValid(M))throw new Error("bad point: x or y not field elements");if(!g(k,M))throw new Error("bad point: equation left != right");if(!O.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function I(O,k,M,L,j){return M=new S(n.mul(M.px,O),M.py,M.pz),k=p1(L,k),M=p1(j,M),k.add(M)}class S{constructor(k,M,L){this.px=b("x",k),this.py=b("y",M,!0),this.pz=b("z",L),Object.freeze(this)}static fromAffine(k){const{x:M,y:L}=k||{};if(!k||!n.isValid(M)||!n.isValid(L))throw new Error("invalid affine point");if(k instanceof S)throw new Error("projective point not allowed");return n.is0(M)&&n.is0(L)?S.ZERO:new S(M,L,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){return Rbe(S,"pz",k)}static fromBytes(k){return dc(k),S.fromHex(k)}static fromHex(k){const M=S.fromAffine(h(Oo("pointHex",k)));return M.assertValidity(),M}static fromPrivateKey(k){const M=wq(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return S.BASE.multiply(M(k))}static msm(k,M){return Mbe(S,r,k,M)}precompute(k=8,M=!0){return R.setWindowSize(this,k),M||this.multiply(ZE),this}_setWindowSize(k){this.precompute(k)}assertValidity(){E(this)}hasEvenY(){const{y:k}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(k)}equals(k){C(k);const{px:M,py:L,pz:j}=this,{px:Q,py:J,pz:$}=k,D=n.eql(n.mul(M,$),n.mul(Q,j)),H=n.eql(n.mul(L,$),n.mul(J,j));return D&&H}negate(){return new S(this.px,n.neg(this.py),this.pz)}double(){const{a:k,b:M}=t,L=n.mul(M,ZE),{px:j,py:Q,pz:J}=this;let $=n.ZERO,D=n.ZERO,H=n.ZERO,z=n.mul(j,j),Y=n.mul(Q,Q),K=n.mul(J,J),q=n.mul(j,Q);return q=n.add(q,q),H=n.mul(j,J),H=n.add(H,H),$=n.mul(k,H),D=n.mul(L,K),D=n.add($,D),$=n.sub(Y,D),D=n.add(Y,D),D=n.mul($,D),$=n.mul(q,$),H=n.mul(L,H),K=n.mul(k,K),q=n.sub(z,K),q=n.mul(k,q),q=n.add(q,H),H=n.add(z,z),z=n.add(H,z),z=n.add(z,K),z=n.mul(z,q),D=n.add(D,z),K=n.mul(Q,J),K=n.add(K,K),z=n.mul(K,q),$=n.sub($,z),H=n.mul(K,Y),H=n.add(H,H),H=n.add(H,H),new S($,D,H)}add(k){C(k);const{px:M,py:L,pz:j}=this,{px:Q,py:J,pz:$}=k;let D=n.ZERO,H=n.ZERO,z=n.ZERO;const Y=t.a,K=n.mul(t.b,ZE);let q=n.mul(M,Q),V=n.mul(L,J),ue=n.mul(j,$),le=n.add(M,L),ge=n.add(Q,J);le=n.mul(le,ge),ge=n.add(q,V),le=n.sub(le,ge),ge=n.add(M,j);let ve=n.add(Q,$);return ge=n.mul(ge,ve),ve=n.add(q,ue),ge=n.sub(ge,ve),ve=n.add(L,j),D=n.add(J,$),ve=n.mul(ve,D),D=n.add(V,ue),ve=n.sub(ve,D),z=n.mul(Y,ge),D=n.mul(K,ue),z=n.add(D,z),D=n.sub(V,z),z=n.add(V,z),H=n.mul(D,z),V=n.add(q,q),V=n.add(V,q),ue=n.mul(Y,ue),ge=n.mul(K,ge),V=n.add(V,ue),ue=n.sub(q,ue),ue=n.mul(Y,ue),ge=n.add(ge,ue),q=n.mul(V,ge),H=n.add(H,q),q=n.mul(ve,ge),D=n.mul(le,D),D=n.sub(D,q),q=n.mul(le,V),z=n.mul(ve,z),z=n.add(z,q),new S(D,H,z)}subtract(k){return this.add(k.negate())}is0(){return this.equals(S.ZERO)}multiply(k){const{endo:M}=e;if(!r.isValidNot0(k))throw new Error("invalid scalar: out of range");let L,j;const Q=J=>R.wNAFCached(this,J,S.normalizeZ);if(M){const{k1neg:J,k1:$,k2neg:D,k2:H}=M.splitScalar(k),{p:z,f:Y}=Q($),{p:K,f:q}=Q(H);j=Y.add(q),L=I(M.beta,z,K,J,D)}else{const{p:J,f:$}=Q(k);L=J,j=$}return S.normalizeZ([L,j])[0]}multiplyUnsafe(k){const{endo:M}=e,L=this;if(!r.isValid(k))throw new Error("invalid scalar: out of range");if(k===m1||L.is0())return S.ZERO;if(k===g1)return L;if(R.hasPrecomputes(this))return this.multiply(k);if(M){const{k1neg:j,k1:Q,k2neg:J,k2:$}=M.splitScalar(k),{p1:D,p2:H}=Lbe(S,L,Q,$);return I(M.beta,D,H,j,J)}else return R.wNAFCachedUnsafe(L,k)}multiplyAndAddUnsafe(k,M,L){const j=this.multiplyUnsafe(M).add(k.multiplyUnsafe(L));return j.is0()?void 0:j}toAffine(k){return x(this,k)}isTorsionFree(){const{isTorsionFree:k}=e;return i===g1?!0:k?k(S,this):R.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:k}=e;return i===g1?this:k?k(S,this):this.multiplyUnsafe(i)}toBytes(k=!0){return $3("isCompressed",k),this.assertValidity(),f(S,this,k)}toRawBytes(k=!0){return this.toBytes(k)}toHex(k=!0){return v2(this.toBytes(k))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}S.BASE=new S(t.Gx,t.Gy,n.ONE),S.ZERO=new S(n.ZERO,n.ONE,n.ZERO),S.Fp=n,S.Fn=r;const T=r.BITS,R=Dbe(S,e.endo?Math.ceil(T/2):T);return S}function bq(t){return Uint8Array.of(t?2:3)}function Zbe(t,e,n={}){vS(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||Sb,i=e.hmac||((L,...j)=>gS(e.hash,L,cm(...j))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o;function u(L){const j=a>>g1;return L>j}function f(L){return u(L)?o.neg(L):L}function h(L,j){if(!o.isValidNot0(j))throw new Error(`invalid signature ${L}: out of range 1..CURVE.n`)}class p{constructor(j,Q,J){h("r",j),h("s",Q),this.r=j,this.s=Q,J!=null&&(this.recovery=J),Object.freeze(this)}static fromCompact(j){const Q=o.BYTES,J=Oo("compactSignature",j,Q*2);return new p(o.fromBytes(J.subarray(0,Q)),o.fromBytes(J.subarray(Q,Q*2)))}static fromDER(j){const{r:Q,s:J}=ud.toSig(Oo("DER",j));return new p(Q,J)}assertValidity(){}addRecoveryBit(j){return new p(this.r,this.s,j)}recoverPublicKey(j){const Q=s.ORDER,{r:J,s:$,recovery:D}=this;if(D==null||![0,1,2,3].includes(D))throw new Error("recovery id invalid");if(a*Gbe<Q&&D>1)throw new Error("recovery id is ambiguous for h>1 curve");const H=D===2||D===3?J+a:J;if(!s.isValid(H))throw new Error("recovery id 2 or 3 invalid");const z=s.toBytes(H),Y=t.fromHex(cm(bq((D&1)===0),z)),K=o.inv(H),q=E(Oo("msgHash",j)),V=o.create(-q*K),ue=o.create($*K),le=t.BASE.multiplyUnsafe(V).add(Y.multiplyUnsafe(ue));if(le.is0())throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,o.neg(this.s),this.recovery):this}toBytes(j){if(j==="compact")return cm(o.toBytes(this.r),o.toBytes(this.s));if(j==="der")return YR(ud.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return v2(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return v2(this.toBytes("compact"))}}const g=wq(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),w={isValidPrivateKey(L){try{return g(L),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const L=a;return kbe(r(pq(L)),L)},precompute(L=8,j=t.BASE){return j.precompute(L,!1)}};function y(L,j=!0){return t.fromPrivateKey(L).toBytes(j)}function b(L){if(typeof L=="bigint")return!1;if(L instanceof t)return!0;const j=Oo("key",L).length,Q=s.BYTES,J=Q+1,$=2*Q+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===J))return j===J||j===$}function C(L,j,Q=!0){if(b(L)===!0)throw new Error("first arg must be private key");if(b(j)===!1)throw new Error("second arg must be public key");return t.fromHex(j).multiply(g(L)).toBytes(Q)}const x=e.bits2int||function(L){if(L.length>8192)throw new Error("input is too large");const j=wS(L),Q=L.length*8-c;return Q>0?j>>BigInt(Q):j},E=e.bits2int_modN||function(L){return o.create(x(L))},I=bS(c);function S(L){return R4("num < 2^"+c,L,m1,I),o.toBytes(L)}function T(L,j,Q=R){if(["recovered","canonical"].some(le=>le in Q))throw new Error("sign() legacy options not supported");const{hash:J}=e;let{lowS:$,prehash:D,extraEntropy:H}=Q;$==null&&($=!0),L=Oo("msgHash",L),KL(Q),D&&(L=Oo("prehashed msgHash",J(L)));const z=E(L),Y=g(j),K=[S(Y),S(z)];if(H!=null&&H!==!1){const le=H===!0?r(s.BYTES):H;K.push(Oo("extraEntropy",le))}const q=cm(...K),V=z;function ue(le){const ge=x(le);if(!o.isValidNot0(ge))return;const ve=o.inv(ge),Pe=t.BASE.multiply(ge).toAffine(),Ie=o.create(Pe.x);if(Ie===m1)return;const ke=o.create(ve*o.create(V+Ie*Y));if(ke===m1)return;let it=(Pe.x===Ie?0:2)|Number(Pe.y&g1),Xt=ke;return $&&u(ke)&&(Xt=f(ke),it^=1),new p(Ie,Xt,it)}return{seed:q,k2sig:ue}}const R={lowS:e.lowS,prehash:!1},O={lowS:e.lowS,prehash:!1};function k(L,j,Q=R){const{seed:J,k2sig:$}=T(L,j,Q);return xbe(e.hash.outputLen,o.BYTES,i)(J,$)}t.BASE.precompute(8);function M(L,j,Q,J=O){const $=L;j=Oo("msgHash",j),Q=Oo("publicKey",Q),KL(J);const{lowS:D,prehash:H,format:z}=J;if("strict"in J)throw new Error("options.strict was renamed to lowS");if(z!==void 0&&!["compact","der","js"].includes(z))throw new Error('format must be "compact", "der" or "js"');const Y=typeof $=="string"||qR($),K=!Y&&!z&&typeof $=="object"&&$!==null&&typeof $.r=="bigint"&&typeof $.s=="bigint";if(!Y&&!K)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,V;try{if(K)if(z===void 0||z==="js")q=new p($.r,$.s);else throw new Error("invalid format");if(Y){try{z!=="compact"&&(q=p.fromDER($))}catch(it){if(!(it instanceof ud.Err))throw it}!q&&z!=="der"&&(q=p.fromCompact($))}V=t.fromHex(Q)}catch{return!1}if(!q||D&&q.hasHighS())return!1;H&&(j=e.hash(j));const{r:ue,s:le}=q,ge=E(j),ve=o.inv(le),Pe=o.create(ge*ve),Ie=o.create(ue*ve),ke=t.BASE.multiplyUnsafe(Pe).add(V.multiplyUnsafe(Ie));return ke.is0()?!1:o.create(ke.x)===ue}return Object.freeze({getPublicKey:y,getSharedSecret:C,sign:k,verify:M,utils:w,Point:t,Signature:p})}function Jbe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=_b(e.n,t.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function Xbe(t){const{CURVE:e,curveOpts:n}=Jbe(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function eve(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function tve(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=Xbe(t),i=Qbe(e,n),s=Zbe(i,r,n);return eve(t,s)}function $4(t,e){const n=r=>tve({...t,hash:r});return{...n(e),create:n}}const vq={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Cq={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},xq={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},nve=_b(vq.p),rve=_b(Cq.p),ive=_b(xq.p),sve=$4({...vq,Fp:nve,lowS:!1},mS);$4({...Cq,Fp:rve,lowS:!1},hwe),$4({...xq,Fp:ive,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},fwe);const ove=sve,Eq="base10",so="base16",Lo="base64pad",uh="base64url",JC="utf8",Aq=0,$d=1,XC=2,ave=0,YL=1,y1=12,t8=32;function cve(){const t=O4.utils.randomPrivateKey(),e=O4.getPublicKey(t);return{privateKey:Wo(t,so),publicKey:Wo(e,so)}}function D4(){const t=Sb(t8);return Wo(t,so)}function lve(t,e){const n=O4.getSharedSecret(lc(t,so),lc(e,so)),r=bbe(yS,n,void 0,void 0,t8);return Wo(r,so)}function $A(t){const e=yS(lc(t,so));return Wo(e,so)}function ic(t){const e=yS(lc(t,JC));return Wo(e,so)}function Sq(t){return lc(`${t}`,Eq)}function dg(t){return Number(Wo(t,Eq))}function _q(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Tq(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function uve(t){const e=Sq(typeof t.type<"u"?t.type:Aq);if(dg(e)===$d&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?lc(t.senderPublicKey,so):void 0,r=typeof t.iv<"u"?lc(t.iv,so):Sb(y1),i=lc(t.symKey,so),s=sq(i,r).encrypt(lc(t.message,JC)),o=Iq({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===uh?_q(o):o}function dve(t){const e=lc(t.symKey,so),{sealed:n,iv:r}=x2({encoded:t.encoded,encoding:t.encoding}),i=sq(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Wo(i,JC)}function fve(t,e){const n=Sq(XC),r=Sb(y1),i=lc(t,JC),s=Iq({type:n,sealed:i,iv:r});return e===uh?_q(s):s}function hve(t,e){const{sealed:n}=x2({encoded:t,encoding:e});return Wo(n,JC)}function Iq(t){if(dg(t.type)===XC)return Wo(h1([t.type,t.sealed]),Lo);if(dg(t.type)===$d){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Wo(h1([t.type,t.senderPublicKey,t.iv,t.sealed]),Lo)}return Wo(h1([t.type,t.iv,t.sealed]),Lo)}function x2(t){const e=(t.encoding||Lo)===uh?Tq(t.encoded):t.encoded,n=lc(e,Lo),r=n.slice(ave,YL),i=YL;if(dg(r)===$d){const c=i+t8,u=c+y1,f=n.slice(i,c),h=n.slice(c,u),p=n.slice(u);return{type:r,sealed:p,iv:h,senderPublicKey:f}}if(dg(r)===XC){const c=n.slice(i),u=Sb(y1);return{type:r,sealed:c,iv:u}}const s=i+y1,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function pve(t,e){const n=x2({encoded:t,encoding:e==null?void 0:e.encoding});return Nq({type:dg(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Wo(n.senderPublicKey,so):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function Nq(t){const e=(t==null?void 0:t.type)||Aq;if(e===$d){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function QL(t){return t.type===$d&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function ZL(t){return t.type===XC}function mve(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return h1([new Uint8Array([4]),e,n])}function gve(t,e){const[n,r,i]=t.split("."),s=Buffer.from(Tq(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,u=yS(c),f=mve(e);if(!ove.verify(h1([o,a]),u,f))throw new Error("Invalid signature");return a4(t).payload}const yve="irn";function L3(t){return(t==null?void 0:t.relay)||{protocol:yve}}function ly(t){const e=zfe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function wve(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function JL(t){if(!t.includes("wc:")){const u=FV(t);u!=null&&u.includes("wc:")&&(t=u)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((u,f)=>{a[f]=u});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:bve(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:wve(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function bve(t){return t.startsWith("//")?t.substring(2):t}function vve(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function XL(t){const e=new URLSearchParams,n=vve(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function JE(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var Cve=Object.defineProperty,xve=Object.defineProperties,Eve=Object.getOwnPropertyDescriptors,eM=Object.getOwnPropertySymbols,Ave=Object.prototype.hasOwnProperty,Sve=Object.prototype.propertyIsEnumerable,tM=(t,e,n)=>e in t?Cve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_ve=(t,e)=>{for(var n in e||(e={}))Ave.call(e,n)&&tM(t,n,e[n]);if(eM)for(var n of eM(e))Sve.call(e,n)&&tM(t,n,e[n]);return t},Tve=(t,e)=>xve(t,Eve(e));function Tb(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function Ive(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Tb(n.accounts))}),e}function Nve(t,e){const n=[];return Object.values(t).forEach(r=>{Tb(r.accounts).includes(e)&&n.push(...r.methods)}),n}function Pve(t,e){const n=[];return Object.values(t).forEach(r=>{Tb(r.accounts).includes(e)&&n.push(...r.events)}),n}function CS(t){return t.includes(":")}function uy(t){return CS(t)?t.split(":")[0]:t}function nM(t){var e,n,r;const i={};if(!wu(t))return i;for(const[s,o]of Object.entries(t)){const a=CS(s)?[s]:o.chains,c=o.methods||[],u=o.events||[],f=uy(s);i[f]=Tve(_ve({},i[f]),{chains:yu(a,(e=i[f])==null?void 0:e.chains),methods:yu(c,(n=i[f])==null?void 0:n.methods),events:yu(u,(r=i[f])==null?void 0:r.events)})}return i}function kve(t){const e={};return t==null||t.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function rM(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=kve(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=yu(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function Rve(t,e){var n,r,i,s,o,a;const c=nM(t),u=nM(e),f={},h=Object.keys(c).concat(Object.keys(u));for(const p of h)f[p]={chains:yu((n=c[p])==null?void 0:n.chains,(r=u[p])==null?void 0:r.chains),methods:yu((i=c[p])==null?void 0:i.methods,(s=u[p])==null?void 0:s.methods),events:yu((o=c[p])==null?void 0:o.events,(a=u[p])==null?void 0:a.events)};return f}const Ove={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},$ve={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function tt(t,e){const{message:n,code:r}=$ve[t];return{message:e?`${n} ${e}`:n,code:r}}function Gr(t,e){const{message:n,code:r}=Ove[t];return{message:e?`${n} ${e}`:n,code:r}}function Dd(t,e){return!!Array.isArray(t)}function wu(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function ki(t){return typeof t>"u"}function bi(t,e){return e&&ki(t)?!0:typeof t=="string"&&!!t.trim().length}function n8(t,e){return e&&ki(t)?!0:typeof t=="number"&&!isNaN(t)}function Dve(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return am(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:u}=t.namespaces[o],f=Tb(a),h=n[o];(!am(DV(o,h),f)||!am(h.methods,c)||!am(h.events,u))&&(s=!1)}),s):!1}function M3(t){return bi(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Lve(t){if(bi(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&M3(n)}}return!1}function Mve(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(bi(t,!1)){if(e(t))return!0;const n=FV(t);return e(n)}}catch{}return!1}function Bve(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Uve(t){return t==null?void 0:t.topic}function Fve(t,e){let n=null;return bi(t==null?void 0:t.publicKey,!1)||(n=tt("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function iM(t){let e=!0;return Dd(t)?t.length&&(e=t.every(n=>bi(n,!1))):e=!1,e}function jve(t,e,n){let r=null;return Dd(e)&&e.length?e.forEach(i=>{r||M3(i)||(r=Gr("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):M3(t)||(r=Gr("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function zve(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=jve(i,DV(i,s),`${e} ${n}`);o&&(r=o)}),r}function Wve(t,e){let n=null;return Dd(t)?t.forEach(r=>{n||Lve(r)||(n=Gr("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Gr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Hve(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Wve(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function Vve(t,e){let n=null;return iM(t==null?void 0:t.methods)?iM(t==null?void 0:t.events)||(n=Gr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Gr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function Pq(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Vve(r,`${e}, namespace`);i&&(n=i)}),n}function qve(t,e,n){let r=null;if(t&&wu(t)){const i=Pq(t,e);i&&(r=i);const s=zve(t,e,n);s&&(r=s)}else r=tt("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function G6(t,e){let n=null;if(t&&wu(t)){const r=Pq(t,e);r&&(n=r);const i=Hve(t,e);i&&(n=i)}else n=tt("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function kq(t){return bi(t.protocol,!0)}function Gve(t,e){let n=!1;return t?t&&Dd(t)&&t.length&&t.forEach(r=>{n=kq(r)}):n=!0,n}function Kve(t){return typeof t=="number"}function No(t){return typeof t<"u"&&typeof t!==null}function Yve(t){return!(!t||typeof t!="object"||!t.code||!n8(t.code,!1)||!t.message||!bi(t.message,!1))}function Qve(t){return!(ki(t)||!bi(t.method,!1))}function Zve(t){return!(ki(t)||ki(t.result)&&ki(t.error)||!n8(t.id,!1)||!bi(t.jsonrpc,!1))}function Jve(t){return!(ki(t)||!bi(t.name,!1))}function sM(t,e){return!(!M3(e)||!Ive(t).includes(e))}function Xve(t,e,n){return bi(n,!1)?Nve(t,e).includes(n):!1}function e1e(t,e,n){return bi(n,!1)?Pve(t,e).includes(n):!1}function oM(t,e,n){let r=null;const i=t1e(t),s=n1e(e),o=Object.keys(i),a=Object.keys(s),c=aM(Object.keys(t)),u=aM(Object.keys(e)),f=c.filter(h=>!u.includes(h));return f.length&&(r=tt("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${f.toString()}
      Received: ${Object.keys(e).toString()}`)),am(o,a)||(r=tt("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||r)return;const p=Tb(e[h].accounts);p.includes(h)||(r=tt("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${p.toString()}`))}),o.forEach(h=>{r||(am(i[h].methods,s[h].methods)?am(i[h].events,s[h].events)||(r=tt("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${h}`)):r=tt("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${h}`))}),r}function t1e(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function aM(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function n1e(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=Tb(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function r1e(t,e){return n8(t,!1)&&t<=e.max&&t>=e.min}function cM(){const t=QC();return new Promise(e=>{switch(t){case ya.browser:e(i1e());break;case ya.reactNative:e(s1e());break;case ya.node:e(o1e());break;default:e(!0)}})}function i1e(){return Ab()&&(navigator==null?void 0:navigator.onLine)}async function s1e(){if(pp()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function o1e(){return!0}function a1e(t){switch(QC()){case ya.browser:c1e(t);break;case ya.reactNative:l1e(t);break}}function c1e(t){!pp()&&Ab()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function l1e(t){pp()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function u1e(){var t;return Ab()&&Wd.getDocument()?((t=Wd.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const K6={};class $v{static get(e){return K6[e]}static set(e,n){K6[e]=n}static delete(e){delete K6[e]}}function d1e(t){const e=Cb.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function f1e({publicKey:t,signature:e,payload:n}){var r;const i=L4(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=m1e(n.address),a=n.era==="00"?new Uint8Array([0]):L4(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),u=new Uint8Array([c&255,c>>8&255]),f=BigInt(`0x${p1e(n.tip)}`),h=y1e(f),p=new Uint8Array([0,...t,o,...e,...a,...u,...h,...i]),g=g1e(p.length+1);return new Uint8Array([...g,s,...p])}function h1e(t){const e=L4(t),n=qfe.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function L4(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function p1e(t){return t.startsWith("0x")?t.slice(2):t}function m1e(t){const e=Cb.decode(t)[0];return e===42?0:e===60?2:1}function g1e(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function y1e(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function w1e(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=d1e(t.transaction.address),r=f1e({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return h1e(i)}var b1e={};const Rq="wc",Oq=2,M4="core",Au=`${Rq}@2:${M4}:`,v1e={logger:"error"},C1e={database:":memory:"},x1e="crypto",lM="client_ed25519_seed",E1e=rt.ONE_DAY,A1e="keychain",S1e="0.3",_1e="messages",T1e="0.3",I1e=rt.SIX_HOURS,N1e="publisher",$q="irn",P1e="error",Dq="wss://relay.walletconnect.org",k1e="relayer",ci={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},R1e="_subscription",za={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},O1e=.1,B4="2.21.7",Ur={link_mode:"link_mode",relay:"relay"},DA={inbound:"inbound",outbound:"outbound"},$1e="0.3",D1e="WALLETCONNECT_CLIENT_ID",uM="WALLETCONNECT_LINK_MODE_APPS",aa={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},L1e="subscription",M1e="0.3",B1e="pairing",U1e="0.3",Dv={wc_pairingDelete:{req:{ttl:rt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:rt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:rt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:rt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:rt.ONE_DAY,prompt:!1,tag:0},res:{ttl:rt.ONE_DAY,prompt:!1,tag:0}}},Zp={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Mc={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},F1e="history",j1e="0.3",z1e="expirer",Ka={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},W1e="0.3",H1e="verify-api",V1e="https://verify.walletconnect.com",Lq="https://verify.walletconnect.org",w1=Lq,q1e=`${w1}/v3`,G1e=[V1e,Lq],K1e="echo",Y1e="https://echo.walletconnect.com",Hl={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},rd={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Vf={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Lv={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},zp={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Mv={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Q1e=.1,Z1e="event-client",J1e=86400,X1e="https://pulse.walletconnect.org/batch";function e2e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var y=0,b=0,C=0,x=w.length;C!==x&&w[C]===0;)C++,y++;for(var E=(x-C)*f+1>>>0,I=new Uint8Array(E);C!==x;){for(var S=w[C],T=0,R=E-1;(S!==0||T<b)&&R!==-1;R--,T++)S+=256*I[R]>>>0,I[R]=S%a>>>0,S=S/a>>>0;if(S!==0)throw new Error("Non-zero carry");b=T,C++}for(var O=E-b;O!==E&&I[O]===0;)O++;for(var k=c.repeat(y);O<E;++O)k+=t.charAt(I[O]);return k}function p(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var y=0;if(w[y]!==" "){for(var b=0,C=0;w[y]===c;)b++,y++;for(var x=(w.length-y)*u+1>>>0,E=new Uint8Array(x);w[y];){var I=n[w.charCodeAt(y)];if(I===255)return;for(var S=0,T=x-1;(I!==0||S<C)&&T!==-1;T--,S++)I+=a*E[T]>>>0,E[T]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");C=S,y++}if(w[y]!==" "){for(var R=x-C;R!==x&&E[R]===0;)R++;for(var O=new Uint8Array(b+(x-R)),k=b;R!==x;)O[k++]=E[R++];return O}}}function g(w){var y=p(w);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:p,decode:g}}var t2e=e2e,n2e=t2e;const Mq=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},r2e=t=>new TextEncoder().encode(t),i2e=t=>new TextDecoder().decode(t);class s2e{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class o2e{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Bq(this,e)}}class a2e{constructor(e){this.decoders=e}or(e){return Bq(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Bq=(t,e)=>new a2e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class c2e{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new s2e(e,n,r),this.decoder=new o2e(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const xS=({name:t,prefix:e,encode:n,decode:r})=>new c2e(t,e,n,r),ex=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=n2e(n,e);return xS({prefix:t,name:e,encode:r,decode:s=>Mq(i(s))})},l2e=(t,e,n,r)=>{const i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let f=0;f<s;++f){const h=i[t[f]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},u2e=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},gs=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>xS({prefix:e,name:t,encode(i){return u2e(i,r,n)},decode(i){return l2e(i,r,n,t)}}),d2e=xS({prefix:"\0",name:"identity",encode:t=>i2e(t),decode:t=>r2e(t)});var f2e=Object.freeze({__proto__:null,identity:d2e});const h2e=gs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var p2e=Object.freeze({__proto__:null,base2:h2e});const m2e=gs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var g2e=Object.freeze({__proto__:null,base8:m2e});const y2e=ex({prefix:"9",name:"base10",alphabet:"0123456789"});var w2e=Object.freeze({__proto__:null,base10:y2e});const b2e=gs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),v2e=gs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var C2e=Object.freeze({__proto__:null,base16:b2e,base16upper:v2e});const x2e=gs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),E2e=gs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),A2e=gs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),S2e=gs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),_2e=gs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),T2e=gs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),I2e=gs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),N2e=gs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),P2e=gs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var k2e=Object.freeze({__proto__:null,base32:x2e,base32upper:E2e,base32pad:A2e,base32padupper:S2e,base32hex:_2e,base32hexupper:T2e,base32hexpad:I2e,base32hexpadupper:N2e,base32z:P2e});const R2e=ex({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),O2e=ex({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var $2e=Object.freeze({__proto__:null,base36:R2e,base36upper:O2e});const D2e=ex({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),L2e=ex({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var M2e=Object.freeze({__proto__:null,base58btc:D2e,base58flickr:L2e});const B2e=gs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),U2e=gs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),F2e=gs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),j2e=gs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var z2e=Object.freeze({__proto__:null,base64:B2e,base64pad:U2e,base64url:F2e,base64urlpad:j2e});const Uq=Array.from(""),W2e=Uq.reduce((t,e,n)=>(t[n]=e,t),[]),H2e=Uq.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function V2e(t){return t.reduce((e,n)=>(e+=W2e[n],e),"")}function q2e(t){const e=[];for(const n of t){const r=H2e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const G2e=xS({prefix:"",name:"base256emoji",encode:V2e,decode:q2e});var K2e=Object.freeze({__proto__:null,base256emoji:G2e}),Y2e=Fq,dM=128,Q2e=-128,Z2e=Math.pow(2,31);function Fq(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Z2e;)e[n++]=t&255|dM,t/=128;for(;t&Q2e;)e[n++]=t&255|dM,t>>>=7;return e[n]=t|0,Fq.bytes=n-r+1,e}var J2e=U4,X2e=128,fM=127;function U4(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw U4.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&fM)<<i:(o&fM)*Math.pow(2,i),i+=7}while(o>=X2e);return U4.bytes=s-r,n}var eCe=Math.pow(2,7),tCe=Math.pow(2,14),nCe=Math.pow(2,21),rCe=Math.pow(2,28),iCe=Math.pow(2,35),sCe=Math.pow(2,42),oCe=Math.pow(2,49),aCe=Math.pow(2,56),cCe=Math.pow(2,63),lCe=function(t){return t<eCe?1:t<tCe?2:t<nCe?3:t<rCe?4:t<iCe?5:t<sCe?6:t<oCe?7:t<aCe?8:t<cCe?9:10},uCe={encode:Y2e,decode:J2e,encodingLength:lCe},jq=uCe;const hM=(t,e,n=0)=>(jq.encode(t,e,n),e),pM=t=>jq.encodingLength(t),F4=(t,e)=>{const n=e.byteLength,r=pM(t),i=r+pM(n),s=new Uint8Array(i+n);return hM(t,s,0),hM(n,s,r),s.set(e,i),new dCe(t,n,e,s)};class dCe{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const zq=({name:t,code:e,encode:n})=>new fCe(t,e,n);class fCe{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?F4(this.code,n):n.then(r=>F4(this.code,r))}else throw Error("Unknown type, must be binary type")}}const Wq=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),hCe=zq({name:"sha2-256",code:18,encode:Wq("SHA-256")}),pCe=zq({name:"sha2-512",code:19,encode:Wq("SHA-512")});var mCe=Object.freeze({__proto__:null,sha256:hCe,sha512:pCe});const Hq=0,gCe="identity",Vq=Mq,yCe=t=>F4(Hq,Vq(t)),wCe={code:Hq,name:gCe,encode:Vq,digest:yCe};var bCe=Object.freeze({__proto__:null,identity:wCe});new TextEncoder,new TextDecoder;const mM={...f2e,...p2e,...g2e,...w2e,...C2e,...k2e,...$2e,...M2e,...z2e,...K2e};({...mCe,...bCe});function qq(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function vCe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?qq(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Gq(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const gM=Gq("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Y6=Gq("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=vCe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),CCe={utf8:gM,"utf-8":gM,hex:mM.base16,latin1:Y6,ascii:Y6,binary:Y6,...mM};function xCe(t,e="utf8"){const n=CCe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?qq(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var ECe=Object.defineProperty,ACe=(t,e,n)=>e in t?ECe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fl=(t,e,n)=>ACe(t,typeof e!="symbol"?e+"":e,n);class SCe{constructor(e,n){this.core=e,this.logger=n,Fl(this,"keychain",new Map),Fl(this,"name",A1e),Fl(this,"version",S1e),Fl(this,"initialized",!1),Fl(this,"storagePrefix",Au),Fl(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Fl(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Fl(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Fl(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=tt("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),Fl(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Bs(n,this.name)}get context(){return Zo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,A4(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?S4(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=tt("NOT_INITIALIZED",this.name);throw new Error(e)}}}var _Ce=Object.defineProperty,TCe=(t,e,n)=>e in t?_Ce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ns=(t,e,n)=>TCe(t,typeof e!="symbol"?e+"":e,n);class ICe{constructor(e,n,r){this.core=e,this.logger=n,ns(this,"name",x1e),ns(this,"keychain"),ns(this,"randomSessionIdentifier",D4()),ns(this,"initialized",!1),ns(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),ns(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),ns(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=v7(i);return WH(s.publicKey)}),ns(this,"generateKeyPair",()=>{this.isInitialized();const i=cve();return this.setPrivateKey(i.publicKey,i.privateKey)}),ns(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=v7(s),a=this.randomSessionIdentifier;return await Mue(a,i,E1e,o)}),ns(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=lve(a,s);return this.setSymKey(c,o)}),ns(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||$A(i);return await this.keychain.set(o,i),o}),ns(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),ns(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),ns(this,"encode",async(i,s,o)=>{this.isInitialized();const a=Nq(o),c=zd(s);if(ZL(a))return fve(c,o==null?void 0:o.encoding);if(QL(a)){const p=a.senderPublicKey,g=a.receiverPublicKey;i=await this.generateSharedKey(p,g)}const u=this.getSymKey(i),{type:f,senderPublicKey:h}=a;return uve({type:f,symKey:u,message:c,senderPublicKey:h,encoding:o==null?void 0:o.encoding})}),ns(this,"decode",async(i,s,o)=>{this.isInitialized();const a=pve(s,o);if(ZL(a)){const c=hve(s,o==null?void 0:o.encoding);return og(c)}if(QL(a)){const c=a.receiverPublicKey,u=a.senderPublicKey;i=await this.generateSharedKey(c,u)}try{const c=this.getSymKey(i),u=dve({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return og(u)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),ns(this,"getPayloadType",(i,s=Lo)=>{const o=x2({encoded:i,encoding:s});return dg(o.type)}),ns(this,"getPayloadSenderPublicKey",(i,s=Lo)=>{const o=x2({encoded:i,encoding:s});return o.senderPublicKey?Wo(o.senderPublicKey,so):void 0}),this.core=e,this.logger=Bs(n,this.name),this.keychain=r||new SCe(this.core,this.logger)}get context(){return Zo(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(lM)}catch{e=D4(),await this.keychain.set(lM,e)}return xCe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=tt("NOT_INITIALIZED",this.name);throw new Error(e)}}}var NCe=Object.defineProperty,PCe=Object.defineProperties,kCe=Object.getOwnPropertyDescriptors,yM=Object.getOwnPropertySymbols,RCe=Object.prototype.hasOwnProperty,OCe=Object.prototype.propertyIsEnumerable,j4=(t,e,n)=>e in t?NCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$Ce=(t,e)=>{for(var n in e||(e={}))RCe.call(e,n)&&j4(t,n,e[n]);if(yM)for(var n of yM(e))OCe.call(e,n)&&j4(t,n,e[n]);return t},DCe=(t,e)=>PCe(t,kCe(e)),sa=(t,e,n)=>j4(t,typeof e!="symbol"?e+"":e,n);class LCe extends t0e{constructor(e,n){super(e,n),this.logger=e,this.core=n,sa(this,"messages",new Map),sa(this,"messagesWithoutClientAck",new Map),sa(this,"name",_1e),sa(this,"version",T1e),sa(this,"initialized",!1),sa(this,"storagePrefix",Au),sa(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),sa(this,"set",async(r,i,s)=>{this.isInitialized();const o=ic(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===DA.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,DCe($Ce({},c),{[o]:i}))}return await this.persist(),o}),sa(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),sa(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),sa(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=ic(i);return typeof s[o]<"u"}),sa(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=ic(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),sa(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Bs(e,this.name),this.core=n}get context(){return Zo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,A4(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,A4(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?S4(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?S4(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=tt("NOT_INITIALIZED",this.name);throw new Error(e)}}}var MCe=Object.defineProperty,BCe=Object.defineProperties,UCe=Object.getOwnPropertyDescriptors,wM=Object.getOwnPropertySymbols,FCe=Object.prototype.hasOwnProperty,jCe=Object.prototype.propertyIsEnumerable,z4=(t,e,n)=>e in t?MCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,M0=(t,e)=>{for(var n in e||(e={}))FCe.call(e,n)&&z4(t,n,e[n]);if(wM)for(var n of wM(e))jCe.call(e,n)&&z4(t,n,e[n]);return t},bM=(t,e)=>BCe(t,UCe(e)),Wa=(t,e,n)=>z4(t,typeof e!="symbol"?e+"":e,n);class zCe extends n0e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Wa(this,"events",new wc.EventEmitter),Wa(this,"name",N1e),Wa(this,"queue",new Map),Wa(this,"publishTimeout",rt.toMiliseconds(rt.ONE_MINUTE)),Wa(this,"initialPublishTimeout",rt.toMiliseconds(rt.ONE_SECOND*15)),Wa(this,"needsTransportRestart",!1),Wa(this,"publish",async(r,i,s)=>{var o,a,c,u,f;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const h=(s==null?void 0:s.ttl)||I1e,p=(s==null?void 0:s.prompt)||!1,g=(s==null?void 0:s.tag)||0,w=(s==null?void 0:s.id)||Mh().toString(),y=ly(L3().protocol),b={id:w,method:(s==null?void 0:s.publishMethod)||y.publish,params:M0({topic:r,message:i,ttl:h,prompt:p,tag:g,attestation:s==null?void 0:s.attestation},(s==null?void 0:s.tvf)&&{tvf:s.tvf})},C=`Failed to publish payload, please try again. id:${w} tag:${g}`;try{ki((o=b.params)==null?void 0:o.prompt)&&((a=b.params)==null||delete a.prompt),ki((c=b.params)==null?void 0:c.tag)&&((u=b.params)==null||delete u.tag);const x=new Promise(async E=>{const I=({id:T})=>{var R;((R=b.id)==null?void 0:R.toString())===T.toString()&&(this.removeRequestFromQueue(T),this.relayer.events.removeListener(ci.publish,I),E())};this.relayer.events.on(ci.publish,I);const S=du(new Promise((T,R)=>{this.rpcPublish(b,s).then(T).catch(O=>{this.logger.warn(O,O==null?void 0:O.message),R(O)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${w} tag:${g}`);try{await S,this.events.removeListener(ci.publish,I)}catch(T){this.queue.set(w,{request:b,opts:s,attempt:1}),this.logger.warn(T,T==null?void 0:T.message)}});this.logger.trace({type:"method",method:"publish",params:{id:w,topic:r,message:i,opts:s}}),await du(x,this.publishTimeout,C)}catch(x){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(x),(f=s==null?void 0:s.internal)!=null&&f.throwOnFailedPublish)throw x}finally{this.queue.delete(w)}}),Wa(this,"publishCustom",async r=>{var i,s,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:u,opts:f={}}=r,{attestation:h,tvf:p,publishMethod:g,prompt:w,tag:y,ttl:b=rt.FIVE_MINUTES}=f,C=f.id||Mh().toString(),x=ly(L3().protocol),E=g||x.publish,I={id:C,method:E,params:M0(bM(M0({},u),{ttl:b,prompt:w,tag:y,attestation:h}),p)},S=`Failed to publish custom payload, please try again. id:${C} tag:${y}`;try{ki((i=I.params)==null?void 0:i.prompt)&&((s=I.params)==null||delete s.prompt),ki((o=I.params)==null?void 0:o.tag)&&((a=I.params)==null||delete a.tag);const T=new Promise(async R=>{const O=({id:M})=>{var L;((L=I.id)==null?void 0:L.toString())===M.toString()&&(this.removeRequestFromQueue(M),this.relayer.events.removeListener(ci.publish,O),R())};this.relayer.events.on(ci.publish,O);const k=du(new Promise((M,L)=>{this.rpcPublish(I,f).then(M).catch(j=>{this.logger.warn(j,j==null?void 0:j.message),L(j)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${E} id:${C} tag:${y}`);try{await k,this.events.removeListener(ci.publish,O)}catch(M){this.queue.set(C,{request:I,opts:f,attempt:1}),this.logger.warn(M,M==null?void 0:M.message)}});this.logger.trace({type:"method",method:"publish",params:{id:C,payload:u,opts:f}}),await du(T,this.publishTimeout,S)}catch(T){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(T),(c=f==null?void 0:f.internal)!=null&&c.throwOnFailedPublish)throw T}finally{this.queue.delete(C)}}),Wa(this,"on",(r,i)=>{this.events.on(r,i)}),Wa(this,"once",(r,i)=>{this.events.once(r,i)}),Wa(this,"off",(r,i)=>{this.events.off(r,i)}),Wa(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=Bs(n,this.name),this.registerEventListeners()}get context(){return Zo(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(ci.publish,M0(M0({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,bM(M0({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Bg.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(ci.connection_stalled);return}this.checkQueue()}),this.relayer.on(ci.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var WCe=Object.defineProperty,HCe=(t,e,n)=>e in t?WCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B0=(t,e,n)=>HCe(t,typeof e!="symbol"?e+"":e,n);class VCe{constructor(){B0(this,"map",new Map),B0(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),B0(this,"get",e=>this.map.get(e)||[]),B0(this,"exists",(e,n)=>this.get(e).includes(n)),B0(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),B0(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var qCe=Object.defineProperty,GCe=Object.defineProperties,KCe=Object.getOwnPropertyDescriptors,vM=Object.getOwnPropertySymbols,YCe=Object.prototype.hasOwnProperty,QCe=Object.prototype.propertyIsEnumerable,W4=(t,e,n)=>e in t?qCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bv=(t,e)=>{for(var n in e||(e={}))YCe.call(e,n)&&W4(t,n,e[n]);if(vM)for(var n of vM(e))QCe.call(e,n)&&W4(t,n,e[n]);return t},Q6=(t,e)=>GCe(t,KCe(e)),Sr=(t,e,n)=>W4(t,typeof e!="symbol"?e+"":e,n);class ZCe extends s0e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Sr(this,"subscriptions",new Map),Sr(this,"topicMap",new VCe),Sr(this,"events",new wc.EventEmitter),Sr(this,"name",L1e),Sr(this,"version",M1e),Sr(this,"pending",new Map),Sr(this,"cached",[]),Sr(this,"initialized",!1),Sr(this,"storagePrefix",Au),Sr(this,"subscribeTimeout",rt.toMiliseconds(rt.ONE_MINUTE)),Sr(this,"initialSubscribeTimeout",rt.toMiliseconds(rt.ONE_SECOND*15)),Sr(this,"clientId"),Sr(this,"batchSubscribeTopicsLimit",500),Sr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Sr(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const o=L3(i),a={topic:r,relay:o,transportType:i==null?void 0:i.transportType};(s=i==null?void 0:i.internal)!=null&&s.skipSubscribe||this.pending.set(r,a);const c=await this.rpcSubscribe(r,o,i);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),Sr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),Sr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),Sr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),Sr(this,"on",(r,i)=>{this.events.on(r,i)}),Sr(this,"once",(r,i)=>{this.events.once(r,i)}),Sr(this,"off",(r,i)=>{this.events.off(r,i)}),Sr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),Sr(this,"start",async()=>{await this.onConnect()}),Sr(this,"stop",async()=>{await this.onDisconnect()}),Sr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Sr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),Sr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Bg.pulse,async()=>{await this.checkPending()}),this.events.on(aa.created,async r=>{const i=aa.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(aa.deleted,async r=>{const i=aa.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=Bs(n,this.name),this.clientId=""}get context(){return Zo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=L3(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Gr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,s;const o=await this.getSubscriptionId(e);if((i=r==null?void 0:r.internal)!=null&&i.skipSubscribe)return o;(!r||(r==null?void 0:r.transportType)===Ur.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const a={method:ly(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{if((r==null?void 0:r.transportType)===Ur.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(h=>this.logger.warn(h))},rt.toMiliseconds(rt.ONE_SECOND)),o;const u=new Promise(async h=>{const p=g=>{g.topic===e&&(this.events.removeListener(aa.created,p),h(g.id))};this.events.on(aa.created,p);try{const g=await du(new Promise((w,y)=>{this.relayer.request(a).catch(b=>{this.logger.warn(b,b==null?void 0:b.message),y(b)}).then(w)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(aa.created,p),h(g)}catch{}}),f=await du(u,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!f&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return f?o:null}catch(u){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(ci.connection_stalled),c)throw u}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:ly(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await du(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(ci.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:ly(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await du(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(ci.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:ly(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,Q6(Bv({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Bv({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Bv({},n)),this.topicMap.set(n.topic,e),this.events.emit(aa.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=tt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(aa.deleted,Q6(Bv({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(aa.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(aa.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=tt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>Q6(Bv({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await Pye(rt.toMiliseconds(rt.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=tt("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return ic(e+await this.getClientId())}}var JCe=Object.defineProperty,CM=Object.getOwnPropertySymbols,XCe=Object.prototype.hasOwnProperty,exe=Object.prototype.propertyIsEnumerable,H4=(t,e,n)=>e in t?JCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xM=(t,e)=>{for(var n in e||(e={}))XCe.call(e,n)&&H4(t,n,e[n]);if(CM)for(var n of CM(e))exe.call(e,n)&&H4(t,n,e[n]);return t},qn=(t,e,n)=>H4(t,typeof e!="symbol"?e+"":e,n);class txe extends r0e{constructor(e){super(e),qn(this,"protocol","wc"),qn(this,"version",2),qn(this,"core"),qn(this,"logger"),qn(this,"events",new wc.EventEmitter),qn(this,"provider"),qn(this,"messages"),qn(this,"subscriber"),qn(this,"publisher"),qn(this,"name",k1e),qn(this,"transportExplicitlyClosed",!1),qn(this,"initialized",!1),qn(this,"connectionAttemptInProgress",!1),qn(this,"relayUrl"),qn(this,"projectId"),qn(this,"packageName"),qn(this,"bundleId"),qn(this,"hasExperiencedNetworkDisruption",!1),qn(this,"pingTimeout"),qn(this,"heartBeatTimeout",rt.toMiliseconds(rt.THIRTY_SECONDS+rt.FIVE_SECONDS)),qn(this,"reconnectTimeout"),qn(this,"connectPromise"),qn(this,"reconnectInProgress",!1),qn(this,"requestsInFlight",[]),qn(this,"connectTimeout",rt.toMiliseconds(rt.ONE_SECOND*15)),qn(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||Mh().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),qn(this,"resetPingTimeout",()=>{R3()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),qn(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),qn(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(ci.connect)}),qn(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),qn(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(ci.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),qn(this,"registerProviderListeners",()=>{this.provider.on(za.payload,this.onPayloadHandler),this.provider.on(za.connect,this.onConnectHandler),this.provider.on(za.disconnect,this.onDisconnectHandler),this.provider.on(za.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Bs(e.logger,this.name):VC(bb({level:e.logger||P1e})),this.messages=new LCe(this.logger,e.core),this.subscriber=new ZCe(this,this.logger),this.publisher=new zCe(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Dq,pye()?this.packageName=wL():mye()&&(this.bundleId=wL()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return Zo(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Ur.relay},DA.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const u=f=>{f.topic===e&&(this.subscriber.off(aa.created,u),c())};return await Promise.all([new Promise(f=>{c=f,this.subscriber.on(aa.created,u)}),new Promise(async(f,h)=>{a=await this.subscriber.subscribe(e,xM({internal:{throwOnFailedPublish:o}},n)).catch(p=>{o&&h(p)})||a,f()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await du(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await cM())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=Ni(rt.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(ci.message,e),await this.recordMessageEvent(e,DA.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(za.disconnect,s),await du(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(za.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(za.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(za.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,rt.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(R3())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new bc(new Lhe(vye({sdkVersion:B4,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),jR(e)){if(!e.method.endsWith(R1e))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:Ur.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(xM({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else uS(e)&&this.events.emit(ci.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,DA.inbound),this.events.emit(ci.message,e))}async acknowledgePayload(e){const n=i2(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(za.payload,this.onPayloadHandler),this.provider.off(za.connect,this.onConnectHandler),this.provider.off(za.disconnect,this.onDisconnectHandler),this.provider.off(za.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await cM();a1e(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Bg.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&u1e())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(ci.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},rt.toMiliseconds(O1e)))))}isInitialized(){if(!this.initialized){const{message:e}=tt("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function nxe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function EM(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function AM(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const rxe="[object RegExp]",ixe="[object String]",sxe="[object Number]",oxe="[object Boolean]",SM="[object Arguments]",axe="[object Symbol]",cxe="[object Date]",lxe="[object Map]",uxe="[object Set]",dxe="[object Array]",fxe="[object Function]",hxe="[object ArrayBuffer]",Z6="[object Object]",pxe="[object Error]",mxe="[object DataView]",gxe="[object Uint8Array]",yxe="[object Uint8ClampedArray]",wxe="[object Uint16Array]",bxe="[object Uint32Array]",vxe="[object BigUint64Array]",Cxe="[object Int8Array]",xxe="[object Int16Array]",Exe="[object Int32Array]",Axe="[object BigInt64Array]",Sxe="[object Float32Array]",_xe="[object Float64Array]";function Txe(){}function _M(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Ixe(t,e,n){return Zv(t,e,void 0,void 0,void 0,void 0,n)}function Zv(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return b1(t,e,s,o)}return b1(t,e,s,o)}function b1(t,e,n,r){if(Object.is(t,e))return!0;let i=AM(t),s=AM(e);if(i===SM&&(i=Z6),s===SM&&(s=Z6),i!==s)return!1;switch(i){case ixe:return t.toString()===e.toString();case sxe:{const c=t.valueOf(),u=e.valueOf();return nxe(c,u)}case oxe:case cxe:case axe:return Object.is(t.valueOf(),e.valueOf());case rxe:return t.source===e.source&&t.flags===e.flags;case fxe:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case lxe:{if(t.size!==e.size)return!1;for(const[c,u]of t.entries())if(!e.has(c)||!Zv(u,e.get(c),c,t,e,n,r))return!1;return!0}case uxe:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),u=Array.from(e.values());for(let f=0;f<c.length;f++){const h=c[f],p=u.findIndex(g=>Zv(h,g,void 0,t,e,n,r));if(p===-1)return!1;u.splice(p,1)}return!0}case dxe:case gxe:case yxe:case wxe:case bxe:case vxe:case Cxe:case xxe:case Exe:case Axe:case Sxe:case _xe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Zv(t[c],e[c],c,t,e,n,r))return!1;return!0}case hxe:return t.byteLength!==e.byteLength?!1:b1(new Uint8Array(t),new Uint8Array(e),n,r);case mxe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:b1(new Uint8Array(t),new Uint8Array(e),n,r);case pxe:return t.name===e.name&&t.message===e.message;case Z6:{if(!(b1(t.constructor,e.constructor,n,r)||_M(t)&&_M(e)))return!1;const c=[...Object.keys(t),...EM(t)],u=[...Object.keys(e),...EM(e)];if(c.length!==u.length)return!1;for(let f=0;f<c.length;f++){const h=c[f],p=t[h];if(!Object.hasOwn(e,h))return!1;const g=e[h];if(!Zv(p,g,h,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function Nxe(t,e){return Ixe(t,e,Txe)}var Pxe=Object.defineProperty,TM=Object.getOwnPropertySymbols,kxe=Object.prototype.hasOwnProperty,Rxe=Object.prototype.propertyIsEnumerable,V4=(t,e,n)=>e in t?Pxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,IM=(t,e)=>{for(var n in e||(e={}))kxe.call(e,n)&&V4(t,n,e[n]);if(TM)for(var n of TM(e))Rxe.call(e,n)&&V4(t,n,e[n]);return t},_o=(t,e,n)=>V4(t,typeof e!="symbol"?e+"":e,n);class Fg extends i0e{constructor(e,n,r,i=Au,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,_o(this,"map",new Map),_o(this,"version",$1e),_o(this,"cached",[]),_o(this,"initialized",!1),_o(this,"getKey"),_o(this,"storagePrefix",Au),_o(this,"recentlyDeleted",[]),_o(this,"recentlyDeletedLimit",200),_o(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!ki(o)?this.map.set(this.getKey(o),o):Bve(o)?this.map.set(o.id,o):Uve(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),_o(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),_o(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),_o(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Nxe(a[c],o[c]))):this.values)),_o(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=IM(IM({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),_o(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Bs(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Zo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=tt("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=tt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=tt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=tt("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Oxe=Object.defineProperty,$xe=(t,e,n)=>e in t?Oxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nn=(t,e,n)=>$xe(t,typeof e!="symbol"?e+"":e,n);class Dxe{constructor(e,n){this.core=e,this.logger=n,Nn(this,"name",B1e),Nn(this,"version",U1e),Nn(this,"events",new IR),Nn(this,"pairings"),Nn(this,"initialized",!1),Nn(this,"storagePrefix",Au),Nn(this,"ignoredPayloadTypes",[$d]),Nn(this,"registeredMethods",[]),Nn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Nn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Nn(this,"create",async r=>{this.isInitialized();const i=D4(),s=await this.core.crypto.setSymKey(i),o=Ni(rt.FIVE_MINUTES),a={protocol:$q},c={topic:s,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},u=XL({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(Zp.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType,internal:r==null?void 0:r.internal}),{topic:s,uri:u}}),Nn(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Hl.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:u}=JL(r.uri);i.props.properties.topic=s,i.addTrace(Hl.pairing_uri_validation_success),i.addTrace(Hl.pairing_uri_not_expired);let f;if(this.pairings.keys.includes(s)){if(f=this.pairings.get(s),i.addTrace(Hl.existing_pairing),f.active)throw i.setError(rd.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Hl.pairing_not_expired)}const h=c||Ni(rt.FIVE_MINUTES),p={topic:s,relay:a,expiry:h,active:!1,methods:u};this.core.expirer.set(s,h),await this.pairings.set(s,p),i.addTrace(Hl.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(Zp.create,p),i.addTrace(Hl.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Hl.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(rd.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(g){throw i.setError(rd.subscribe_pairing_topic_failure),g}return i.addTrace(Hl.subscribe_pairing_topic_success),p}),Nn(this,"activate",async({topic:r})=>{this.isInitialized();const i=Ni(rt.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),Nn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Gp();this.events.once(or("pairing_ping",s),({error:u})=>{u?c(u):a()}),await o()}}),Nn(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),Nn(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),Nn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Nn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Gr("USER_DISCONNECTED")),await this.deletePairing(i))}),Nn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return XL({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),Nn(this,"sendRequest",async(r,i,s)=>{const o=au(i,s),a=await this.core.crypto.encode(r,o),c=Dv[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),Nn(this,"sendResult",async(r,i,s)=>{const o=i2(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,u=Dv[c].res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),Nn(this,"sendError",async(r,i,s)=>{const o=lS(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,u=Dv[c]?Dv[c].res:Dv.unregistered_method.res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),Nn(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Gr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),Nn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>th(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),Nn(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Nn(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Nn(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(Zp.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Nn(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{ql(i)?this.events.emit(or("pairing_ping",s),{}):rc(i)&&this.events.emit(or("pairing_ping",s),{error:i.error})},500)}),Nn(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Zp.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Nn(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Gr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),Nn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Gr("WC_METHOD_UNSUPPORTED",r))}),Nn(this,"isValidPair",(r,i)=>{var s;if(!No(r)){const{message:a}=tt("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(rd.malformed_pairing_uri),new Error(a)}if(!Mve(r.uri)){const{message:a}=tt("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(rd.malformed_pairing_uri),new Error(a)}const o=JL(r==null?void 0:r.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=tt("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(rd.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=tt("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(rd.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&rt.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(rd.pairing_expired);const{message:a}=tt("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Nn(this,"isValidPing",async r=>{if(!No(r)){const{message:s}=tt("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Nn(this,"isValidDisconnect",async r=>{if(!No(r)){const{message:s}=tt("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Nn(this,"isValidPairingTopic",async r=>{if(!bi(r,!1)){const{message:i}=tt("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=tt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(th(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=tt("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=Bs(n,this.name),this.pairings=new Fg(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Zo(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=tt("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(ci.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Ur.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);jR(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):uS(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Ka.expired,async e=>{const{topic:n}=UV(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Zp.expire,{topic:n}))})}}var Lxe=Object.defineProperty,Mxe=(t,e,n)=>e in t?Lxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rs=(t,e,n)=>Mxe(t,typeof e!="symbol"?e+"":e,n);class Bxe extends e0e{constructor(e,n){super(e,n),this.core=e,this.logger=n,rs(this,"records",new Map),rs(this,"events",new wc.EventEmitter),rs(this,"name",F1e),rs(this,"version",j1e),rs(this,"cached",[]),rs(this,"initialized",!1),rs(this,"storagePrefix",Au),rs(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),rs(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:Ni(rt.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Mc.created,o)}),rs(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=rc(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Mc.updated,i))}),rs(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),rs(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Mc.deleted,s)}}),this.persist()}),rs(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),rs(this,"on",(r,i)=>{this.events.on(r,i)}),rs(this,"once",(r,i)=>{this.events.once(r,i)}),rs(this,"off",(r,i)=>{this.events.off(r,i)}),rs(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Bs(n,this.name)}get context(){return Zo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:au(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=tt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Mc.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=tt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Mc.created,e=>{const n=Mc.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Mc.updated,e=>{const n=Mc.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Mc.deleted,e=>{const n=Mc.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Bg.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{rt.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Mc.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=tt("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Uxe=Object.defineProperty,Fxe=(t,e,n)=>e in t?Uxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ts=(t,e,n)=>Fxe(t,typeof e!="symbol"?e+"":e,n);class jxe extends o0e{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ts(this,"expirations",new Map),Ts(this,"events",new wc.EventEmitter),Ts(this,"name",z1e),Ts(this,"version",W1e),Ts(this,"cached",[]),Ts(this,"initialized",!1),Ts(this,"storagePrefix",Au),Ts(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ts(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Ts(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Ka.created,{target:s,expiration:o})}),Ts(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),Ts(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Ka.deleted,{target:i,expiration:s})}}),Ts(this,"on",(r,i)=>{this.events.on(r,i)}),Ts(this,"once",(r,i)=>{this.events.once(r,i)}),Ts(this,"off",(r,i)=>{this.events.off(r,i)}),Ts(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Bs(n,this.name)}get context(){return Zo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Cye(e);if(typeof e=="number")return xye(e);const{message:n}=tt("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ka.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=tt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=tt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;rt.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Ka.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Bg.pulse,()=>this.checkExpirations()),this.events.on(Ka.created,e=>{const n=Ka.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Ka.expired,e=>{const n=Ka.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Ka.deleted,e=>{const n=Ka.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=tt("NOT_INITIALIZED",this.name);throw new Error(e)}}}var zxe=Object.defineProperty,Wxe=(t,e,n)=>e in t?zxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yi=(t,e,n)=>Wxe(t,typeof e!="symbol"?e+"":e,n);class Hxe extends a0e{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,yi(this,"name",H1e),yi(this,"abortController"),yi(this,"isDevEnv"),yi(this,"verifyUrlV3",q1e),yi(this,"storagePrefix",Au),yi(this,"version",Oq),yi(this,"publicKey"),yi(this,"fetchPromise"),yi(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&rt.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),yi(this,"register",async i=>{if(!Ab()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const u=Wd.getDocument(),f=this.startAbortTimer(rt.ONE_SECOND*5),h=await new Promise((p,g)=>{const w=()=>{window.removeEventListener("message",b),u.body.removeChild(y),g("attestation aborted")};this.abortController.signal.addEventListener("abort",w);const y=u.createElement("iframe");y.src=c,y.style.display="none",y.addEventListener("error",w,{signal:this.abortController.signal});const b=C=>{if(C.data&&typeof C.data=="string")try{const x=JSON.parse(C.data);if(x.type==="verify_attestation"){if(a4(x.attestation).payload.id!==o)return;clearInterval(f),u.body.removeChild(y),this.abortController.signal.removeEventListener("abort",w),window.removeEventListener("message",b),p(x.attestation===null?"":x.attestation)}}catch(x){this.logger.warn(x)}};u.body.appendChild(y),window.addEventListener("message",b,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(u){this.logger.warn(u)}return""}),yi(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(a4(s).payload.id!==a)return;const u=await this.isValidJwtAttestation(s);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)}),yi(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(rt.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),yi(this,"getVerifyUrl",i=>{let s=i||w1;return G1e.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${w1}`),s=w1),s}),yi(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(rt.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),yi(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),yi(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),yi(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),yi(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),yi(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),yi(this,"validateAttestation",(i,s)=>{const o=gve(i,s.publicKey),a={hasExpired:rt.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Bs(n,this.name),this.abortController=new AbortController,this.isDevEnv=WR(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Zo(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),rt.toMiliseconds(e))}}var Vxe=Object.defineProperty,qxe=(t,e,n)=>e in t?Vxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,NM=(t,e,n)=>qxe(t,typeof e!="symbol"?e+"":e,n);class Gxe extends c0e{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,NM(this,"context",K1e),NM(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${Y1e}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Bs(n,this.context)}}var Kxe=Object.defineProperty,PM=Object.getOwnPropertySymbols,Yxe=Object.prototype.hasOwnProperty,Qxe=Object.prototype.propertyIsEnumerable,q4=(t,e,n)=>e in t?Kxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Uv=(t,e)=>{for(var n in e||(e={}))Yxe.call(e,n)&&q4(t,n,e[n]);if(PM)for(var n of PM(e))Qxe.call(e,n)&&q4(t,n,e[n]);return t},ji=(t,e,n)=>q4(t,typeof e!="symbol"?e+"":e,n);class Zxe extends l0e{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,ji(this,"context",Z1e),ji(this,"storagePrefix",Au),ji(this,"storageVersion",Q1e),ji(this,"events",new Map),ji(this,"shouldPersist",!1),ji(this,"init",async()=>{if(!WR())try{const i={eventId:vL(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:MV(this.core.relayer.protocol,this.core.relayer.version,B4)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),ji(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,u=vL(),f=this.core.projectId||"",h=Date.now(),p=Uv({eventId:u,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:f,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,p),this.shouldPersist=!0),p}),ji(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Uv(Uv({},a),this.setMethods(a.eventId))}),ji(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),ji(this,"setEventListeners",()=>{this.core.heartbeat.on(Bg.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{rt.fromMiliseconds(Date.now())-rt.fromMiliseconds(i.timestamp)>J1e&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),ji(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),ji(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),ji(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),ji(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),ji(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Uv(Uv({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),ji(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),ji(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${X1e}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${B4}${s}`,{method:"POST",body:JSON.stringify(i)})}),ji(this,"getAppDomain",()=>LV().url),this.logger=Bs(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Jxe=Object.defineProperty,kM=Object.getOwnPropertySymbols,Xxe=Object.prototype.hasOwnProperty,eEe=Object.prototype.propertyIsEnumerable,G4=(t,e,n)=>e in t?Jxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,RM=(t,e)=>{for(var n in e||(e={}))Xxe.call(e,n)&&G4(t,n,e[n]);if(kM)for(var n of kM(e))eEe.call(e,n)&&G4(t,n,e[n]);return t},Rr=(t,e,n)=>G4(t,typeof e!="symbol"?e+"":e,n);let tEe=class Kq extends Qge{constructor(e){var n;super(e),Rr(this,"protocol",Rq),Rr(this,"version",Oq),Rr(this,"name",M4),Rr(this,"relayUrl"),Rr(this,"projectId"),Rr(this,"customStoragePrefix"),Rr(this,"events",new wc.EventEmitter),Rr(this,"logger"),Rr(this,"heartbeat"),Rr(this,"relayer"),Rr(this,"crypto"),Rr(this,"storage"),Rr(this,"history"),Rr(this,"expirer"),Rr(this,"pairing"),Rr(this,"verify"),Rr(this,"echoClient"),Rr(this,"linkModeSupportedApps"),Rr(this,"eventClient"),Rr(this,"initialized",!1),Rr(this,"logChunkController"),Rr(this,"on",(a,c)=>this.events.on(a,c)),Rr(this,"once",(a,c)=>this.events.once(a,c)),Rr(this,"off",(a,c)=>this.events.off(a,c)),Rr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Rr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:u})=>{if(!a||!c)return;const f={topic:a,message:c,publishedAt:Date.now(),transportType:Ur.link_mode};this.relayer.onLinkMessageEvent(f,{sessionExists:u})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Dq,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=bb({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:v1e.logger,name:M4}),{logger:s,chunkLoggerController:o}=PR({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Bs(s,this.name),this.heartbeat=new bae,this.crypto=new ICe(this,this.logger,e==null?void 0:e.keychain),this.history=new Bxe(this,this.logger),this.expirer=new jxe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Gge(RM(RM({},C1e),e==null?void 0:e.storageOptions)),this.relayer=new txe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Dxe(this,this.logger),this.verify=new Hxe(this,this.logger,this.storage),this.echoClient=new Gxe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Zxe(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new Kq(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(D1e,r),n}get context(){return Zo(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(uM,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(uM)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&b1e.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const nEe=tEe,Yq="wc",Qq=2,Zq="client",r8=`${Yq}@${Qq}:${Zq}:`,J6={name:Zq,logger:"error"},OM="WALLETCONNECT_DEEPLINK_CHOICE",rEe="proposal",$M="Proposal expired",iEe="session",U0=rt.SEVEN_DAYS,sEe="engine",is={wc_sessionPropose:{req:{ttl:rt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:rt.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:rt.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:rt.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:rt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:rt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:rt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:rt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:rt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:rt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:rt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:rt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:rt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:rt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:rt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:rt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:rt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:rt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:rt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:rt.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:rt.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:rt.FIVE_MINUTES,prompt:!1,tag:1119}}},X6={min:rt.FIVE_MINUTES,max:rt.SEVEN_DAYS},jl={idle:"IDLE",active:"ACTIVE"},oEe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},aEe="request",cEe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],lEe="wc",uEe="auth",dEe="authKeys",fEe="pairingTopics",hEe="requests",ES=`${lEe}@${1.5}:${uEe}:`,LA=`${ES}:PUB_KEY`;var pEe=Object.defineProperty,mEe=Object.defineProperties,gEe=Object.getOwnPropertyDescriptors,DM=Object.getOwnPropertySymbols,yEe=Object.prototype.hasOwnProperty,wEe=Object.prototype.propertyIsEnumerable,K4=(t,e,n)=>e in t?pEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hr=(t,e)=>{for(var n in e||(e={}))yEe.call(e,n)&&K4(t,n,e[n]);if(DM)for(var n of DM(e))wEe.call(e,n)&&K4(t,n,e[n]);return t},Is=(t,e)=>mEe(t,gEe(e)),ze=(t,e,n)=>K4(t,typeof e!="symbol"?e+"":e,n);class bEe extends h0e{constructor(e){super(e),ze(this,"name",sEe),ze(this,"events",new IR),ze(this,"initialized",!1),ze(this,"requestQueue",{state:jl.idle,queue:[]}),ze(this,"sessionRequestQueue",{state:jl.idle,queue:[]}),ze(this,"emittedSessionRequests",new kye({limit:500})),ze(this,"requestQueueDelay",rt.ONE_SECOND),ze(this,"expectedPairingMethodMap",new Map),ze(this,"recentlyDeletedMap",new Map),ze(this,"recentlyDeletedLimit",200),ze(this,"relayMessageCache",[]),ze(this,"pendingSessions",new Map),ze(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(is)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},rt.toMiliseconds(this.requestQueueDelay)))}),ze(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Is(hr({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=Rve(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:u}=r;let f=i,h,p=!1;try{if(f){const T=this.client.core.pairing.pairings.get(f);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),p=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${f}) failed`),T}if(!f||!p){const{topic:T,uri:R}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});f=T,h=R}if(!f){const{message:T}=tt("NO_MATCHING_KEY",`connect() pairing topic: ${f}`);throw new Error(T)}const g=await this.client.core.crypto.generateKeyPair(),w=is.wc_sessionPropose.req.ttl||rt.FIVE_MINUTES,y=Ni(w),b=Is(hr(hr({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:$q}],proposer:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:y,pairingTopic:f},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Vl()}),C=or("session_connect",b.id),{reject:x,resolve:E,done:I}=Gp(w,$M),S=({id:T})=>{T===b.id&&(this.client.events.off("proposal_expire",S),this.pendingSessions.delete(b.id),this.events.emit(C,{error:{message:$M,code:0}}))};return this.client.events.on("proposal_expire",S),this.events.once(C,({error:T,session:R})=>{this.client.events.off("proposal_expire",S),T?x(T):R&&E(R)}),await this.sendProposeSession({proposal:b,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:b.id}}}),await this.setProposal(b.id,b),{uri:h,approval:I}}),ze(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ze(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Vf.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(k){throw o.setError(Lv.no_internet_connection),k}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(k){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(Lv.proposal_not_found),k}try{await this.isValidApprove(n)}catch(k){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Lv.session_approve_namespace_validation_failure),k}const{id:a,relayProtocol:c,namespaces:u,sessionProperties:f,scopedProperties:h,sessionConfig:p}=n,g=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:w,proposer:y,requiredNamespaces:b,optionalNamespaces:C}=g;let x=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:w});x||(x=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Vf.session_approve_started,properties:{topic:w,trace:[Vf.session_approve_started,Vf.session_namespaces_validation_success]}}));const E=await this.client.core.crypto.generateKeyPair(),I=y.publicKey,S=await this.client.core.crypto.generateSharedKey(E,I),T=hr(hr(hr({relay:{protocol:c??"irn"},namespaces:u,controller:{publicKey:E,metadata:this.client.metadata},expiry:Ni(U0)},f&&{sessionProperties:f}),h&&{scopedProperties:h}),p&&{sessionConfig:p}),R=Ur.relay;x.addTrace(Vf.subscribing_session_topic);try{await this.client.core.relayer.subscribe(S,{transportType:R,internal:{skipSubscribe:!0}})}catch(k){throw x.setError(Lv.subscribe_session_topic_failure),k}x.addTrace(Vf.subscribe_session_topic_success);const O=Is(hr({},T),{topic:S,requiredNamespaces:b,optionalNamespaces:C,pairingTopic:w,acknowledged:!1,self:T.controller,peer:{publicKey:y.publicKey,metadata:y.metadata},controller:E,transportType:Ur.relay});await this.client.session.set(S,O),x.addTrace(Vf.store_session);try{await this.sendApproveSession({sessionTopic:S,proposal:g,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:E},sessionSettleRequest:T,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),x.addTrace(Vf.session_approve_publish_success)}catch(k){throw this.client.logger.error(k),this.client.session.delete(S,Gr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(S),k}return this.client.core.eventClient.deleteEvent({eventId:x.eventId}),await this.client.core.pairing.updateMetadata({topic:w,metadata:y.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:w}),await this.setExpiry(S,Ni(U0)),{topic:S,acknowledged:()=>Promise.resolve(this.client.session.get(S))}}),ze(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:is.wc_sessionPropose.reject}),await this.deleteProposal(r)}),ze(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=Gp(),c=Vl(),u=Mh().toString(),f=this.client.session.get(r).namespaces;return this.events.once(or("session_update",c),({error:h})=>{h?a(h):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:u}).catch(h=>{this.client.logger.error(h),this.client.session.update(r,{namespaces:f}),a(h)}),{acknowledged:s}}),ze(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=Vl(),{done:s,resolve:o,reject:a}=Gp();return this.events.once(or("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,Ni(U0)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),ze(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(b){throw this.client.logger.error("request() -> isValidRequest() failed"),b}const{chainId:r,request:i,topic:s,expiry:o=is.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);(a==null?void 0:a.transportType)===Ur.relay&&await this.confirmOnlineStateOrThrow();const c=Vl(),u=Mh().toString(),{done:f,resolve:h,reject:p}=Gp(o,"Request expired. Please try again.");this.events.once(or("session_request",c),({error:b,result:C})=>{b?p(b):h(C)});const g="wc_sessionRequest",w=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(w)return await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:s,method:g,params:{request:Is(hr({},i),{expiryTimestamp:Ni(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:w}).catch(b=>p(b)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await f();const y={request:Is(hr({},i),{expiryTimestamp:Ni(o)}),chainId:r};return await Promise.all([new Promise(async b=>{await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:s,method:g,params:y,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,y)}).catch(C=>p(C)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),b()}),new Promise(async b=>{var C;if(!((C=a.sessionConfig)!=null&&C.disableDeepLink)){const x=await _ye(this.client.core.storage,OM);await Eye({id:c,topic:s,wcDeepLink:x})}b()}),f()]).then(b=>b[2])}),ze(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===Ur.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);ql(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):rc(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),ze(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Vl(),s=Mh().toString(),{done:o,resolve:a,reject:c}=Gp();this.events.once(or("session_ping",i),({error:u})=>{u?c(u):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ze(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=Mh().toString(),a=Vl();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ze(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Gr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=tt("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),ze(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>Dve(r,n)))),ze(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ze(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Ur.link_mode:Ur.relay;o===Ur.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:u,domain:f,nonce:h,type:p,exp:g,nbf:w,methods:y=[],expiry:b}=n,C=[...n.resources||[]],{topic:x,uri:E}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:x,uri:E}});const I=await this.client.core.crypto.generateKeyPair(),S=$A(I);if(await Promise.all([this.client.auth.authKeys.set(LA,{responseTopic:S,publicKey:I}),this.client.auth.pairingTopics.set(S,{topic:S,pairingTopic:x})]),await this.client.core.relayer.subscribe(S,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${x}`),y.length>0){const{namespace:Y}=Qm(a[0]);let K=zwe(Y,"request",y);OA(C)&&(K=Hwe(K,C.pop())),C.push(K)}const T=b&&b>is.wc_sessionAuthenticate.req.ttl?b:is.wc_sessionAuthenticate.req.ttl,R={authPayload:{type:p??"caip122",chains:a,statement:c,aud:u,domain:f,version:"1",nonce:h,iat:new Date().toISOString(),exp:g,nbf:w,resources:C},requester:{publicKey:I,metadata:this.client.metadata},expiryTimestamp:Ni(T)},O={eip155:{chains:a,methods:[...new Set(["personal_sign",...y])],events:["chainChanged","accountsChanged"]}},k={requiredNamespaces:{},optionalNamespaces:O,relays:[{protocol:"irn"}],pairingTopic:x,proposer:{publicKey:I,metadata:this.client.metadata},expiryTimestamp:Ni(is.wc_sessionPropose.req.ttl),id:Vl()},{done:M,resolve:L,reject:j}=Gp(T,"Request expired"),Q=Vl(),J=or("session_connect",k.id),$=or("session_request",Q),D=async({error:Y,session:K})=>{this.events.off($,H),Y?j(Y):K&&L({session:K})},H=async Y=>{var K,q,V;if(await this.deletePendingAuthRequest(Q,{message:"fulfilled",code:0}),Y.error){const ke=Gr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return Y.error.code===ke.code?void 0:(this.events.off(J,D),j(Y.error.message))}await this.deleteProposal(k.id),this.events.off(J,D);const{cacaos:ue,responder:le}=Y.result,ge=[],ve=[];for(const ke of ue){await kL({cacao:ke,projectId:this.client.core.projectId})||(this.client.logger.error(ke,"Signature verification failed"),j(Gr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:it}=ke,Xt=OA(it.resources),dn=[_4(it.iss)],hn=O3(it.iss);if(Xt){const rr=RL(Xt),st=OL(Xt);ge.push(...rr),dn.push(...st)}for(const rr of dn)ve.push(`${rr}:${hn}`)}const Pe=await this.client.core.crypto.generateSharedKey(I,le.publicKey);let Ie;ge.length>0&&(Ie={topic:Pe,acknowledged:!0,self:{publicKey:I,metadata:this.client.metadata},peer:le,controller:le.publicKey,expiry:Ni(U0),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:x,namespaces:rM([...new Set(ge)],[...new Set(ve)]),transportType:o},await this.client.core.relayer.subscribe(Pe,{transportType:o}),await this.client.session.set(Pe,Ie),x&&await this.client.core.pairing.updateMetadata({topic:x,metadata:le.metadata}),Ie=this.client.session.get(Pe)),(K=this.client.metadata.redirect)!=null&&K.linkMode&&(q=le.metadata.redirect)!=null&&q.linkMode&&(V=le.metadata.redirect)!=null&&V.universal&&r&&(this.client.core.addLinkModeSupportedApp(le.metadata.redirect.universal),this.client.session.update(Pe,{transportType:Ur.link_mode})),L({auths:ue,session:Ie})};this.events.once(J,D),this.events.once($,H);let z;try{if(s){const Y=au("wc_sessionAuthenticate",R,Q);this.client.core.history.set(x,Y);const K=await this.client.core.crypto.encode("",Y,{type:XC,encoding:uh});z=JE(r,x,K)}else await Promise.all([this.sendRequest({topic:x,method:"wc_sessionAuthenticate",params:R,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:Q}),this.sendRequest({topic:x,method:"wc_sessionPropose",params:k,expiry:is.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:k.id})])}catch(Y){throw this.events.off(J,D),this.events.off($,H),Y}return await this.setProposal(k.id,k),await this.setAuthRequest(Q,{request:Is(hr({},R),{verifyContext:{}}),pairingTopic:x,transportType:o}),{uri:z??E,response:M}}),ze(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[zp.authenticated_session_approve_started]}});try{this.isInitialized()}catch(b){throw s.setError(Mv.no_internet_connection),b}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(Mv.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Ur.relay;a===Ur.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),f=$A(c),h={type:$d,receiverPublicKey:c,senderPublicKey:u},p=[],g=[];for(const b of i){if(!await kL({cacao:b,projectId:this.client.core.projectId})){s.setError(Mv.invalid_cacao);const S=Gr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:f,error:S,encodeOpts:h}),new Error(S.message)}s.addTrace(zp.cacaos_verified);const{p:C}=b,x=OA(C.resources),E=[_4(C.iss)],I=O3(C.iss);if(x){const S=RL(x),T=OL(x);p.push(...S),E.push(...T)}for(const S of E)g.push(`${S}:${I}`)}const w=await this.client.core.crypto.generateSharedKey(u,c);s.addTrace(zp.create_authenticated_session_topic);let y;if((p==null?void 0:p.length)>0){y={topic:w,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Ni(U0),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:rM([...new Set(p)],[...new Set(g)]),transportType:a},s.addTrace(zp.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:a})}catch(b){throw s.setError(Mv.subscribe_authenticated_session_topic_failure),b}s.addTrace(zp.subscribe_authenticated_session_topic_success),await this.client.session.set(w,y),s.addTrace(zp.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(zp.publishing_authenticated_session_approve);try{await this.sendResult({topic:f,id:r,result:{cacaos:i,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(b){throw s.setError(Mv.authenticated_session_approve_publish_failure),b}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:y}}),ze(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Ur.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=$A(o),u={type:$d,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:u,rpcOpts:is.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),ze(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return eq(r,i)}),ze(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ze(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ze(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Gr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(OM).catch(u=>this.client.logger.warn(u)),this.getPendingSessionRequests().forEach(u=>{u.topic===i&&this.deletePendingSessionRequest(u.id,Gr("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=jl.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),ze(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Lv.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Gr("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ze(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=jl.idle,this.client.events.emit("session_request_expire",{id:n}))}),ze(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),ze(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ze(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Ni(is.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ze(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=Ur.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),ze(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||Ni(is.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),ze(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:u,appLink:f,tvf:h,publishOpts:p={}}=n,g=au(i,s,c);let w;const y=!!f;try{const x=y?uh:Lo;w=await this.client.core.crypto.encode(r,g,{encoding:x})}catch(x){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),x}let b;if(cEe.includes(i)){const x=ic(JSON.stringify(g)),E=ic(w);b=await this.client.core.verify.register({id:E,decryptedId:x})}const C=hr(hr({},is[i].req),p);if(C.attestation=b,o&&(C.ttl=o),a&&(C.id=a),this.client.core.history.set(r,g),y){const x=JE(f,r,w);await global.Linking.openURL(x,this.client.name)}else C.tvf=Is(hr({},h),{correlationId:g.id}),u?(C.internal=Is(hr({},C.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,w,C)):this.client.core.relayer.publish(r,w,C).catch(x=>this.client.logger.error(x));return g.id}),ze(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=au("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const o=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:Lo}),a=ic(JSON.stringify(s)),c=ic(o),u=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:o},opts:Is(hr({},i),{publishMethod:"wc_proposeSession",attestation:u})})}),ze(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=n,c=i2(s.id,i),u=await this.client.core.crypto.encode(s.pairingTopic,c,{encoding:Lo}),f=au("wc_sessionSettle",o,a==null?void 0:a.id),h=await this.client.core.crypto.encode(r,f,{encoding:Lo});this.client.core.history.set(r,f),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:u,sessionSettlementRequest:h},opts:Is(hr({},a),{publishMethod:"wc_approveSession"})})}),ze(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,u=i2(r,s);let f;const h=c&&typeof(global==null?void 0:global.Linking)<"u";try{const w=h?uh:Lo;f=await this.client.core.crypto.encode(i,u,Is(hr({},a||{}),{encoding:w}))}catch(w){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),w}let p,g;try{p=await this.client.core.history.get(i,r);const w=p.request;try{g=this.getTVFParams(r,w.params,s)}catch(y){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${y==null?void 0:y.message}`)}}catch(w){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),w}if(h){const w=JE(c,i,f);await global.Linking.openURL(w,this.client.name)}else{const w=p.request.method,y=is[w].res;y.tvf=Is(hr({},g),{correlationId:r}),o?(y.internal=Is(hr({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,f,y)):this.client.core.relayer.publish(i,f,y).catch(b=>this.client.logger.error(b))}await this.client.core.history.resolve(u)}),ze(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,u=lS(r,s);let f;const h=c&&typeof(global==null?void 0:global.Linking)<"u";try{const g=h?uh:Lo;f=await this.client.core.crypto.encode(i,u,Is(hr({},o||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),g}let p;try{p=await this.client.core.history.get(i,r)}catch(g){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),g}if(h){const g=JE(c,i,f);await global.Linking.openURL(g,this.client.name)}else{const g=p.request.method,w=a||is[g].res;this.client.core.relayer.publish(i,f,w)}await this.client.core.history.resolve(u)}),ze(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;th(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{th(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),ze(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ze(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ze(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===jl.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=jl.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=jl.idle}),ze(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ze(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ze(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=tt("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ze(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ze(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const u=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),u==null||u.setError(rd.proposal_listener_not_found)),this.isValidConnect(hr({},i.params));const f=a.expiryTimestamp||Ni(is.wc_sessionPropose.req.ttl),h=hr({id:c,pairingTopic:r,expiryTimestamp:f,attestation:s,encryptedId:o},a);await this.setProposal(c,h);const p=await this.getVerifyContext({attestationId:s,hash:ic(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});u==null||u.addTrace(Hl.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:h,verifyContext:p})}catch(u){await this.sendError({id:c,topic:r,error:u,rpcOpts:is.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),ze(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(ql(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const u=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const f=await this.client.core.crypto.generateSharedKey(c,u);this.pendingSessions.set(s,{sessionTopic:f,pairingTopic:n,proposalId:s,publicKey:c});const h=await this.client.core.relayer.subscribe(f,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:n})}else if(rc(r)){await this.deleteProposal(s);const o=or("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),ze(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:u,sessionProperties:f,scopedProperties:h,sessionConfig:p}=r.params,g=[...this.pendingSessions.values()].find(b=>b.sessionTopic===n);if(!g)return this.client.logger.error(`Pending session not found for topic ${n}`);const w=this.client.proposal.get(g.proposalId),y=Is(hr(hr(hr({topic:n,relay:o,expiry:c,namespaces:u,acknowledged:!0,pairingTopic:g.pairingTopic,requiredNamespaces:w.requiredNamespaces,optionalNamespaces:w.optionalNamespaces,controller:a.publicKey,self:{publicKey:g.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},f&&{sessionProperties:f}),h&&{scopedProperties:h}),p&&{sessionConfig:p}),{transportType:Ur.relay});await this.client.session.set(y.topic,y),await this.setExpiry(y.topic,y.expiry),await this.client.core.pairing.updateMetadata({topic:g.pairingTopic,metadata:y.peer.metadata}),this.client.events.emit("session_connect",{session:y}),this.events.emit(or("session_connect",g.proposalId),{session:y}),this.pendingSessions.delete(g.proposalId),this.deleteProposal(g.proposalId,!1),this.cleanupDuplicatePairings(y),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ze(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;ql(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(or("session_approve",i),{})):rc(r)&&(await this.client.session.delete(n,Gr("USER_DISCONNECTED")),this.events.emit(or("session_approve",i),{error:r.error}))}),ze(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=$v.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Gr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(hr({topic:n},i));try{$v.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(c){throw $v.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),ze(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ze(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=or("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ql(r)?this.events.emit(or("session_update",i),{}):rc(r)&&this.events.emit(or("session_update",i),{error:r.error})}),ze(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Ni(U0)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ze(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=or("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ql(r)?this.events.emit(or("session_extend",i),{}):rc(r)&&this.events.emit(or("session_extend",i),{error:r.error})}),ze(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ze(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=or("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);ql(r)?this.events.emit(or("session_ping",i),{}):rc(r)&&this.events.emit(or("session_ping",i),{error:r.error})},500)}),ze(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(ci.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Gr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ze(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:u,transportType:f}=n,{id:h,params:p}=a;try{await this.isValidRequest(hr({topic:o},p));const g=this.client.session.get(o),w=await this.getVerifyContext({attestationId:c,hash:ic(JSON.stringify(au("wc_sessionRequest",p,h))),encryptedId:u,metadata:g.peer.metadata,transportType:f}),y={id:h,topic:o,params:p,verifyContext:w};await this.setPendingSessionRequest(y),f===Ur.link_mode&&(r=g.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=g.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(y):(this.addSessionRequestToSessionRequestQueue(y),this.processSessionRequestQueue())}catch(g){await this.sendError({id:h,topic:o,error:g}),this.client.logger.error(g)}}),ze(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=or("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ql(r)?this.events.emit(or("session_request",i),{result:r.result}):rc(r)&&this.events.emit(or("session_request",i),{error:r.error})}),ze(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=$v.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(hr({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),$v.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ze(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),ql(r)?this.events.emit(or("session_request",i),{result:r.result}):rc(r)&&this.events.emit(or("session_request",i),{error:r.error})}),ze(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:u,authPayload:f,expiryTimestamp:h}=s.params,p=await this.getVerifyContext({attestationId:o,hash:ic(JSON.stringify(s)),encryptedId:a,metadata:u.metadata,transportType:c}),g={requester:u,pairingTopic:i,id:s.id,authPayload:f,verifyContext:p,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:g,pairingTopic:i,transportType:c}),c===Ur.link_mode&&(r=u.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:p})}catch(u){this.client.logger.error(u);const f=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),p=this.getAppLinkIfEnabled(s.params.requester.metadata,c),g={type:$d,receiverPublicKey:f,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:u,encodeOpts:g,rpcOpts:is.wc_sessionAuthenticate.autoReject,appLink:p})}}),ze(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ze(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=jl.idle,this.processSessionRequestQueue()},rt.toMiliseconds(this.requestQueueDelay))}),ze(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=or("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(or("session_request",s.request.id),{error:r})})}),ze(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===jl.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ze(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=jl.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),ze(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:au("wc_sessionPropose",Is(hr({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),ze(this,"isValidConnect",async n=>{if(!No(n)){const{message:u}=tt("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(u)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(ki(r)||await this.isValidPairingTopic(r),!Gve(c)){const{message:u}=tt("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(u)}if(!ki(i)&&wu(i)!==0){const u="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(u):this.client.logger.warn(u),this.validateNamespaces(i,"requiredNamespaces")}if(!ki(s)&&wu(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),ki(o)||this.validateSessionProps(o,"sessionProperties"),!ki(a)){this.validateSessionProps(a,"scopedProperties");const u=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(f=>u.includes(f.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),ze(this,"validateNamespaces",(n,r)=>{const i=qve(n,"connect()",r);if(i)throw new Error(i.message)}),ze(this,"isValidApprove",async n=>{if(!No(n))throw new Error(tt("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),u=G6(i,"approve()");if(u)throw new Error(u.message);const f=oM(c.requiredNamespaces,i,"approve()");if(f)throw new Error(f.message);if(!bi(s,!0)){const{message:h}=tt("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}if(ki(o)||this.validateSessionProps(o,"sessionProperties"),!ki(a)){this.validateSessionProps(a,"scopedProperties");const h=new Set(Object.keys(i));if(!Object.keys(a).every(p=>h.has(p.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),ze(this,"isValidReject",async n=>{if(!No(n)){const{message:s}=tt("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Yve(i)){const{message:s}=tt("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ze(this,"isValidSessionSettleRequest",n=>{if(!No(n)){const{message:u}=tt("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(u)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!kq(r)){const{message:u}=tt("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const a=Fve(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=G6(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(th(o)){const{message:u}=tt("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),ze(this,"isValidUpdate",async n=>{if(!No(n)){const{message:c}=tt("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=G6(i,"update()");if(o)throw new Error(o.message);const a=oM(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),ze(this,"isValidExtend",async n=>{if(!No(n)){const{message:i}=tt("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ze(this,"isValidRequest",async n=>{if(!No(n)){const{message:c}=tt("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!sM(a,s)){const{message:c}=tt("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!Qve(i)){const{message:c}=tt("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!Xve(a,s,i.method)){const{message:c}=tt("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!r1e(o,X6)){const{message:c}=tt("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${X6.min} and ${X6.max}`);throw new Error(c)}}),ze(this,"isValidRespond",async n=>{var r;if(!No(n)){const{message:o}=tt("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Zve(s)){const{message:o}=tt("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),ze(this,"isValidPing",async n=>{if(!No(n)){const{message:i}=tt("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ze(this,"isValidEmit",async n=>{if(!No(n)){const{message:a}=tt("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!sM(o,s)){const{message:a}=tt("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!Jve(i)){const{message:a}=tt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!e1e(o,s,i.name)){const{message:a}=tt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),ze(this,"isValidDisconnect",async n=>{if(!No(n)){const{message:i}=tt("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ze(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!bi(i,!1))throw new Error("uri is required parameter");if(!bi(s,!1))throw new Error("domain is required parameter");if(!bi(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Qm(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Qm(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ze(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||w1,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Ur.link_mode){const f=this.getAppLinkIfEnabled(o,a);return c.verified.validation=f&&new URL(f).origin===new URL(o.url).origin?"VALID":"INVALID",c}const u=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});u&&(c.verified.origin=u.origin,c.verified.isScam=u.isScam,c.verified.validation=u.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ze(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=tt("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),ze(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ze(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),ze(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=tt("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),ze(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,u,f,h,p;return!n||r!==Ur.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==""&&((f=n==null?void 0:n.redirect)==null?void 0:f.universal)!==void 0&&((h=n==null?void 0:n.redirect)==null?void 0:h.universal)!==""&&((p=n==null?void 0:n.redirect)==null?void 0:p.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ze(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),ze(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=bL(n,"topic")||"",i=decodeURIComponent(bL(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Ur.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),ze(this,"registerLinkModeListeners",async()=>{var n;if(WR()||pp()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ze(this,"getTVFParams",(n,r,i)=>{var s,o,a;if(!((s=r.request)!=null&&s.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const u=this.extractTxHashesFromResult(r.request,i);c.txHashes=u,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(u){this.client.logger.warn("Error getting TVF params",u)}return c}),ze(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ze(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,o=oEe[s];if(s==="sui_signTransaction")return[_we(r.transactionBytes)];if(s==="near_signTransaction")return[TL(r)];if(s==="near_signTransactions")return r.map(c=>TL(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[w1e({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return Dd(r)?r.map(c=>IL(c)):[IL(r)];if(s==="cosmos_signDirect")return[Iwe(r)];if(typeof r=="string")return[r];const a=r[o.key];if(Dd(a))return s==="solana_signAllTransactions"?a.map(c=>Swe(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=tt("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(ci.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(LA)?this.client.auth.authKeys.get(LA):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===Ur.link_mode?uh:Lo});jR(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:ic(r)})):uS(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Ka.expired,async e=>{const{topic:n,id:r}=UV(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,tt("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,tt("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Zp.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Zp.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!bi(e,!1)){const{message:n}=tt("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=tt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(th(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=tt("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!bi(e,!1)){const{message:n}=tt("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=tt("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(th(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=tt("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=tt("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(bi(e,!1)){const{message:n}=tt("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=tt("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!Kve(e)){const{message:n}=tt("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=tt("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(th(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=tt("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class vEe extends Fg{constructor(e,n){super(e,n,rEe,r8),this.core=e,this.logger=n}}let CEe=class extends Fg{constructor(e,n){super(e,n,iEe,r8),this.core=e,this.logger=n}};class xEe extends Fg{constructor(e,n){super(e,n,aEe,r8,r=>r.id),this.core=e,this.logger=n}}class EEe extends Fg{constructor(e,n){super(e,n,dEe,ES,()=>LA),this.core=e,this.logger=n}}class AEe extends Fg{constructor(e,n){super(e,n,fEe,ES),this.core=e,this.logger=n}}class SEe extends Fg{constructor(e,n){super(e,n,hEe,ES,r=>r.id),this.core=e,this.logger=n}}var _Ee=Object.defineProperty,TEe=(t,e,n)=>e in t?_Ee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eI=(t,e,n)=>TEe(t,typeof e!="symbol"?e+"":e,n);class IEe{constructor(e,n){this.core=e,this.logger=n,eI(this,"authKeys"),eI(this,"pairingTopics"),eI(this,"requests"),this.authKeys=new EEe(this.core,this.logger),this.pairingTopics=new AEe(this.core,this.logger),this.requests=new SEe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var NEe=Object.defineProperty,PEe=(t,e,n)=>e in t?NEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pn=(t,e,n)=>PEe(t,typeof e!="symbol"?e+"":e,n);let kEe=class Jq extends f0e{constructor(e){super(e),Pn(this,"protocol",Yq),Pn(this,"version",Qq),Pn(this,"name",J6.name),Pn(this,"metadata"),Pn(this,"core"),Pn(this,"logger"),Pn(this,"events",new wc.EventEmitter),Pn(this,"engine"),Pn(this,"session"),Pn(this,"proposal"),Pn(this,"pendingRequest"),Pn(this,"auth"),Pn(this,"signConfig"),Pn(this,"on",(r,i)=>this.events.on(r,i)),Pn(this,"once",(r,i)=>this.events.once(r,i)),Pn(this,"off",(r,i)=>this.events.off(r,i)),Pn(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),Pn(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Pn(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),Pn(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),Pn(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),Pn(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),Pn(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),Pn(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),Pn(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),Pn(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),Pn(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),Pn(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),Pn(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),Pn(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),Pn(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Pn(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),Pn(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),Pn(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),Pn(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||J6.name,this.metadata=yye(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:VC(bb({level:(e==null?void 0:e.logger)||J6.logger}));this.core=(e==null?void 0:e.core)||new nEe(e),this.logger=Bs(n,this.name),this.session=new CEe(this.core,this.logger),this.proposal=new vEe(this.core,this.logger),this.pendingRequest=new xEe(this.core,this.logger),this.engine=new bEe(this),this.auth=new IEe(this.core,this.logger)}static async init(e){const n=new Jq(e);return await n.initialize(),n}get context(){return Zo(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const LM="error",REe="wss://relay.walletconnect.org",OEe="wc",$Ee="universal_provider",XE=`${OEe}@2:${$Ee}:`,Xq="https://rpc.walletconnect.org/v1/",eG="generic",DEe=`${Xq}bundler`,vc={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function i8(t){return t==null||typeof t!="object"&&typeof t!="function"}function tG(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function nG(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const LEe="[object RegExp]",rG="[object String]",iG="[object Number]",sG="[object Boolean]",oG="[object Arguments]",MEe="[object Symbol]",BEe="[object Date]",UEe="[object Map]",FEe="[object Set]",jEe="[object Array]",zEe="[object ArrayBuffer]",WEe="[object Object]",HEe="[object DataView]",VEe="[object Uint8Array]",qEe="[object Uint8ClampedArray]",GEe="[object Uint16Array]",KEe="[object Uint32Array]",YEe="[object Int8Array]",QEe="[object Int16Array]",ZEe="[object Int32Array]",JEe="[object Float32Array]",XEe="[object Float64Array]";function s8(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function eAe(t,e){return dy(t,void 0,t,new Map,e)}function dy(t,e,n,r=new Map,i=void 0){const s=i==null?void 0:i(t,e,n,r);if(s!=null)return s;if(i8(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=dy(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,dy(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(dy(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(s8(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=dy(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),Jp(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),Jp(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),Jp(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Jp(o,t,n,r,i),o}if(typeof t=="object"&&tAe(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),Jp(o,t,n,r,i),o}return t}function Jp(t,e,n=t,r,i){const s=[...Object.keys(e),...tG(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=dy(e[a],a,n,r,i))}}function tAe(t){switch(nG(t)){case oG:case jEe:case zEe:case HEe:case sG:case BEe:case JEe:case XEe:case YEe:case QEe:case ZEe:case UEe:case iG:case WEe:case LEe:case FEe:case rG:case MEe:case VEe:case qEe:case GEe:case KEe:return!0;default:return!1}}function nAe(t,e){return eAe(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case iG:case rG:case sG:{const o=new t.constructor(t==null?void 0:t.valueOf());return Jp(o,t),o}case oG:{const o={};return Jp(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function MM(t){return nAe(t)}function BM(t){return t!==null&&typeof t=="object"&&nG(t)==="[object Arguments]"}function UM(t){return typeof t=="object"&&t!==null}function rAe(){}function iAe(t){return s8(t)}function sAe(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function oAe(t){if(i8(t))return t;if(Array.isArray(t)||s8(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function aAe(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=Y4(i,o,r,new Map)}return i}function Y4(t,e,n,r){if(i8(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return oAe(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...tG(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(BM(a)&&(a={...a}),BM(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=MM(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const f=[],h=Reflect.ownKeys(c);for(let p=0;p<h.length;p++){const g=h[p];f[g]=c[g]}c=f}else c=[];const u=n(c,a,o,t,e,r);u!=null?t[o]=u:Array.isArray(a)||UM(c)&&UM(a)?t[o]=Y4(c,a,n,r):c==null&&sAe(a)?t[o]=Y4({},a,n,r):c==null&&iAe(a)?t[o]=MM(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function cAe(t,...e){return aAe(t,...e,rAe)}var lAe=Object.defineProperty,uAe=Object.defineProperties,dAe=Object.getOwnPropertyDescriptors,FM=Object.getOwnPropertySymbols,fAe=Object.prototype.hasOwnProperty,hAe=Object.prototype.propertyIsEnumerable,jM=(t,e,n)=>e in t?lAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eA=(t,e)=>{for(var n in e||(e={}))fAe.call(e,n)&&jM(t,n,e[n]);if(FM)for(var n of FM(e))hAe.call(e,n)&&jM(t,n,e[n]);return t},pAe=(t,e)=>uAe(t,dAe(e));function ba(t,e,n){var r;const i=Qm(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${Xq}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function jg(t){return t.includes(":")?t.split(":")[1]:t}function aG(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function mAe(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function zM(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n==null?void 0:n.chains)==null?void 0:r.length)&&((i=n==null?void 0:n.chains)==null?void 0:i.length)>0}))}function tA(t={},e={}){const n=zM(WM(t)),r=zM(WM(e));return cAe(n,r)}function WM(t){var e,n,r,i,s;const o={};if(!wu(t))return o;for(const[a,c]of Object.entries(t)){const u=CS(a)?[a]:c.chains,f=c.methods||[],h=c.events||[],p=c.rpcMap||{},g=uy(a);o[g]=pAe(eA(eA({},o[g]),c),{chains:yu(u,(e=o[g])==null?void 0:e.chains),methods:yu(f,(n=o[g])==null?void 0:n.methods),events:yu(h,(r=o[g])==null?void 0:r.events)}),(wu(p)||wu(((i=o[g])==null?void 0:i.rpcMap)||{}))&&(o[g].rpcMap=eA(eA({},p),(s=o[g])==null?void 0:s.rpcMap))}return o}function HM(t){return t.includes(":")?t.split(":")[2]:t}function VM(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=CS(n)?[n]:r.chains?r.chains:aG(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function tI(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const cG={},Qn=t=>cG[t],nI=(t,e)=>{cG[t]=e};var gAe=Object.defineProperty,qM=Object.getOwnPropertySymbols,yAe=Object.prototype.hasOwnProperty,wAe=Object.prototype.propertyIsEnumerable,GM=(t,e,n)=>e in t?gAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,KM=(t,e)=>{for(var n in e||(e={}))yAe.call(e,n)&&GM(t,n,e[n]);if(qM)for(var n of qM(e))wAe.call(e,n)&&GM(t,n,e[n]);return t};const YM="eip155",bAe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],vAe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,rI=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,QM=t=>Object.keys(t).filter(e=>bAe.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{}),CAe=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,s={};if(!wu(i)&&!wu(r))return;const o=QM(r);for(const a of n){const c=vAe(a);if(!c)continue;s[rI(c)]=o;const u=i==null?void 0:i[`${YM}:${c}`];if(u){const f=u==null?void 0:u[`${YM}:${c}:${e}`];s[rI(c)]=KM(KM({},s[rI(c)]),QM(f||u))}}for(const[a,c]of Object.entries(s))Object.keys(c).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var xAe=Object.defineProperty,EAe=(t,e,n)=>e in t?xAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F0=(t,e,n)=>EAe(t,typeof e!="symbol"?e+"":e,n);let AAe=class{constructor(e){F0(this,"name","polkadot"),F0(this,"client"),F0(this,"httpProviders"),F0(this,"events"),F0(this,"namespace"),F0(this,"chainId"),this.namespace=e.namespace,this.events=Qn("events"),this.client=Qn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(vc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=jg(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ba(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bc(new wl(r,Qn("disableProviderPing")))}};var SAe=Object.defineProperty,_Ae=Object.defineProperties,TAe=Object.getOwnPropertyDescriptors,ZM=Object.getOwnPropertySymbols,IAe=Object.prototype.hasOwnProperty,NAe=Object.prototype.propertyIsEnumerable,Q4=(t,e,n)=>e in t?SAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,JM=(t,e)=>{for(var n in e||(e={}))IAe.call(e,n)&&Q4(t,n,e[n]);if(ZM)for(var n of ZM(e))NAe.call(e,n)&&Q4(t,n,e[n]);return t},XM=(t,e)=>_Ae(t,TAe(e)),j0=(t,e,n)=>Q4(t,typeof e!="symbol"?e+"":e,n);class PAe{constructor(e){j0(this,"name","eip155"),j0(this,"client"),j0(this,"chainId"),j0(this,"namespace"),j0(this,"httpProviders"),j0(this,"events"),this.namespace=e.namespace,this.events=Qn("events"),this.client=Qn("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(vc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||ba(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bc(new wl(r,Qn("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(jg(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),f=((o=u==null?void 0:u.sessionProperties)==null?void 0:o.capabilities)||{},h=`${a}${c.join(",")}`,p=f==null?void 0:f[h];if(p)return p;let g;try{g=CAe(u,a,c)}catch(y){console.warn("Failed to extract capabilities from session",y)}if(g)return g;const w=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:XM(JM({},u.sessionProperties||{}),{capabilities:XM(JM({},f||{}),{[h]:w})})})}catch(y){console.warn("Failed to update session with capabilities",y)}return w}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(au("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${DEe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var kAe=Object.defineProperty,RAe=(t,e,n)=>e in t?kAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z0=(t,e,n)=>RAe(t,typeof e!="symbol"?e+"":e,n);class OAe{constructor(e){z0(this,"name","solana"),z0(this,"client"),z0(this,"httpProviders"),z0(this,"events"),z0(this,"namespace"),z0(this,"chainId"),this.namespace=e.namespace,this.events=Qn("events"),this.client=Qn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(vc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=jg(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ba(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bc(new wl(r,Qn("disableProviderPing")))}}var $Ae=Object.defineProperty,DAe=(t,e,n)=>e in t?$Ae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,W0=(t,e,n)=>DAe(t,typeof e!="symbol"?e+"":e,n);class LAe{constructor(e){W0(this,"name","cosmos"),W0(this,"client"),W0(this,"httpProviders"),W0(this,"events"),W0(this,"namespace"),W0(this,"chainId"),this.namespace=e.namespace,this.events=Qn("events"),this.client=Qn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(vc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=jg(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ba(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bc(new wl(r,Qn("disableProviderPing")))}}var MAe=Object.defineProperty,BAe=(t,e,n)=>e in t?MAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,H0=(t,e,n)=>BAe(t,typeof e!="symbol"?e+"":e,n);class UAe{constructor(e){H0(this,"name","algorand"),H0(this,"client"),H0(this,"httpProviders"),H0(this,"events"),H0(this,"namespace"),H0(this,"chainId"),this.namespace=e.namespace,this.events=Qn("events"),this.client=Qn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||ba(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(vc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ba(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new bc(new wl(r,Qn("disableProviderPing")))}}var FAe=Object.defineProperty,jAe=(t,e,n)=>e in t?FAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V0=(t,e,n)=>jAe(t,typeof e!="symbol"?e+"":e,n);class zAe{constructor(e){V0(this,"name","cip34"),V0(this,"client"),V0(this,"httpProviders"),V0(this,"events"),V0(this,"namespace"),V0(this,"chainId"),this.namespace=e.namespace,this.events=Qn("events"),this.client=Qn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(vc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=jg(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bc(new wl(r,Qn("disableProviderPing")))}}var WAe=Object.defineProperty,HAe=(t,e,n)=>e in t?WAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q0=(t,e,n)=>HAe(t,typeof e!="symbol"?e+"":e,n);class VAe{constructor(e){q0(this,"name","elrond"),q0(this,"client"),q0(this,"httpProviders"),q0(this,"events"),q0(this,"namespace"),q0(this,"chainId"),this.namespace=e.namespace,this.events=Qn("events"),this.client=Qn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(vc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=jg(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ba(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bc(new wl(r,Qn("disableProviderPing")))}}var qAe=Object.defineProperty,GAe=(t,e,n)=>e in t?qAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G0=(t,e,n)=>GAe(t,typeof e!="symbol"?e+"":e,n);class KAe{constructor(e){G0(this,"name","multiversx"),G0(this,"client"),G0(this,"httpProviders"),G0(this,"events"),G0(this,"namespace"),G0(this,"chainId"),this.namespace=e.namespace,this.events=Qn("events"),this.client=Qn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(vc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=jg(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ba(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bc(new wl(r,Qn("disableProviderPing")))}}var YAe=Object.defineProperty,QAe=(t,e,n)=>e in t?YAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,K0=(t,e,n)=>QAe(t,typeof e!="symbol"?e+"":e,n);class ZAe{constructor(e){K0(this,"name","near"),K0(this,"client"),K0(this,"httpProviders"),K0(this,"events"),K0(this,"namespace"),K0(this,"chainId"),this.namespace=e.namespace,this.events=Qn("events"),this.client=Qn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||ba(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(vc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ba(e,this.namespace);return typeof r>"u"?void 0:new bc(new wl(r,Qn("disableProviderPing")))}}var JAe=Object.defineProperty,XAe=(t,e,n)=>e in t?JAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Y0=(t,e,n)=>XAe(t,typeof e!="symbol"?e+"":e,n);class e3e{constructor(e){Y0(this,"name","tezos"),Y0(this,"client"),Y0(this,"httpProviders"),Y0(this,"events"),Y0(this,"namespace"),Y0(this,"chainId"),this.namespace=e.namespace,this.events=Qn("events"),this.client=Qn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||ba(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(vc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ba(e,this.namespace);return typeof r>"u"?void 0:new bc(new wl(r))}}var t3e=Object.defineProperty,n3e=(t,e,n)=>e in t?t3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q0=(t,e,n)=>n3e(t,typeof e!="symbol"?e+"":e,n);class r3e{constructor(e){Q0(this,"name",eG),Q0(this,"client"),Q0(this,"httpProviders"),Q0(this,"events"),Q0(this,"namespace"),Q0(this,"chainId"),this.namespace=e.namespace,this.events=Qn("events"),this.client=Qn("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(vc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Qm(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=Qm(i);r[s.reference]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ba(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bc(new wl(r,Qn("disableProviderPing")))}}var i3e=Object.defineProperty,s3e=Object.defineProperties,o3e=Object.getOwnPropertyDescriptors,eB=Object.getOwnPropertySymbols,a3e=Object.prototype.hasOwnProperty,c3e=Object.prototype.propertyIsEnumerable,Z4=(t,e,n)=>e in t?i3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nA=(t,e)=>{for(var n in e||(e={}))a3e.call(e,n)&&Z4(t,n,e[n]);if(eB)for(var n of eB(e))c3e.call(e,n)&&Z4(t,n,e[n]);return t},iI=(t,e)=>s3e(t,o3e(e)),Ha=(t,e,n)=>Z4(t,typeof e!="symbol"?e+"":e,n);let l3e=class lG{constructor(e){Ha(this,"client"),Ha(this,"namespaces"),Ha(this,"optionalNamespaces"),Ha(this,"sessionProperties"),Ha(this,"scopedProperties"),Ha(this,"events",new IR),Ha(this,"rpcProviders",{}),Ha(this,"session"),Ha(this,"providerOpts"),Ha(this,"logger"),Ha(this,"uri"),Ha(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:VC(bb({level:(e==null?void 0:e.logger)||LM})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new lG(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:nA({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,i2(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Gr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=VM(this.session.namespaces);this.namespaces=tA(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=VM(i.namespaces);return this.namespaces=tA(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!Dd(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn("Failed to cleanup pending pairings",n)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await kEe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||LM,relayUrl:this.providerOpts.relayUrl||REe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>uy(n)))];nI("client",this.client),nI("events",this.events),nI("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=mAe(n,this.session);if((r==null?void 0:r.length)===0)return;const i=aG(r),s=tA(this.namespaces,this.optionalNamespaces),o=iI(nA({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new PAe({namespace:o});break;case"algorand":this.rpcProviders[n]=new UAe({namespace:o});break;case"solana":this.rpcProviders[n]=new OAe({namespace:o});break;case"cosmos":this.rpcProviders[n]=new LAe({namespace:o});break;case"polkadot":this.rpcProviders[n]=new AAe({namespace:o});break;case"cip34":this.rpcProviders[n]=new zAe({namespace:o});break;case"elrond":this.rpcProviders[n]=new VAe({namespace:o});break;case"multiversx":this.rpcProviders[n]=new KAe({namespace:o});break;case"near":this.rpcProviders[n]=new ZAe({namespace:o});break;case"tezos":this.rpcProviders[n]=new e3e({namespace:o});break;default:this.rpcProviders[n]=new r3e({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&Dd(o)&&this.events.emit("accountsChanged",o.map(HM))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=uy(o),u=tI(o)!==tI(a)?`${c}:${tI(a)}`:o;this.onChainChanged(u)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=iI(nA({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",iI(nA({},Gr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(vc.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[eG]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=tA(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>uy(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=uy(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i);const s=this.getProvider(r).getDefaultChain();n?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e})):this.getProvider(r).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(HM);if(!Dd(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${XE}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${XE}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${XE}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(XE)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};var tB={};const dm={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof tB<"u"?tB.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},Su={filterOutDuplicatesByRDNS(t){const e=ce.state.enableEIP6963?pe.state.connectors:[],n=Ne.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&be.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!(a!=null&&a.rdns&&s.includes(String(a.rdns))||!(a!=null&&a.rdns)&&e.some(u=>u.name===a.name)))},filterOutDuplicatesByIds(t){const e=pe.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=Ne.getRecentWallets(),r=e.map(a=>a.explorerId),i=n.map(a=>a.id),s=r.concat(i);return t.filter(a=>!s.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=pe.state,{featuredWalletIds:n}=ce.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n!=null&&n.length){const u=n.indexOf(o.id),f=n.indexOf(a.id);if(u!==-1&&f!==-1)return u-f;if(u!==-1)return-1;if(f!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=ce.state.features)==null?void 0:c.connectMethodsOrder),r=e||pe.state.connectors;if(n)return n;const{injected:i,announced:s}=al.getConnectorsByType(r,nt.state.recommended,nt.state.featured),o=i.filter(al.showConnector),a=s.filter(al.showConnector);return o.length||a.length?["wallet","email","social"]:dm.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&nt.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&nt.state.excludedWallets.some(r=>ar.isLowerCaseMatch(r.name,t.name));return e||n},markWalletsWithDisplayIndex(t){return t.map((e,n)=>({...e,display_index:n}))}},al={getConnectorsByType(t,e,n){const{customWallets:r}=ce.state,i=Ne.getRecentWallets(),s=Su.filterOutDuplicateWallets(e),o=Su.filterOutDuplicateWallets(n),a=t.filter(h=>h.type==="MULTI_CHAIN"),c=t.filter(h=>h.type==="ANNOUNCED"),u=t.filter(h=>h.type==="INJECTED"),f=t.filter(h=>h.type==="EXTERNAL");return{custom:r,recent:i,external:f,multiChain:a,announced:c,injected:u,recommended:s,featured:o}},showConnector(t){var i;const e=(i=t.info)==null?void 0:i.rdns,n=!!e&&nt.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===e),r=!!t.name&&nt.state.excludedWallets.some(s=>ar.isLowerCaseMatch(s.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!be.isMobile()||be.isMobile()&&!e&&!Ce.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(F.state.chains.values()).some(n=>pe.getConnectorId(n.namespace)===oe.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=(u=>(u=ce.state.features)==null?void 0:u.connectorTypeOrder)()??[]}){const p=[{type:"walletConnect",isEnabled:ce.state.enableWalletConnect},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(b=>b.isEnabled),g=new Set(p.map(b=>b.type)),w=c.filter(b=>g.has(b)).map(b=>({type:b,isEnabled:!0})),y=p.filter(({type:b})=>!w.some(({type:x})=>x===b));return Array.from(new Set([...w,...y].map(({type:b})=>b)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){var e,n;try{if(t.name==="Browser Wallet"&&!be.isMobile())return{accounts:[],chainId:void 0};if(t.id===oe.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[r,i]=await Promise.all([(e=t.provider)==null?void 0:e.request({method:"eth_accounts"}),(n=t.provider)==null?void 0:n.request({method:"eth_chainId"}).then(s=>Number(s))]);return{accounts:r,chainId:i}}catch(r){return console.warn(`Failed to fetch provider data for ${t.name}`,r),{accounts:[],chainId:void 0}}}},B3={interpolate(t,e,n){if(t.length!==2||e.length!==2)throw new Error("inputRange and outputRange must be an array of length 2");const r=t[0]||0,i=t[1]||0,s=e[0]||0,o=e[1]||0;return n<r?s:n>i?o:(o-s)/(i-r)*(n-r)+s}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const MA=globalThis,o8=MA.ShadowRoot&&(MA.ShadyCSS===void 0||MA.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,a8=Symbol(),nB=new WeakMap;let uG=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==a8)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(o8&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=nB.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&nB.set(n,e))}return e}toString(){return this.cssText}};const Ga=t=>new uG(typeof t=="string"?t:t+"",void 0,a8),He=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new uG(n,t,a8)},u3e=(t,e)=>{if(o8)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),i=MA.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)}},rB=o8?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Ga(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:d3e,defineProperty:f3e,getOwnPropertyDescriptor:h3e,getOwnPropertyNames:p3e,getOwnPropertySymbols:m3e,getPrototypeOf:g3e}=Object,jh=globalThis,iB=jh.trustedTypes,y3e=iB?iB.emptyScript:"",sI=jh.reactiveElementPolyfillSupport,v1=(t,e)=>t,U3={toAttribute(t,e){switch(e){case Boolean:t=t?y3e:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},c8=(t,e)=>!d3e(t,e),sB={attribute:!0,type:String,converter:U3,reflect:!1,useDefault:!1,hasChanged:c8};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),jh.litPropertyMetadata??(jh.litPropertyMetadata=new WeakMap);let iy=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=sB){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(e,r,n);i!==void 0&&f3e(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){const{get:i,set:s}=h3e(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:i,set(o){const a=i==null?void 0:i.call(this);s==null||s.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??sB}static _$Ei(){if(this.hasOwnProperty(v1("elementProperties")))return;const e=g3e(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(v1("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(v1("properties"))){const n=this.properties,r=[...p3e(n),...m3e(n)];for(const i of r)this.createProperty(i,n[i])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(rB(i))}else e!==void 0&&n.push(rB(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return u3e(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var s;const r=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:U3).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,n){var s,o;const r=this.constructor,i=r._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const a=r.getPropertyOptions(i),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:U3;this._$Em=i;const u=c.fromAttribute(n,a.type);this[i]=u??((o=this._$Ej)==null?void 0:o.get(i))??u,this._$Em=null}}requestUpdate(e,n,r){var i;if(e!==void 0){const s=this.constructor,o=this[e];if(r??(r=s.getPropertyOptions(e)),!((r.hasChanged??c8)(o,n)||r.useDefault&&r.reflect&&o===((i=this._$Ej)==null?void 0:i.get(e))&&!this.hasAttribute(s._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:i,wrapped:s},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),i===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i){const{wrapped:a}=o,c=this[s];a!==!0||this._$AL.has(s)||c===void 0||this.C(s,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(n)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};iy.elementStyles=[],iy.shadowRootOptions={mode:"open"},iy[v1("elementProperties")]=new Map,iy[v1("finalized")]=new Map,sI==null||sI({ReactiveElement:iy}),(jh.reactiveElementVersions??(jh.reactiveElementVersions=[])).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const C1=globalThis,F3=C1.trustedTypes,oB=F3?F3.createPolicy("lit-html",{createHTML:t=>t}):void 0,dG="$lit$",dh=`lit$${Math.random().toFixed(9).slice(2)}$`,fG="?"+dh,w3e=`<${fG}>`,fg=document,E2=()=>fg.createComment(""),A2=t=>t===null||typeof t!="object"&&typeof t!="function",l8=Array.isArray,b3e=t=>l8(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",oI=`[ 	
\f\r]`,Fv=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,aB=/-->/g,cB=/>/g,Wp=RegExp(`>|${oI}(?:([^\\s"'>=/]+)(${oI}*=${oI}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),lB=/'/g,uB=/"/g,hG=/^(?:script|style|textarea|title)$/i,pG=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),B=pG(1),Tr=pG(2),qd=Symbol.for("lit-noChange"),di=Symbol.for("lit-nothing"),dB=new WeakMap,fm=fg.createTreeWalker(fg,129);function mG(t,e){if(!l8(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return oB!==void 0?oB.createHTML(e):e}const v3e=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=Fv;for(let a=0;a<n;a++){const c=t[a];let u,f,h=-1,p=0;for(;p<c.length&&(o.lastIndex=p,f=o.exec(c),f!==null);)p=o.lastIndex,o===Fv?f[1]==="!--"?o=aB:f[1]!==void 0?o=cB:f[2]!==void 0?(hG.test(f[2])&&(i=RegExp("</"+f[2],"g")),o=Wp):f[3]!==void 0&&(o=Wp):o===Wp?f[0]===">"?(o=i??Fv,h=-1):f[1]===void 0?h=-2:(h=o.lastIndex-f[2].length,u=f[1],o=f[3]===void 0?Wp:f[3]==='"'?uB:lB):o===uB||o===lB?o=Wp:o===aB||o===cB?o=Fv:(o=Wp,i=void 0);const g=o===Wp&&t[a+1].startsWith("/>")?" ":"";s+=o===Fv?c+w3e:h>=0?(r.push(u),c.slice(0,h)+dG+c.slice(h)+dh+g):c+dh+(h===-2?a:g)}return[mG(t,s+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class S2{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[u,f]=v3e(e,n);if(this.el=S2.createElement(u,r),fm.currentNode=this.el.content,n===2||n===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(i=fm.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const h of i.getAttributeNames())if(h.endsWith(dG)){const p=f[o++],g=i.getAttribute(h).split(dh),w=/([.?@])?(.*)/.exec(p);c.push({type:1,index:s,name:w[2],strings:g,ctor:w[1]==="."?x3e:w[1]==="?"?E3e:w[1]==="@"?A3e:AS}),i.removeAttribute(h)}else h.startsWith(dh)&&(c.push({type:6,index:s}),i.removeAttribute(h));if(hG.test(i.tagName)){const h=i.textContent.split(dh),p=h.length-1;if(p>0){i.textContent=F3?F3.emptyScript:"";for(let g=0;g<p;g++)i.append(h[g],E2()),fm.nextNode(),c.push({type:2,index:++s});i.append(h[p],E2())}}}else if(i.nodeType===8)if(i.data===fG)c.push({type:2,index:s});else{let h=-1;for(;(h=i.data.indexOf(dh,h+1))!==-1;)c.push({type:7,index:s}),h+=dh.length-1}s++}}static createElement(e,n){const r=fg.createElement("template");return r.innerHTML=e,r}}function zw(t,e,n=t,r){var o,a;if(e===qd)return e;let i=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const s=A2(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(e=zw(t,i._$AS(t,e.values),i,r)),e}let C3e=class{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,i=((e==null?void 0:e.creationScope)??fg).importNode(n,!0);fm.currentNode=i;let s=fm.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let u;c.type===2?u=new u8(s,s.nextSibling,this,e):c.type===1?u=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(u=new S3e(s,this,e)),this._$AV.push(u),c=r[++a]}o!==(c==null?void 0:c.index)&&(s=fm.nextNode(),o++)}return fm.currentNode=fg,i}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}},u8=class gG{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,i){this.type=2,this._$AH=di,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=zw(this,e,n),A2(e)?e===di||e==null||e===""?(this._$AH!==di&&this._$AR(),this._$AH=di):e!==this._$AH&&e!==qd&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):b3e(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==di&&A2(this._$AH)?this._$AA.nextSibling.data=e:this.T(fg.createTextNode(e)),this._$AH=e}$(e){var s;const{values:n,_$litType$:r}=e,i=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=S2.createElement(mG(r.h,r.h[0]),this.options)),r);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(n);else{const o=new C3e(i,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=dB.get(e.strings);return n===void 0&&dB.set(e.strings,n=new S2(e)),n}k(e){l8(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new gG(this.O(E2()),this.O(E2()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}},AS=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,i,s){this.type=1,this._$AH=di,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=di}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=zw(this,e,n,0),o=!A2(e)||e!==this._$AH&&e!==qd,o&&(this._$AH=e);else{const a=e;let c,u;for(e=s[0],c=0;c<s.length-1;c++)u=zw(this,a[r+c],n,c),u===qd&&(u=this._$AH[c]),o||(o=!A2(u)||u!==this._$AH[c]),u===di?e=di:e!==di&&(e+=(u??"")+s[c+1]),this._$AH[c]=u}o&&!i&&this.j(e)}j(e){e===di?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}};class x3e extends AS{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===di?void 0:e}}class E3e extends AS{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==di)}}let A3e=class extends AS{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){if((e=zw(this,e,n,0)??di)===qd)return;const r=this._$AH,i=e===di&&r!==di||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==di&&(r===di||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}};class S3e{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){zw(this,e)}}const aI=C1.litHtmlPolyfillSupport;aI==null||aI(S2,u8),(C1.litHtmlVersions??(C1.litHtmlVersions=[])).push("3.3.1");const _3e=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let i=r._$litPart$;if(i===void 0){const s=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new u8(e.insertBefore(E2(),s),s,void 0,n??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Zm=globalThis;let _e=class extends iy{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=_3e(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return qd}};var Dj;_e._$litElement$=!0,_e.finalized=!0,(Dj=Zm.litElementHydrateSupport)==null||Dj.call(Zm,{LitElement:_e});const cI=Zm.litElementPolyfillSupport;cI==null||cI({LitElement:_e});(Zm.litElementVersions??(Zm.litElementVersions=[])).push("4.2.1");let x1,zh,Wh;function g7e(t,e){x1=document.createElement("style"),zh=document.createElement("style"),Wh=document.createElement("style"),x1.textContent=Ey(t).core.cssText,zh.textContent=Ey(t).dark.cssText,Wh.textContent=Ey(t).light.cssText,document.head.appendChild(x1),document.head.appendChild(zh),document.head.appendChild(Wh),yG(e)}function yG(t){zh&&Wh&&(t==="light"?(zh.removeAttribute("media"),Wh.media="enabled"):(Wh.removeAttribute("media"),zh.media="enabled"))}function T3e(t){x1&&zh&&Wh&&(x1.textContent=Ey(t).core.cssText,zh.textContent=Ey(t).dark.cssText,Wh.textContent=Ey(t).light.cssText)}function Ey(t){return{core:He`
      ${t!=null&&t["--w3m-font-family"]?He``:He`
            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
          `}
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Ga(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Ga((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Ga((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${Ga((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${Ga((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:He`
      :root {
        --w3m-color-mix: ${Ga((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${Ga(_d(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Ga(_d(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:He`
      :root {
        --w3m-color-mix: ${Ga((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${Ga(_d(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Ga(_d(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Ut=He`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Un=He`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,SS=He`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,$r={getSpacingStyles(t,e){if(Array.isArray(t))return t[e]?`var(--wui-spacing-${t[e]})`:void 0;if(typeof t=="string")return`var(--wui-spacing-${t})`},getFormattedDate(t){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(t)},getHostName(t){try{return new URL(t).hostname}catch{return""}},getTruncateString({string:t,charsStart:e,charsEnd:n,truncate:r}){return t.length<=e+n?t:r==="end"?`${t.substring(0,e)}...`:r==="start"?`...${t.substring(t.length-n)}`:`${t.substring(0,Math.floor(e))}...${t.substring(t.length-Math.floor(n))}`},generateAvatarColors(t){const n=t.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),r=this.hexToRgb(n),i=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),o=100-3*Number(i==null?void 0:i.replace("px","")),a=`${o}% ${o}% at 65% 40%`,c=[];for(let u=0;u<5;u+=1){const f=this.tintColor(r,.15*u);c.push(`rgb(${f[0]}, ${f[1]}, ${f[2]})`)}return`
    --local-color-1: ${c[0]};
    --local-color-2: ${c[1]};
    --local-color-3: ${c[2]};
    --local-color-4: ${c[3]};
    --local-color-5: ${c[4]};
    --local-radial-circle: ${a}
   `},hexToRgb(t){const e=parseInt(t,16),n=e>>16&255,r=e>>8&255,i=e&255;return[n,r,i]},tintColor(t,e){const[n,r,i]=t,s=Math.round(n+(255-n)*e),o=Math.round(r+(255-r)*e),a=Math.round(i+(255-i)*e);return[s,o,a]},isNumber(t){return{number:/^[0-9]+$/u}.number.test(t)},getColorTheme(t){var e;return t||(typeof window<"u"&&window.matchMedia&&typeof window.matchMedia=="function"?(e=window.matchMedia("(prefers-color-scheme: dark)"))!=null&&e.matches?"dark":"light":"dark")},splitBalance(t){const e=t.split(".");return e.length===2?[e[0],e[1]]:["0","00"]},roundNumber(t,e,n){return t.toString().length>=e?Number(t).toFixed(n):t}},I3e=3,N3e=["receive","deposit","borrow","claim"],P3e=["withdraw","repay","burn"],fy={getTransactionGroupTitle(t,e){const n=IN.getYear(),r=IN.getMonthNameByIndex(e);return t===n?r:`${r} ${t}`},getTransactionImages(t){const[e,n]=t,r=!!e&&(t==null?void 0:t.every(o=>!!o.nft_info)),i=(t==null?void 0:t.length)>1;return(t==null?void 0:t.length)===2&&!r?[this.getTransactionImage(n),this.getTransactionImage(e)]:i?t.map(o=>this.getTransactionImage(o)):[this.getTransactionImage(e)]},getTransactionImage(t){return{type:fy.getTransactionTransferTokenType(t),url:fy.getTransactionImageURL(t)}},getTransactionImageURL(t){var i,s,o,a,c;let e;const n=!!(t!=null&&t.nft_info),r=!!(t!=null&&t.fungible_info);return t&&n?e=(o=(s=(i=t==null?void 0:t.nft_info)==null?void 0:i.content)==null?void 0:s.preview)==null?void 0:o.url:t&&r&&(e=(c=(a=t==null?void 0:t.fungible_info)==null?void 0:a.icon)==null?void 0:c.url),e},getTransactionTransferTokenType(t){if(t!=null&&t.fungible_info)return"FUNGIBLE";if(t!=null&&t.nft_info)return"NFT"},getTransactionDescriptions(t){var h,p,g;const e=(h=t==null?void 0:t.metadata)==null?void 0:h.operationType,n=t==null?void 0:t.transfers,r=((p=t==null?void 0:t.transfers)==null?void 0:p.length)>0,i=((g=t==null?void 0:t.transfers)==null?void 0:g.length)>1,s=r&&(n==null?void 0:n.every(w=>!!(w!=null&&w.fungible_info))),[o,a]=n;let c=this.getTransferDescription(o),u=this.getTransferDescription(a);if(!r)return(e==="send"||e==="receive")&&s?(c=$r.getTruncateString({string:t==null?void 0:t.metadata.sentFrom,charsStart:4,charsEnd:6,truncate:"middle"}),u=$r.getTruncateString({string:t==null?void 0:t.metadata.sentTo,charsStart:4,charsEnd:6,truncate:"middle"}),[c,u]):[t.metadata.status];if(i)return n.map(w=>this.getTransferDescription(w)).reverse();let f="";return N3e.includes(e)?f="+":P3e.includes(e)&&(f="-"),c=f.concat(c),[c]},getTransferDescription(t){var n;let e="";return t&&(t!=null&&t.nft_info?e=((n=t==null?void 0:t.nft_info)==null?void 0:n.name)||"-":t!=null&&t.fungible_info&&(e=this.getFungibleTransferDescription(t)||"-")),e},getFungibleTransferDescription(t){var r;return t?[this.getQuantityFixedValue(t==null?void 0:t.quantity.numeric),(r=t==null?void 0:t.fungible_info)==null?void 0:r.symbol].join(" ").trim():null},getQuantityFixedValue(t){return t?parseFloat(t).toFixed(I3e):null}};function k3e(t,e){const{kind:n,elements:r}=e;return{kind:n,elements:r,finisher(i){customElements.get(t)||customElements.define(t,i)}}}function R3e(t,e){return customElements.get(t)||customElements.define(t,e),e}function Ae(t){return function(n){return typeof n=="function"?R3e(t,n):k3e(t,n)}}const BA={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,n]=await Promise.all([BA.getAddresses(t),BA.getChainId(t)]);return{chainId:n,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){var r,i;const n=((r=e.rpcUrls.chainDefault)==null?void 0:r.http)||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:BA.numberToHexString(e.id),rpcUrls:[...n],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[(i=e.blockExplorers)==null?void 0:i.default.url],iconUrls:[pa.NetworkImageIds[e.id]]}]})}},Z0={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}},J4=WC({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),X4=WC({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),eP=WC({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),j3=WC({id:369,name:"PulseChain",nativeCurrency:{name:"Pulse",symbol:"PLS",decimals:18},testnet:!1,rpcUrls:{default:{http:["https://rpc.pulsechain.com"],webSocket:["wss://ws.pulsechain.com"]}},blockExplorers:{default:{name:"PulseScan",url:"https://ipfs.scan.pulsechain.com",apiUrl:"https://api.scan.pulsechain.com/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),tP=WC({id:146,name:"Sonic",nativeCurrency:{decimals:18,name:"Sonic",symbol:"S"},rpcUrls:{default:{http:["https://rpc.soniclabs.com"]}},blockExplorers:{default:{name:"Sonic Explorer",url:"https://sonicscan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:60}},testnet:!1});function tx(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const fB=tx({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),hB=tx({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});tx({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});tx({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});tx({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const O3e={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Ld={getMethodsByChainNamespace(t){return O3e[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>r.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>r.add(i)),e.events&&Object.keys(e.events).forEach(i=>r.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&r.add(s)}),r.forEach(i=>{n[i]||(n[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{n[i]&&(n[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{n[i]&&(n[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{n[i]&&(n[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),i.has(a)||(n[a].rpcMap={},i.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const u=`${o}:${s}`,f=r[o];switch(f.chains.push(u),u){case fB.caipNetworkId:f.chains.push(fB.deprecatedCaipNetworkId);break;case hB.caipNetworkId:f.chains.push(hB.deprecatedCaipNetworkId);break}return f!=null&&f.rpcMap&&c&&(f.rpcMap[s]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await u1.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const s=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:n,onDisconnect:r,onAccountsChanged:i,onChainChanged:s,onDisplayUri:o}){n&&t.on("connect",()=>{const a=Ld.getWalletConnectAccounts(t,e);n(a)}),r&&t.on("disconnect",()=>{r()}),i&&t.on("accountsChanged",a=>{var c,u,f,h,p;try{const g=((f=(u=(c=t.session)==null?void 0:c.namespaces)==null?void 0:u[e])==null?void 0:f.accounts)||[],w=(p=(h=t.rpcProviders)==null?void 0:h[e])==null?void 0:p.getDefaultChain(),y=a.map(b=>{const C=g.find(I=>I.includes(`${e}:${w}:${b}`));if(!C)return;const{chainId:x,chainNamespace:E}=Zs.parseCaipAddress(C);return{address:b,chainId:x,chainNamespace:E}}).filter(b=>b!==void 0);y.length>0&&i(y)}catch(g){console.warn("Failed to parse accounts for namespace on accountsChanged event",e,a,g)}}),s&&t.on("chainChanged",a=>{s(a)}),o&&t.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(t,e){var i,s,o,a;const n=new Set,r=(a=(o=(s=(i=t==null?void 0:t.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>Zs.parseCaipAddress(c)).filter(({address:c})=>n.has(c.toLowerCase())?!1:(n.add(c.toLowerCase()),!0));return r&&r.length>0?r:[]}};class $3e{constructor(e){this.namespace=e.namespace}async syncConnections(e){switch(this.namespace){case oe.CHAIN.EVM:await this.syncEVMConnections(e);break;case oe.CHAIN.SOLANA:await this.syncSolanaConnections(e);break;case oe.CHAIN.BITCOIN:await this.syncBitcoinConnections(e);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:e,caipNetworks:n,universalProvider:r,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:u}=i(a.id);return!c&&u}).map(async a=>{if(a.id===oe.CONNECTOR_ID.WALLET_CONNECT){const c=Ld.getWalletConnectAccounts(r,this.namespace),u=n.find(f=>{var h,p;return f.chainNamespace===this.namespace&&f.id.toString()===((p=(h=c[0])==null?void 0:h.chainId)==null?void 0:p.toString())});c.length>0&&s({connectorId:a.id,accounts:c.map(f=>({address:f.address})),caipNetwork:u})}else{const{accounts:c,chainId:u}=await al.fetchProviderData(a);if(c.length>0&&u){const f=n.find(h=>h.chainNamespace===this.namespace&&h.id.toString()===u.toString());s({connectorId:a.id,accounts:c.map(h=>({address:h})),caipNetwork:f}),a.provider&&a.id!==oe.CONNECTOR_ID.AUTH&&a.id!==oe.CONNECTOR_ID.WALLET_CONNECT&&o(a.id,a.provider)}}}))}async syncSolanaConnections({connectors:e,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:u}=i(a.id);return!c&&u}).map(async a=>{if(a.id===oe.CONNECTOR_ID.WALLET_CONNECT){const c=Ld.getWalletConnectAccounts(r,this.namespace);c.length>0&&s({connectorId:a.id,accounts:c.map(u=>({address:u.address})),caipNetwork:n})}else{const c=await a.connect({chainId:n==null?void 0:n.id});c&&(s({connectorId:a.id,accounts:[{address:c}],caipNetwork:n}),o(a.id,a.provider))}}))}async syncBitcoinConnections({connectors:e,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:u}=i(a.id);return!c&&u}).map(async a=>{var p,g,w,y,b,C;if(a.id===oe.CONNECTOR_ID.WALLET_CONNECT){const x=Ld.getWalletConnectAccounts(r,this.namespace);x.length>0&&s({connectorId:a.id,accounts:x.map(E=>({address:E.address})),caipNetwork:n});return}const c=await a.connect(),u=await a.getAccountAddresses();let f=u==null?void 0:u.map(x=>be.createAccount(oe.CHAIN.BITCOIN,x.address,x.purpose||"payment",x.publicKey,x.path));if(f&&f.length>1&&(f=[{namespace:oe.CHAIN.BITCOIN,publicKey:((p=f[Z0.ACCOUNT_INDEXES.PAYMENT])==null?void 0:p.publicKey)??"",path:((g=f[Z0.ACCOUNT_INDEXES.PAYMENT])==null?void 0:g.path)??"",address:((w=f[Z0.ACCOUNT_INDEXES.PAYMENT])==null?void 0:w.address)??"",type:"payment"},{namespace:oe.CHAIN.BITCOIN,publicKey:((y=f[Z0.ACCOUNT_INDEXES.ORDINAL])==null?void 0:y.publicKey)??"",path:((b=f[Z0.ACCOUNT_INDEXES.ORDINAL])==null?void 0:b.path)??"",address:((C=f[Z0.ACCOUNT_INDEXES.ORDINAL])==null?void 0:C.address)??"",type:"ordinal"}]),!(a.chains.find(x=>x.id===(n==null?void 0:n.id))||a.chains[0]))throw new Error("The connector does not support any of the requested chains");c&&(o(a.id,a.provider),s({connectorId:a.id,accounts:f.map(x=>({address:x.address,type:x.type})),caipNetwork:n}))}))}getConnection({address:e,connectorId:n,connections:r,connectors:i}){if(n){const o=r.find(u=>ar.isLowerCaseMatch(u.connectorId,n));if(!o)return null;const a=i.find(u=>ar.isLowerCaseMatch(u.id,o.connectorId)),c=e?o.accounts.find(u=>ar.isLowerCaseMatch(u.address,e)):o.accounts[0];return{...o,account:c,connector:a}}const s=r.find(o=>o.accounts.length>0&&i.some(a=>ar.isLowerCaseMatch(a.id,o.connectorId)));if(s){const[o]=s.accounts,a=i.find(c=>ar.isLowerCaseMatch(c.id,s.connectorId));return{...s,account:o,connector:a}}return null}}const Jv={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class d8{constructor({provider:e,namespace:n}){this.id=oe.CONNECTOR_ID.WALLET_CONNECT,this.name=pa.ConnectorNamesMap[oe.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=pa.ConnectorImageIds[oe.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=F.getCaipNetworks.bind(F),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=ce.state.universalProviderConfigOverride,i=Ld.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return Bo.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:D3e})}}const D3e=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],L3e=[oe.CONNECTOR_ID.AUTH,oe.CONNECTOR_ID.WALLET_CONNECT];class wG{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>F.getCaipNetworks(n),this.getConnectorId=n=>pe.getConnectorId(n),e&&this.construct(e),e!=null&&e.namespace&&(this.connectionManager=new $3e({namespace:e.namespace}))}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:n}){const r=this.getCaipNetworks().filter(i=>i.chainNamespace===this.namespace).find(i=>i.id.toString()===(n==null?void 0:n.toString()));e&&r&&this.addConnection({connectorId:oe.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:r})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:oe.CONNECTOR_ID.AUTH,type:"AUTH",name:oe.CONNECTOR_NAMES.AUTH,provider:e,imageId:pa.ConnectorImageIds[oe.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const n=new Set;this.availableConnections=[...e,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(n=>!ar.isLowerCaseMatch(n.connectorId,e)),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,n){Le.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(i=>i(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){i.setDefaultChain(n.caipNetworkId);return}if(i&&r==="AUTH"){const s=i,o=ii(n.chainNamespace);await s.switchNetwork({chainId:n.caipNetworkId});const a=await s.getUser({chainId:n.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof d8);if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,n){if(e.length>0){const{address:r,chainId:i}=be.getAccount(e[0]),s=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===(i==null?void 0:i.toString())),o=this.connectors.find(a=>a.id===n);r&&(this.emit("accountChanged",{address:r,chainId:i,connector:o}),this.addConnection({connectorId:n,accounts:e.map(a=>{const{address:c}=be.getAccount(a);return{address:c}}),caipNetwork:s}))}}onAccountsChanged(e,n,r=!0){var i,s;if(e.length>0){const{address:o}=be.getAccount(e[0]),a=(i=this.connectionManager)==null?void 0:i.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});o&&ar.isLowerCaseMatch(this.getConnectorId(oe.CHAIN.EVM),n)&&this.emit("accountChanged",{address:o,chainId:(s=a==null?void 0:a.caipNetwork)==null?void 0:s.id,connector:a==null?void 0:a.connector}),this.addConnection({connectorId:n,accounts:e.map(c=>{const{address:u}=be.getAccount(c);return{address:u}}),caipNetwork:a==null?void 0:a.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),ar.isLowerCaseMatch(this.getConnectorId(oe.CHAIN.EVM),e)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,n){var o;const r=typeof e=="string"&&e.startsWith("0x")?BA.hexStringToNumber(e).toString():e.toString(),i=(o=this.connectionManager)==null?void 0:o.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),s=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===r);i&&this.addConnection({connectorId:n,accounts:i.accounts,caipNetwork:s}),ar.isLowerCaseMatch(this.getConnectorId(oe.CHAIN.EVM),n)&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(e,n){if(L3e.includes(e))return;const r=o=>this.onAccountsChanged(o,e),i=o=>this.onChainChanged(o,e),s=()=>this.onDisconnect(e);this.providerHandlers[e]||(n.on("disconnect",s),n.on("accountsChanged",r),n.on("chainChanged",i),this.providerHandlers[e]={provider:n,disconnect:s,accountsChanged:r,chainChanged:i})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:n,disconnect:r,accountsChanged:i,chainChanged:s}=this.providerHandlers[e];n.removeListener("disconnect",r),n.removeListener("accountsChanged",i),n.removeListener("chainChanged",s),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){var n,r;const e=(n=this.connectionManager)==null?void 0:n.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[i]=e.accounts;this.emit("accountChanged",{address:i==null?void 0:i.address,chainId:(r=e.caipNetwork)==null?void 0:r.id,connector:e.connector})}}}class M3e extends wG{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new d8({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){var i,s,o,a;const n=this.provider,r=((a=(o=(s=(i=n==null?void 0:n.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,u]=c.split(":");return u}).filter((c,u,f)=>f.indexOf(c)===u))||[];return Promise.resolve({accounts:r.map(c=>be.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var s,o,a,c,u;if(!(e.caipNetwork&&rn.BALANCE_SUPPORTED_CHAINS.includes((s=e.caipNetwork)==null?void 0:s.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(Le.state.balanceLoading&&e.chainId===((c=F.state.activeCaipNetwork)==null?void 0:c.id))return{balance:Le.state.balance||"0.00",symbol:Le.state.balanceSymbol||""};const i=(await Le.fetchTokenBalance()).find(f=>{var h,p;return f.chainId===`${(h=e.caipNetwork)==null?void 0:h.chainNamespace}:${e.chainId}`&&f.symbol===((p=e.caipNetwork)==null?void 0:p.nativeCurrency.symbol)});return{balance:(i==null?void 0:i.quantity.numeric)||"0.00",symbol:(i==null?void 0:i.symbol)||((u=e.caipNetwork)==null?void 0:u.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:i}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return((o=F.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===oe.CHAIN.SOLANA?s=(await n.request({method:"solana_signMessage",params:{message:Cb.encode(new TextEncoder().encode(r)),pubkey:i}},(a=F.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:s=await n.request({method:"personal_sign",params:[r,i]},(c=F.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var i,s,o,a,c,u;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===oe.CHAIN.EVM)try{await((i=r.provider)==null?void 0:i.request({method:"wallet_switchEthereumChain",params:[{chainId:Rw(n.id)}]}))}catch(f){if(f.code===Jv.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||f.code===Jv.ERROR_INVALID_CHAIN_ID||f.code===Jv.ERROR_CODE_DEFAULT||((o=(s=f==null?void 0:f.data)==null?void 0:s.originalError)==null?void 0:o.code)===Jv.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((u=r.provider)==null?void 0:u.request({method:"wallet_addEthereumChain",params:[{chainId:Rw(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const B3e=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],rA={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?rn.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?rn.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?rn.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?rn.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?rn.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?rn.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?rn.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?rn.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?rn.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>t.isEnabled&&(t.config??[]),processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>rn.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>rn.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>rn.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>typeof t>"u"?rn.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!t}},U3e={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=rA[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,i){const s=rA[t],o=e[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(s.apiFeatureName,n);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return rA[t].processApi(e)},processFallbackFeature(t,e){return rA[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,i=!1;try{r=await nt.fetchProjectConfig(),i=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const s=i&&!e?rn.DEFAULT_REMOTE_FEATURES:rn.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of B3e){const a=this.processFeature(o,n,r,i,e);Object.assign(s,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),rn.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;Or.open({debugMessage:qr.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return s}};class F3e{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var i,s,o;if(n){const a=(i=F.getCaipNetworks(n))==null?void 0:i.find(f=>f.id===r);if(a)return a;const c=(s=F.getNetworkData(n))==null?void 0:s.caipNetwork;return c||((o=F.getRequestedCaipNetworks(n).filter(f=>f.chainNamespace===n))==null?void 0:o[0])}return F.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>F.getCaipNetworks(n),this.getActiveChainNamespace=()=>F.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{F.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>F.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>{var r,i;return F.state.activeChain===n||!n?F.state.activeCaipAddress:(i=(r=F.state.chains.get(n))==null?void 0:r.accountState)==null?void 0:i.caipAddress},this.setClientId=n=>{Qt.setClientId(n)},this.getProvider=n=>br.getProvider(n),this.getProviderType=n=>br.getProviderId(n),this.getPreferredAccountType=n=>ii(n),this.setCaipAddress=(n,r)=>{Le.setCaipAddress(n,r)},this.setBalance=(n,r,i)=>{Le.setBalance(n,r,i)},this.setProfileName=(n,r)=>{Le.setProfileName(n,r)},this.setProfileImage=(n,r)=>{Le.setProfileImage(n,r)},this.setUser=(n,r)=>{Le.setUser(n,r)},this.resetAccount=n=>{Le.resetAccount(n)},this.setCaipNetwork=n=>{F.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{F.setChainNetworkData(r,{caipNetwork:n})},this.setStatus=(n,r)=>{Le.setStatus(n,r),pe.isConnected()?Ne.setConnectionStatus("connected"):Ne.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>{var r,i;return(i=(r=F.state.chains.get(n))==null?void 0:r.accountState)==null?void 0:i.address},this.setConnectors=n=>{const r=[...pe.state.allConnectors,...n];pe.setConnectors(r)},this.setConnections=(n,r)=>{Ne.setConnections(n,r),Ce.setConnections(n,r)},this.fetchIdentity=n=>Qt.fetchIdentity(n),this.getReownName=n=>u1.getNamesForAddress(n),this.getConnectors=()=>pe.getConnectors(),this.getConnectorImage=n=>$n.getConnectorImage(n),this.getConnections=n=>this.remoteFeatures.multiWallet?cc.getConnectionsData(n).connections:(Or.open(oe.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=n=>this.remoteFeatures.multiWallet?cc.getConnectionsData(n).recentConnections:(Or.open(oe.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async n=>{if(!this.remoteFeatures.multiWallet){Or.open(oe.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await Ce.switchConnection(n)},this.deleteConnection=n=>{if(!this.remoteFeatures.multiWallet){Or.open(oe.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}Ne.deleteAddressFromConnection(n),Ce.syncStorageConnections()},this.setConnectedWalletInfo=(n,r)=>{const i=br.getProviderId(r),s=n?{...n,type:i}:void 0;Le.setConnectedWalletInfo(s,r)},this.getIsConnectedState=()=>!!F.state.activeCaipAddress,this.addAddressLabel=(n,r,i)=>{Le.addAddressLabel(n,r,i)},this.removeAddressLabel=(n,r)=>{Le.removeAddressLabel(n,r)},this.getAddress=n=>{var r,i;return F.state.activeChain===n||!n?Le.state.address:(i=(r=F.state.chains.get(n))==null?void 0:r.accountState)==null?void 0:i.address},this.setApprovedCaipNetworksData=n=>F.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{F.resetNetwork(n)},this.addConnector=n=>{pe.addConnector(n)},this.resetWcConnection=()=>{Ce.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{Le.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{Le.setSmartAccountDeployed(n,r)},this.setPreferredAccountType=(n,r)=>{F.setAccountProp("preferredAccountType",n,r)},this.setEIP6963Enabled=n=>{ce.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(s=>s.namespace).filter(s=>!!s);if(r!=null&&r.length)return[...new Set(r)];const i=n==null?void 0:n.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){var n,r,i,s,o;if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),ce.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await U3e.fetchRemoteFeatures(e),ce.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&JN.setOnrampProviders(this.remoteFeatures.onramp),((n=ce.state.remoteFeatures)!=null&&n.email||Array.isArray((r=ce.state.remoteFeatures)==null?void 0:r.socials)&&((i=ce.state.remoteFeatures)==null?void 0:i.socials.length)>0)&&await this.checkAllowedOrigins(),(s=ce.state.features)!=null&&s.reownAuthentication||(o=ce.state.remoteFeatures)!=null&&o.reownAuthentication){const{ReownAuthentication:a}=await Oe(async()=>{const{ReownAuthentication:u}=await import("./features-DaduWAa6.js");return{ReownAuthentication:u}},[]),c=ce.state.siwx;c instanceof a||(c&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),ce.setSIWX(new a))}}async checkAllowedOrigins(){try{const e=await nt.fetchAllowedOrigins();if(!e||!be.isClient()){Or.open(qr.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;Ld.isOriginAllowed(n,e,Jv.DEFAULT_ALLOWED_ANCESTORS)||Or.open(qr.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error)){Or.open(qr.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(e.message){case"RATE_LIMITED":Or.open(qr.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;Or.open({displayMessage:qr.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:qr.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(n.message)},"error");break}default:Or.open(qr.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,At.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(i=>i.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&cs.setThemeMode(e.themeMode),e.themeVariables&&cs.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");F.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&F.setActiveCaipNetwork(n)}initializeConnectionController(e){Ce.initialize(e.adapters??[]),Ce.setWcBasic(e.basic??!1)}initializeConnectorController(){pe.initialize(this.chainNamespaces)}initializeProjectSettings(e){ce.setProjectId(e.projectId),ce.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var i;ce.setDebug(e.debug!==!1),ce.setEnableWalletConnect(e.enableWalletConnect!==!1),ce.setEnableWalletGuide(e.enableWalletGuide!==!1),ce.setEnableWallets(e.enableWallets!==!1),ce.setEIP6963Enabled(e.enableEIP6963!==!1),ce.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),ce.setEnableReconnect(e.enableReconnect!==!1),ce.setEnableAuthLogger(e.enableAuthLogger!==!1),ce.setCustomRpcUrls(e.customRpcUrls),ce.setEnableEmbedded(e.enableEmbedded),ce.setAllWallets(e.allWallets),ce.setIncludeWalletIds(e.includeWalletIds),ce.setExcludeWalletIds(e.excludeWalletIds),ce.setFeaturedWalletIds(e.featuredWalletIds),ce.setTokens(e.tokens),ce.setTermsConditionsUrl(e.termsConditionsUrl),ce.setPrivacyPolicyUrl(e.privacyPolicyUrl),ce.setCustomWallets(e.customWallets),ce.setFeatures(e.features),ce.setAllowUnsupportedChain(e.allowUnsupportedChain),ce.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),ce.setPreferUniversalLinks(e.experimental_preferUniversalLinks),ce.setDefaultAccountTypes(e.defaultAccountTypes);const n=this.getDefaultMetaData();if(!e.metadata&&n&&(e.metadata=n),ce.setMetadata(e.metadata),ce.setDisableAppend(e.disableAppend),ce.setEnableEmbedded(e.enableEmbedded),ce.setSIWX(e.siwx),!e.projectId){Or.open(qr.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((i=e.adapters)==null?void 0:i.find(s=>s.namespace===oe.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");ce.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,i;return be.isClient()?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((i=document.querySelector('link[rel~="icon"]'))==null?void 0:i.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=el.getUnsupportedNetwork(`${n}:${e}`);F.setActiveCaipNetwork(r)}}getDefaultNetwork(){return el.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return el.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return el.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(i=>{var s;return i.id===((s=e.defaultNetwork)==null?void 0:s.id)});return n?el.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e,n){var r,i;try{this.setLoading(!0,e);let s={connections:[]};const o=this.getAdapter(e);return(((i=(r=F.state.chains.get(e))==null?void 0:r.accountState)==null?void 0:i.caipAddress)||!ce.state.enableReconnect)&&(o!=null&&o.disconnect)&&(s=await o.disconnect({id:n})),this.setLoading(!1,e),s}catch(s){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${s.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var u;const e=F.state.activeChain,n=this.getAdapter(e),r=(u=this.getCaipNetwork(e))==null?void 0:u.id,i=Ce.getConnections(e),s=this.remoteFeatures.multiWallet,o=i.length>0;if(!n)throw new Error("Adapter not found");const a=await n.connectWalletConnect(r);(!o||!s)&&this.close(),this.setClientId((a==null?void 0:a.clientId)||null),Ne.setConnectedNamespaces([...F.state.chains.keys()]),await this.syncWalletConnectAccount(),await Bo.initializeIfEnabled()},connectExternal:async({id:e,address:n,info:r,type:i,provider:s,chain:o,caipNetwork:a,socialUri:c})=>{var w,y,b,C,x,E;const u=F.state.activeChain,f=o||u,h=this.getAdapter(f);if(o&&o!==u&&!a){const I=this.getCaipNetworks().find(S=>S.chainNamespace===o);I&&this.setCaipNetwork(I)}if(!f)throw new Error("connectExternal: namespace not found");if(!h)throw new Error("connectExternal: adapter not found");const p=this.getCaipNetwork(f),g=await h.connect({id:e,address:n,info:r,type:i,provider:s,socialUri:c,chainId:(a==null?void 0:a.id)||(p==null?void 0:p.id),rpcUrl:((b=(y=(w=a==null?void 0:a.rpcUrls)==null?void 0:w.default)==null?void 0:y.http)==null?void 0:b[0])||((E=(x=(C=p==null?void 0:p.rpcUrls)==null?void 0:C.default)==null?void 0:x.http)==null?void 0:E[0])});if(g)return Ne.addConnectedNamespace(f),this.syncProvider({...g,chainNamespace:f}),this.setStatus("connected",f),this.syncConnectedWalletInfo(f),Ne.removeDisconnectedConnectorId(e,f),{address:g.address}},reconnectExternal:async({id:e,info:n,type:r,provider:i})=>{var a;const s=F.state.activeChain,o=this.getAdapter(s);if(!s)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:i,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),Ne.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async e=>{var u;const{id:n,chainNamespace:r,initialDisconnect:i}=e||{},s=r||F.state.activeChain,o=pe.getConnectorId(s),a=n===oe.CONNECTOR_ID.AUTH||o===oe.CONNECTOR_ID.AUTH,c=n===oe.CONNECTOR_ID.WALLET_CONNECT||o===oe.CONNECTOR_ID.WALLET_CONNECT;try{const f=Array.from(F.state.chains.keys());let h=r?[r]:f;(c||a)&&(h=f);const p=h.map(async y=>{const b=pe.getConnectorId(y),C=await this.disconnectNamespace(y,n||b);C&&(a&&Ne.deleteConnectedSocialProvider(),C.connections.forEach(x=>{Ne.addDisconnectedConnectorId(x.connectorId,y)})),i&&this.onDisconnectNamespace({chainNamespace:y,closeModal:!1})}),g=await Promise.allSettled(p);Kn.resetSend(),Ce.resetWcConnection(),(u=Bo.getSIWX())!=null&&u.signOutOnDisconnect&&await Bo.clearSessions(),pe.setFilterByNamespace(void 0),Ce.syncStorageConnections();const w=g.filter(y=>y.status==="rejected");if(w.length>0)throw new Error(w.map(y=>y.reason.message).join(", "));At.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(f){throw new Error(`Failed to disconnect chains: ${f.message}`)}},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=F.state.activeChain,r=this.getAdapter(F.state.activeChain);if(!n)throw new Error("signMessage: namespace not found");if(!r)throw new Error("signMessage: adapter not found");const i=await(r==null?void 0:r.signMessage({message:e,address:Le.state.address,provider:br.getProvider(n)}));return(i==null?void 0:i.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(!n)throw new Error("sendTransaction: namespace not found");if(rn.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(n);if(!r)throw new Error("sendTransaction: adapter not found");const i=br.getProvider(n),s=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}));return(s==null?void 0:s.hash)||""}return""},estimateGas:async e=>{const n=e.chainNamespace;if(n===oe.CHAIN.EVM){const r=this.getAdapter(n);if(!r)throw new Error("estimateGas: adapter is required but got undefined");const i=br.getProvider(n),s=this.getCaipNetwork();if(!s)throw new Error("estimateGas: caipNetwork is required but got undefined");const o=await(r==null?void 0:r.estimateGas({...e,provider:i,caipNetwork:s}));return(o==null?void 0:o.gas)||0n}return 0n},getEnsAvatar:async()=>{var n;const e=F.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:Le.state.address,chainId:Number((n=this.getCaipNetwork())==null?void 0:n.id),chainNamespace:e}),Le.state.profileImage||!1},getEnsAddress:async e=>await Ld.resolveReownName(e),writeContract:async e=>{const n=F.state.activeChain,r=this.getAdapter(n);if(!n)throw new Error("writeContract: namespace is required but got undefined");if(!r)throw new Error("writeContract: adapter is required but got undefined");const i=this.getCaipNetwork(),s=this.getCaipAddress(),o=br.getProvider(n);if(!i||!s)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");const a=await(r==null?void 0:r.writeContract({...e,caipNetwork:i,provider:o,caipAddress:s}));return a==null?void 0:a.hash},parseUnits:(e,n)=>{const r=this.getAdapter(F.state.activeChain);if(!r)throw new Error("parseUnits: adapter is required but got undefined");return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(F.state.activeChain);if(!r)throw new Error("formatUnits: adapter is required but got undefined");return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(F.state.activeChain);if(!n)throw new Error("getCapabilities: adapter is required but got undefined");return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(F.state.activeChain);if(!n)throw new Error("grantPermissions: adapter is required but got undefined");return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(F.state.activeChain);if(!n)throw new Error("revokePermissions: adapter is required but got undefined");return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(F.state.activeChain);if(!n)throw new Error("walletGetAssets: adapter is required but got undefined");return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!Le.state.address||this.updateNativeBalance(Le.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Ce.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,i,s,o;if(br.getProviderId(F.state.activeChain)===_r.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(s=(i=this.universalProvider)==null?void 0:i.session)==null?void 0:s.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=br.getProvider(n),s=br.getProviderId(n);if(e.chainNamespace===F.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:i,providerType:s}))}else if(this.setCaipNetwork(e),s===_r.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],i=n.accounts.map(s=>{const{chainId:o,chainNamespace:a}=Zs.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...r,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var s;const i=e==null?void 0:e.find(o=>o.namespace===r);return i?(i.construct({namespace:r,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),n[r]=i):n[r]=new M3e({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),await((n=this.chainAdapters)==null?void 0:n[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=Ne.getConnectionStatus();ce.state.enableReconnect===!1?this.setStatus("disconnected",e):r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(Ne.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:i,chainId:s})=>{var u,f;const o=this.getCaipNetworks().find(h=>h.id.toString()===s.toString()||h.caipNetworkId.toString()===s.toString()),a=F.state.activeChain===e,c=(f=(u=F.state.chains.get(e))==null?void 0:u.accountState)==null?void 0:f.address;if(o){const h=a&&i?i:c;h&&this.syncAccount({address:h,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),n.on("disconnect",()=>{const i=this.remoteFeatures.multiWallet,s=Array.from(Ce.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!i||s.length===0})}),n.on("connections",i=>{this.setConnections(i,e)}),n.on("pendingTransactions",()=>{const i=Le.state.address,s=F.state.activeCaipNetwork;!i||!(s!=null&&s.id)||this.updateNativeBalance(i,s.id,s.chainNamespace)}),n.on("accountChanged",({address:i,chainId:s,connector:o})=>{var c,u;const a=F.state.activeChain===e;o!=null&&o.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e)),a&&s?this.syncAccount({address:i,chainId:s,chainNamespace:e}):a&&((c=F.state.activeCaipNetwork)!=null&&c.id)?this.syncAccount({address:i,chainId:(u=F.state.activeCaipNetwork)==null?void 0:u.id,chainNamespace:e}):this.syncAccountInfo(i,s,e),Ne.addConnectedNamespace(e)})}async createUniversalProviderForAdapter(e){var n,r,i;await this.getUniversalProvider(),this.universalProvider&&await((i=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null?void 0:i.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>Ce.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){var n,r,i,s;await this.syncWalletConnectAccount();const e=this.getAddress();At.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:be.isMobile()?"mobile":"qrcode",name:((s=(i=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.peer)==null?void 0:i.metadata)==null?void 0:s.name)||"Unknown",reconnect:!0}})}async syncNamespaceConnection(e){try{e===oe.CHAIN.EVM&&be.isSafeApp()&&pe.setConnectorId(oe.CONNECTOR_ID.SAFE,e);const n=pe.getConnectorId(e);switch(this.setStatus("connecting",e),n){case oe.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case oe.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:n,closeModal:r}=e||{};F.resetAccount(n),F.resetNetwork(n),Ne.removeConnectedNamespace(n);const i=Array.from(F.state.chains.keys());(n?[n]:i).forEach(o=>Ne.addDisconnectedConnectorId(pe.getConnectorId(o)||"",o)),pe.removeConnectorId(n),br.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n),r!==!1&&Kt.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{var i;const n=this.getCaipAddress(e),r=this.getCaipNetwork(e);return(i=this.chainAdapters)==null?void 0:i[e].syncConnections({connectToFirstConnector:!n,caipNetwork:r,getConnectorStorageInfo(s){const a=Ne.getConnections()[e]??[];return{hasDisconnected:Ne.isConnectorDisconnected(s,e),hasConnected:a.some(c=>ar.isLowerCaseMatch(c.connectorId,s))}}})}))}async syncAdapterConnection(e){var a,c,u,f;const n=this.getAdapter(e),r=pe.getConnectorId(e),i=this.getCaipNetwork(e),o=pe.getConnectors(e).find(h=>h.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(i!=null&&i.id))throw new Error("CaipNetwork not found");const h=await(n==null?void 0:n.syncConnection({namespace:e,id:o.id,chainId:i.id,rpcUrl:(u=(c=(a=i==null?void 0:i.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:u[0]}));h?(this.syncProvider({...h,chainNamespace:e}),await this.syncAccount({...h,chainNamespace:e}),this.setStatus("connected",e),At.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:h.address,properties:{method:"browser",name:((f=o.info)==null?void 0:f.name)||o.name||"Unknown",reconnect:!0}})):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){var r,i;const e=Object.keys(((i=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:i.namespaces)||{}),n=this.chainNamespaces.map(async s=>{var f,h,p,g,w;const o=this.getAdapter(s);if(!o)return;const a=((g=(p=(h=(f=this.universalProvider)==null?void 0:f.session)==null?void 0:h.namespaces)==null?void 0:p[s])==null?void 0:g.accounts)||[],c=(w=F.state.activeCaipNetwork)==null?void 0:w.id,u=a.find(y=>{const{chainId:b}=Zs.parseCaipAddress(y);return b===(c==null?void 0:c.toString())})||a[0];if(u){const y=Zs.validateCaipAddress(u),{chainId:b,address:C}=Zs.parseCaipAddress(y);if(br.setProviderId(s,_r.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&F.state.activeCaipNetwork&&o.namespace!==oe.CHAIN.EVM){const x=o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:F.state.activeCaipNetwork});br.setProvider(s,x)}else br.setProvider(s,this.universalProvider);pe.setConnectorId(oe.CONNECTOR_ID.WALLET_CONNECT,s),Ne.addConnectedNamespace(s),await this.syncAccount({address:C,chainId:b,chainNamespace:s})}else e.includes(s)&&this.setStatus("disconnected",s);this.syncConnectedWalletInfo(s),await F.setApprovedCaipNetworksData(s)});await Promise.all(n)}syncProvider({type:e,provider:n,id:r,chainNamespace:i}){br.setProviderId(i,e),br.setProvider(i,n),pe.setConnectorId(r,i)}async syncAccount(e){var h,p;const n=e.chainNamespace===F.state.activeChain,r=F.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=Ne.getActiveNetworkProps(),c=s||a,u=((h=F.state.activeCaipNetwork)==null?void 0:h.name)===oe.UNSUPPORTED_NETWORK_NAME,f=F.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(u&&!f)&&c){let g=this.getCaipNetworks().find(b=>b.id.toString()===c.toString()),w=this.getCaipNetworks().find(b=>b.chainNamespace===o);if(!f&&!g&&!w){const b=this.getApprovedCaipNetworkIds()||[],C=b.find(E=>{var I;return((I=Zs.parseCaipNetworkId(E))==null?void 0:I.chainId)===c.toString()}),x=b.find(E=>{var I;return((I=Zs.parseCaipNetworkId(E))==null?void 0:I.chainNamespace)===o});g=this.getCaipNetworks().find(E=>E.caipNetworkId===C),w=this.getCaipNetworks().find(E=>E.caipNetworkId===x||"deprecatedCaipNetworkId"in E&&E.deprecatedCaipNetworkId===x)}const y=g||w;(y==null?void 0:y.chainNamespace)===F.state.activeChain?ce.state.enableNetworkSwitch&&!ce.state.allowUnsupportedChain&&((p=F.state.activeCaipNetwork)==null?void 0:p.name)===oe.UNSUPPORTED_NETWORK_NAME?F.showUnsupportedChainUI():this.setCaipNetwork(y):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),ar.isLowerCaseMatch(i,Le.state.address)||this.syncAccountInfo(i,y==null?void 0:y.id,o),n?await this.syncBalance({address:i,chainId:y==null?void 0:y.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:r==null?void 0:r.id,chainNamespace:o}),this.syncIdentity({address:i,chainId:s,chainNamespace:o})}}async syncAccountInfo(e,n,r){const i=this.getCaipAddress(r),s=n||(i==null?void 0:i.split(":")[1]);if(!s)return;const o=`${r}:${s}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:s,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const i=r[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var i;const n=pe.getConnectorId(e),r=br.getProviderId(e);if(r===_r.CONNECTOR_TYPE_ANNOUNCED||r===_r.CONNECTOR_TYPE_INJECTED){if(n){const o=this.getConnectors().find(a=>{var h,p;const c=a.id===n,u=((h=a.info)==null?void 0:h.rdns)===n,f=(p=a.connectors)==null?void 0:p.some(g=>{var w;return g.id===n||((w=g.info)==null?void 0:w.rdns)===n});return c||u||!!f});if(o){const{info:a,name:c,imageUrl:u}=o,f=u||this.getConnectorImage(o);this.setConnectedWalletInfo({name:c,icon:f,...a},e)}}}else if(r===_r.CONNECTOR_TYPE_WALLET_CONNECT){const s=br.getProvider(e);s!=null&&s.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:(i=s.session.peer.metadata.icons)==null?void 0:i[0]},e)}else if(n&&(n===oe.CONNECTOR_ID.COINBASE_SDK||n===oe.CONNECTOR_ID.COINBASE)){const s=this.getConnectors().find(u=>u.id===n),o=(s==null?void 0:s.name)||"Coinbase Wallet",a=(s==null?void 0:s.imageUrl)||this.getConnectorImage(s),c=s==null?void 0:s.info;this.setConnectedWalletInfo({...c,name:o,icon:a},e)}}async syncBalance(e){!$1.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var i;return r.id.toString()===((i=e.chainId)==null?void 0:i.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const i=this.getAdapter(r),s=F.getCaipNetworkByNamespace(r,n);if(i){const o=await i.getBalance({address:e,chainId:n,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,i,s,o,a,c,u,f,h,p;const e=npe.createLogger((g,...w)=>{g&&this.handleAlertError(g),console.error(...w)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(i=this.options)!=null&&i.metadata?(s=this.options)==null?void 0:s.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(u=this.options)==null?void 0:u.metadata.url:"",icons:(f=this.options)!=null&&f.metadata?(h=this.options)==null?void 0:h.metadata.icons:[""]},logger:e};ce.setManualWCControl(!!((p=this.options)!=null&&p.manualWCControl)),this.universalProvider=this.options.universalProvider??await l3e.init(n),ce.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{Ld.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:n=>{Ce.setUri(n)},onConnect:n=>{const{address:r}=be.getAccount(n[0]);Ce.finalizeWcConnection(r)},onDisconnect:()=>{F.state.noAdapters&&this.resetAccount(e),Ce.resetWcConnection()},onChainChanged:n=>{const r=F.state.activeChain,i=r&&pe.state.activeConnectorIds[r]===oe.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(F.state.noAdapters||i)){const s=this.getCaipNetworks().find(a=>a.id.toString()===n.toString()||a.caipNetworkId.toString()===n.toString()),o=this.getCaipNetwork();if(!s){this.setUnsupportedNetwork(n);return}(o==null?void 0:o.id.toString())!==(s==null?void 0:s.id.toString())&&(o==null?void 0:o.chainNamespace)===(s==null?void 0:s.chainNamespace)&&this.setCaipNetwork(s)}},onAccountsChanged:n=>{const r=F.state.activeChain,i=r&&pe.state.activeConnectorIds[r]===oe.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(F.state.noAdapters||i)){const s=n==null?void 0:n[0];s&&this.syncAccount({address:s.address,chainId:s.chainId,chainNamespace:s.chainNamespace})}}})})}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&be.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){At.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(qr.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,i]=n??[],{message:s,alertErrorKey:o}=i??{};if(r&&s&&!this.reportedAlertErrors[r]){const a=qr.ALERT_ERRORS[o];a&&(Or.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var i;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&Ce.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return Kt.open({...e,data:{swap:e.arguments}})}return Kt.open(e)}async close(){await this.injectModalUi(),Kt.close()}setLoading(e,n){Kt.setLoading(e,n)}async disconnect(e){await Ce.disconnect({namespace:e})}getSIWX(){return ce.state.siwx}getError(){return""}getChainId(){var e;return(e=F.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){Or.open(qr.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await F.switchActiveNetwork(n)}getWalletProvider(){return F.state.activeChain?br.state.providers[F.state.activeChain]:null}getWalletProviderType(){return br.getProviderId(F.state.activeChain)}subscribeProviders(e){return br.subscribeProviders(e)}getThemeMode(){return cs.state.themeMode}getThemeVariables(){return cs.state.themeVariables}setThemeMode(e){cs.setThemeMode(e),yG(cs.state.themeMode)}setTermsConditionsUrl(e){ce.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){ce.setPrivacyPolicyUrl(e)}setThemeVariables(e){cs.setThemeVariables(e),T3e(cs.state.themeVariables)}subscribeTheme(e){return cs.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?Ce.subscribe(e):(Or.open(oe.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){var n,r;return e?(r=(n=F.state.chains.get(e))==null?void 0:n.accountState)==null?void 0:r.connectedWalletInfo:Le.state.connectedWalletInfo}getAccount(e){const n=e||F.state.activeChain,r=pe.getAuthConnector(n),i=F.getAccountData(n),s=Ne.getConnectedConnectorId(F.state.activeChain),o=Ce.getConnections(n);if(!n)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:u,type:f,publicKey:h})=>be.createAccount(n,u,f||"eoa",h)));if(i)return{allAccounts:a,caipAddress:i.caipAddress,address:be.getPlainAddress(i.caipAddress),isConnected:!!i.caipAddress,status:i.status,embeddedWalletInfo:r&&s===oe.CONNECTOR_ID.AUTH?{user:i.user?{...i.user,username:Ne.getConnectedSocialUsername()}:void 0,authProvider:i.socialProvider||"email",accountType:ii(n),isSmartAccountDeployed:!!i.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const i=this.getAccount(n);i&&e(i)};n?F.subscribeChainProp("accountState",r,n):F.subscribe(r),pe.subscribe(r)}subscribeNetwork(e){return F.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e,n){return n?Le.subscribeKey("connectedWalletInfo",e,n):Le.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Le.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){F.subscribeKey("activeCaipNetwork",e)}getState(){return nl.state}getRemoteFeatures(){return ce.state.remoteFeatures}subscribeState(e){return nl.subscribe(e)}subscribeRemoteFeatures(e){return ce.subscribeKey("remoteFeatures",e)}showErrorMessage(e){Tn.showError(e)}showSuccessMessage(e){Tn.showSuccess(e)}getEvent(){return{...At.state}}subscribeEvents(e){return At.subscribe(e)}replace(e){Ee.replace(e)}redirect(e){Ee.push(e)}popTransactionStack(e){Ee.popTransactionStack(e)}isOpen(){return Kt.state.open}isTransactionStackEmpty(){return Ee.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){ce.setFeatures(e)}updateRemoteFeatures(e){ce.setRemoteFeatures(e)}updateOptions(e){const r={...ce.state||{},...e};ce.setOptions(r)}setConnectMethodsOrder(e){ce.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){ce.setWalletFeaturesOrder(e)}setCollapseWallets(e){ce.setCollapseWallets(e)}setSocialsOrder(e){ce.setSocialsOrder(e)}getConnectMethodsOrder(){return Su.getConnectOrderMethod(ce.state.features,pe.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(i=>i.id===r.id)||F.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===n)&&F.removeNetwork(e,n)}}let pB=!1;class j3e extends F3e{async onAuthProviderConnected(e){e.message&&e.signature&&e.siwxMessage&&await Bo.addEmbeddedWalletSession({chainId:e.siwxMessage.chainId,accountAddress:e.address,notBefore:e.siwxMessage.notBefore,statement:e.siwxMessage.statement,resources:e.siwxMessage.resources,requestId:e.siwxMessage.requestId,issuedAt:e.siwxMessage.issuedAt,domain:e.siwxMessage.domain,uri:e.siwxMessage.uri,version:e.siwxMessage.version,nonce:e.siwxMessage.nonce},e.message,e.signature);const n=F.state.activeChain;if(!n)throw new Error("AppKit:onAuthProviderConnected - namespace is required");const r=n===oe.CHAIN.EVM?`eip155:${e.chainId}:${e.address}`:`${e.chainId}:${e.address}`,i=ce.state.defaultAccountTypes[n],s=ii(n),o=e.preferredAccountType||s||i;this.setCaipAddress(r,n);const{signature:a,siwxMessage:c,message:u,...f}=e;this.setUser({...Le.state.user||{},...f},n),this.setSmartAccountDeployed(!!e.smartAccountDeployed,n),this.setPreferredAccountType(o,n),this.setLoading(!1,n)}setupAuthConnectorListeners(e){e.onRpcRequest(n=>{ga.checkIfRequestExists(n)?ga.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(tr.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(tr.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const i=ga.checkIfRequestIsSafe(r),s=Le.state.address,o=F.state.activeCaipNetwork;i||(s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=F.state.activeChain;if(!n)throw new Error("AppKit:onNotConnected - namespace is required");pe.getConnectorId(n)===oe.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(this.onAuthProviderConnected.bind(this)),e.onSocialConnected(this.onAuthProviderConnected.bind(this)),e.onSetPreferredAccount(({address:n,type:r})=>{const i=F.state.activeChain;if(!i)throw new Error("AppKit:onSetPreferredAccount - namespace is required");n&&this.setPreferredAccountType(r,i)})}async syncAuthConnectorTheme(e){if(!e)return;const n=cs.getSnapshot(),r=ce.getSnapshot();await Promise.all([e.syncDappData({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),e.syncTheme({themeMode:n.themeMode,themeVariables:n.themeVariables,w3mThemeVariables:_d(n.themeVariables,n.themeMode)})])}async syncAuthConnector(e,n){var u,f,h,p,g,w,y,b;const r=oe.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),i=n===F.state.activeChain;if(!r)return;this.setLoading(!0,n);const s=e.getLoginEmailUsed();this.setLoading(s,n),s&&this.setStatus("connecting",n);const o=e.getEmail(),a=e.getUsername();this.setUser({...((u=Le.state)==null?void 0:u.user)||{},username:a,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected();if(await this.syncAuthConnectorTheme(e),n&&r&&i){const C=await e.getSmartAccountEnabledNetworks();if(F.setSmartAccountEnabledNetworks((C==null?void 0:C.smartAccountEnabledNetworks)||[],n),c&&((f=this.connectionControllerClient)!=null&&f.connectExternal)){await((p=this.connectionControllerClient)==null?void 0:p.connectExternal({id:oe.CONNECTOR_ID.AUTH,info:{name:oe.CONNECTOR_ID.AUTH},type:_r.CONNECTOR_TYPE_AUTH,provider:e,chainId:(h=F.state.activeCaipNetwork)==null?void 0:h.id,chain:n})),this.setStatus("connected",n);const x=Ne.getConnectedSocialProvider();x?At.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",address:Le.state.address,properties:{provider:x,reconnect:!0}}):At.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:Le.state.address,properties:{method:"email",name:((b=(y=(w=(g=this.universalProvider)==null?void 0:g.session)==null?void 0:w.peer)==null?void 0:y.metadata)==null?void 0:b.name)||"Unknown",reconnect:!0}})}else pe.getConnectorId(n)===oe.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),Ne.removeConnectedNamespace(n))}this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!be.isTelegram())return;const r=Ne.getTelegramSocialProvider();if(!r||!be.isClient())return;const s=new URL(window.location.href).searchParams.get("result_uri");if(!s)return;Le.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=pe.getAuthConnector();r&&o&&(this.setLoading(!0,e),await Ce.connectExternal({id:o.id,type:o.type,socialUri:s},o.chain),Ne.setConnectedSocialProvider(r),Ne.removeTelegramSocialProvider(),At.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var u,f,h,p;if(!oe.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=(u=this.remoteFeatures)==null?void 0:u.email,i=Array.isArray((f=this.remoteFeatures)==null?void 0:f.socials)&&this.remoteFeatures.socials.length>0,s=r||i,a=ar.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&((h=this.options)!=null&&h.projectId)&&s&&(this.authProvider=Ym.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(p=this.getCaipNetwork(a))==null?void 0:p.caipNetworkId,abortController:qr.EmbeddedWalletAbortController,onTimeout:g=>{g==="iframe_load_failed"?Or.open(qr.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):g==="iframe_request_timeout"?Or.open(qr.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):g==="unverified_domain"&&Or.open(qr.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:g=>Td(g),getCaipNetworks:g=>F.getCaipNetworks(g)}),nl.subscribeOpen(g=>{var w;!g&&this.isTransactionStackEmpty()&&((w=this.authProvider)==null||w.rejectRpcRequests())}));const c=e===F.state.activeChain&&ce.state.enableReconnect;ce.state.enableReconnect===!1?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,i;this.createAuthProvider(e),this.authProvider&&((i=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||i.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&nt.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var o,a;if(!e)return;const n=F.state.activeChain,r=e.chainNamespace,i=this.getAddressByChainNamespace(r);if(r===n&&i){const c=this.getAdapter(r),u=br.getProvider(r),f=br.getProviderId(r);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:u,providerType:f})),this.setCaipNetwork(e)}else{const u=br.getProviderId(n)===_r.CONNECTOR_TYPE_AUTH,f=br.getProviderId(r),h=f===_r.CONNECTOR_TYPE_AUTH,p=oe.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!r)throw new Error("AppKit:switchCaipNetwork - networkNamespace is required");if((u&&f===void 0||h)&&p)try{if(F.state.activeChain=e.chainNamespace,i){const g=this.getAdapter(r);await(g==null?void 0:g.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:f}))}else await((a=(o=this.connectionControllerClient)==null?void 0:o.connectExternal)==null?void 0:a.call(o,{id:oe.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:_r.CONNECTOR_TYPE_AUTH,caipNetwork:e}));this.setCaipNetwork(e)}catch{const w=this.getAdapter(r);await(w==null?void 0:w.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:f}))}else if(f===_r.CONNECTOR_TYPE_WALLET_CONNECT){if(!F.state.noAdapters){const g=this.getAdapter(r),w=br.getProvider(r),y=br.getProviderId(r);await(g==null?void 0:g.switchNetwork({caipNetwork:e,provider:w,providerType:y}))}this.setCaipNetwork(e),this.syncWalletConnectAccount()}else this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:r})}}async initialize(e){var n;await super.initialize(e),(n=this.chainNamespaces)==null||n.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),nl.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var a;const i=`${r}:${n}`,s=(a=this.caipNetworks)==null?void 0:a.find(c=>c.caipNetworkId===i);if(s!=null&&s.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}const o=pe.getConnectorId(r)===oe.CONNECTOR_ID.AUTH;try{const{name:c,avatar:u}=await this.fetchIdentity({address:e});!c&&o?await this.syncReownName(e,r):(this.setProfileName(c,r),this.setProfileImage(u,r))}catch{n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=br.getProviderId(e);if(n===_r.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const i=Ne.getConnectedSocialProvider()??"email",s=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(be.isClient()&&!pB)try{const e={...rn.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),be.isClient()&&!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!ce.state.disableAppend&&!ce.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}pB=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!be.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(Oe(()=>import("./embedded-wallet-Dy76Ga9I.js"),[])),n.email&&r.push(Oe(()=>import("./email-C3GHtAuK.js"),__vite__mapDeps([2,3]))),n.socials&&r.push(Oe(()=>import("./socials-e9YjHZDW.js"),[])),n.swaps&&n.swaps.length>0&&r.push(Oe(()=>import("./swaps-C6Nj1-xw.js"),__vite__mapDeps([4,5,6]))),e.send&&r.push(Oe(()=>import("./send-C4lviZrP.js"),__vite__mapDeps([7,6,5]))),e.receive&&r.push(Oe(()=>import("./receive-BzEa0OSf.js"),[])),n.onramp&&n.onramp.length>0&&r.push(Oe(()=>import("./onramp-HEnWj5F_.js"),[])),n.payWithExchange&&r.push(Oe(()=>import("./pay-with-exchange-BPkQGfcX.js"),[])),n.activity&&r.push(Oe(()=>import("./transactions-CGiX1Leo.js"),[])),(e.pay||n.payments)&&r.push(Oe(()=>import("./index-C8m3f1cD.js"),[])),n.emailCapture&&r.push(Oe(()=>import("./data-capture-DD_83oeD.js"),__vite__mapDeps([8,3,9]))),await Promise.all([...r,Oe(()=>Promise.resolve().then(()=>yTe),void 0),Oe(()=>import("./w3m-modal-TG3tuQtm.js"),__vite__mapDeps([10,5]))])}}const z3e="1.7.20";/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const W3e=new Set(["children","localName","ref","style","className"]),mB=new WeakMap,gB=(t,e,n,r,i)=>{const s=i==null?void 0:i[e];s===void 0?(t[e]=n,n==null&&e in HTMLElement.prototype&&t.removeAttribute(e)):n!==r&&((o,a,c)=>{let u=mB.get(o);u===void 0&&mB.set(o,u=new Map);let f=u.get(a);c!==void 0?f===void 0?(u.set(a,f={handleEvent:c}),o.addEventListener(a,f)):f.handleEvent=c:f!==void 0&&(u.delete(a),o.removeEventListener(a,f))})(t,s,n)},_S=({react:t,tagName:e,elementClass:n,events:r,displayName:i})=>{const s=new Set(Object.keys(r??{})),o=t.forwardRef((a,c)=>{const u=t.useRef(new Map),f=t.useRef(null),h={},p={};for(const[g,w]of Object.entries(a))W3e.has(g)?h[g==="className"?"class":g]=w:s.has(g)||g in n.prototype?p[g]=w:h[g]=w;return t.useLayoutEffect(()=>{if(f.current===null)return;const g=new Map;for(const w in p)gB(f.current,w,a[w],u.current.get(w),r),u.current.delete(w),g.set(w,a[w]);for(const[w,y]of u.current)gB(f.current,w,void 0,y,r);u.current=g}),t.useLayoutEffect(()=>{var g;(g=f.current)==null||g.removeAttribute("defer-hydration")},[]),h.suppressHydrationWarning=!0,t.createElement(e,{...h,ref:t.useCallback(g=>{f.current=g,typeof c=="function"?c(g):c!==null&&(c.current=g)},[c])})});return o.displayName=i??n.name,o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const H3e={attribute:!0,type:String,converter:U3,reflect:!1,hasChanged:c8},V3e=(t=H3e,e,n)=>{const{kind:r,metadata:i}=n;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),r==="setter"&&((t=Object.create(t)).wrapped=!0),s.set(n.name,t),r==="accessor"){const{name:o}=n;return{set(a){const c=e.get.call(this);e.set.call(this,a),this.requestUpdate(o,c,t)},init(a){return a!==void 0&&this.C(o,void 0,t,a),a}}}if(r==="setter"){const{name:o}=n;return function(a){const c=this[o];e.call(this,a),this.requestUpdate(o,c,t)}}throw Error("Unsupported decorator location: "+r)};function Z(t){return(e,n)=>typeof n=="object"?V3e(t,e,n):((r,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,r),o?Object.getOwnPropertyDescriptor(i,s):void 0})(t,e,n)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function fe(t){return Z({...t,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const We=t=>t??di,q3e=He`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  :host([data-object-fit='cover']) img {
    object-fit: cover;
    object-position: center center;
  }

  :host([data-object-fit='contain']) img {
    object-fit: contain;
    object-position: center center;
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    border-radius: inherit;
  }
`;var nx=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let hg=class extends _e{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0,this.objectFit="cover"}render(){return this.objectFit&&(this.dataset.objectFit=this.objectFit),this.style.cssText=`
      --local-width: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      --local-height: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      `,B`<img src=${this.src} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};hg.styles=[Ut,SS,q3e];nx([Z()],hg.prototype,"src",void 0);nx([Z()],hg.prototype,"alt",void 0);nx([Z()],hg.prototype,"size",void 0);nx([Z()],hg.prototype,"objectFit",void 0);hg=nx([Ae("wui-image")],hg);const G3e=He`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 2s linear infinite;
  }

  circle {
    fill: none;
    stroke: var(--local-color);
    stroke-width: 4px;
    stroke-dasharray: 1, 124;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    animation: dash 1.5s ease-in-out infinite;
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes dash {
    0% {
      stroke-dasharray: 1, 124;
      stroke-dashoffset: 0;
    }

    50% {
      stroke-dasharray: 90, 124;
      stroke-dashoffset: -35;
    }

    100% {
      stroke-dashoffset: -125;
    }
  }
`;var f8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let _2=class extends _e{constructor(){super(...arguments),this.color="accent-100",this.size="lg"}render(){return this.style.cssText=`--local-color: ${this.color==="inherit"?"inherit":`var(--wui-color-${this.color})`}`,this.dataset.size=this.size,B`<svg viewBox="25 25 50 50">
      <circle r="20" cy="50" cx="50"></circle>
    </svg>`}};_2.styles=[Ut,G3e];f8([Z()],_2.prototype,"color",void 0);f8([Z()],_2.prototype,"size",void 0);_2=f8([Ae("wui-loading-spinner")],_2);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const bG={ATTRIBUTE:1,CHILD:2},h8=t=>(...e)=>({_$litDirective$:t,values:e});let vG=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,r){this._$Ct=e,this._$AM=n,this._$Ci=r}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const T2=h8(class extends vG{constructor(t){var e;if(super(t),t.type!==bG.ATTRIBUTE||t.name!=="class"||((e=t.strings)==null?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var r,i;if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in e)e[s]&&!((r=this.nt)!=null&&r.has(s))&&this.st.add(s);return this.render(e)}const n=t.element.classList;for(const s of this.st)s in e||(n.remove(s),this.st.delete(s));for(const s in e){const o=!!e[s];o===this.st.has(s)||(i=this.nt)!=null&&i.has(s)||(o?(n.add(s),this.st.add(s)):(n.remove(s),this.st.delete(s)))}return qd}}),K3e=He`
  :host {
    display: inline-flex !important;
  }

  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    font-family: var(--wui-font-family);
    font-feature-settings:
      'tnum' on,
      'lnum' on,
      'case' on;
    line-height: 130%;
    font-weight: var(--wui-font-weight-regular);
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .wui-font-medium-400 {
    font-size: var(--wui-font-size-medium);
    font-weight: var(--wui-font-weight-light);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-medium-600 {
    font-size: var(--wui-font-size-medium);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-title-600 {
    font-size: var(--wui-font-size-title);
    letter-spacing: var(--wui-letter-spacing-title);
  }

  .wui-font-title-6-600 {
    font-size: var(--wui-font-size-title-6);
    letter-spacing: var(--wui-letter-spacing-title-6);
  }

  .wui-font-mini-700 {
    font-size: var(--wui-font-size-mini);
    letter-spacing: var(--wui-letter-spacing-mini);
    text-transform: uppercase;
  }

  .wui-font-large-500,
  .wui-font-large-600,
  .wui-font-large-700 {
    font-size: var(--wui-font-size-large);
    letter-spacing: var(--wui-letter-spacing-large);
  }

  .wui-font-2xl-500,
  .wui-font-2xl-600,
  .wui-font-2xl-700 {
    font-size: var(--wui-font-size-2xl);
    letter-spacing: var(--wui-letter-spacing-2xl);
  }

  .wui-font-paragraph-400,
  .wui-font-paragraph-500,
  .wui-font-paragraph-600,
  .wui-font-paragraph-700 {
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
  }

  .wui-font-small-400,
  .wui-font-small-500,
  .wui-font-small-600 {
    font-size: var(--wui-font-size-small);
    letter-spacing: var(--wui-letter-spacing-small);
  }

  .wui-font-tiny-400,
  .wui-font-tiny-500,
  .wui-font-tiny-600 {
    font-size: var(--wui-font-size-tiny);
    letter-spacing: var(--wui-letter-spacing-tiny);
  }

  .wui-font-micro-700,
  .wui-font-micro-600,
  .wui-font-micro-500 {
    font-size: var(--wui-font-size-micro);
    letter-spacing: var(--wui-letter-spacing-micro);
    text-transform: uppercase;
  }

  .wui-font-tiny-400,
  .wui-font-small-400,
  .wui-font-medium-400,
  .wui-font-paragraph-400 {
    font-weight: var(--wui-font-weight-light);
  }

  .wui-font-large-700,
  .wui-font-paragraph-700,
  .wui-font-micro-700,
  .wui-font-mini-700 {
    font-weight: var(--wui-font-weight-bold);
  }

  .wui-font-medium-600,
  .wui-font-medium-title-600,
  .wui-font-title-6-600,
  .wui-font-large-600,
  .wui-font-paragraph-600,
  .wui-font-small-600,
  .wui-font-tiny-600,
  .wui-font-micro-600 {
    font-weight: var(--wui-font-weight-medium);
  }

  :host([disabled]) {
    opacity: 0.4;
  }
`;var rx=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let pg=class extends _e{constructor(){super(...arguments),this.variant="paragraph-500",this.color="fg-300",this.align="left",this.lineClamp=void 0}render(){const e={[`wui-font-${this.variant}`]:!0,[`wui-color-${this.color}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      --local-align: ${this.align};
      --local-color: var(--wui-color-${this.color});
    `,B`<slot class=${T2(e)}></slot>`}};pg.styles=[Ut,K3e];rx([Z()],pg.prototype,"variant",void 0);rx([Z()],pg.prototype,"color",void 0);rx([Z()],pg.prototype,"align",void 0);rx([Z()],pg.prototype,"lineClamp",void 0);pg=rx([Ae("wui-text")],pg);const Y3e=He`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
  }
`;var Ta=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ao=class extends _e{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&$r.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&$r.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&$r.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&$r.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&$r.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&$r.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&$r.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&$r.getSpacingStyles(this.margin,3)};
    `,B`<slot></slot>`}};ao.styles=[Ut,Y3e];Ta([Z()],ao.prototype,"flexDirection",void 0);Ta([Z()],ao.prototype,"flexWrap",void 0);Ta([Z()],ao.prototype,"flexBasis",void 0);Ta([Z()],ao.prototype,"flexGrow",void 0);Ta([Z()],ao.prototype,"flexShrink",void 0);Ta([Z()],ao.prototype,"alignItems",void 0);Ta([Z()],ao.prototype,"justifyContent",void 0);Ta([Z()],ao.prototype,"columnGap",void 0);Ta([Z()],ao.prototype,"rowGap",void 0);Ta([Z()],ao.prototype,"gap",void 0);Ta([Z()],ao.prototype,"padding",void 0);Ta([Z()],ao.prototype,"margin",void 0);ao=Ta([Ae("wui-flex")],ao);const Q3e=He`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
    border-radius: var(--wui-border-radius-3xl);
    box-shadow: 0 0 0 8px var(--wui-color-gray-glass-005);
    overflow: hidden;
    position: relative;
  }

  :host([data-variant='generated']) {
    --mixed-local-color-1: var(--local-color-1);
    --mixed-local-color-2: var(--local-color-2);
    --mixed-local-color-3: var(--local-color-3);
    --mixed-local-color-4: var(--local-color-4);
    --mixed-local-color-5: var(--local-color-5);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host([data-variant='generated']) {
      --mixed-local-color-1: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-1)
      );
      --mixed-local-color-2: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-2)
      );
      --mixed-local-color-3: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-3)
      );
      --mixed-local-color-4: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-4)
      );
      --mixed-local-color-5: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-5)
      );
    }
  }

  :host([data-variant='generated']) {
    box-shadow: 0 0 0 8px var(--wui-color-gray-glass-005);
    background: radial-gradient(
      var(--local-radial-circle),
      #fff 0.52%,
      var(--mixed-local-color-5) 31.25%,
      var(--mixed-local-color-3) 51.56%,
      var(--mixed-local-color-2) 65.63%,
      var(--mixed-local-color-1) 82.29%,
      var(--mixed-local-color-4) 100%
    );
  }

  :host([data-variant='default']) {
    box-shadow: 0 0 0 8px var(--wui-color-gray-glass-005);
    background: radial-gradient(
      75.29% 75.29% at 64.96% 24.36%,
      #fff 0.52%,
      #f5ccfc 31.25%,
      #dba4f5 51.56%,
      #9a8ee8 65.63%,
      #6493da 82.29%,
      #6ebdea 100%
    );
  }
`;var ix=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let mg=class extends _e{constructor(){super(...arguments),this.imageSrc=void 0,this.alt=void 0,this.address=void 0,this.size="xl"}render(){return this.style.cssText=`
    --local-width: var(--wui-icon-box-size-${this.size});
    --local-height: var(--wui-icon-box-size-${this.size});
    `,B`${this.visualTemplate()}`}visualTemplate(){if(this.imageSrc)return this.dataset.variant="image",B`<wui-image src=${this.imageSrc} alt=${this.alt??"avatar"}></wui-image>`;if(this.address){this.dataset.variant="generated";const e=$r.generateAvatarColors(this.address);return this.style.cssText+=`
 ${e}`,null}return this.dataset.variant="default",null}};mg.styles=[Ut,Q3e];ix([Z()],mg.prototype,"imageSrc",void 0);ix([Z()],mg.prototype,"alt",void 0);ix([Z()],mg.prototype,"address",void 0);ix([Z()],mg.prototype,"size",void 0);mg=ix([Ae("wui-avatar")],mg);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Z3e=t=>t===null||typeof t!="object"&&typeof t!="function",J3e=t=>t.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const E1=(t,e)=>{var r;const n=t._$AN;if(n===void 0)return!1;for(const i of n)(r=i._$AO)==null||r.call(i,e,!1),E1(i,e);return!0},z3=t=>{let e,n;do{if((e=t._$AM)===void 0)break;n=e._$AN,n.delete(t),t=e}while((n==null?void 0:n.size)===0)},CG=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(n===void 0)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),t5e(e)}};function X3e(t){this._$AN!==void 0?(z3(this),this._$AM=t,CG(this)):this._$AM=t}function e5e(t,e=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(r))for(let s=n;s<r.length;s++)E1(r[s],!1),z3(r[s]);else r!=null&&(E1(r,!1),z3(r));else E1(this,t)}const t5e=t=>{t.type==bG.CHILD&&(t._$AP??(t._$AP=e5e),t._$AQ??(t._$AQ=X3e))};let xG=class extends vG{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,n,r){super._$AT(e,n,r),CG(this),this.isConnected=e._$AU}_$AO(e,n=!0){var r,i;e!==this.isConnected&&(this.isConnected=e,e?(r=this.reconnected)==null||r.call(this):(i=this.disconnected)==null||i.call(this)),n&&(E1(this,e),z3(this))}setValue(e){if(J3e(this._$Ct))this._$Ct._$AI(e,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=e,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let n5e=class{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}},r5e=class{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){this.Y??(this.Y=new Promise(e=>this.Z=e))}resume(){var e;(e=this.Z)==null||e.call(this),this.Y=this.Z=void 0}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const yB=t=>!Z3e(t)&&typeof t.then=="function",wB=1073741823;let i5e=class extends xG{constructor(){super(...arguments),this._$Cwt=wB,this._$Cbt=[],this._$CK=new n5e(this),this._$CX=new r5e}render(...e){return e.find(n=>!yB(n))??qd}update(e,n){const r=this._$Cbt;let i=r.length;this._$Cbt=n;const s=this._$CK,o=this._$CX;this.isConnected||this.disconnected();for(let a=0;a<n.length&&!(a>this._$Cwt);a++){const c=n[a];if(!yB(c))return this._$Cwt=a,c;a<i&&c===r[a]||(this._$Cwt=wB,i=0,Promise.resolve(c).then(async u=>{for(;o.get();)await o.get();const f=s.deref();if(f!==void 0){const h=f._$Cbt.indexOf(c);h>-1&&h<f._$Cwt&&(f._$Cwt=h,f.setValue(u))}}))}return qd}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}};const s5e=h8(i5e);class o5e{constructor(){this.cache=new Map}set(e,n){this.cache.set(e,n)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}}const lI=new o5e,a5e=He`
  :host {
    display: flex;
    aspect-ratio: var(--local-aspect-ratio);
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    width: inherit;
    height: inherit;
    object-fit: contain;
    object-position: center;
  }

  .fallback {
    width: var(--local-width);
    height: var(--local-height);
  }
`;var sx=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const bB={add:async()=>(await Oe(async()=>{const{addSvg:t}=await import("./add-BwD1IR8g.js");return{addSvg:t}},[])).addSvg,allWallets:async()=>(await Oe(async()=>{const{allWalletsSvg:t}=await import("./all-wallets-7H5Fwq_f.js");return{allWalletsSvg:t}},[])).allWalletsSvg,arrowBottomCircle:async()=>(await Oe(async()=>{const{arrowBottomCircleSvg:t}=await import("./arrow-bottom-circle-BAAfGAxQ.js");return{arrowBottomCircleSvg:t}},[])).arrowBottomCircleSvg,appStore:async()=>(await Oe(async()=>{const{appStoreSvg:t}=await import("./app-store-CEaIuzud.js");return{appStoreSvg:t}},[])).appStoreSvg,apple:async()=>(await Oe(async()=>{const{appleSvg:t}=await import("./apple-s4Y-CWrh.js");return{appleSvg:t}},[])).appleSvg,arrowBottom:async()=>(await Oe(async()=>{const{arrowBottomSvg:t}=await import("./arrow-bottom-bWftQKi2.js");return{arrowBottomSvg:t}},[])).arrowBottomSvg,arrowLeft:async()=>(await Oe(async()=>{const{arrowLeftSvg:t}=await import("./arrow-left-C7s72qB6.js");return{arrowLeftSvg:t}},[])).arrowLeftSvg,arrowRight:async()=>(await Oe(async()=>{const{arrowRightSvg:t}=await import("./arrow-right-BhHBsBeK.js");return{arrowRightSvg:t}},[])).arrowRightSvg,arrowTop:async()=>(await Oe(async()=>{const{arrowTopSvg:t}=await import("./arrow-top-sgJDRHKM.js");return{arrowTopSvg:t}},[])).arrowTopSvg,bank:async()=>(await Oe(async()=>{const{bankSvg:t}=await import("./bank-DC6GoOui.js");return{bankSvg:t}},[])).bankSvg,browser:async()=>(await Oe(async()=>{const{browserSvg:t}=await import("./browser-BSqLl4f0.js");return{browserSvg:t}},[])).browserSvg,bin:async()=>(await Oe(async()=>{const{binSvg:t}=await import("./bin-CTHtxFCX.js");return{binSvg:t}},[])).binSvg,bitcoin:async()=>(await Oe(async()=>{const{bitcoinSvg:t}=await import("./bitcoin-B_o5vgn7.js");return{bitcoinSvg:t}},[])).bitcoinSvg,card:async()=>(await Oe(async()=>{const{cardSvg:t}=await import("./card-D5E3ntZJ.js");return{cardSvg:t}},[])).cardSvg,checkmark:async()=>(await Oe(async()=>{const{checkmarkSvg:t}=await import("./checkmark-DHogmWdT.js");return{checkmarkSvg:t}},[])).checkmarkSvg,checkmarkBold:async()=>(await Oe(async()=>{const{checkmarkBoldSvg:t}=await import("./checkmark-bold-CPFS5DFG.js");return{checkmarkBoldSvg:t}},[])).checkmarkBoldSvg,chevronBottom:async()=>(await Oe(async()=>{const{chevronBottomSvg:t}=await import("./chevron-bottom-JBuPY6IX.js");return{chevronBottomSvg:t}},[])).chevronBottomSvg,chevronLeft:async()=>(await Oe(async()=>{const{chevronLeftSvg:t}=await import("./chevron-left-DSvokpkG.js");return{chevronLeftSvg:t}},[])).chevronLeftSvg,chevronRight:async()=>(await Oe(async()=>{const{chevronRightSvg:t}=await import("./chevron-right-nMNELLI0.js");return{chevronRightSvg:t}},[])).chevronRightSvg,chevronTop:async()=>(await Oe(async()=>{const{chevronTopSvg:t}=await import("./chevron-top-eqxR4a03.js");return{chevronTopSvg:t}},[])).chevronTopSvg,chromeStore:async()=>(await Oe(async()=>{const{chromeStoreSvg:t}=await import("./chrome-store-PdkCq4UK.js");return{chromeStoreSvg:t}},[])).chromeStoreSvg,clock:async()=>(await Oe(async()=>{const{clockSvg:t}=await import("./clock-BtEHWw5n.js");return{clockSvg:t}},[])).clockSvg,close:async()=>(await Oe(async()=>{const{closeSvg:t}=await import("./close-DGMiln8v.js");return{closeSvg:t}},[])).closeSvg,compass:async()=>(await Oe(async()=>{const{compassSvg:t}=await import("./compass-D236_8UY.js");return{compassSvg:t}},[])).compassSvg,coinPlaceholder:async()=>(await Oe(async()=>{const{coinPlaceholderSvg:t}=await import("./coinPlaceholder-D0uDmKiK.js");return{coinPlaceholderSvg:t}},[])).coinPlaceholderSvg,copy:async()=>(await Oe(async()=>{const{copySvg:t}=await import("./copy-CbPUj1aI.js");return{copySvg:t}},[])).copySvg,cursor:async()=>(await Oe(async()=>{const{cursorSvg:t}=await import("./cursor-B5uSbtUt.js");return{cursorSvg:t}},[])).cursorSvg,cursorTransparent:async()=>(await Oe(async()=>{const{cursorTransparentSvg:t}=await import("./cursor-transparent-Cy0-hZO8.js");return{cursorTransparentSvg:t}},[])).cursorTransparentSvg,circle:async()=>(await Oe(async()=>{const{circleSvg:t}=await import("./circle-DoIzlOTd.js");return{circleSvg:t}},[])).circleSvg,desktop:async()=>(await Oe(async()=>{const{desktopSvg:t}=await import("./desktop-DEFylgt4.js");return{desktopSvg:t}},[])).desktopSvg,disconnect:async()=>(await Oe(async()=>{const{disconnectSvg:t}=await import("./disconnect-CAbW9vqp.js");return{disconnectSvg:t}},[])).disconnectSvg,discord:async()=>(await Oe(async()=>{const{discordSvg:t}=await import("./discord-BnGMiR8F.js");return{discordSvg:t}},[])).discordSvg,download:async()=>(await Oe(async()=>{const{downloadSvg:t}=await import("./download-DG51rbuR.js");return{downloadSvg:t}},[])).downloadSvg,ethereum:async()=>(await Oe(async()=>{const{ethereumSvg:t}=await import("./ethereum-BD338zp6.js");return{ethereumSvg:t}},[])).ethereumSvg,etherscan:async()=>(await Oe(async()=>{const{etherscanSvg:t}=await import("./etherscan-CLgBhwjl.js");return{etherscanSvg:t}},[])).etherscanSvg,extension:async()=>(await Oe(async()=>{const{extensionSvg:t}=await import("./extension-Bo2u3-Hj.js");return{extensionSvg:t}},[])).extensionSvg,externalLink:async()=>(await Oe(async()=>{const{externalLinkSvg:t}=await import("./external-link-DzHrsn45.js");return{externalLinkSvg:t}},[])).externalLinkSvg,facebook:async()=>(await Oe(async()=>{const{facebookSvg:t}=await import("./facebook--uzygMmA.js");return{facebookSvg:t}},[])).facebookSvg,farcaster:async()=>(await Oe(async()=>{const{farcasterSvg:t}=await import("./farcaster-zhqrRHbq.js");return{farcasterSvg:t}},[])).farcasterSvg,filters:async()=>(await Oe(async()=>{const{filtersSvg:t}=await import("./filters-BYnQld8n.js");return{filtersSvg:t}},[])).filtersSvg,github:async()=>(await Oe(async()=>{const{githubSvg:t}=await import("./github-CI5oneRz.js");return{githubSvg:t}},[])).githubSvg,google:async()=>(await Oe(async()=>{const{googleSvg:t}=await import("./google-DFxjcxwZ.js");return{googleSvg:t}},[])).googleSvg,helpCircle:async()=>(await Oe(async()=>{const{helpCircleSvg:t}=await import("./help-circle-CDe3PaRR.js");return{helpCircleSvg:t}},[])).helpCircleSvg,image:async()=>(await Oe(async()=>{const{imageSvg:t}=await import("./image-DHaReJ4j.js");return{imageSvg:t}},[])).imageSvg,id:async()=>(await Oe(async()=>{const{idSvg:t}=await import("./id-DvjzKt_m.js");return{idSvg:t}},[])).idSvg,infoCircle:async()=>(await Oe(async()=>{const{infoCircleSvg:t}=await import("./info-circle-fQSLwpWq.js");return{infoCircleSvg:t}},[])).infoCircleSvg,lightbulb:async()=>(await Oe(async()=>{const{lightbulbSvg:t}=await import("./lightbulb-lRBzGgOI.js");return{lightbulbSvg:t}},[])).lightbulbSvg,mail:async()=>(await Oe(async()=>{const{mailSvg:t}=await import("./mail-Cz3pUcAL.js");return{mailSvg:t}},[])).mailSvg,mobile:async()=>(await Oe(async()=>{const{mobileSvg:t}=await import("./mobile-CBL48h8J.js");return{mobileSvg:t}},[])).mobileSvg,more:async()=>(await Oe(async()=>{const{moreSvg:t}=await import("./more-CHIBNKmT.js");return{moreSvg:t}},[])).moreSvg,networkPlaceholder:async()=>(await Oe(async()=>{const{networkPlaceholderSvg:t}=await import("./network-placeholder-EjDm5rlQ.js");return{networkPlaceholderSvg:t}},[])).networkPlaceholderSvg,nftPlaceholder:async()=>(await Oe(async()=>{const{nftPlaceholderSvg:t}=await import("./nftPlaceholder-DIuw4N92.js");return{nftPlaceholderSvg:t}},[])).nftPlaceholderSvg,off:async()=>(await Oe(async()=>{const{offSvg:t}=await import("./off-DArOWRJg.js");return{offSvg:t}},[])).offSvg,playStore:async()=>(await Oe(async()=>{const{playStoreSvg:t}=await import("./play-store-CPn76zp6.js");return{playStoreSvg:t}},[])).playStoreSvg,plus:async()=>(await Oe(async()=>{const{plusSvg:t}=await import("./plus-Bs1v9eRm.js");return{plusSvg:t}},[])).plusSvg,qrCode:async()=>(await Oe(async()=>{const{qrCodeIcon:t}=await import("./qr-code-CVVEBlJf.js");return{qrCodeIcon:t}},[])).qrCodeIcon,recycleHorizontal:async()=>(await Oe(async()=>{const{recycleHorizontalSvg:t}=await import("./recycle-horizontal-CGTj5PpX.js");return{recycleHorizontalSvg:t}},[])).recycleHorizontalSvg,refresh:async()=>(await Oe(async()=>{const{refreshSvg:t}=await import("./refresh-DvIDmmoW.js");return{refreshSvg:t}},[])).refreshSvg,search:async()=>(await Oe(async()=>{const{searchSvg:t}=await import("./search-8GugMNqD.js");return{searchSvg:t}},[])).searchSvg,send:async()=>(await Oe(async()=>{const{sendSvg:t}=await import("./send-DDFPsFAn.js");return{sendSvg:t}},[])).sendSvg,swapHorizontal:async()=>(await Oe(async()=>{const{swapHorizontalSvg:t}=await import("./swapHorizontal-CtxzNrcU.js");return{swapHorizontalSvg:t}},[])).swapHorizontalSvg,swapHorizontalMedium:async()=>(await Oe(async()=>{const{swapHorizontalMediumSvg:t}=await import("./swapHorizontalMedium--H30MhQT.js");return{swapHorizontalMediumSvg:t}},[])).swapHorizontalMediumSvg,swapHorizontalBold:async()=>(await Oe(async()=>{const{swapHorizontalBoldSvg:t}=await import("./swapHorizontalBold-DQRnzDlK.js");return{swapHorizontalBoldSvg:t}},[])).swapHorizontalBoldSvg,swapHorizontalRoundedBold:async()=>(await Oe(async()=>{const{swapHorizontalRoundedBoldSvg:t}=await import("./swapHorizontalRoundedBold-VqS2GmRf.js");return{swapHorizontalRoundedBoldSvg:t}},[])).swapHorizontalRoundedBoldSvg,swapVertical:async()=>(await Oe(async()=>{const{swapVerticalSvg:t}=await import("./swapVertical-CMLMlJkq.js");return{swapVerticalSvg:t}},[])).swapVerticalSvg,solana:async()=>(await Oe(async()=>{const{solanaSvg:t}=await import("./solana-dWT0ggtt.js");return{solanaSvg:t}},[])).solanaSvg,telegram:async()=>(await Oe(async()=>{const{telegramSvg:t}=await import("./telegram-Bwzna22J.js");return{telegramSvg:t}},[])).telegramSvg,threeDots:async()=>(await Oe(async()=>{const{threeDotsSvg:t}=await import("./three-dots-CUZt9bKC.js");return{threeDotsSvg:t}},[])).threeDotsSvg,twitch:async()=>(await Oe(async()=>{const{twitchSvg:t}=await import("./twitch-C1I8WNy5.js");return{twitchSvg:t}},[])).twitchSvg,twitter:async()=>(await Oe(async()=>{const{xSvg:t}=await import("./x-BZhWoJlT.js");return{xSvg:t}},[])).xSvg,twitterIcon:async()=>(await Oe(async()=>{const{twitterIconSvg:t}=await import("./twitterIcon-8imIVOP4.js");return{twitterIconSvg:t}},[])).twitterIconSvg,user:async()=>(await Oe(async()=>{const{userSvg:t}=await import("./user-yIHW9Yqv.js");return{userSvg:t}},[])).userSvg,verify:async()=>(await Oe(async()=>{const{verifySvg:t}=await import("./verify-sQK-A274.js");return{verifySvg:t}},[])).verifySvg,verifyFilled:async()=>(await Oe(async()=>{const{verifyFilledSvg:t}=await import("./verify-filled-DVQn34TC.js");return{verifyFilledSvg:t}},[])).verifyFilledSvg,wallet:async()=>(await Oe(async()=>{const{walletSvg:t}=await import("./wallet-BFuYANKg.js");return{walletSvg:t}},[])).walletSvg,walletConnect:async()=>(await Oe(async()=>{const{walletConnectSvg:t}=await import("./walletconnect-DJNb74fp.js");return{walletConnectSvg:t}},[])).walletConnectSvg,walletConnectLightBrown:async()=>(await Oe(async()=>{const{walletConnectLightBrownSvg:t}=await import("./walletconnect-DJNb74fp.js");return{walletConnectLightBrownSvg:t}},[])).walletConnectLightBrownSvg,walletConnectBrown:async()=>(await Oe(async()=>{const{walletConnectBrownSvg:t}=await import("./walletconnect-DJNb74fp.js");return{walletConnectBrownSvg:t}},[])).walletConnectBrownSvg,walletPlaceholder:async()=>(await Oe(async()=>{const{walletPlaceholderSvg:t}=await import("./wallet-placeholder-8BMy-Nah.js");return{walletPlaceholderSvg:t}},[])).walletPlaceholderSvg,warningCircle:async()=>(await Oe(async()=>{const{warningCircleSvg:t}=await import("./warning-circle-DDGWCJ50.js");return{warningCircleSvg:t}},[])).warningCircleSvg,x:async()=>(await Oe(async()=>{const{xSvg:t}=await import("./x-BZhWoJlT.js");return{xSvg:t}},[])).xSvg,info:async()=>(await Oe(async()=>{const{infoSvg:t}=await import("./info-BtuiOA4Z.js");return{infoSvg:t}},[])).infoSvg,exclamationTriangle:async()=>(await Oe(async()=>{const{exclamationTriangleSvg:t}=await import("./exclamation-triangle-DmGSf1z4.js");return{exclamationTriangleSvg:t}},[])).exclamationTriangleSvg,reown:async()=>(await Oe(async()=>{const{reownSvg:t}=await import("./reown-logo-Duxo66-E.js");return{reownSvg:t}},[])).reownSvg,"x-mark":async()=>(await Oe(async()=>{const{xMarkSvg:t}=await import("./x-mark-DU5qgUf4.js");return{xMarkSvg:t}},[])).xMarkSvg,dollar:async()=>(await Oe(async()=>{const{dollarSvg:t}=await import("./dollar-CoMA5mOm.js");return{dollarSvg:t}},[])).dollarSvg};async function c5e(t){if(lI.has(t))return lI.get(t);const n=(bB[t]??bB.copy)();return lI.set(t,n),n}let gg=class extends _e{constructor(){super(...arguments),this.size="md",this.name="copy",this.color="fg-300",this.aspectRatio="1 / 1"}render(){return this.style.cssText=`
      --local-color: ${`var(--wui-color-${this.color});`}
      --local-width: ${`var(--wui-icon-size-${this.size});`}
      --local-aspect-ratio: ${this.aspectRatio}
    `,B`${s5e(c5e(this.name),B`<div class="fallback"></div>`)}`}};gg.styles=[Ut,SS,a5e];sx([Z()],gg.prototype,"size",void 0);sx([Z()],gg.prototype,"name",void 0);sx([Z()],gg.prototype,"color",void 0);sx([Z()],gg.prototype,"aspectRatio",void 0);gg=sx([Ae("wui-icon")],gg);const l5e=He`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    background-color: var(--wui-color-gray-glass-020);
    border-radius: var(--local-border-radius);
    border: var(--local-border);
    box-sizing: content-box;
    width: var(--local-size);
    height: var(--local-size);
    min-height: var(--local-size);
    min-width: var(--local-size);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host {
      background-color: color-mix(in srgb, var(--local-bg-value) var(--local-bg-mix), transparent);
    }
  }
`;var cf=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let fl=class extends _e{constructor(){super(...arguments),this.size="md",this.backgroundColor="accent-100",this.iconColor="accent-100",this.background="transparent",this.border=!1,this.borderColor="wui-color-bg-125",this.icon="copy"}render(){const e=this.iconSize||this.size,n=this.size==="lg",r=this.size==="xl",i=n?"12%":"16%",s=n?"xxs":r?"s":"3xl",o=this.background==="gray",a=this.background==="opaque",c=this.backgroundColor==="accent-100"&&a||this.backgroundColor==="success-100"&&a||this.backgroundColor==="error-100"&&a||this.backgroundColor==="inverse-100"&&a;let u=`var(--wui-color-${this.backgroundColor})`;return c?u=`var(--wui-icon-box-bg-${this.backgroundColor})`:o&&(u=`var(--wui-color-gray-${this.backgroundColor})`),this.style.cssText=`
       --local-bg-value: ${u};
       --local-bg-mix: ${c||o?"100%":i};
       --local-border-radius: var(--wui-border-radius-${s});
       --local-size: var(--wui-icon-box-size-${this.size});
       --local-border: ${this.borderColor==="wui-color-bg-125"?"2px":"1px"} solid ${this.border?`var(--${this.borderColor})`:"transparent"}
   `,B` <wui-icon color=${this.iconColor} size=${e} name=${this.icon}></wui-icon> `}};fl.styles=[Ut,Un,l5e];cf([Z()],fl.prototype,"size",void 0);cf([Z()],fl.prototype,"backgroundColor",void 0);cf([Z()],fl.prototype,"iconColor",void 0);cf([Z()],fl.prototype,"iconSize",void 0);cf([Z()],fl.prototype,"background",void 0);cf([Z({type:Boolean})],fl.prototype,"border",void 0);cf([Z()],fl.prototype,"borderColor",void 0);cf([Z()],fl.prototype,"icon",void 0);fl=cf([Ae("wui-icon-box")],fl);const u5e=He`
  :host {
    display: block;
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
    background: var(--wui-color-gray-glass-002);
    display: flex;
    gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-3xs) var(--wui-spacing-xs) var(--wui-spacing-3xs)
      var(--wui-spacing-xs);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  button:disabled {
    background: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-flex > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-image,
  button:disabled > wui-flex > wui-avatar {
    filter: grayscale(1);
  }

  button:has(wui-image) {
    padding: var(--wui-spacing-3xs) var(--wui-spacing-3xs) var(--wui-spacing-3xs)
      var(--wui-spacing-xs);
  }

  wui-text {
    color: var(--wui-color-fg-100);
  }

  wui-flex > wui-text {
    color: var(--wui-color-fg-200);
  }

  wui-image,
  wui-icon-box {
    border-radius: var(--wui-border-radius-3xl);
    width: 24px;
    height: 24px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  wui-flex {
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-color-gray-glass-005);
    background: var(--wui-color-gray-glass-005);
    padding: 4px var(--wui-spacing-m) 4px var(--wui-spacing-xxs);
  }

  button.local-no-balance {
    border-radius: 0px;
    border: none;
    background: transparent;
  }

  wui-avatar {
    width: 20px;
    height: 20px;
    box-shadow: 0 0 0 2px var(--wui-color-accent-glass-010);
  }

  @media (max-width: 500px) {
    button {
      gap: 0px;
      padding: var(--wui-spacing-3xs) var(--wui-spacing-xs) !important;
      height: 32px;
    }
    wui-image,
    wui-icon-box,
    button > wui-text {
      visibility: hidden;
      width: 0px;
      height: 0px;
    }
    button {
      border-radius: 0px;
      border: none;
      background: transparent;
      padding: 0px;
    }
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled > wui-flex > wui-text {
      color: var(--wui-color-fg-175);
    }

    button:active:enabled > wui-flex > wui-text {
      color: var(--wui-color-fg-175);
    }
  }
`;var bl=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let va=class extends _e{constructor(){super(...arguments),this.networkSrc=void 0,this.avatarSrc=void 0,this.balance=void 0,this.isUnsupportedChain=void 0,this.disabled=!1,this.loading=!1,this.address="",this.profileName="",this.charsStart=4,this.charsEnd=6}render(){return B`
      <button
        ?disabled=${this.disabled}
        class=${We(this.balance?void 0:"local-no-balance")}
      >
        ${this.balanceTemplate()}
        <wui-flex gap="xxs" alignItems="center">
          <wui-avatar
            .imageSrc=${this.avatarSrc}
            alt=${this.address}
            address=${this.address}
          ></wui-avatar>
          <wui-text variant="paragraph-600" color="inherit">
            ${this.address?$r.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?18:this.charsStart,charsEnd:this.profileName?0:this.charsEnd,truncate:this.profileName?"end":"middle"}):null}
          </wui-text>
        </wui-flex>
      </button>
    `}balanceTemplate(){if(this.isUnsupportedChain)return B` <wui-icon-box
          size="sm"
          iconColor="error-100"
          backgroundColor="error-100"
          icon="warningCircle"
          data-testid="wui-account-button-unsupported-chain"
        ></wui-icon-box>
        <wui-text variant="paragraph-600" color="inherit"> Switch Network</wui-text>`;if(this.balance){const e=this.networkSrc?B`<wui-image src=${this.networkSrc}></wui-image>`:B`
            <wui-icon-box
              size="sm"
              iconColor="fg-200"
              backgroundColor="fg-300"
              icon="networkPlaceholder"
            ></wui-icon-box>
          `,n=this.loading?B`<wui-loading-spinner size="md" color="fg-200"></wui-loading-spinner>`:B`<wui-text variant="paragraph-600" color="inherit"> ${this.balance}</wui-text>`;return B`${e} ${n}`}return null}};va.styles=[Ut,Un,u5e];bl([Z()],va.prototype,"networkSrc",void 0);bl([Z()],va.prototype,"avatarSrc",void 0);bl([Z()],va.prototype,"balance",void 0);bl([Z({type:Boolean})],va.prototype,"isUnsupportedChain",void 0);bl([Z({type:Boolean})],va.prototype,"disabled",void 0);bl([Z({type:Boolean})],va.prototype,"loading",void 0);bl([Z()],va.prototype,"address",void 0);bl([Z()],va.prototype,"profileName",void 0);bl([Z()],va.prototype,"charsStart",void 0);bl([Z()],va.prototype,"charsEnd",void 0);va=bl([Ae("wui-account-button")],va);var lo=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class uo extends _e{constructor(){super(...arguments),this.unsubscribe=[],this.disabled=!1,this.balance="show",this.charsStart=4,this.charsEnd=6,this.namespace=void 0,this.isSupported=ce.state.allowUnsupportedChain?!0:F.state.activeChain?F.checkIfSupportedNetwork(F.state.activeChain):!0}connectedCallback(){super.connectedCallback(),this.setAccountData(F.getAccountData(this.namespace)),this.setNetworkData(F.getNetworkData(this.namespace))}firstUpdated(){const e=this.namespace;e?this.unsubscribe.push(F.subscribeChainProp("accountState",n=>{this.setAccountData(n)},e),F.subscribeChainProp("networkState",n=>{var r;this.setNetworkData(n),this.isSupported=F.checkIfSupportedNetwork(e,(r=n==null?void 0:n.caipNetwork)==null?void 0:r.caipNetworkId)},e)):this.unsubscribe.push(qi.subscribeNetworkImages(()=>{this.networkImage=$n.getNetworkImage(this.network)}),F.subscribeKey("activeCaipAddress",n=>{this.caipAddress=n}),Le.subscribeKey("balance",n=>this.balanceVal=n),Le.subscribeKey("balanceSymbol",n=>this.balanceSymbol=n),Le.subscribeKey("profileName",n=>this.profileName=n),Le.subscribeKey("profileImage",n=>this.profileImage=n),F.subscribeKey("activeCaipNetwork",n=>{this.network=n,this.networkImage=$n.getNetworkImage(n),this.isSupported=n!=null&&n.chainNamespace?F.checkIfSupportedNetwork(n==null?void 0:n.chainNamespace):!0,this.fetchNetworkImage(n)}))}updated(){this.fetchNetworkImage(this.network)}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(!F.state.activeChain)return null;const e=this.balance==="show",n=typeof this.balanceVal!="string";return B`
      <wui-account-button
        .disabled=${!!this.disabled}
        .isUnsupportedChain=${ce.state.allowUnsupportedChain?!1:!this.isSupported}
        address=${We(be.getPlainAddress(this.caipAddress))}
        profileName=${We(this.profileName)}
        networkSrc=${We(this.networkImage)}
        avatarSrc=${We(this.profileImage)}
        balance=${e?be.formatBalance(this.balanceVal,this.balanceSymbol):""}
        @click=${this.onClick.bind(this)}
        data-testid=${`account-button${this.namespace?`-${this.namespace}`:""}`}
        .charsStart=${this.charsStart}
        .charsEnd=${this.charsEnd}
        ?loading=${n}
      >
      </wui-account-button>
    `}onClick(){this.isSupported||ce.state.allowUnsupportedChain?Kt.open({namespace:this.namespace}):Kt.open({view:"UnsupportedChain"})}async fetchNetworkImage(e){var n,r;(n=e==null?void 0:e.assets)!=null&&n.imageId&&(this.networkImage=await $n.fetchNetworkImage((r=e==null?void 0:e.assets)==null?void 0:r.imageId))}setAccountData(e){e&&(this.caipAddress=e.caipAddress,this.balanceVal=e.balance,this.balanceSymbol=e.balanceSymbol,this.profileName=e.profileName,this.profileImage=e.profileImage)}setNetworkData(e){e&&(this.network=e.caipNetwork,this.networkImage=$n.getNetworkImage(e.caipNetwork))}}lo([Z({type:Boolean})],uo.prototype,"disabled",void 0);lo([Z()],uo.prototype,"balance",void 0);lo([Z()],uo.prototype,"charsStart",void 0);lo([Z()],uo.prototype,"charsEnd",void 0);lo([Z()],uo.prototype,"namespace",void 0);lo([fe()],uo.prototype,"caipAddress",void 0);lo([fe()],uo.prototype,"balanceVal",void 0);lo([fe()],uo.prototype,"balanceSymbol",void 0);lo([fe()],uo.prototype,"profileName",void 0);lo([fe()],uo.prototype,"profileImage",void 0);lo([fe()],uo.prototype,"network",void 0);lo([fe()],uo.prototype,"networkImage",void 0);lo([fe()],uo.prototype,"isSupported",void 0);let nP=class extends uo{};nP=lo([Ae("w3m-account-button")],nP);let W3=class extends uo{};W3=lo([Ae("appkit-account-button")],W3);const d5e=He`
  :host {
    display: block;
    width: max-content;
  }
`;var vl=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class Cc extends _e{constructor(){super(...arguments),this.unsubscribe=[],this.disabled=!1,this.balance=void 0,this.size=void 0,this.label=void 0,this.loadingLabel=void 0,this.charsStart=4,this.charsEnd=6,this.namespace=void 0}firstUpdated(){var e,n;this.caipAddress=this.namespace?(n=(e=F.state.chains.get(this.namespace))==null?void 0:e.accountState)==null?void 0:n.caipAddress:F.state.activeCaipAddress,this.namespace?this.unsubscribe.push(F.subscribeChainProp("accountState",r=>{this.caipAddress=r==null?void 0:r.caipAddress},this.namespace)):this.unsubscribe.push(F.subscribeKey("activeCaipAddress",r=>this.caipAddress=r))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return this.caipAddress?B`
          <appkit-account-button
            .disabled=${!!this.disabled}
            balance=${We(this.balance)}
            .charsStart=${We(this.charsStart)}
            .charsEnd=${We(this.charsEnd)}
            namespace=${We(this.namespace)}
          >
          </appkit-account-button>
        `:B`
          <appkit-connect-button
            size=${We(this.size)}
            label=${We(this.label)}
            loadingLabel=${We(this.loadingLabel)}
            namespace=${We(this.namespace)}
          ></appkit-connect-button>
        `}}Cc.styles=d5e;vl([Z({type:Boolean})],Cc.prototype,"disabled",void 0);vl([Z()],Cc.prototype,"balance",void 0);vl([Z()],Cc.prototype,"size",void 0);vl([Z()],Cc.prototype,"label",void 0);vl([Z()],Cc.prototype,"loadingLabel",void 0);vl([Z()],Cc.prototype,"charsStart",void 0);vl([Z()],Cc.prototype,"charsEnd",void 0);vl([Z()],Cc.prototype,"namespace",void 0);vl([fe()],Cc.prototype,"caipAddress",void 0);let rP=class extends Cc{};rP=vl([Ae("w3m-button")],rP);let H3=class extends Cc{};H3=vl([Ae("appkit-button")],H3);const f5e=He`
  :host {
    position: relative;
    display: block;
  }

  button {
    background: var(--wui-color-accent-100);
    border: 1px solid var(--wui-color-gray-glass-010);
    border-radius: var(--wui-border-radius-m);
    gap: var(--wui-spacing-xs);
  }

  button.loading {
    background: var(--wui-color-gray-glass-010);
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    border: 1px solid var(--wui-color-gray-glass-010);
  }

  button:disabled > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button:active:enabled {
      background-color: var(--wui-color-accent-080);
    }
  }

  button:focus-visible {
    border: 1px solid var(--wui-color-gray-glass-010);
    background-color: var(--wui-color-accent-090);
    -webkit-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  button[data-size='sm'] {
    padding: 6.75px 10px 7.25px;
  }

  ::slotted(*) {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  button > wui-text {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
    color: var(--wui-color-inverse-100);
  }

  button[data-size='md'] {
    padding: 9px var(--wui-spacing-l) 9px var(--wui-spacing-l);
  }

  button[data-size='md'] + wui-text {
    padding-left: var(--wui-spacing-3xs);
  }

  @media (max-width: 500px) {
    button[data-size='md'] {
      height: 32px;
      padding: 5px 12px;
    }

    button[data-size='md'] > wui-text > slot {
      font-size: 14px !important;
    }
  }

  wui-loading-spinner {
    width: 14px;
    height: 14px;
  }

  wui-loading-spinner::slotted(svg) {
    width: 10px !important;
    height: 10px !important;
  }

  button[data-size='sm'] > wui-loading-spinner {
    width: 12px;
    height: 12px;
  }
`;var p8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let I2=class extends _e{constructor(){super(...arguments),this.size="md",this.loading=!1}render(){const e=this.size==="md"?"paragraph-600":"small-600";return B`
      <button data-size=${this.size} ?disabled=${this.loading}>
        ${this.loadingTemplate()}
        <wui-text variant=${e} color=${this.loading?"accent-100":"inherit"}>
          <slot></slot>
        </wui-text>
      </button>
    `}loadingTemplate(){return this.loading?B`<wui-loading-spinner size=${this.size} color="accent-100"></wui-loading-spinner>`:null}};I2.styles=[Ut,Un,f5e];p8([Z()],I2.prototype,"size",void 0);p8([Z({type:Boolean})],I2.prototype,"loading",void 0);I2=p8([Ae("wui-connect-button")],I2);var mp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class gp extends _e{constructor(){super(),this.unsubscribe=[],this.size="md",this.label="Connect Wallet",this.loadingLabel="Connecting...",this.open=Kt.state.open,this.loading=this.namespace?Kt.state.loadingNamespaceMap.get(this.namespace):Kt.state.loading,this.unsubscribe.push(Kt.subscribe(e=>{this.open=e.open,this.loading=this.namespace?e.loadingNamespaceMap.get(this.namespace):e.loading}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return B`
      <wui-connect-button
        size=${We(this.size)}
        .loading=${this.loading}
        @click=${this.onClick.bind(this)}
        data-testid=${`connect-button${this.namespace?`-${this.namespace}`:""}`}
      >
        ${this.loading?this.loadingLabel:this.label}
      </wui-connect-button>
    `}onClick(){this.open?Kt.close():this.loading||Kt.open({view:"Connect",namespace:this.namespace})}}mp([Z()],gp.prototype,"size",void 0);mp([Z()],gp.prototype,"label",void 0);mp([Z()],gp.prototype,"loadingLabel",void 0);mp([Z()],gp.prototype,"namespace",void 0);mp([fe()],gp.prototype,"open",void 0);mp([fe()],gp.prototype,"loading",void 0);let iP=class extends gp{};iP=mp([Ae("w3m-connect-button")],iP);let V3=class extends gp{};V3=mp([Ae("appkit-connect-button")],V3);const h5e=He`
  :host {
    display: block;
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
    display: flex;
    gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-2xs) var(--wui-spacing-s) var(--wui-spacing-2xs)
      var(--wui-spacing-xs);
    border: 1px solid var(--wui-color-gray-glass-010);
    background-color: var(--wui-color-gray-glass-005);
    color: var(--wui-color-fg-100);
  }

  button:disabled {
    border: 1px solid var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-015);
    }
  }

  wui-image,
  wui-icon-box {
    border-radius: var(--wui-border-radius-3xl);
    width: 24px;
    height: 24px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }
`;var TS=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ww=class extends _e{constructor(){super(...arguments),this.imageSrc=void 0,this.isUnsupportedChain=void 0,this.disabled=!1}render(){return B`
      <button data-testid="wui-network-button" ?disabled=${this.disabled}>
        ${this.visualTemplate()}
        <wui-text variant="paragraph-600" color="inherit">
          <slot></slot>
        </wui-text>
      </button>
    `}visualTemplate(){return this.isUnsupportedChain?B`
        <wui-icon-box
          size="sm"
          iconColor="error-100"
          backgroundColor="error-100"
          icon="warningCircle"
        ></wui-icon-box>
      `:this.imageSrc?B`<wui-image src=${this.imageSrc}></wui-image>`:B`
      <wui-icon-box
        size="sm"
        iconColor="inverse-100"
        backgroundColor="fg-100"
        icon="networkPlaceholder"
      ></wui-icon-box>
    `}};Ww.styles=[Ut,Un,h5e];TS([Z()],Ww.prototype,"imageSrc",void 0);TS([Z({type:Boolean})],Ww.prototype,"isUnsupportedChain",void 0);TS([Z({type:Boolean})],Ww.prototype,"disabled",void 0);Ww=TS([Ae("wui-network-button")],Ww);const p5e=He`
  :host {
    display: block;
    width: max-content;
  }
`;var lf=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class Pu extends _e{constructor(){super(),this.unsubscribe=[],this.disabled=!1,this.network=F.state.activeCaipNetwork,this.networkImage=$n.getNetworkImage(this.network),this.caipAddress=F.state.activeCaipAddress,this.loading=Kt.state.loading,this.isSupported=ce.state.allowUnsupportedChain?!0:F.state.activeChain?F.checkIfSupportedNetwork(F.state.activeChain):!0,this.unsubscribe.push(qi.subscribeNetworkImages(()=>{this.networkImage=$n.getNetworkImage(this.network)}),F.subscribeKey("activeCaipAddress",e=>{this.caipAddress=e}),F.subscribeKey("activeCaipNetwork",e=>{var n;this.network=e,this.networkImage=$n.getNetworkImage(e),this.isSupported=e!=null&&e.chainNamespace?F.checkIfSupportedNetwork(e.chainNamespace):!0,$n.fetchNetworkImage((n=e==null?void 0:e.assets)==null?void 0:n.imageId)}),Kt.subscribeKey("loading",e=>this.loading=e))}firstUpdated(){var e,n;$n.fetchNetworkImage((n=(e=this.network)==null?void 0:e.assets)==null?void 0:n.imageId)}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.network?F.checkIfSupportedNetwork(this.network.chainNamespace):!0;return B`
      <wui-network-button
        .disabled=${!!(this.disabled||this.loading)}
        .isUnsupportedChain=${ce.state.allowUnsupportedChain?!1:!e}
        imageSrc=${We(this.networkImage)}
        @click=${this.onClick.bind(this)}
        data-testid="w3m-network-button"
      >
        ${this.getLabel()}
        <slot></slot>
      </wui-network-button>
    `}getLabel(){return this.network?!this.isSupported&&!ce.state.allowUnsupportedChain?"Switch Network":this.network.name:this.label?this.label:this.caipAddress?"Unknown Network":"Select Network"}onClick(){this.loading||(At.sendEvent({type:"track",event:"CLICK_NETWORKS"}),Kt.open({view:"Networks"}))}}Pu.styles=p5e;lf([Z({type:Boolean})],Pu.prototype,"disabled",void 0);lf([Z({type:String})],Pu.prototype,"label",void 0);lf([fe()],Pu.prototype,"network",void 0);lf([fe()],Pu.prototype,"networkImage",void 0);lf([fe()],Pu.prototype,"caipAddress",void 0);lf([fe()],Pu.prototype,"loading",void 0);lf([fe()],Pu.prototype,"isSupported",void 0);let sP=class extends Pu{};sP=lf([Ae("w3m-network-button")],sP);let q3=class extends Pu{};q3=lf([Ae("appkit-network-button")],q3);const m5e=He`
  :host {
    --prev-height: 0px;
    --new-height: 0px;
    display: block;
  }

  div.w3m-router-container {
    transform: translateY(0);
    opacity: 1;
  }

  div.w3m-router-container[view-direction='prev'] {
    animation:
      slide-left-out 150ms forwards ease,
      slide-left-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  div.w3m-router-container[view-direction='next'] {
    animation:
      slide-right-out 150ms forwards ease,
      slide-right-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(10px);
      opacity: 0;
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(-10px);
      opacity: 0;
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
`;var m8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Hw=class extends _e{constructor(){super(),this.resizeObserver=void 0,this.prevHeight="0px",this.prevHistoryLength=1,this.unsubscribe=[],this.view=Ee.state.view,this.viewDirection="",this.unsubscribe.push(Ee.subscribeKey("view",e=>this.onViewChange(e)))}firstUpdated(){var e;this.resizeObserver=new ResizeObserver(([n])=>{const r=`${n==null?void 0:n.contentRect.height}px`;this.prevHeight!=="0px"&&(this.style.setProperty("--prev-height",this.prevHeight),this.style.setProperty("--new-height",r),this.style.animation="w3m-view-height 150ms forwards ease",this.style.height="auto"),setTimeout(()=>{this.prevHeight=r,this.style.animation="unset"},dm.ANIMATION_DURATIONS.ModalHeight)}),(e=this.resizeObserver)==null||e.observe(this.getWrapper())}disconnectedCallback(){var e;(e=this.resizeObserver)==null||e.unobserve(this.getWrapper()),this.unsubscribe.forEach(n=>n())}render(){return B`<div class="w3m-router-container" view-direction="${this.viewDirection}">
      ${this.viewTemplate()}
    </div>`}viewTemplate(){switch(this.view){case"AccountSettings":return B`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return B`<w3m-account-view></w3m-account-view>`;case"AllWallets":return B`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return B`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return B`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return B`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return B`<w3m-connect-view></w3m-connect-view>`;case"Create":return B`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return B`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return B`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return B`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return B`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return B`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return B`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return B`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"DataCapture":return B`<w3m-data-capture-view></w3m-data-capture-view>`;case"DataCaptureOtpConfirm":return B`<w3m-data-capture-otp-confirm-view></w3m-data-capture-otp-confirm-view>`;case"Downloads":return B`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return B`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return B`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return B`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return B`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return B`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return B`<w3m-network-switch-view></w3m-network-switch-view>`;case"ProfileWallets":return B`<w3m-profile-wallets-view></w3m-profile-wallets-view>`;case"Transactions":return B`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return B`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampTokenSelect":return B`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return B`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return B`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return B`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return B`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return B`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return B`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return B`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return B`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return B`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return B`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return B`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return B`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WhatIsABuy":return B`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return B`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return B`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return B`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return B`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return B`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return B`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return B`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return B`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return B`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return B`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return B`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return B`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return B`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return B`<w3m-pay-loading-view></w3m-pay-loading-view>`;case"FundWallet":return B`<w3m-fund-wallet-view></w3m-fund-wallet-view>`;case"PayWithExchange":return B`<w3m-deposit-from-exchange-view></w3m-deposit-from-exchange-view>`;default:return B`<w3m-connect-view></w3m-connect-view>`}}onViewChange(e){ma.hide();let n=dm.VIEW_DIRECTION.Next;const{history:r}=Ee.state;r.length<this.prevHistoryLength&&(n=dm.VIEW_DIRECTION.Prev),this.prevHistoryLength=r.length,this.viewDirection=n,setTimeout(()=>{this.view=e},dm.ANIMATION_DURATIONS.ViewTransition)}getWrapper(){var e;return(e=this.shadowRoot)==null?void 0:e.querySelector("div")}};Hw.styles=m5e;m8([fe()],Hw.prototype,"view",void 0);m8([fe()],Hw.prototype,"viewDirection",void 0);Hw=m8([Ae("w3m-router")],Hw);const g5e=He`
  button {
    border-radius: var(--local-border-radius);
    color: var(--wui-color-fg-100);
    padding: var(--local-padding);
  }

  @media (max-width: 700px) {
    :host(:not([size='sm'])) button {
      padding: var(--wui-spacing-s);
    }
  }

  button > wui-icon {
    pointer-events: none;
  }

  button:disabled > wui-icon {
    color: var(--wui-color-bg-300) !important;
  }

  button:disabled {
    background-color: transparent;
  }

  button:hover:not(:disabled) {
    background-color: var(--wui-color-accent-glass-015);
  }

  button:focus-visible:not(:disabled) {
    background-color: var(--wui-color-accent-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
`;var ox=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let yg=class extends _e{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="inherit"}render(){this.dataset.size=this.size;let e="",n="";switch(this.size){case"lg":e="--wui-border-radius-xs",n="--wui-spacing-1xs";break;case"sm":e="--wui-border-radius-3xs",n="--wui-spacing-xxs";break;default:e="--wui-border-radius-xxs",n="--wui-spacing-2xs";break}return this.style.cssText=`
    --local-border-radius: var(${e});
    --local-padding: var(${n});
    `,B`
      <button ?disabled=${this.disabled}>
        <wui-icon color=${this.iconColor} size=${this.size} name=${this.icon}></wui-icon>
      </button>
    `}};yg.styles=[Ut,Un,SS,g5e];ox([Z()],yg.prototype,"size",void 0);ox([Z({type:Boolean})],yg.prototype,"disabled",void 0);ox([Z()],yg.prototype,"icon",void 0);ox([Z()],yg.prototype,"iconColor",void 0);yg=ox([Ae("wui-icon-link")],yg);const y5e=He`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 11px 18px 11px var(--wui-spacing-s);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
    transition:
      color var(--wui-ease-out-power-1) var(--wui-duration-md),
      background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: color, background-color;
  }

  button[data-iconvariant='square'],
  button[data-iconvariant='square-blue'] {
    padding: 6px 18px 6px 9px;
  }

  button > wui-flex {
    flex: 1;
  }

  button > wui-image {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-3xl);
  }

  button > wui-icon {
    width: 36px;
    height: 36px;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  button > wui-icon-box[data-variant='blue'] {
    box-shadow: 0 0 0 2px var(--wui-color-accent-glass-005);
  }

  button > wui-icon-box[data-variant='overlay'] {
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  button > wui-icon-box[data-variant='square-blue'] {
    border-radius: var(--wui-border-radius-3xs);
    position: relative;
    border: none;
    width: 36px;
    height: 36px;
  }

  button > wui-icon-box[data-variant='square-blue']::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-accent-glass-010);
    pointer-events: none;
  }

  button > wui-icon:last-child {
    width: 14px;
    height: 14px;
  }

  button:disabled {
    color: var(--wui-color-gray-glass-020);
  }

  button[data-loading='true'] > wui-icon {
    opacity: 0;
  }

  wui-loading-spinner {
    position: absolute;
    right: 18px;
    top: 50%;
    transform: translateY(-50%);
  }
`;var Cl=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ca=class extends _e{constructor(){super(...arguments),this.tabIdx=void 0,this.variant="icon",this.disabled=!1,this.imageSrc=void 0,this.alt=void 0,this.chevron=!1,this.loading=!1}render(){return B`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        data-iconvariant=${We(this.iconVariant)}
        tabindex=${We(this.tabIdx)}
      >
        ${this.loadingTemplate()} ${this.visualTemplate()}
        <wui-flex gap="3xs">
          <slot></slot>
        </wui-flex>
        ${this.chevronTemplate()}
      </button>
    `}visualTemplate(){if(this.variant==="image"&&this.imageSrc)return B`<wui-image src=${this.imageSrc} alt=${this.alt??"list item"}></wui-image>`;if(this.iconVariant==="square"&&this.icon&&this.variant==="icon")return B`<wui-icon name=${this.icon}></wui-icon>`;if(this.variant==="icon"&&this.icon&&this.iconVariant){const e=["blue","square-blue"].includes(this.iconVariant)?"accent-100":"fg-200",n=this.iconVariant==="square-blue"?"mdl":"md",r=this.iconSize?this.iconSize:n;return B`
        <wui-icon-box
          data-variant=${this.iconVariant}
          icon=${this.icon}
          iconSize=${r}
          background="transparent"
          iconColor=${e}
          backgroundColor=${e}
          size=${n}
        ></wui-icon-box>
      `}return null}loadingTemplate(){return this.loading?B`<wui-loading-spinner
        data-testid="wui-list-item-loading-spinner"
        color="fg-300"
      ></wui-loading-spinner>`:B``}chevronTemplate(){return this.chevron?B`<wui-icon size="inherit" color="fg-200" name="chevronRight"></wui-icon>`:null}};Ca.styles=[Ut,Un,y5e];Cl([Z()],Ca.prototype,"icon",void 0);Cl([Z()],Ca.prototype,"iconSize",void 0);Cl([Z()],Ca.prototype,"tabIdx",void 0);Cl([Z()],Ca.prototype,"variant",void 0);Cl([Z()],Ca.prototype,"iconVariant",void 0);Cl([Z({type:Boolean})],Ca.prototype,"disabled",void 0);Cl([Z()],Ca.prototype,"imageSrc",void 0);Cl([Z()],Ca.prototype,"alt",void 0);Cl([Z({type:Boolean})],Ca.prototype,"chevron",void 0);Cl([Z({type:Boolean})],Ca.prototype,"loading",void 0);Ca=Cl([Ae("wui-list-item")],Ca);const w5e=He`
  :host {
    width: var(--local-width);
    position: relative;
  }

  button {
    border: none;
    border-radius: var(--local-border-radius);
    width: var(--local-width);
    white-space: nowrap;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='xs'] {
    padding: var(--wui-spacing-3xs) var(--wui-spacing-s) var(--wui-spacing-3xs) var(--wui-spacing-s);
    height: 24px;
  }

  button[data-size='xs'][data-icon-left='true'][data-icon-right='false'] {
    padding: var(--wui-spacing-3xs) var(--wui-spacing-s) var(--wui-spacing-3xs) var(--wui-spacing-s);
  }

  button[data-size='xs'][data-icon-right='true'][data-icon-left='false'] {
    padding: var(--wui-spacing-3xs) var(--wui-spacing-s) var(--wui-spacing-3xs) var(--wui-spacing-s);
  }

  button[data-size='sm'] {
    padding: 7.2px var(--wui-spacing-s) 7.2px var(--wui-spacing-s);
    height: 32px;
  }

  button[data-size='sm'][data-icon-left='true'][data-icon-right='false'] {
    padding: 7.2px var(--wui-spacing-s) 7.2px var(--wui-spacing-s);
  }

  button[data-size='sm'][data-icon-right='true'][data-icon-left='false'] {
    padding: 7.2px var(--wui-spacing-s) 7.2px var(--wui-spacing-s);
  }

  button[data-size='md'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-l);
    height: 36px;
  }

  button[data-size='md'][data-icon-left='true'][data-icon-right='false'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-s);
  }

  button[data-size='md'][data-icon-right='true'][data-icon-left='false'] {
    padding: 8.2px var(--wui-spacing-s) 9px var(--wui-spacing-l);
  }

  button[data-size='lg'] {
    padding: var(--wui-spacing-m) var(--wui-spacing-2l);
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='inverse'] {
    background-color: var(--wui-color-inverse-100);
    color: var(--wui-color-inverse-000);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='accent-error'] {
    background: var(--wui-color-error-glass-015);
    color: var(--wui-color-error-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-error-glass-010);
  }

  button[data-variant='accent-success'] {
    background: var(--wui-color-success-glass-015);
    color: var(--wui-color-success-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-success-glass-010);
  }

  button[data-variant='neutral'] {
    background: transparent;
    color: var(--wui-color-fg-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='shade'] {
    background: var(--wui-color-gray-glass-002);
    color: var(--wui-color-fg-200);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-variant='main']:focus-visible:enabled {
    background-color: var(--wui-color-accent-090);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='inverse']:focus-visible:enabled {
    background-color: var(--wui-color-inverse-100);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent']:focus-visible:enabled {
    background-color: var(--wui-color-accent-glass-010);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent-error']:focus-visible:enabled {
    background: var(--wui-color-error-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-error-100),
      0 0 0 4px var(--wui-color-error-glass-020);
  }
  button[data-variant='accent-success']:focus-visible:enabled {
    background: var(--wui-color-success-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-success-100),
      0 0 0 4px var(--wui-color-success-glass-020);
  }
  button[data-variant='neutral']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }
  button[data-variant='shade']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='accent-error']:hover:enabled {
      background: var(--wui-color-error-glass-020);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-error']:active:enabled {
      background: var(--wui-color-error-glass-030);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-success']:hover:enabled {
      background: var(--wui-color-success-glass-020);
      color: var(--wui-color-success-100);
    }

    button[data-variant='accent-success']:active:enabled {
      background: var(--wui-color-success-glass-030);
      color: var(--wui-color-success-100);
    }

    button[data-variant='neutral']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='neutral']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }

    button[data-size='lg'][data-icon-left='true'][data-icon-right='false'] {
      padding-left: var(--wui-spacing-m);
    }

    button[data-size='lg'][data-icon-right='true'][data-icon-left='false'] {
      padding-right: var(--wui-spacing-m);
    }

    button[data-variant='shade']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='shade']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }
  }

  /* -- Disabled state --------------------------------------------------- */
  button:disabled {
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    color: var(--wui-color-gray-glass-020);
    cursor: not-allowed;
  }

  button > wui-text {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  ::slotted(*) {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  wui-loading-spinner {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: var(--local-opacity-000);
  }
`;var ku=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const vB={main:"inverse-100",inverse:"inverse-000",accent:"accent-100","accent-error":"error-100","accent-success":"success-100",neutral:"fg-100",disabled:"gray-glass-020",shade:"fg-100"},b5e={lg:"paragraph-600",md:"small-600",sm:"small-600",xs:"tiny-600"},v5e={lg:"md",md:"md",sm:"sm",xs:"sm"};let hc=class extends _e{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="main",this.hasIconLeft=!1,this.hasIconRight=!1,this.borderRadius="m"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
    --local-opacity-100: ${this.loading?0:1};
    --local-opacity-000: ${this.loading?1:0};
    --local-border-radius: var(--wui-border-radius-${this.borderRadius});
    `;const e=this.textVariant??b5e[this.size];return B`
      <button
        data-variant=${this.variant}
        data-icon-left=${this.hasIconLeft}
        data-icon-right=${this.hasIconRight}
        data-size=${this.size}
        ?disabled=${this.disabled}
      >
        ${this.loadingTemplate()}
        <slot name="iconLeft" @slotchange=${()=>this.handleSlotLeftChange()}></slot>
        <wui-text variant=${e} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight" @slotchange=${()=>this.handleSlotRightChange()}></slot>
      </button>
    `}handleSlotLeftChange(){this.hasIconLeft=!0}handleSlotRightChange(){this.hasIconRight=!0}loadingTemplate(){if(this.loading){const e=v5e[this.size],n=this.disabled?vB.disabled:vB[this.variant];return B`<wui-loading-spinner color=${n} size=${e}></wui-loading-spinner>`}return B``}};hc.styles=[Ut,Un,w5e];ku([Z()],hc.prototype,"size",void 0);ku([Z({type:Boolean})],hc.prototype,"disabled",void 0);ku([Z({type:Boolean})],hc.prototype,"fullWidth",void 0);ku([Z({type:Boolean})],hc.prototype,"loading",void 0);ku([Z()],hc.prototype,"variant",void 0);ku([Z({type:Boolean})],hc.prototype,"hasIconLeft",void 0);ku([Z({type:Boolean})],hc.prototype,"hasIconRight",void 0);ku([Z()],hc.prototype,"borderRadius",void 0);ku([Z()],hc.prototype,"textVariant",void 0);hc=ku([Ae("wui-button")],hc);const C5e=He`
  :host {
    display: block;
  }

  button {
    width: 100%;
    display: block;
    padding-top: var(--wui-spacing-l);
    padding-bottom: var(--wui-spacing-l);
    padding-left: var(--wui-spacing-s);
    padding-right: var(--wui-spacing-2l);
    border-radius: var(--wui-border-radius-s);
    background-color: var(--wui-color-accent-glass-010);
  }

  button:hover {
    background-color: var(--wui-color-accent-glass-015) !important;
  }

  button:active {
    background-color: var(--wui-color-accent-glass-020) !important;
  }
`;var IS=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Vw=class extends _e{constructor(){super(...arguments),this.label="",this.description="",this.icon="wallet"}render(){return B`
      <button>
        <wui-flex gap="m" alignItems="center" justifyContent="space-between">
          <wui-icon-box
            size="lg"
            iconcolor="accent-100"
            backgroundcolor="accent-100"
            icon=${this.icon}
            background="transparent"
          ></wui-icon-box>

          <wui-flex flexDirection="column" gap="3xs">
            <wui-text variant="paragraph-500" color="fg-100">${this.label}</wui-text>
            <wui-text variant="small-400" color="fg-200">${this.description}</wui-text>
          </wui-flex>

          <wui-icon size="md" color="fg-200" name="chevronRight"></wui-icon>
        </wui-flex>
      </button>
    `}};Vw.styles=[Ut,Un,C5e];IS([Z()],Vw.prototype,"label",void 0);IS([Z()],Vw.prototype,"description",void 0);IS([Z()],Vw.prototype,"icon",void 0);Vw=IS([Ae("wui-notice-card")],Vw);var EG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let oP=class extends _e{constructor(){super(),this.unsubscribe=[],this.socialProvider=Ne.getConnectedSocialProvider(),this.socialUsername=Ne.getConnectedSocialUsername(),this.namespace=F.state.activeChain,this.unsubscribe.push(F.subscribeKey("activeChain",e=>{this.namespace=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=pe.getConnectorId(this.namespace),n=pe.getAuthConnector();if(!n||e!==oe.CONNECTOR_ID.AUTH)return this.style.cssText="display: none",null;const r=n.provider.getEmail()??"";return!r&&!this.socialUsername?(this.style.cssText="display: none",null):B`
      <wui-list-item
        variant="icon"
        iconVariant="overlay"
        icon=${this.socialProvider??"mail"}
        iconSize=${this.socialProvider?"xxl":"sm"}
        data-testid="w3m-account-email-update"
        ?chevron=${!this.socialProvider}
        @click=${()=>{this.onGoToUpdateEmail(r,this.socialProvider)}}
      >
        <wui-text variant="paragraph-500" color="fg-100">${this.getAuthName(r)}</wui-text>
      </wui-list-item>
    `}onGoToUpdateEmail(e,n){n||Ee.push("UpdateEmailWallet",{email:e,redirectView:"Account"})}getAuthName(e){return this.socialUsername?this.socialProvider==="discord"&&this.socialUsername.endsWith("0")?this.socialUsername.slice(0,-1):this.socialUsername:e.length>30?`${e.slice(0,-3)}...`:e}};EG([fe()],oP.prototype,"namespace",void 0);oP=EG([Ae("w3m-account-auth-button")],oP);var Ru=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let pc=class extends _e{constructor(){super(),this.usubscribe=[],this.networkImages=qi.state.networkImages,this.address=Le.state.address,this.profileImage=Le.state.profileImage,this.profileName=Le.state.profileName,this.network=F.state.activeCaipNetwork,this.disconnecting=!1,this.loading=!1,this.switched=!1,this.text="",this.remoteFeatures=ce.state.remoteFeatures,this.usubscribe.push(Le.subscribe(e=>{e.address&&(this.address=e.address,this.profileImage=e.profileImage,this.profileName=e.profileName)}),F.subscribeKey("activeCaipNetwork",e=>{e!=null&&e.id&&(this.network=e)}),ce.subscribeKey("remoteFeatures",e=>{this.remoteFeatures=e}))}disconnectedCallback(){this.usubscribe.forEach(e=>e())}render(){var n,r,i;if(!this.address)throw new Error("w3m-account-settings-view: No account provided");const e=this.networkImages[((r=(n=this.network)==null?void 0:n.assets)==null?void 0:r.imageId)??""];return B`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="l"
        .padding=${["0","xl","m","xl"]}
      >
        <wui-avatar
          alt=${this.address}
          address=${this.address}
          imageSrc=${We(this.profileImage)}
          size="2lg"
        ></wui-avatar>
        <wui-flex flexDirection="column" alignItems="center">
          <wui-flex gap="3xs" alignItems="center" justifyContent="center">
            <wui-text variant="title-6-600" color="fg-100" data-testid="account-settings-address">
              ${$r.getTruncateString({string:this.address,charsStart:4,charsEnd:6,truncate:"middle"})}
            </wui-text>
            <wui-icon-link
              size="md"
              icon="copy"
              iconColor="fg-200"
              @click=${this.onCopyAddress}
            ></wui-icon-link>
          </wui-flex>
        </wui-flex>
      </wui-flex>
      <wui-flex flexDirection="column" gap="m">
        <wui-flex flexDirection="column" gap="xs" .padding=${["0","l","m","l"]}>
          ${this.authCardTemplate()}
          <w3m-account-auth-button></w3m-account-auth-button>
          <wui-list-item
            .variant=${e?"image":"icon"}
            iconVariant="overlay"
            icon="networkPlaceholder"
            imageSrc=${We(e)}
            ?chevron=${this.isAllowedNetworkSwitch()}
            @click=${this.onNetworks.bind(this)}
            data-testid="account-switch-network-button"
          >
            <wui-text variant="paragraph-500" color="fg-100">
              ${((i=this.network)==null?void 0:i.name)??"Unknown"}
            </wui-text>
          </wui-list-item>
          ${this.togglePreferredAccountBtnTemplate()} ${this.chooseNameButtonTemplate()}
          <wui-list-item
            variant="icon"
            iconVariant="overlay"
            icon="disconnect"
            ?chevron=${!1}
            .loading=${this.disconnecting}
            @click=${this.onDisconnect.bind(this)}
            data-testid="disconnect-button"
          >
            <wui-text variant="paragraph-500" color="fg-200">Disconnect</wui-text>
          </wui-list-item>
        </wui-flex>
      </wui-flex>
    `}chooseNameButtonTemplate(){var s;const e=(s=this.network)==null?void 0:s.chainNamespace,n=pe.getConnectorId(e),r=pe.getAuthConnector();return!F.checkIfNamesSupported()||!r||n!==oe.CONNECTOR_ID.AUTH||this.profileName?null:B`
      <wui-list-item
        variant="icon"
        iconVariant="overlay"
        icon="id"
        iconSize="sm"
        ?chevron=${!0}
        @click=${this.onChooseName.bind(this)}
        data-testid="account-choose-name-button"
      >
        <wui-text variant="paragraph-500" color="fg-100">Choose account name </wui-text>
      </wui-list-item>
    `}authCardTemplate(){var i;const e=pe.getConnectorId((i=this.network)==null?void 0:i.chainNamespace),n=pe.getAuthConnector(),{origin:r}=location;return!n||e!==oe.CONNECTOR_ID.AUTH||r.includes(rn.SECURE_SITE)?null:B`
      <wui-notice-card
        @click=${this.onGoToUpgradeView.bind(this)}
        label="Upgrade your wallet"
        description="Transition to a self-custodial wallet"
        icon="wallet"
        data-testid="w3m-wallet-upgrade-card"
      ></wui-notice-card>
    `}isAllowedNetworkSwitch(){const e=F.getAllRequestedCaipNetworks(),n=e?e.length>1:!1,r=e==null?void 0:e.find(({id:i})=>{var s;return i===((s=this.network)==null?void 0:s.id)});return n||!r}onCopyAddress(){try{this.address&&(be.copyToClopboard(this.address),Tn.showSuccess("Address copied"))}catch{Tn.showError("Failed to copy")}}togglePreferredAccountBtnTemplate(){var s;const e=(s=this.network)==null?void 0:s.chainNamespace,n=F.checkIfSmartAccountEnabled(),r=pe.getConnectorId(e);return!pe.getAuthConnector()||r!==oe.CONNECTOR_ID.AUTH||!n?null:(this.switched||(this.text=ii(e)===tr.ACCOUNT_TYPES.SMART_ACCOUNT?"Switch to your EOA":"Switch to your Smart Account"),B`
      <wui-list-item
        variant="icon"
        iconVariant="overlay"
        icon="swapHorizontalBold"
        iconSize="sm"
        ?chevron=${!0}
        ?loading=${this.loading}
        @click=${this.changePreferredAccountType.bind(this)}
        data-testid="account-toggle-preferred-account-type"
      >
        <wui-text variant="paragraph-500" color="fg-100">${this.text}</wui-text>
      </wui-list-item>
    `)}onChooseName(){Ee.push("ChooseAccountName")}async changePreferredAccountType(){var s;const e=(s=this.network)==null?void 0:s.chainNamespace,n=F.checkIfSmartAccountEnabled(),r=ii(e)===tr.ACCOUNT_TYPES.SMART_ACCOUNT||!n?tr.ACCOUNT_TYPES.EOA:tr.ACCOUNT_TYPES.SMART_ACCOUNT;pe.getAuthConnector()&&(this.loading=!0,await Ce.setPreferredAccountType(r,e),this.text=r===tr.ACCOUNT_TYPES.SMART_ACCOUNT?"Switch to your EOA":"Switch to your Smart Account",this.switched=!0,Kn.resetSend(),this.loading=!1,this.requestUpdate())}onNetworks(){this.isAllowedNetworkSwitch()&&Ee.push("Networks")}async onDisconnect(){var e,n;try{this.disconnecting=!0;const r=(e=this.network)==null?void 0:e.chainNamespace,s=Ce.getConnections(r).length>0,o=r&&pe.state.activeConnectorIds[r],a=(n=this.remoteFeatures)==null?void 0:n.multiWallet;await Ce.disconnect(a?{id:o,namespace:r}:{}),s&&a&&(Ee.push("ProfileWallets"),Tn.showSuccess("Wallet deleted"))}catch{At.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:"Failed to disconnect"}}),Tn.showError("Failed to disconnect")}finally{this.disconnecting=!1}}onGoToUpgradeView(){At.sendEvent({type:"track",event:"EMAIL_UPGRADE_FROM_MODAL"}),Ee.push("UpgradeEmailWallet")}};Ru([fe()],pc.prototype,"address",void 0);Ru([fe()],pc.prototype,"profileImage",void 0);Ru([fe()],pc.prototype,"profileName",void 0);Ru([fe()],pc.prototype,"network",void 0);Ru([fe()],pc.prototype,"disconnecting",void 0);Ru([fe()],pc.prototype,"loading",void 0);Ru([fe()],pc.prototype,"switched",void 0);Ru([fe()],pc.prototype,"text",void 0);Ru([fe()],pc.prototype,"remoteFeatures",void 0);pc=Ru([Ae("w3m-account-settings-view")],pc);const x5e=He`
  :host {
    display: inline-flex;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    padding: var(--wui-spacing-3xs);
    position: relative;
    height: 36px;
    min-height: 36px;
    overflow: hidden;
  }

  :host::before {
    content: '';
    position: absolute;
    pointer-events: none;
    top: 4px;
    left: 4px;
    display: block;
    width: var(--local-tab-width);
    height: 28px;
    border-radius: var(--wui-border-radius-3xl);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transform: translateX(calc(var(--local-tab) * var(--local-tab-width)));
    transition: transform var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color, opacity;
  }

  :host([data-type='flex'])::before {
    left: 3px;
    transform: translateX(calc((var(--local-tab) * 34px) + (var(--local-tab) * 4px)));
  }

  :host([data-type='flex']) {
    display: flex;
    padding: 0px 0px 0px 12px;
    gap: 4px;
  }

  :host([data-type='flex']) > button > wui-text {
    position: absolute;
    left: 18px;
    opacity: 0;
  }

  button[data-active='true'] > wui-icon,
  button[data-active='true'] > wui-text {
    color: var(--wui-color-fg-100);
  }

  button[data-active='false'] > wui-icon,
  button[data-active='false'] > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='true']:disabled,
  button[data-active='false']:disabled {
    background-color: transparent;
    opacity: 0.5;
    cursor: not-allowed;
  }

  button[data-active='true']:disabled > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='false']:disabled > wui-text {
    color: var(--wui-color-fg-300);
  }

  button > wui-icon,
  button > wui-text {
    pointer-events: none;
    transition: color var(--wui-e ase-out-power-1) var(--wui-duration-md);
    will-change: color;
  }

  button {
    width: var(--local-tab-width);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  :host([data-type='flex']) > button {
    width: 34px;
    position: relative;
    display: flex;
    justify-content: flex-start;
  }

  button:hover:enabled,
  button:active:enabled {
    background-color: transparent !important;
  }

  button:hover:enabled > wui-icon,
  button:active:enabled > wui-icon {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button:hover:enabled > wui-text,
  button:active:enabled > wui-text {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
  }
`;var yp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let _u=class extends _e{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.buttons=[],this.disabled=!1,this.localTabWidth="100px",this.activeTab=0,this.isDense=!1}render(){return this.isDense=this.tabs.length>3,this.style.cssText=`
      --local-tab: ${this.activeTab};
      --local-tab-width: ${this.localTabWidth};
    `,this.dataset.type=this.isDense?"flex":"block",this.tabs.map((e,n)=>{var i;const r=n===this.activeTab;return B`
        <button
          ?disabled=${this.disabled}
          @click=${()=>this.onTabClick(n)}
          data-active=${r}
          data-testid="tab-${(i=e.label)==null?void 0:i.toLowerCase()}"
        >
          ${this.iconTemplate(e)}
          <wui-text variant="small-600" color="inherit"> ${e.label} </wui-text>
        </button>
      `})}firstUpdated(){this.shadowRoot&&this.isDense&&(this.buttons=[...this.shadowRoot.querySelectorAll("button")],setTimeout(()=>{this.animateTabs(0,!0)},0))}iconTemplate(e){return e.icon?B`<wui-icon size="xs" color="inherit" name=${e.icon}></wui-icon>`:null}onTabClick(e){this.buttons&&this.animateTabs(e,!1),this.activeTab=e,this.onTabChange(e)}animateTabs(e,n){const r=this.buttons[this.activeTab],i=this.buttons[e],s=r==null?void 0:r.querySelector("wui-text"),o=i==null?void 0:i.querySelector("wui-text"),a=i==null?void 0:i.getBoundingClientRect(),c=o==null?void 0:o.getBoundingClientRect();r&&s&&!n&&e!==this.activeTab&&(s.animate([{opacity:0}],{duration:50,easing:"ease",fill:"forwards"}),r.animate([{width:"34px"}],{duration:500,easing:"ease",fill:"forwards"})),i&&a&&c&&o&&(e!==this.activeTab||n)&&(this.localTabWidth=`${Math.round(a.width+c.width)+6}px`,i.animate([{width:`${a.width+c.width}px`}],{duration:n?0:500,fill:"forwards",easing:"ease"}),o.animate([{opacity:1}],{duration:n?0:125,delay:n?0:200,fill:"forwards",easing:"ease"}))}};_u.styles=[Ut,Un,x5e];yp([Z({type:Array})],_u.prototype,"tabs",void 0);yp([Z()],_u.prototype,"onTabChange",void 0);yp([Z({type:Array})],_u.prototype,"buttons",void 0);yp([Z({type:Boolean})],_u.prototype,"disabled",void 0);yp([Z()],_u.prototype,"localTabWidth",void 0);yp([fe()],_u.prototype,"activeTab",void 0);yp([fe()],_u.prototype,"isDense",void 0);_u=yp([Ae("wui-tabs")],_u);const E5e=He`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    height: var(--wui-spacing-m);
    padding: 0 var(--wui-spacing-3xs) !important;
    border-radius: var(--wui-border-radius-5xs);
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host > wui-text {
    transform: translateY(5%);
  }

  :host([data-variant='main']) {
    background-color: var(--wui-color-accent-glass-015);
    color: var(--wui-color-accent-100);
  }

  :host([data-variant='shade']) {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-200);
  }

  :host([data-variant='success']) {
    background-color: var(--wui-icon-box-bg-success-100);
    color: var(--wui-color-success-100);
  }

  :host([data-variant='error']) {
    background-color: var(--wui-icon-box-bg-error-100);
    color: var(--wui-color-error-100);
  }

  :host([data-size='lg']) {
    padding: 11px 5px !important;
  }

  :host([data-size='lg']) > wui-text {
    transform: translateY(2%);
  }

  :host([data-size='xs']) {
    height: var(--wui-spacing-2l);
    padding: 0 var(--wui-spacing-3xs) !important;
  }

  :host([data-size='xs']) > wui-text {
    transform: translateY(2%);
  }
`;var g8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let N2=class extends _e{constructor(){super(...arguments),this.variant="main",this.size="lg"}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const e=this.size==="md"||this.size==="xs"?"mini-700":"micro-700";return B`
      <wui-text data-variant=${this.variant} variant=${e} color="inherit">
        <slot></slot>
      </wui-text>
    `}};N2.styles=[Ut,E5e];g8([Z()],N2.prototype,"variant",void 0);g8([Z()],N2.prototype,"size",void 0);N2=g8([Ae("wui-tag")],N2);const A5e=He`
  button {
    display: flex;
    align-items: center;
    padding: var(--wui-spacing-xxs);
    border-radius: var(--wui-border-radius-xxs);
    column-gap: var(--wui-spacing-xs);
  }

  wui-image,
  .icon-box {
    width: var(--wui-spacing-xxl);
    height: var(--wui-spacing-xxl);
    border-radius: var(--wui-border-radius-3xs);
  }

  wui-text {
    flex: 1;
  }

  .icon-box {
    position: relative;
  }

  .icon-box[data-active='true'] {
    background-color: var(--wui-color-gray-glass-005);
  }

  .circle {
    position: absolute;
    left: 16px;
    top: 15px;
    width: var(--wui-spacing-1xs);
    height: var(--wui-spacing-1xs);
    background-color: var(--wui-color-success-100);
    border: 2px solid var(--wui-color-modal-bg);
    border-radius: 50%;
  }
`;var Ou=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let mc=class extends _e{constructor(){super(...arguments),this.address="",this.profileName="",this.alt="",this.imageSrc="",this.icon=void 0,this.iconSize="md",this.loading=!1,this.charsStart=4,this.charsEnd=6}render(){return B`
      <button>
        ${this.leftImageTemplate()} ${this.textTemplate()} ${this.rightImageTemplate()}
      </button>
    `}leftImageTemplate(){const e=this.icon?B`<wui-icon
          size=${this.iconSize}
          color="fg-200"
          name=${this.icon}
          class="icon"
        ></wui-icon>`:B`<wui-image src=${this.imageSrc} alt=${this.alt}></wui-image>`;return B`
      <wui-flex
        alignItems="center"
        justifyContent="center"
        class="icon-box"
        data-active=${!!this.icon}
      >
        ${e}
        <wui-flex class="circle"></wui-flex>
      </wui-flex>
    `}textTemplate(){return B`
      <wui-text variant="paragraph-500" color="fg-100">
        ${$r.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?16:this.charsStart,charsEnd:this.profileName?0:this.charsEnd,truncate:this.profileName?"end":"middle"})}
      </wui-text>
    `}rightImageTemplate(){return B`<wui-icon name="chevronBottom" size="xs" color="fg-200"></wui-icon>`}};mc.styles=[Ut,Un,A5e];Ou([Z()],mc.prototype,"address",void 0);Ou([Z()],mc.prototype,"profileName",void 0);Ou([Z()],mc.prototype,"alt",void 0);Ou([Z()],mc.prototype,"imageSrc",void 0);Ou([Z()],mc.prototype,"icon",void 0);Ou([Z()],mc.prototype,"iconSize",void 0);Ou([Z({type:Boolean})],mc.prototype,"loading",void 0);Ou([Z({type:Number})],mc.prototype,"charsStart",void 0);Ou([Z({type:Number})],mc.prototype,"charsEnd",void 0);mc=Ou([Ae("wui-wallet-switch")],mc);const S5e=He`
  wui-flex {
    width: 100%;
  }

  :host > wui-flex:first-child {
    transform: translateY(calc(var(--wui-spacing-xxs) * -1));
  }

  wui-icon-link {
    margin-right: calc(var(--wui-icon-box-size-md) * -1);
  }

  wui-notice-card {
    margin-bottom: var(--wui-spacing-3xs);
  }

  wui-list-item > wui-text {
    flex: 1;
  }

  w3m-transactions-view {
    max-height: 200px;
  }

  .tab-content-container {
    height: 300px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  .tab-content-container::-webkit-scrollbar {
    display: none;
  }

  .account-button {
    width: auto;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--wui-spacing-s);
    height: 48px;
    padding: var(--wui-spacing-xs);
    padding-right: var(--wui-spacing-s);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: 24px;
    transition: background-color 0.2s linear;
  }

  .account-button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }

  .avatar-container {
    position: relative;
  }

  wui-avatar.avatar {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  wui-wallet-switch {
    margin-top: var(--wui-spacing-xs);
  }

  wui-avatar.network-avatar {
    width: 16px;
    height: 16px;
    position: absolute;
    left: 100%;
    top: 100%;
    transform: translate(-75%, -75%);
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  .account-links {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .account-links wui-flex {
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1;
    background: red;
    align-items: center;
    justify-content: center;
    height: 48px;
    padding: 10px;
    flex: 1 0 0;
    border-radius: var(--XS, 16px);
    border: 1px solid var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    background: var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    transition:
      background-color var(--wui-ease-out-power-1) var(--wui-duration-md),
      opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color, opacity;
  }

  .account-links wui-flex:hover {
    background: var(--dark-accent-glass-015, rgba(71, 161, 255, 0.15));
  }

  .account-links wui-flex wui-icon {
    width: var(--S, 20px);
    height: var(--S, 20px);
  }

  .account-links wui-flex wui-icon svg path {
    stroke: #667dff;
  }
`;var xc=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let qo=class extends _e{constructor(){super(),this.unsubscribe=[],this.caipAddress=Le.state.caipAddress,this.address=be.getPlainAddress(Le.state.caipAddress),this.profileImage=Le.state.profileImage,this.profileName=Le.state.profileName,this.disconnecting=!1,this.balance=Le.state.balance,this.balanceSymbol=Le.state.balanceSymbol,this.features=ce.state.features,this.remoteFeatures=ce.state.remoteFeatures,this.namespace=F.state.activeChain,this.activeConnectorIds=pe.state.activeConnectorIds,this.unsubscribe.push(Le.subscribeKey("caipAddress",e=>{this.address=be.getPlainAddress(e),this.caipAddress=e}),Le.subscribeKey("balance",e=>this.balance=e),Le.subscribeKey("balanceSymbol",e=>this.balanceSymbol=e),Le.subscribeKey("profileName",e=>this.profileName=e),Le.subscribeKey("profileImage",e=>this.profileImage=e),ce.subscribeKey("features",e=>this.features=e),ce.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e),pe.subscribeKey("activeConnectorIds",e=>{this.activeConnectorIds=e}),F.subscribeKey("activeChain",e=>this.namespace=e),F.subscribeKey("activeCaipNetwork",e=>{e!=null&&e.chainNamespace&&(this.namespace=e==null?void 0:e.chainNamespace)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(!this.caipAddress||!this.namespace)return null;const e=this.activeConnectorIds[this.namespace],n=e?pe.getConnectorById(e):void 0,r=$n.getConnectorImage(n);return B`<wui-flex
        flexDirection="column"
        .padding=${["0","xl","m","xl"]}
        alignItems="center"
        gap="s"
      >
        <wui-avatar
          alt=${We(this.caipAddress)}
          address=${We(be.getPlainAddress(this.caipAddress))}
          imageSrc=${We(this.profileImage===null?void 0:this.profileImage)}
          data-testid="single-account-avatar"
        ></wui-avatar>
        <wui-wallet-switch
          profileName=${this.profileName}
          address=${this.address}
          imageSrc=${r}
          alt=${n==null?void 0:n.name}
          @click=${this.onGoToProfileWalletsView.bind(this)}
          data-testid="wui-wallet-switch"
        ></wui-wallet-switch>
        <wui-flex flexDirection="column" alignItems="center">
          <wui-text variant="paragraph-500" color="fg-200">
            ${be.formatBalance(this.balance,this.balanceSymbol)}
          </wui-text>
        </wui-flex>
        ${this.explorerBtnTemplate()}
      </wui-flex>

      <wui-flex flexDirection="column" gap="xs" .padding=${["0","s","s","s"]}>
        ${this.authCardTemplate()} <w3m-account-auth-button></w3m-account-auth-button>
        ${this.orderedFeaturesTemplate()} ${this.activityTemplate()}
        <wui-list-item
          variant="icon"
          iconVariant="overlay"
          icon="disconnect"
          ?chevron=${!1}
          .loading=${this.disconnecting}
          @click=${this.onDisconnect.bind(this)}
          data-testid="disconnect-button"
        >
          <wui-text variant="paragraph-500" color="fg-200">Disconnect</wui-text>
        </wui-list-item>
      </wui-flex>`}fundWalletTemplate(){var i,s;if(!this.namespace)return null;const e=rn.ONRAMP_SUPPORTED_CHAIN_NAMESPACES.includes(this.namespace),n=((i=this.remoteFeatures)==null?void 0:i.onramp)&&e,r=!!((s=this.features)!=null&&s.receive);return!n&&!r?null:B`
      <wui-list-item
        data-testid="w3m-account-default-fund-wallet-button"
        iconVariant="blue"
        icon="dollar"
        ?chevron=${!0}
        @click=${this.handleClickFundWallet.bind(this)}
      >
        <wui-text variant="paragraph-500" color="fg-100">Fund wallet</wui-text>
      </wui-list-item>
    `}orderedFeaturesTemplate(){var n;return(((n=this.features)==null?void 0:n.walletFeaturesOrder)||rn.DEFAULT_FEATURES.walletFeaturesOrder).map(r=>{switch(r){case"onramp":return this.fundWalletTemplate();case"swaps":return this.swapsTemplate();case"send":return this.sendTemplate();default:return null}})}activityTemplate(){var n;return this.namespace&&((n=this.remoteFeatures)==null?void 0:n.activity)&&rn.ACTIVITY_ENABLED_CHAIN_NAMESPACES.includes(this.namespace)?B` <wui-list-item
          iconVariant="blue"
          icon="clock"
          iconSize="sm"
          ?chevron=${!0}
          @click=${this.onTransactions.bind(this)}
          data-testid="w3m-account-default-activity-button"
        >
          <wui-text variant="paragraph-500" color="fg-100">Activity</wui-text>
        </wui-list-item>`:null}swapsTemplate(){var r;const e=(r=this.remoteFeatures)==null?void 0:r.swaps,n=F.state.activeChain===oe.CHAIN.EVM;return!e||!n?null:B`
      <wui-list-item
        iconVariant="blue"
        icon="recycleHorizontal"
        ?chevron=${!0}
        @click=${this.handleClickSwap.bind(this)}
        data-testid="w3m-account-default-swaps-button"
      >
        <wui-text variant="paragraph-500" color="fg-100">Swap</wui-text>
      </wui-list-item>
    `}sendTemplate(){var i;const e=(i=this.features)==null?void 0:i.send,n=F.state.activeChain;if(!n)throw new Error("SendController:sendTemplate - namespace is required");const r=rn.SEND_SUPPORTED_NAMESPACES.includes(n);return!e||!r?null:B`
      <wui-list-item
        iconVariant="blue"
        icon="send"
        ?chevron=${!0}
        @click=${this.handleClickSend.bind(this)}
        data-testid="w3m-account-default-send-button"
      >
        <wui-text variant="paragraph-500" color="fg-100">Send</wui-text>
      </wui-list-item>
    `}authCardTemplate(){const e=F.state.activeChain;if(!e)throw new Error("AuthCardTemplate:authCardTemplate - namespace is required");const n=pe.getConnectorId(e),r=pe.getAuthConnector(),{origin:i}=location;return!r||n!==oe.CONNECTOR_ID.AUTH||i.includes(rn.SECURE_SITE)?null:B`
      <wui-notice-card
        @click=${this.onGoToUpgradeView.bind(this)}
        label="Upgrade your wallet"
        description="Transition to a self-custodial wallet"
        icon="wallet"
        data-testid="w3m-wallet-upgrade-card"
      ></wui-notice-card>
    `}handleClickFundWallet(){Ee.push("FundWallet")}handleClickSwap(){Ee.push("Swap")}handleClickSend(){Ee.push("WalletSend")}explorerBtnTemplate(){return Le.state.addressExplorerUrl?B`
      <wui-button size="md" variant="neutral" @click=${this.onExplorer.bind(this)}>
        <wui-icon size="sm" color="inherit" slot="iconLeft" name="compass"></wui-icon>
        Block Explorer
        <wui-icon size="sm" color="inherit" slot="iconRight" name="externalLink"></wui-icon>
      </wui-button>
    `:null}onTransactions(){At.sendEvent({type:"track",event:"CLICK_TRANSACTIONS",properties:{isSmartAccount:ii(F.state.activeChain)===tr.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ee.push("Transactions")}async onDisconnect(){var e;try{this.disconnecting=!0;const r=Ce.getConnections(this.namespace).length>0,i=this.namespace&&pe.state.activeConnectorIds[this.namespace],s=(e=this.remoteFeatures)==null?void 0:e.multiWallet;await Ce.disconnect(s?{id:i,namespace:this.namespace}:{}),r&&s&&(Ee.push("ProfileWallets"),Tn.showSuccess("Wallet deleted"))}catch{At.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:"Failed to disconnect"}}),Tn.showError("Failed to disconnect")}finally{this.disconnecting=!1}}onExplorer(){const e=Le.state.addressExplorerUrl;e&&be.openHref(e,"_blank")}onGoToUpgradeView(){At.sendEvent({type:"track",event:"EMAIL_UPGRADE_FROM_MODAL"}),Ee.push("UpgradeEmailWallet")}onGoToProfileWalletsView(){Ee.push("ProfileWallets")}};qo.styles=S5e;xc([fe()],qo.prototype,"caipAddress",void 0);xc([fe()],qo.prototype,"address",void 0);xc([fe()],qo.prototype,"profileImage",void 0);xc([fe()],qo.prototype,"profileName",void 0);xc([fe()],qo.prototype,"disconnecting",void 0);xc([fe()],qo.prototype,"balance",void 0);xc([fe()],qo.prototype,"balanceSymbol",void 0);xc([fe()],qo.prototype,"features",void 0);xc([fe()],qo.prototype,"remoteFeatures",void 0);xc([fe()],qo.prototype,"namespace",void 0);xc([fe()],qo.prototype,"activeConnectorIds",void 0);qo=xc([Ae("w3m-account-default-widget")],qo);const _5e=He`
  span {
    font-weight: 500;
    font-size: 40px;
    color: var(--wui-color-fg-100);
    line-height: 130%; /* 52px */
    letter-spacing: -1.6px;
    text-align: center;
  }

  .pennies {
    color: var(--wui-color-fg-200);
  }
`;var y8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let P2=class extends _e{constructor(){super(...arguments),this.dollars="0",this.pennies="00"}render(){return B`<span>$${this.dollars}<span class="pennies">.${this.pennies}</span></span>`}};P2.styles=[Ut,_5e];y8([Z()],P2.prototype,"dollars",void 0);y8([Z()],P2.prototype,"pennies",void 0);P2=y8([Ae("wui-balance")],P2);const T5e=He`
  :host {
    position: relative;
  }

  button {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 48px;
    width: 100%;
    background-color: var(--wui-color-accent-glass-010);
    border-radius: var(--wui-border-radius-xs);
    border: 1px solid var(--wui-color-accent-glass-010);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  wui-tooltip {
    padding: 7px var(--wui-spacing-s) 8px var(--wui-spacing-s);
    position: absolute;
    top: -8px;
    left: 50%;
    transform: translate(-50%, -100%);
    opacity: 0;
    display: none;
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }
  }
`;var w8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let k2=class extends _e{constructor(){super(...arguments),this.text="",this.icon="card"}render(){return B`<button>
      <wui-icon color="accent-100" name=${this.icon} size="lg"></wui-icon>
    </button>`}};k2.styles=[Ut,Un,T5e];w8([Z()],k2.prototype,"text",void 0);w8([Z()],k2.prototype,"icon",void 0);k2=w8([Ae("wui-icon-button")],k2);const I5e=He`
  :host {
    display: block;
    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);

    color: var(--wui-color-bg-100);
    position: relative;
  }

  :host([data-variant='shade']) {
    background-color: var(--wui-color-bg-150);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  :host([data-variant='shade']) > wui-text {
    color: var(--wui-color-fg-150);
  }

  :host([data-variant='fill']) {
    background-color: var(--wui-color-fg-100);
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`;var NS=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let qw=class extends _e{constructor(){super(...arguments),this.placement="top",this.variant="fill",this.message=""}render(){return this.dataset.variant=this.variant,B`<wui-icon
        data-placement=${this.placement}
        color="fg-100"
        size="inherit"
        name=${this.variant==="fill"?"cursor":"cursorTransparent"}
      ></wui-icon>
      <wui-text color="inherit" variant="small-500">${this.message}</wui-text>`}};qw.styles=[Ut,Un,I5e];NS([Z()],qw.prototype,"placement",void 0);NS([Z()],qw.prototype,"variant",void 0);NS([Z()],qw.prototype,"message",void 0);qw=NS([Ae("wui-tooltip")],qw);const N5e={getTabsByNamespace(t){var n;return!!t&&t===oe.CHAIN.EVM?((n=ce.state.remoteFeatures)==null?void 0:n.activity)===!1?dm.ACCOUNT_TABS.filter(r=>r.label!=="Activity"):dm.ACCOUNT_TABS:[]},isValidReownName(t){return/^[a-zA-Z0-9]+$/gu.test(t)},validateReownName(t){return t.replace(/\^/gu,"").toLowerCase().replace(/[^a-zA-Z0-9]/gu,"")}},P5e=He`
  button {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
    border-radius: var(--wui-border-radius-3xs);
    background-color: transparent;
    color: var(--wui-color-accent-100);
  }

  button:disabled {
    background-color: transparent;
    color: var(--wui-color-gray-glass-015);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }
`;var PS=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Gw=class extends _e{constructor(){super(...arguments),this.tabIdx=void 0,this.disabled=!1,this.color="inherit"}render(){return B`
      <button ?disabled=${this.disabled} tabindex=${We(this.tabIdx)}>
        <slot name="iconLeft"></slot>
        <wui-text variant="small-600" color=${this.color}>
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}};Gw.styles=[Ut,Un,P5e];PS([Z()],Gw.prototype,"tabIdx",void 0);PS([Z({type:Boolean})],Gw.prototype,"disabled",void 0);PS([Z()],Gw.prototype,"color",void 0);Gw=PS([Ae("wui-link")],Gw);var aP;(function(t){t.approve="approved",t.bought="bought",t.borrow="borrowed",t.burn="burnt",t.cancel="canceled",t.claim="claimed",t.deploy="deployed",t.deposit="deposited",t.execute="executed",t.mint="minted",t.receive="received",t.repay="repaid",t.send="sent",t.sell="sold",t.stake="staked",t.trade="swapped",t.unstake="unstaked",t.withdraw="withdrawn"})(aP||(aP={}));const k5e=He`
  :host > wui-flex {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    width: 40px;
    height: 40px;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-gray-glass-005);
  }

  :host > wui-flex wui-image {
    display: block;
  }

  :host > wui-flex,
  :host > wui-flex wui-image,
  .swap-images-container,
  .swap-images-container.nft,
  wui-image.nft {
    border-top-left-radius: var(--local-left-border-radius);
    border-top-right-radius: var(--local-right-border-radius);
    border-bottom-left-radius: var(--local-left-border-radius);
    border-bottom-right-radius: var(--local-right-border-radius);
  }

  wui-icon {
    width: 20px;
    height: 20px;
  }

  wui-icon-box {
    position: absolute;
    right: 0;
    bottom: 0;
    transform: translate(20%, 20%);
  }

  .swap-images-container {
    position: relative;
    width: 40px;
    height: 40px;
    overflow: hidden;
  }

  .swap-images-container wui-image:first-child {
    position: absolute;
    width: 40px;
    height: 40px;
    top: 0;
    left: 0%;
    clip-path: inset(0px calc(50% + 2px) 0px 0%);
  }

  .swap-images-container wui-image:last-child {
    clip-path: inset(0px 0px 0px calc(50% + 2px));
  }
`;var zg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Gd=class extends _e{constructor(){super(...arguments),this.images=[],this.secondImage={type:void 0,url:""}}render(){const[e,n]=this.images,r=(e==null?void 0:e.type)==="NFT",i=n!=null&&n.url?n.type==="NFT":r,s=r?"var(--wui-border-radius-xxs)":"var(--wui-border-radius-s)",o=i?"var(--wui-border-radius-xxs)":"var(--wui-border-radius-s)";return this.style.cssText=`
    --local-left-border-radius: ${s};
    --local-right-border-radius: ${o};
    `,B`<wui-flex> ${this.templateVisual()} ${this.templateIcon()} </wui-flex>`}templateVisual(){const[e,n]=this.images,r=e==null?void 0:e.type;return this.images.length===2&&(e!=null&&e.url||n!=null&&n.url)?B`<div class="swap-images-container">
        ${e!=null&&e.url?B`<wui-image src=${e.url} alt="Transaction image"></wui-image>`:null}
        ${n!=null&&n.url?B`<wui-image src=${n.url} alt="Transaction image"></wui-image>`:null}
      </div>`:e!=null&&e.url?B`<wui-image src=${e.url} alt="Transaction image"></wui-image>`:r==="NFT"?B`<wui-icon size="inherit" color="fg-200" name="nftPlaceholder"></wui-icon>`:B`<wui-icon size="inherit" color="fg-200" name="coinPlaceholder"></wui-icon>`}templateIcon(){let e="accent-100",n;return n=this.getIcon(),this.status&&(e=this.getStatusColor()),n?B`
      <wui-icon-box
        size="xxs"
        iconColor=${e}
        backgroundColor=${e}
        background="opaque"
        icon=${n}
        ?border=${!0}
        borderColor="wui-color-bg-125"
      ></wui-icon-box>
    `:null}getDirectionIcon(){switch(this.direction){case"in":return"arrowBottom";case"out":return"arrowTop";default:return}}getIcon(){return this.onlyDirectionIcon?this.getDirectionIcon():this.type==="trade"?"swapHorizontalBold":this.type==="approve"?"checkmark":this.type==="cancel"?"close":this.getDirectionIcon()}getStatusColor(){switch(this.status){case"confirmed":return"success-100";case"failed":return"error-100";case"pending":return"inverse-100";default:return"accent-100"}}};Gd.styles=[k5e];zg([Z()],Gd.prototype,"type",void 0);zg([Z()],Gd.prototype,"status",void 0);zg([Z()],Gd.prototype,"direction",void 0);zg([Z({type:Boolean})],Gd.prototype,"onlyDirectionIcon",void 0);zg([Z({type:Array})],Gd.prototype,"images",void 0);zg([Z({type:Object})],Gd.prototype,"secondImage",void 0);Gd=zg([Ae("wui-transaction-visual")],Gd);const R5e=He`
  :host > wui-flex:first-child {
    align-items: center;
    column-gap: var(--wui-spacing-s);
    padding: 6.5px var(--wui-spacing-xs) 6.5px var(--wui-spacing-xs);
    width: 100%;
  }

  :host > wui-flex:first-child wui-text:nth-child(1) {
    text-transform: capitalize;
  }

  wui-transaction-visual {
    width: 40px;
    height: 40px;
  }

  wui-flex {
    flex: 1;
  }

  :host wui-flex wui-flex {
    overflow: hidden;
  }

  :host .description-container wui-text span {
    word-break: break-all;
  }

  :host .description-container wui-text {
    overflow: hidden;
  }

  :host .description-separator-icon {
    margin: 0px 6px;
  }

  :host wui-text > span {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }
`;var xl=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let xa=class extends _e{constructor(){super(...arguments),this.type="approve",this.onlyDirectionIcon=!1,this.images=[],this.price=[],this.amount=[],this.symbol=[]}render(){return B`
      <wui-flex>
        <wui-transaction-visual
          .status=${this.status}
          direction=${We(this.direction)}
          type=${this.type}
          onlyDirectionIcon=${We(this.onlyDirectionIcon)}
          .images=${this.images}
        ></wui-transaction-visual>
        <wui-flex flexDirection="column" gap="3xs">
          <wui-text variant="paragraph-600" color="fg-100">
            ${aP[this.type]||this.type}
          </wui-text>
          <wui-flex class="description-container">
            ${this.templateDescription()} ${this.templateSecondDescription()}
          </wui-flex>
        </wui-flex>
        <wui-text variant="micro-700" color="fg-300"><span>${this.date}</span></wui-text>
      </wui-flex>
    `}templateDescription(){var n;const e=(n=this.descriptions)==null?void 0:n[0];return e?B`
          <wui-text variant="small-500" color="fg-200">
            <span>${e}</span>
          </wui-text>
        `:null}templateSecondDescription(){var n;const e=(n=this.descriptions)==null?void 0:n[1];return e?B`
          <wui-icon class="description-separator-icon" size="xxs" name="arrowRight"></wui-icon>
          <wui-text variant="small-400" color="fg-200">
            <span>${e}</span>
          </wui-text>
        `:null}};xa.styles=[Ut,R5e];xl([Z()],xa.prototype,"type",void 0);xl([Z({type:Array})],xa.prototype,"descriptions",void 0);xl([Z()],xa.prototype,"date",void 0);xl([Z({type:Boolean})],xa.prototype,"onlyDirectionIcon",void 0);xl([Z()],xa.prototype,"status",void 0);xl([Z()],xa.prototype,"direction",void 0);xl([Z({type:Array})],xa.prototype,"images",void 0);xl([Z({type:Array})],xa.prototype,"price",void 0);xl([Z({type:Array})],xa.prototype,"amount",void 0);xl([Z({type:Array})],xa.prototype,"symbol",void 0);xa=xl([Ae("wui-transaction-list-item")],xa);const O5e=He`
  :host {
    display: block;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-200) 5%,
      var(--wui-color-bg-200) 48%,
      var(--wui-color-bg-300) 55%,
      var(--wui-color-bg-300) 60%,
      var(--wui-color-bg-300) calc(60% + 10px),
      var(--wui-color-bg-200) calc(60% + 12px),
      var(--wui-color-bg-200) 100%
    );
    background-size: 250%;
    animation: shimmer 3s linear infinite reverse;
  }

  :host([variant='light']) {
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-150) 5%,
      var(--wui-color-bg-150) 48%,
      var(--wui-color-bg-200) 55%,
      var(--wui-color-bg-200) 60%,
      var(--wui-color-bg-200) calc(60% + 10px),
      var(--wui-color-bg-150) calc(60% + 12px),
      var(--wui-color-bg-150) 100%
    );
    background-size: 250%;
  }

  @keyframes shimmer {
    from {
      background-position: -250% 0;
    }
    to {
      background-position: 250% 0;
    }
  }
`;var ax=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let wg=class extends _e{constructor(){super(...arguments),this.width="",this.height="",this.borderRadius="m",this.variant="default"}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
      border-radius: ${`clamp(0px,var(--wui-border-radius-${this.borderRadius}), 40px)`};
    `,B`<slot></slot>`}};wg.styles=[O5e];ax([Z()],wg.prototype,"width",void 0);ax([Z()],wg.prototype,"height",void 0);ax([Z()],wg.prototype,"borderRadius",void 0);ax([Z()],wg.prototype,"variant",void 0);wg=ax([Ae("wui-shimmer")],wg);const $5e=He`
  :host > wui-flex:first-child {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
  }

  wui-flex {
    display: flex;
    flex: 1;
  }
`;var D5e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let cP=class extends _e{render(){return B`
      <wui-flex alignItems="center">
        <wui-shimmer width="40px" height="40px"></wui-shimmer>
        <wui-flex flexDirection="column" gap="2xs">
          <wui-shimmer width="72px" height="16px" borderRadius="4xs"></wui-shimmer>
          <wui-shimmer width="148px" height="14px" borderRadius="4xs"></wui-shimmer>
        </wui-flex>
        <wui-shimmer width="24px" height="12px" borderRadius="5xs"></wui-shimmer>
      </wui-flex>
    `}};cP.styles=[Ut,$5e];cP=D5e([Ae("wui-transaction-list-item-loader")],cP);const L5e=He`
  :host {
    min-height: 100%;
  }

  .group-container[last-group='true'] {
    padding-bottom: var(--wui-spacing-m);
  }

  .contentContainer {
    height: 280px;
  }

  .contentContainer > wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-xxs);
  }

  .contentContainer > .textContent {
    width: 65%;
  }

  .emptyContainer {
    height: 100%;
  }
`;var Wg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const iA="last-transaction",M5e=7;let Kd=class extends _e{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.page="activity",this.caipAddress=F.state.activeCaipAddress,this.transactionsByYear=Ks.state.transactionsByYear,this.loading=Ks.state.loading,this.empty=Ks.state.empty,this.next=Ks.state.next,Ks.clearCursor(),this.unsubscribe.push(F.subscribeKey("activeCaipAddress",e=>{e&&this.caipAddress!==e&&(Ks.resetTransactions(),Ks.fetchTransactions(e)),this.caipAddress=e}),F.subscribeKey("activeCaipNetwork",()=>{this.updateTransactionView()}),Ks.subscribe(e=>{this.transactionsByYear=e.transactionsByYear,this.loading=e.loading,this.empty=e.empty,this.next=e.next}))}firstUpdated(){this.updateTransactionView(),this.createPaginationObserver()}updated(){this.setPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return B` ${this.empty?null:this.templateTransactionsByYear()}
    ${this.loading?this.templateLoading():null}
    ${!this.loading&&this.empty?this.templateEmpty():null}`}updateTransactionView(){Ks.resetTransactions(),this.caipAddress&&Ks.fetchTransactions(be.getPlainAddress(this.caipAddress))}templateTransactionsByYear(){return Object.keys(this.transactionsByYear).sort().reverse().map(n=>{const r=parseInt(n,10),i=new Array(12).fill(null).map((s,o)=>{var u;const a=fy.getTransactionGroupTitle(r,o),c=(u=this.transactionsByYear[r])==null?void 0:u[o];return{groupTitle:a,transactions:c}}).filter(({transactions:s})=>s).reverse();return i.map(({groupTitle:s,transactions:o},a)=>{const c=a===i.length-1;return o?B`
          <wui-flex
            flexDirection="column"
            class="group-container"
            last-group="${c?"true":"false"}"
            data-testid="month-indexes"
          >
            <wui-flex
              alignItems="center"
              flexDirection="row"
              .padding=${["xs","s","s","s"]}
            >
              <wui-text variant="paragraph-500" color="fg-200" data-testid="group-title"
                >${s}</wui-text
              >
            </wui-flex>
            <wui-flex flexDirection="column" gap="xs">
              ${this.templateTransactions(o,c)}
            </wui-flex>
          </wui-flex>
        `:null})})}templateRenderTransaction(e,n){const{date:r,descriptions:i,direction:s,isAllNFT:o,images:a,status:c,transfers:u,type:f}=this.getTransactionListItemProps(e),h=(u==null?void 0:u.length)>1;return(u==null?void 0:u.length)===2&&!o?B`
        <wui-transaction-list-item
          date=${r}
          .direction=${s}
          id=${n&&this.next?iA:""}
          status=${c}
          type=${f}
          .images=${a}
          .descriptions=${i}
        ></wui-transaction-list-item>
      `:h?u.map((g,w)=>{const y=fy.getTransferDescription(g),b=n&&w===u.length-1;return B` <wui-transaction-list-item
          date=${r}
          direction=${g.direction}
          id=${b&&this.next?iA:""}
          status=${c}
          type=${f}
          .onlyDirectionIcon=${!0}
          .images=${[a[w]]}
          .descriptions=${[y]}
        ></wui-transaction-list-item>`}):B`
      <wui-transaction-list-item
        date=${r}
        .direction=${s}
        id=${n&&this.next?iA:""}
        status=${c}
        type=${f}
        .images=${a}
        .descriptions=${i}
      ></wui-transaction-list-item>
    `}templateTransactions(e,n){return e.map((r,i)=>{const s=n&&i===e.length-1;return B`${this.templateRenderTransaction(r,s)}`})}emptyStateActivity(){return B`<wui-flex
      class="emptyContainer"
      flexGrow="1"
      flexDirection="column"
      justifyContent="center"
      alignItems="center"
      .padding=${["3xl","xl","3xl","xl"]}
      gap="xl"
      data-testid="empty-activity-state"
    >
      <wui-icon-box
        backgroundColor="gray-glass-005"
        background="gray"
        iconColor="fg-200"
        icon="wallet"
        size="lg"
        ?border=${!0}
        borderColor="wui-color-bg-125"
      ></wui-icon-box>
      <wui-flex flexDirection="column" alignItems="center" gap="xs">
        <wui-text align="center" variant="paragraph-500" color="fg-100"
          >No Transactions yet</wui-text
        >
        <wui-text align="center" variant="small-500" color="fg-200"
          >Start trading on dApps <br />
          to grow your wallet!</wui-text
        >
      </wui-flex>
    </wui-flex>`}emptyStateAccount(){return B`<wui-flex
      class="contentContainer"
      alignItems="center"
      justifyContent="center"
      flexDirection="column"
      gap="l"
      data-testid="empty-account-state"
    >
      <wui-icon-box
        icon="swapHorizontal"
        size="inherit"
        iconColor="fg-200"
        backgroundColor="fg-200"
        iconSize="lg"
      ></wui-icon-box>
      <wui-flex
        class="textContent"
        gap="xs"
        flexDirection="column"
        justifyContent="center"
        flexDirection="column"
      >
        <wui-text variant="paragraph-500" align="center" color="fg-100">No activity yet</wui-text>
        <wui-text variant="small-400" align="center" color="fg-200"
          >Your next transactions will appear here</wui-text
        >
      </wui-flex>
      <wui-link @click=${this.onReceiveClick.bind(this)}>Trade</wui-link>
    </wui-flex>`}templateEmpty(){return this.page==="account"?B`${this.emptyStateAccount()}`:B`${this.emptyStateActivity()}`}templateLoading(){return this.page==="activity"?Array(M5e).fill(B` <wui-transaction-list-item-loader></wui-transaction-list-item-loader> `).map(e=>e):null}onReceiveClick(){Ee.push("WalletReceive")}createPaginationObserver(){const{projectId:e}=ce.state;this.paginationObserver=new IntersectionObserver(([n])=>{n!=null&&n.isIntersecting&&!this.loading&&(Ks.fetchTransactions(be.getPlainAddress(this.caipAddress)),At.sendEvent({type:"track",event:"LOAD_MORE_TRANSACTIONS",properties:{address:be.getPlainAddress(this.caipAddress),projectId:e,cursor:this.next,isSmartAccount:ii(F.state.activeChain)===tr.ACCOUNT_TYPES.SMART_ACCOUNT}}))},{}),this.setPaginationObserver()}setPaginationObserver(){var n,r,i;(n=this.paginationObserver)==null||n.disconnect();const e=(r=this.shadowRoot)==null?void 0:r.querySelector(`#${iA}`);e&&((i=this.paginationObserver)==null||i.observe(e))}getTransactionListItemProps(e){var c,u,f,h,p;const n=IN.formatDate((c=e==null?void 0:e.metadata)==null?void 0:c.minedAt),r=fy.getTransactionDescriptions(e),i=e==null?void 0:e.transfers,s=(u=e==null?void 0:e.transfers)==null?void 0:u[0],o=!!s&&((f=e==null?void 0:e.transfers)==null?void 0:f.every(g=>!!g.nft_info)),a=fy.getTransactionImages(i);return{date:n,direction:s==null?void 0:s.direction,descriptions:r,isAllNFT:o,images:a,status:(h=e.metadata)==null?void 0:h.status,transfers:i,type:(p=e.metadata)==null?void 0:p.operationType}}};Kd.styles=L5e;Wg([Z()],Kd.prototype,"page",void 0);Wg([fe()],Kd.prototype,"caipAddress",void 0);Wg([fe()],Kd.prototype,"transactionsByYear",void 0);Wg([fe()],Kd.prototype,"loading",void 0);Wg([fe()],Kd.prototype,"empty",void 0);Wg([fe()],Kd.prototype,"next",void 0);Kd=Wg([Ae("w3m-activity-list")],Kd);const B5e=He`
  :host {
    width: 100%;
    max-height: 280px;
    overflow: scroll;
    scrollbar-width: none;
  }

  :host::-webkit-scrollbar {
    display: none;
  }
`;var U5e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let lP=class extends _e{render(){return B`<w3m-activity-list page="account"></w3m-activity-list>`}};lP.styles=B5e;lP=U5e([Ae("w3m-account-activity-widget")],lP);const F5e=He`
  .contentContainer {
    height: 280px;
  }

  .contentContainer > wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-xxs);
  }

  .contentContainer > .textContent {
    width: 65%;
  }
`;var j5e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let uP=class extends _e{render(){return B`${this.nftTemplate()}`}nftTemplate(){return B` <wui-flex
      class="contentContainer"
      alignItems="center"
      justifyContent="center"
      flexDirection="column"
      gap="l"
    >
      <wui-icon-box
        icon="wallet"
        size="inherit"
        iconColor="fg-200"
        backgroundColor="fg-200"
        iconSize="lg"
      ></wui-icon-box>
      <wui-flex
        class="textContent"
        gap="xs"
        flexDirection="column"
        justifyContent="center"
        flexDirection="column"
      >
        <wui-text
          variant="paragraph-500"
          align="center"
          color="fg-100"
          data-testid="nft-template-title"
          >Coming soon</wui-text
        >
        <wui-text
          variant="small-400"
          align="center"
          color="fg-200"
          data-testid="nft-template-description"
          >Stay tuned for our upcoming NFT feature</wui-text
        >
      </wui-flex>
      <wui-link @click=${this.onReceiveClick.bind(this)} data-testid="link-receive-funds"
        >Receive funds</wui-link
      >
    </wui-flex>`}onReceiveClick(){Ee.push("WalletReceive")}};uP.styles=F5e;uP=j5e([Ae("w3m-account-nfts-widget")],uP);const z5e=He`
  button {
    width: 100%;
    display: flex;
    gap: var(--wui-spacing-s);
    align-items: center;
    justify-content: flex-start;
    padding: var(--wui-spacing-s) var(--wui-spacing-m) var(--wui-spacing-s) var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }

  wui-icon-box {
    width: var(--wui-spacing-2xl);
    height: var(--wui-spacing-2xl);
  }

  wui-flex {
    width: auto;
  }
`;var wp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Tu=class extends _e{constructor(){super(...arguments),this.icon="card",this.text="",this.description="",this.tag=void 0,this.iconBackgroundColor="accent-100",this.iconColor="accent-100",this.disabled=!1}render(){return B`
      <button ?disabled=${this.disabled}>
        <wui-icon-box
          iconColor=${this.iconColor}
          backgroundColor=${this.iconBackgroundColor}
          size="inherit"
          icon=${this.icon}
          iconSize="md"
        ></wui-icon-box>
        <wui-flex flexDirection="column" justifyContent="spaceBetween">
          ${this.titleTemplate()}
          ${this.description?B`<wui-text variant="small-400" color="fg-200"> ${this.description}</wui-text>`:null}</wui-flex
        >
      </button>
    `}titleTemplate(){return this.tag?B` <wui-flex alignItems="center" gap="xxs"
        ><wui-text variant="paragraph-500" color="fg-100">${this.text}</wui-text
        ><wui-tag tagType="main" size="md">${this.tag}</wui-tag>
      </wui-flex>`:B`<wui-text variant="paragraph-500" color="fg-100">${this.text}</wui-text>`}};Tu.styles=[Ut,Un,z5e];wp([Z()],Tu.prototype,"icon",void 0);wp([Z()],Tu.prototype,"text",void 0);wp([Z()],Tu.prototype,"description",void 0);wp([Z()],Tu.prototype,"tag",void 0);wp([Z()],Tu.prototype,"iconBackgroundColor",void 0);wp([Z()],Tu.prototype,"iconColor",void 0);wp([Z({type:Boolean})],Tu.prototype,"disabled",void 0);Tu=wp([Ae("wui-list-description")],Tu);const W5e=He`
  button {
    padding: 6.5px var(--wui-spacing-l) 6.5px var(--wui-spacing-xs);
    display: flex;
    justify-content: space-between;
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    background-color: var(--wui-color-gray-glass-002);
  }

  button[data-clickable='false'] {
    pointer-events: none;
    background-color: transparent;
  }

  wui-image,
  wui-icon {
    width: var(--wui-spacing-3xl);
    height: var(--wui-spacing-3xl);
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
  }
`;var Hg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Yd=class extends _e{constructor(){super(...arguments),this.tokenName="",this.tokenImageUrl="",this.tokenValue=0,this.tokenAmount="0.0",this.tokenCurrency="",this.clickable=!1}render(){return B`
      <button data-clickable=${String(this.clickable)}>
        <wui-flex gap="s" alignItems="center">
          ${this.visualTemplate()}
          <wui-flex flexDirection="column" justifyContent="spaceBetween">
            <wui-text variant="paragraph-500" color="fg-100">${this.tokenName}</wui-text>
            <wui-text variant="small-400" color="fg-200">
              ${xz.formatNumberToLocalString(this.tokenAmount,4)} ${this.tokenCurrency}
            </wui-text>
          </wui-flex>
        </wui-flex>
        <wui-text variant="paragraph-500" color="fg-100">$${this.tokenValue.toFixed(2)}</wui-text>
      </button>
    `}visualTemplate(){return this.tokenName&&this.tokenImageUrl?B`<wui-image alt=${this.tokenName} src=${this.tokenImageUrl}></wui-image>`:B`<wui-icon name="coinPlaceholder" color="fg-100"></wui-icon>`}};Yd.styles=[Ut,Un,W5e];Hg([Z()],Yd.prototype,"tokenName",void 0);Hg([Z()],Yd.prototype,"tokenImageUrl",void 0);Hg([Z({type:Number})],Yd.prototype,"tokenValue",void 0);Hg([Z()],Yd.prototype,"tokenAmount",void 0);Hg([Z()],Yd.prototype,"tokenCurrency",void 0);Hg([Z({type:Boolean})],Yd.prototype,"clickable",void 0);Yd=Hg([Ae("wui-list-token")],Yd);const H5e=He`
  :host {
    width: 100%;
  }

  wui-flex {
    width: 100%;
  }

  .contentContainer {
    max-height: 280px;
    overflow: scroll;
    scrollbar-width: none;
  }

  .contentContainer::-webkit-scrollbar {
    display: none;
  }
`;var b8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let R2=class extends _e{constructor(){super(),this.unsubscribe=[],this.tokenBalance=Le.state.tokenBalance,this.remoteFeatures=ce.state.remoteFeatures,this.unsubscribe.push(Le.subscribe(e=>{this.tokenBalance=e.tokenBalance}),ce.subscribeKey("remoteFeatures",e=>{this.remoteFeatures=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return B`${this.tokenTemplate()}`}tokenTemplate(){var e;return this.tokenBalance&&((e=this.tokenBalance)==null?void 0:e.length)>0?B`<wui-flex class="contentContainer" flexDirection="column" gap="xs">
        ${this.tokenItemTemplate()}
      </wui-flex>`:B` <wui-flex flexDirection="column" gap="xs"
      >${this.onRampTemplate()}
      <wui-list-description
        @click=${this.onReceiveClick.bind(this)}
        text="Receive funds"
        description="Scan the QR code and receive funds"
        icon="qrCode"
        iconColor="fg-200"
        iconBackgroundColor="fg-200"
        data-testid="w3m-account-receive-button"
      ></wui-list-description
    ></wui-flex>`}onRampTemplate(){var e;return(e=this.remoteFeatures)!=null&&e.onramp?B`<wui-list-description
        @click=${this.onBuyClick.bind(this)}
        text="Buy Crypto"
        description="Easy with card or bank account"
        icon="card"
        iconColor="success-100"
        iconBackgroundColor="success-100"
        tag="popular"
        data-testid="w3m-account-onramp-button"
      ></wui-list-description>`:B``}tokenItemTemplate(){var e;return(e=this.tokenBalance)==null?void 0:e.map(n=>B`<wui-list-token
          tokenName=${n.name}
          tokenImageUrl=${n.iconUrl}
          tokenAmount=${n.quantity.numeric}
          tokenValue=${n.value}
          tokenCurrency=${n.symbol}
        ></wui-list-token>`)}onReceiveClick(){Ee.push("WalletReceive")}onBuyClick(){At.sendEvent({type:"track",event:"SELECT_BUY_CRYPTO",properties:{isSmartAccount:ii(F.state.activeChain)===tr.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ee.push("OnRampProviders")}};R2.styles=H5e;b8([fe()],R2.prototype,"tokenBalance",void 0);b8([fe()],R2.prototype,"remoteFeatures",void 0);R2=b8([Ae("w3m-account-tokens-widget")],R2);const V5e=He`
  :host {
    width: 100%;
    display: block;
  }
`;var v8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let O2=class extends _e{constructor(){super(),this.unsubscribe=[],this.text="",this.open=ma.state.open,this.unsubscribe.push(Ee.subscribeKey("view",()=>{ma.hide()}),Kt.subscribeKey("open",e=>{e||ma.hide()}),ma.subscribeKey("open",e=>{this.open=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),ma.hide()}render(){return B`
      <div
        @pointermove=${this.onMouseEnter.bind(this)}
        @pointerleave=${this.onMouseLeave.bind(this)}
      >
        ${this.renderChildren()}
      </div>
    `}renderChildren(){return B`<slot></slot> `}onMouseEnter(){const e=this.getBoundingClientRect();this.open||ma.showTooltip({message:this.text,triggerRect:{width:e.width,height:e.height,left:e.left,top:e.top},variant:"shade"})}onMouseLeave(e){this.contains(e.relatedTarget)||ma.hide()}};O2.styles=[V5e];v8([Z()],O2.prototype,"text",void 0);v8([fe()],O2.prototype,"open",void 0);O2=v8([Ae("w3m-tooltip-trigger")],O2);const q5e=He`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    color: var(--wui-color-bg-100);
    position: fixed;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--w3m-modal-width) - var(--wui-spacing-xl));
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: var(--wui-color-bg-150);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: var(--wui-color-fg-150);
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: var(--wui-color-fg-100);
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: var(--wui-color-bg-150);
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`;var cx=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let bg=class extends _e{constructor(){super(),this.unsubscribe=[],this.open=ma.state.open,this.message=ma.state.message,this.triggerRect=ma.state.triggerRect,this.variant=ma.state.variant,this.unsubscribe.push(ma.subscribe(e=>{this.open=e.open,this.message=e.message,this.triggerRect=e.triggerRect,this.variant=e.variant}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){this.dataset.variant=this.variant;const e=this.triggerRect.top,n=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${e}px;
    --w3m-tooltip-left: ${n}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,B`<wui-flex>
      <wui-icon data-placement="top" color="fg-100" size="inherit" name="cursor"></wui-icon>
      <wui-text color="inherit" variant="small-500">${this.message}</wui-text>
    </wui-flex>`}};bg.styles=[q5e];cx([fe()],bg.prototype,"open",void 0);cx([fe()],bg.prototype,"message",void 0);cx([fe()],bg.prototype,"triggerRect",void 0);cx([fe()],bg.prototype,"variant",void 0);bg=cx([Ae("w3m-tooltip"),Ae("w3m-tooltip")],bg);const G5e=He`
  wui-flex {
    width: 100%;
  }

  wui-promo {
    position: absolute;
    top: -32px;
  }

  wui-profile-button {
    margin-top: calc(-1 * var(--wui-spacing-2l));
  }

  wui-promo + wui-profile-button {
    margin-top: var(--wui-spacing-2l);
  }

  wui-tabs {
    width: 100%;
  }

  .contentContainer {
    height: 280px;
  }

  .contentContainer > wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-xxs);
  }

  .contentContainer > .textContent {
    width: 65%;
  }
`;var El=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const K5e=48,Y5e=430;let Ea=class extends _e{constructor(){super(),this.unsubscribe=[],this.address=Le.state.address,this.profileName=Le.state.profileName,this.network=F.state.activeCaipNetwork,this.currentTab=Le.state.currentTab,this.tokenBalance=Le.state.tokenBalance,this.features=ce.state.features,this.namespace=F.state.activeChain,this.activeConnectorIds=pe.state.activeConnectorIds,this.remoteFeatures=ce.state.remoteFeatures,this.unsubscribe.push(Le.subscribe(e=>{e.address?(this.address=e.address,this.profileName=e.profileName,this.currentTab=e.currentTab,this.tokenBalance=e.tokenBalance):Kt.close()}),pe.subscribeKey("activeConnectorIds",e=>{this.activeConnectorIds=e}),F.subscribeKey("activeChain",e=>this.namespace=e),F.subscribeKey("activeCaipNetwork",e=>this.network=e),ce.subscribeKey("features",e=>this.features=e),ce.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e)),this.watchSwapValues()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),clearInterval(this.watchTokenBalance)}firstUpdated(){Le.fetchTokenBalance()}render(){if(!this.address)throw new Error("w3m-account-view: No account provided");if(!this.namespace)return null;const e=this.activeConnectorIds[this.namespace],n=e?pe.getConnectorById(e):void 0,{icon:r,iconSize:i}=this.getAuthData();return B`<wui-flex
      flexDirection="column"
      .padding=${["0","xl","m","xl"]}
      alignItems="center"
      gap="m"
      data-testid="w3m-account-wallet-features-widget"
    >
      <wui-flex flexDirection="column" justifyContent="center" alignItems="center" gap="xs">
        <wui-wallet-switch
          profileName=${this.profileName}
          address=${this.address}
          icon=${r}
          iconSize=${i}
          alt=${n==null?void 0:n.name}
          @click=${this.onGoToProfileWalletsView.bind(this)}
          data-testid="wui-wallet-switch"
        ></wui-wallet-switch>

        ${this.tokenBalanceTemplate()}
      </wui-flex>
      ${this.orderedWalletFeatures()} ${this.tabsTemplate()} ${this.listContentTemplate()}
    </wui-flex>`}orderedWalletFeatures(){var s;const e=((s=this.features)==null?void 0:s.walletFeaturesOrder)||rn.DEFAULT_FEATURES.walletFeaturesOrder;if(e.every(o=>{var a,c;return o==="send"||o==="receive"?!((a=this.features)!=null&&a[o]):o==="swaps"||o==="onramp"?!((c=this.remoteFeatures)!=null&&c[o]):!0}))return null;const r=e.map(o=>o==="receive"||o==="onramp"?"fund":o),i=[...new Set(r)];return B`<wui-flex gap="s">
      ${i.map(o=>{switch(o){case"fund":return this.fundWalletTemplate();case"swaps":return this.swapsTemplate();case"send":return this.sendTemplate();default:return null}})}
    </wui-flex>`}fundWalletTemplate(){var r,i;const e=(r=this.remoteFeatures)==null?void 0:r.onramp,n=(i=this.features)==null?void 0:i.receive;return!e&&!n?null:B`
      <w3m-tooltip-trigger text="Fund wallet">
        <wui-icon-button
          data-testid="wallet-features-fund-wallet-button"
          @click=${this.onFundWalletClick.bind(this)}
          icon="dollar"
        ></wui-icon-button>
      </w3m-tooltip-trigger>
    `}swapsTemplate(){var r;const e=(r=this.remoteFeatures)==null?void 0:r.swaps,n=F.state.activeChain===oe.CHAIN.EVM;return!e||!n?null:B`
      <w3m-tooltip-trigger text="Swap">
        <wui-icon-button
          data-testid="wallet-features-swaps-button"
          @click=${this.onSwapClick.bind(this)}
          icon="recycleHorizontal"
        >
        </wui-icon-button>
      </w3m-tooltip-trigger>
    `}sendTemplate(){var i;const e=(i=this.features)==null?void 0:i.send,n=F.state.activeChain,r=rn.SEND_SUPPORTED_NAMESPACES.includes(n);return!e||!r?null:B`
      <w3m-tooltip-trigger text="Send">
        <wui-icon-button
          data-testid="wallet-features-send-button"
          @click=${this.onSendClick.bind(this)}
          icon="send"
        ></wui-icon-button>
      </w3m-tooltip-trigger>
    `}watchSwapValues(){this.watchTokenBalance=setInterval(()=>Le.fetchTokenBalance(e=>this.onTokenBalanceError(e)),1e4)}onTokenBalanceError(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===oe.HTTP_STATUS_CODES.SERVICE_UNAVAILABLE&&clearInterval(this.watchTokenBalance)}listContentTemplate(){return this.currentTab===0?B`<w3m-account-tokens-widget></w3m-account-tokens-widget>`:this.currentTab===1?B`<w3m-account-nfts-widget></w3m-account-nfts-widget>`:this.currentTab===2?B`<w3m-account-activity-widget></w3m-account-activity-widget>`:B`<w3m-account-tokens-widget></w3m-account-tokens-widget>`}tokenBalanceTemplate(){var e;if(this.tokenBalance&&((e=this.tokenBalance)==null?void 0:e.length)>=0){const n=be.calculateBalance(this.tokenBalance),{dollars:r="0",pennies:i="00"}=be.formatTokenBalance(n);return B`<wui-balance dollars=${r} pennies=${i}></wui-balance>`}return B`<wui-balance dollars="0" pennies="00"></wui-balance>`}tabsTemplate(){const e=N5e.getTabsByNamespace(F.state.activeChain);if(e.length===0)return null;const n=be.isMobile()&&window.innerWidth<Y5e;let r="104px";return n?r=`${(window.innerWidth-K5e)/e.length}px`:e.length===2?r="156px":r="104px",B`<wui-tabs
      .onTabChange=${this.onTabChange.bind(this)}
      .activeTab=${this.currentTab}
      localTabWidth=${r}
      .tabs=${e}
    ></wui-tabs>`}onTabChange(e){Le.setCurrentTab(e)}onFundWalletClick(){Ee.push("FundWallet")}onSwapClick(){var e,n,r;(e=this.network)!=null&&e.caipNetworkId&&!rn.SWAP_SUPPORTED_NETWORKS.includes((n=this.network)==null?void 0:n.caipNetworkId)?Ee.push("UnsupportedChain",{swapUnsupportedChain:!0}):(At.sendEvent({type:"track",event:"OPEN_SWAP",properties:{network:((r=this.network)==null?void 0:r.caipNetworkId)||"",isSmartAccount:ii(F.state.activeChain)===tr.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ee.push("Swap"))}getAuthData(){const e=Ne.getConnectedSocialProvider(),n=Ne.getConnectedSocialUsername(),r=pe.getAuthConnector(),i=(r==null?void 0:r.provider.getEmail())??"";return{name:al.getAuthName({email:i,socialUsername:n,socialProvider:e}),icon:e??"mail",iconSize:e?"xl":"md"}}onGoToProfileWalletsView(){Ee.push("ProfileWallets")}onSendClick(){var e;At.sendEvent({type:"track",event:"OPEN_SEND",properties:{network:((e=this.network)==null?void 0:e.caipNetworkId)||"",isSmartAccount:ii(F.state.activeChain)===tr.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ee.push("WalletSend")}};Ea.styles=G5e;El([fe()],Ea.prototype,"watchTokenBalance",void 0);El([fe()],Ea.prototype,"address",void 0);El([fe()],Ea.prototype,"profileName",void 0);El([fe()],Ea.prototype,"network",void 0);El([fe()],Ea.prototype,"currentTab",void 0);El([fe()],Ea.prototype,"tokenBalance",void 0);El([fe()],Ea.prototype,"features",void 0);El([fe()],Ea.prototype,"namespace",void 0);El([fe()],Ea.prototype,"activeConnectorIds",void 0);El([fe()],Ea.prototype,"remoteFeatures",void 0);Ea=El([Ae("w3m-account-wallet-features-widget")],Ea);var AG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let G3=class extends _e{constructor(){super(),this.unsubscribe=[],this.namespace=F.state.activeChain,this.unsubscribe.push(F.subscribeKey("activeChain",e=>{this.namespace=e}))}render(){if(!this.namespace)return null;const e=pe.getConnectorId(this.namespace),n=pe.getAuthConnector();return B`
      ${n&&e===oe.CONNECTOR_ID.AUTH?this.walletFeaturesTemplate():this.defaultTemplate()}
    `}walletFeaturesTemplate(){return B`<w3m-account-wallet-features-widget></w3m-account-wallet-features-widget>`}defaultTemplate(){return B`<w3m-account-default-widget></w3m-account-default-widget>`}};AG([fe()],G3.prototype,"namespace",void 0);G3=AG([Ae("w3m-account-view")],G3);const Q5e=He`
  :host {
    position: relative;
    background-color: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-size);
    height: var(--local-size);
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host([name='Extension'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  :host([data-wallet-icon='allWallets']) {
    background-color: var(--wui-all-wallets-bg-100);
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 18px;
    height: 18px;
  }

  wui-icon[data-parent-size='md'] {
    width: 24px;
    height: 24px;
  }

  wui-icon[data-parent-size='lg'] {
    width: 42px;
    height: 42px;
  }

  wui-icon[data-parent-size='full'] {
    width: 100%;
    height: 100%;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid var(--wui-color-bg-150, #1e1f1f);
    padding: 1px;
  }
`;var Vg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Qd=class extends _e{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let e="xxs";return this.size==="lg"?e="m":this.size==="md"?e="xs":e="xxs",this.style.cssText=`
       --local-border-radius: var(--wui-border-radius-${e});
       --local-size: var(--wui-wallet-image-size-${this.size});
   `,this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),B`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?B`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?B`<wui-icon
        data-parent-size="md"
        size="md"
        color="inherit"
        name=${this.walletIcon}
      ></wui-icon>`:B`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="walletPlaceholder"
    ></wui-icon>`}};Qd.styles=[Un,Ut,Q5e];Vg([Z()],Qd.prototype,"size",void 0);Vg([Z()],Qd.prototype,"name",void 0);Vg([Z()],Qd.prototype,"imageSrc",void 0);Vg([Z()],Qd.prototype,"walletIcon",void 0);Vg([Z({type:Boolean})],Qd.prototype,"installed",void 0);Vg([Z()],Qd.prototype,"badgeSize",void 0);Qd=Vg([Ae("wui-wallet-image")],Qd);const Z5e=He`
  wui-image {
    width: var(--wui-spacing-2xl);
    height: var(--wui-spacing-2xl);
    border-radius: var(--wui-border-radius-3xs);
  }

  wui-image,
  .icon-box {
    width: var(--wui-spacing-2xl);
    height: var(--wui-spacing-2xl);
    border-radius: var(--wui-border-radius-3xs);
  }

  wui-icon:not(.custom-icon, .icon-badge) {
    cursor: pointer;
  }

  .icon-box {
    position: relative;
    background-color: var(--wui-color-gray-glass-002);
  }

  .icon-badge {
    position: absolute;
    top: 18px;
    left: 23px;
    z-index: 3;
    background-color: var(--wui-color-gray-glass-005);
    border: 2px solid var(--wui-color-modal-bg);
    border-radius: 50%;
    padding: var(--wui-spacing-4xs);
  }
`;var Jo=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ds=class extends _e{constructor(){super(...arguments),this.address="",this.profileName="",this.content=[],this.alt="",this.imageSrc="",this.icon=void 0,this.iconSize="md",this.iconBadge=void 0,this.iconBadgeSize="md",this.buttonVariant="neutral",this.enableMoreButton=!1,this.charsStart=4,this.charsEnd=6}render(){return B`
      <wui-flex flexDirection="column" rowGap="xs">
        ${this.topTemplate()} ${this.bottomTemplate()}
      </wui-flex>
    `}topTemplate(){return B`
      <wui-flex alignItems="flex-start" justifyContent="space-between">
        ${this.imageOrIconTemplate()}
        <wui-icon-link
          iconColor="fg-200"
          size="sm"
          icon="copy"
          @click=${this.dispatchCopyEvent}
        ></wui-icon-link>
        <wui-icon-link
          iconColor="fg-200"
          size="sm"
          icon="externalLink"
          @click=${this.dispatchExternalLinkEvent}
        ></wui-icon-link>
        ${this.enableMoreButton?B`<wui-icon-link
              iconColor="fg-200"
              size="sm"
              icon="threeDots"
              @click=${this.dispatchMoreButtonEvent}
              data-testid="wui-active-profile-wallet-item-more-button"
            ></wui-icon-link>`:null}
      </wui-flex>
    `}bottomTemplate(){return B` <wui-flex flexDirection="column">${this.contentTemplate()}</wui-flex> `}imageOrIconTemplate(){return this.icon?B`
        <wui-flex flexGrow="1" alignItems="center">
          <wui-flex alignItems="center" justifyContent="center" class="icon-box">
            <wui-icon
              size=${this.iconSize}
              color="fg-200"
              name=${this.icon}
              class="custom-icon"
            ></wui-icon>

            ${this.iconBadge?B`<wui-icon
                  color="fg-175"
                  size=${this.iconBadgeSize}
                  name=${this.iconBadge}
                  class="icon-badge"
                ></wui-icon>`:null}
          </wui-flex>
        </wui-flex>
      `:B`
      <wui-flex flexGrow="1" alignItems="center">
        <wui-image objectFit="contain" src=${this.imageSrc} alt=${this.alt}></wui-image>
      </wui-flex>
    `}contentTemplate(){return this.content.length===0?null:B`
      <wui-flex flexDirection="column" rowGap="s">
        ${this.content.map(e=>this.labelAndTagTemplate(e))}
      </wui-flex>
    `}labelAndTagTemplate({address:e,profileName:n,label:r,description:i,enableButton:s,buttonType:o,buttonLabel:a,buttonVariant:c,tagVariant:u,tagLabel:f,alignItems:h="flex-end"}){return B`
      <wui-flex justifyContent="space-between" alignItems=${h} columnGap="3xs">
        <wui-flex flexDirection="column" rowGap="4xs">
          ${r?B`<wui-text variant="micro-600" color="fg-200">${r}</wui-text>`:null}

          <wui-flex alignItems="center" columnGap="3xs">
            <wui-text variant="small-500" color="fg-100">
              ${$r.getTruncateString({string:n||e,charsStart:n?16:this.charsStart,charsEnd:n?0:this.charsEnd,truncate:n?"end":"middle"})}
            </wui-text>

            ${u&&f?B`<wui-tag variant=${u} size="xs">${f}</wui-tag>`:null}
          </wui-flex>

          ${i?B`<wui-text variant="tiny-500" color="fg-200">${i}</wui-text>`:null}
        </wui-flex>

        ${s?this.buttonTemplate({buttonType:o,buttonLabel:a,buttonVariant:c}):null}
      </wui-flex>
    `}buttonTemplate({buttonType:e,buttonLabel:n,buttonVariant:r}){return B`
      <wui-button
        size="xs"
        variant=${r}
        @click=${e==="disconnect"?this.dispatchDisconnectEvent.bind(this):this.dispatchSwitchEvent.bind(this)}
        data-testid=${e==="disconnect"?"wui-active-profile-wallet-item-disconnect-button":"wui-active-profile-wallet-item-switch-button"}
      >
        ${n}
      </wui-button>
    `}dispatchDisconnectEvent(){this.dispatchEvent(new CustomEvent("disconnect",{bubbles:!0,composed:!0}))}dispatchSwitchEvent(){this.dispatchEvent(new CustomEvent("switch",{bubbles:!0,composed:!0}))}dispatchExternalLinkEvent(){this.dispatchEvent(new CustomEvent("externalLink",{bubbles:!0,composed:!0}))}dispatchMoreButtonEvent(){this.dispatchEvent(new CustomEvent("more",{bubbles:!0,composed:!0}))}dispatchCopyEvent(){this.dispatchEvent(new CustomEvent("copy",{bubbles:!0,composed:!0}))}};Ds.styles=[Ut,Un,Z5e];Jo([Z()],Ds.prototype,"address",void 0);Jo([Z()],Ds.prototype,"profileName",void 0);Jo([Z({type:Array})],Ds.prototype,"content",void 0);Jo([Z()],Ds.prototype,"alt",void 0);Jo([Z()],Ds.prototype,"imageSrc",void 0);Jo([Z()],Ds.prototype,"icon",void 0);Jo([Z()],Ds.prototype,"iconSize",void 0);Jo([Z()],Ds.prototype,"iconBadge",void 0);Jo([Z()],Ds.prototype,"iconBadgeSize",void 0);Jo([Z()],Ds.prototype,"buttonVariant",void 0);Jo([Z({type:Boolean})],Ds.prototype,"enableMoreButton",void 0);Jo([Z({type:Number})],Ds.prototype,"charsStart",void 0);Jo([Z({type:Number})],Ds.prototype,"charsEnd",void 0);Ds=Jo([Ae("wui-active-profile-wallet-item")],Ds);const J5e=He`
  wui-image,
  .icon-box {
    width: var(--wui-spacing-2xl);
    height: var(--wui-spacing-2xl);
    border-radius: var(--wui-border-radius-3xs);
  }

  .right-icon {
    cursor: pointer;
  }

  .icon-box {
    position: relative;
    background-color: var(--wui-color-gray-glass-002);
  }

  .icon-badge {
    position: absolute;
    top: 18px;
    left: 23px;
    z-index: 3;
    background-color: var(--wui-color-gray-glass-005);
    border: 2px solid var(--wui-color-modal-bg);
    border-radius: 50%;
    padding: var(--wui-spacing-4xs);
  }
`;var Us=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Qi=class extends _e{constructor(){super(...arguments),this.address="",this.profileName="",this.alt="",this.buttonLabel="",this.buttonVariant="accent",this.imageSrc="",this.icon=void 0,this.iconSize="md",this.iconBadgeSize="md",this.rightIcon="off",this.rightIconSize="md",this.loading=!1,this.charsStart=4,this.charsEnd=6}render(){return B`
      <wui-flex alignItems="center" columnGap="xs">
        ${this.imageOrIconTemplate()} ${this.labelAndDescriptionTemplate()}
        ${this.buttonActionTemplate()}
      </wui-flex>
    `}imageOrIconTemplate(){return this.icon?B`
        <wui-flex alignItems="center" justifyContent="center" class="icon-box">
          <wui-flex alignItems="center" justifyContent="center" class="icon-box">
            <wui-icon
              size=${this.iconSize}
              color="fg-200"
              name=${this.icon}
              class="custom-icon"
            ></wui-icon>
            ${this.iconBadge?B`<wui-icon
                  color="fg-175"
                  size=${this.iconBadgeSize}
                  name=${this.iconBadge}
                  class="icon-badge"
                ></wui-icon>`:null}
          </wui-flex>
        </wui-flex>
      `:B`<wui-image objectFit="contain" src=${this.imageSrc} alt=${this.alt}></wui-image>`}labelAndDescriptionTemplate(){return B`
      <wui-flex
        flexDirection="column"
        flexGrow="1"
        justifyContent="flex-start"
        alignItems="flex-start"
      >
        <wui-text variant="small-500" color="fg-100">
          ${$r.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?16:this.charsStart,charsEnd:this.profileName?0:this.charsEnd,truncate:this.profileName?"end":"middle"})}
        </wui-text>
      </wui-flex>
    `}buttonActionTemplate(){return B`
      <wui-flex columnGap="3xs" alignItems="center" justifyContent="center">
        <wui-button
          size="xs"
          variant=${this.buttonVariant}
          .loading=${this.loading}
          @click=${this.handleButtonClick}
          data-testid="wui-inactive-profile-wallet-item-button"
        >
          ${this.buttonLabel}
        </wui-button>

        <wui-icon-link
          iconColor="fg-200"
          size=${this.rightIconSize}
          icon=${this.rightIcon}
          class="right-icon"
          @click=${this.handleIconClick}
        ></wui-icon-link>
      </wui-flex>
    `}handleButtonClick(){this.dispatchEvent(new CustomEvent("buttonClick",{bubbles:!0,composed:!0}))}handleIconClick(){this.dispatchEvent(new CustomEvent("iconClick",{bubbles:!0,composed:!0}))}};Qi.styles=[Ut,Un,J5e];Us([Z()],Qi.prototype,"address",void 0);Us([Z()],Qi.prototype,"profileName",void 0);Us([Z()],Qi.prototype,"alt",void 0);Us([Z()],Qi.prototype,"buttonLabel",void 0);Us([Z()],Qi.prototype,"buttonVariant",void 0);Us([Z()],Qi.prototype,"imageSrc",void 0);Us([Z()],Qi.prototype,"icon",void 0);Us([Z()],Qi.prototype,"iconSize",void 0);Us([Z()],Qi.prototype,"iconBadge",void 0);Us([Z()],Qi.prototype,"iconBadgeSize",void 0);Us([Z()],Qi.prototype,"rightIcon",void 0);Us([Z()],Qi.prototype,"rightIconSize",void 0);Us([Z({type:Boolean})],Qi.prototype,"loading",void 0);Us([Z({type:Number})],Qi.prototype,"charsStart",void 0);Us([Z({type:Number})],Qi.prototype,"charsEnd",void 0);Qi=Us([Ae("wui-inactive-profile-wallet-item")],Qi);const X5e=He`
  :host {
    position: relative;
    display: flex;
    width: 100%;
    height: 1px;
    background-color: var(--wui-color-gray-glass-005);
    justify-content: center;
    align-items: center;
  }

  :host > wui-text {
    position: absolute;
    padding: 0px 10px;
    background-color: var(--wui-color-modal-bg);
    transition: background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color;
  }
`;var SG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let K3=class extends _e{constructor(){super(...arguments),this.text=""}render(){return B`${this.template()}`}template(){return this.text?B`<wui-text variant="small-500" color="fg-200">${this.text}</wui-text>`:null}};K3.styles=[Ut,X5e];SG([Z()],K3.prototype,"text",void 0);K3=SG([Ae("wui-separator")],K3);const uI={getAuthData(t){var o,a;const e=t.connectorId===oe.CONNECTOR_ID.AUTH;if(!e)return{isAuth:!1,icon:void 0,iconSize:void 0,name:void 0};const n=((o=t==null?void 0:t.auth)==null?void 0:o.name)??Ne.getConnectedSocialProvider(),r=((a=t==null?void 0:t.auth)==null?void 0:a.username)??Ne.getConnectedSocialUsername(),i=pe.getAuthConnector(),s=(i==null?void 0:i.provider.getEmail())??"";return{isAuth:!0,icon:n??"mail",iconSize:n?"xl":"md",name:e?al.getAuthName({email:s,socialUsername:r,socialProvider:n}):void 0}}},eSe=He`
  :host {
    --connect-scroll--top-opacity: 0;
    --connect-scroll--bottom-opacity: 0;
  }

  .balance-amount {
    flex: 1;
  }

  .wallet-list {
    scrollbar-width: none;
    overflow-y: scroll;
    overflow-x: hidden;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    mask-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, calc(1 - var(--connect-scroll--top-opacity))) 0px,
      rgba(200, 200, 200, calc(1 - var(--connect-scroll--top-opacity))) 1px,
      black 40px,
      black calc(100% - 40px),
      rgba(155, 155, 155, calc(1 - var(--connect-scroll--bottom-opacity))) calc(100% - 1px),
      rgba(0, 0, 0, calc(1 - var(--connect-scroll--bottom-opacity))) 100%
    );
  }

  .active-wallets {
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }

  .active-wallets-box {
    height: 330px;
  }

  .empty-wallet-list-box {
    height: 400px;
  }

  .empty-box {
    width: 100%;
    padding: var(--wui-spacing-l);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }

  wui-separator {
    margin: var(--wui-spacing-xs) 0 var(--wui-spacing-xs) 0;
  }

  .active-connection {
    padding: var(--wui-spacing-xs);
  }

  .recent-connection {
    padding: var(--wui-spacing-xs) 0 var(--wui-spacing-xs) 0;
  }

  @media (max-width: 430px) {
    .active-wallets-box,
    .empty-wallet-list-box {
      height: auto;
      max-height: clamp(360px, 470px, 80vh);
    }
  }
`;var Xo=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const tSe=16,nSe=4,Va={ADDRESS_DISPLAY:{START:4,END:6},BADGE:{SIZE:"md",ICON:"lightbulb"},SCROLL_THRESHOLD:50,OPACITY_RANGE:[0,1]},A1={eip155:"ethereum",solana:"solana",bip122:"bitcoin"},CB=[{namespace:"eip155",icon:A1.eip155,label:"EVM"},{namespace:"solana",icon:A1.solana,label:"Solana"},{namespace:"bip122",icon:A1.bip122,label:"Bitcoin"}],rSe={eip155:{title:"Add EVM Wallet",description:"Add your first EVM wallet"},solana:{title:"Add Solana Wallet",description:"Add your first Solana wallet"},bip122:{title:"Add Bitcoin Wallet",description:"Add your first Bitcoin wallet"}};let hs=class extends _e{constructor(){var e,n;super(),this.unsubscribers=[],this.currentTab=0,this.namespace=F.state.activeChain,this.namespaces=Array.from(F.state.chains.keys()),this.caipAddress=void 0,this.profileName=void 0,this.activeConnectorIds=pe.state.activeConnectorIds,this.lastSelectedAddress="",this.lastSelectedConnectorId="",this.isSwitching=!1,this.caipNetwork=F.state.activeCaipNetwork,this.user=Le.state.user,this.remoteFeatures=ce.state.remoteFeatures,this.tabWidth="",this.currentTab=this.namespace?this.namespaces.indexOf(this.namespace):0,this.caipAddress=(e=F.getAccountData(this.namespace))==null?void 0:e.caipAddress,this.profileName=(n=F.getAccountData(this.namespace))==null?void 0:n.profileName,this.unsubscribers.push(Ce.subscribeKey("connections",()=>this.onConnectionsChange()),Ce.subscribeKey("recentConnections",()=>this.requestUpdate()),pe.subscribeKey("activeConnectorIds",r=>{this.activeConnectorIds=r}),F.subscribeKey("activeCaipNetwork",r=>this.caipNetwork=r),Le.subscribeKey("user",r=>this.user=r),ce.subscribeKey("remoteFeatures",r=>this.remoteFeatures=r)),this.chainListener=F.subscribeChainProp("accountState",r=>{this.caipAddress=r==null?void 0:r.caipAddress,this.profileName=r==null?void 0:r.profileName},this.namespace)}disconnectedCallback(){var e,n,r;this.unsubscribers.forEach(i=>i()),(e=this.resizeObserver)==null||e.disconnect(),(n=this.tabsResizeObserver)==null||n.disconnect(),this.removeScrollListener(),(r=this.chainListener)==null||r.call(this)}firstUpdated(){var i,s;const e=(i=this.shadowRoot)==null?void 0:i.querySelector(".wallet-list"),n=(s=this.shadowRoot)==null?void 0:s.querySelector("wui-tabs");if(!e)return;const r=()=>this.updateScrollOpacity(e);if(requestAnimationFrame(r),e.addEventListener("scroll",r),this.resizeObserver=new ResizeObserver(r),this.resizeObserver.observe(e),r(),n){const o=()=>{var u;const c=CB.filter(f=>this.namespaces.includes(f.namespace)).length;if(c>1){const f=(u=this.getBoundingClientRect())==null?void 0:u.width,h=nSe*2,p=tSe*2,w=(f-p-h)/c;this.tabWidth=`${w}px`,this.requestUpdate()}};this.tabsResizeObserver=new ResizeObserver(o),this.tabsResizeObserver.observe(this),o()}}render(){const e=this.namespace;if(!e)throw new Error("Namespace is not set");return B`
      <wui-flex flexDirection="column" .padding=${["0","l","l","l"]} gap="l">
        ${this.renderTabs()} ${this.renderHeader(e)} ${this.renderConnections(e)}
        ${this.renderAddConnectionButton(e)}
      </wui-flex>
    `}renderTabs(){const e=CB.filter(r=>this.namespaces.includes(r.namespace));return e.length>1?B`
        <wui-tabs
          .onTabChange=${r=>this.handleTabChange(r)}
          .activeTab=${this.currentTab}
          localTabWidth=${this.tabWidth}
          .tabs=${e}
        ></wui-tabs>
      `:null}renderHeader(e){const r=this.getActiveConnections(e).flatMap(({accounts:i})=>i).length+(this.caipAddress?1:0);return B`
      <wui-flex alignItems="center" columnGap="3xs">
        <wui-icon
          name=${A1[e]??A1.eip155}
          size="lg"
        ></wui-icon>
        <wui-text color="fg-200" variant="small-400"
          >${r>1?"Wallets":"Wallet"}</wui-text
        >
        <wui-text
          color="fg-100"
          variant="small-400"
          class="balance-amount"
          data-testid="balance-amount"
        >
          ${r}
        </wui-text>
        <wui-link
          color="fg-200"
          @click=${()=>Ce.disconnect({namespace:e})}
          ?disabled=${!this.hasAnyConnections(e)}
          data-testid="disconnect-all-button"
        >
          Disconnect All
        </wui-link>
      </wui-flex>
    `}renderConnections(e){const n=this.hasAnyConnections(e);return B`
      <wui-flex flexDirection="column" class=${T2({"wallet-list":!0,"active-wallets-box":n,"empty-wallet-list-box":!n})} rowGap="s">
        ${n?this.renderActiveConnections(e):this.renderEmptyState(e)}
      </wui-flex>
    `}renderActiveConnections(e){const n=this.getActiveConnections(e),r=this.activeConnectorIds[e],i=this.getPlainAddress();return B`
      ${i||r||n.length>0?B`<wui-flex
            flexDirection="column"
            .padding=${["l","0","xs","0"]}
            class="active-wallets"
          >
            ${this.renderActiveProfile(e)} ${this.renderActiveConnectionsList(e)}
          </wui-flex>`:null}
      ${this.renderRecentConnections(e)}
    `}renderActiveProfile(e){const n=this.activeConnectorIds[e];if(!n)return null;const{connections:r}=cc.getConnectionsData(e),i=pe.getConnectorById(n),s=$n.getConnectorImage(i),o=this.getPlainAddress();if(!o)return null;const a=e===oe.CHAIN.BITCOIN,c=uI.getAuthData({connectorId:n,accounts:[]}),u=this.getActiveConnections(e).flatMap(p=>p.accounts).length>0,f=r.find(p=>p.connectorId===n),h=f==null?void 0:f.accounts.filter(p=>!ar.isLowerCaseMatch(p.address,o));return B`
      <wui-flex flexDirection="column" .padding=${["0","l","0","l"]}>
        <wui-active-profile-wallet-item
          address=${o}
          alt=${i==null?void 0:i.name}
          .content=${this.getProfileContent({address:o,connections:r,connectorId:n,namespace:e})}
          .charsStart=${Va.ADDRESS_DISPLAY.START}
          .charsEnd=${Va.ADDRESS_DISPLAY.END}
          .icon=${c.icon}
          .iconSize=${c.iconSize}
          .iconBadge=${this.isSmartAccount(o)?Va.BADGE.ICON:void 0}
          .iconBadgeSize=${this.isSmartAccount(o)?Va.BADGE.SIZE:void 0}
          imageSrc=${s}
          ?enableMoreButton=${c.isAuth}
          @copy=${()=>this.handleCopyAddress(o)}
          @disconnect=${()=>this.handleDisconnect(e,{id:n})}
          @switch=${()=>{a&&f&&(h!=null&&h[0])&&this.handleSwitchWallet(f,h[0].address,e)}}
          @externalLink=${()=>this.handleExternalLink(o)}
          @more=${()=>this.handleMore()}
          data-testid="wui-active-profile-wallet-item"
        ></wui-active-profile-wallet-item>
        ${u?B`<wui-separator></wui-separator>`:null}
      </wui-flex>
    `}renderActiveConnectionsList(e){const n=this.getActiveConnections(e);return n.length===0?null:B`
      <wui-flex flexDirection="column" .padding=${["0","xs","0","xs"]}>
        ${this.renderConnectionList(n,!1,e)}
      </wui-flex>
    `}renderRecentConnections(e){const{recentConnections:n}=cc.getConnectionsData(e);return n.flatMap(i=>i.accounts).length===0?null:B`
      <wui-flex flexDirection="column" .padding=${["0","xs","0","xs"]} rowGap="xs">
        <wui-text color="fg-200" variant="micro-500" data-testid="recently-connected-text"
          >RECENTLY CONNECTED</wui-text
        >
        <wui-flex flexDirection="column" .padding=${["0","xs","0","xs"]}>
          ${this.renderConnectionList(n,!0,e)}
        </wui-flex>
      </wui-flex>
    `}renderConnectionList(e,n,r){return e.filter(i=>i.accounts.length>0).map((i,s)=>{const o=pe.getConnectorById(i.connectorId),a=$n.getConnectorImage(o)??"",c=uI.getAuthData(i);return i.accounts.map((u,f)=>{const h=s!==0||f!==0,p=this.isAccountLoading(i.connectorId,u.address);return B`
            <wui-flex flexDirection="column">
              ${h?B`<wui-separator></wui-separator>`:null}
              <wui-inactive-profile-wallet-item
                address=${u.address}
                alt=${i.connectorId}
                buttonLabel=${n?"Connect":"Switch"}
                buttonVariant=${n?"neutral":"accent"}
                rightIcon=${n?"bin":"off"}
                rightIconSize="sm"
                class=${n?"recent-connection":"active-connection"}
                data-testid=${n?"recent-connection":"active-connection"}
                imageSrc=${a}
                .iconBadge=${this.isSmartAccount(u.address)?Va.BADGE.ICON:void 0}
                .iconBadgeSize=${this.isSmartAccount(u.address)?Va.BADGE.SIZE:void 0}
                .icon=${c.icon}
                .iconSize=${c.iconSize}
                .loading=${p}
                .showBalance=${!1}
                .charsStart=${Va.ADDRESS_DISPLAY.START}
                .charsEnd=${Va.ADDRESS_DISPLAY.END}
                @buttonClick=${()=>this.handleSwitchWallet(i,u.address,r)}
                @iconClick=${()=>this.handleWalletAction({connection:i,address:u.address,isRecentConnection:n,namespace:r})}
              ></wui-inactive-profile-wallet-item>
            </wui-flex>
          `})})}renderAddConnectionButton(e){if(!this.isMultiWalletEnabled()&&this.caipAddress||!this.hasAnyConnections(e))return null;const{title:n}=this.getChainLabelInfo(e);return B`
      <wui-list-item
        variant="icon"
        iconVariant="overlay"
        icon="plus"
        iconSize="sm"
        ?chevron=${!0}
        @click=${()=>this.handleAddConnection(e)}
        data-testid="add-connection-button"
      >
        <wui-text variant="paragraph-500" color="fg-200">${n}</wui-text>
      </wui-list-item>
    `}renderEmptyState(e){const{title:n,description:r}=this.getChainLabelInfo(e);return B`
      <wui-flex alignItems="flex-start" class="empty-template" data-testid="empty-template">
        <wui-flex
          flexDirection="column"
          alignItems="center"
          justifyContent="center"
          rowGap="s"
          class="empty-box"
        >
          <wui-icon-box
            size="lg"
            icon="wallet"
            background="gray"
            iconColor="fg-200"
            backgroundColor="glass-002"
          ></wui-icon-box>

          <wui-flex flexDirection="column" alignItems="center" justifyContent="center" gap="3xs">
            <wui-text color="fg-100" variant="paragraph-500" data-testid="empty-state-text"
              >No wallet connected</wui-text
            >
            <wui-text color="fg-200" variant="tiny-500" data-testid="empty-state-description"
              >${r}</wui-text
            >
          </wui-flex>

          <wui-button
            variant="neutral"
            size="md"
            @click=${()=>this.handleAddConnection(e)}
            data-testid="empty-state-button"
          >
            <wui-icon color="inherit" slot="iconLeft" name="plus"></wui-icon>
            ${n}
          </wui-button>
        </wui-flex>
      </wui-flex>
    `}handleTabChange(e){var r,i,s;const n=this.namespaces[e];n&&((r=this.chainListener)==null||r.call(this),this.currentTab=this.namespaces.indexOf(n),this.namespace=n,this.caipAddress=(i=F.getAccountData(n))==null?void 0:i.caipAddress,this.profileName=(s=F.getAccountData(n))==null?void 0:s.profileName,this.chainListener=F.subscribeChainProp("accountState",o=>{this.caipAddress=o==null?void 0:o.caipAddress},n))}async handleSwitchWallet(e,n,r){try{this.isSwitching=!0,this.lastSelectedConnectorId=e.connectorId,this.lastSelectedAddress=n,await Ce.switchConnection({connection:e,address:n,namespace:r,closeModalOnConnect:!1,onChange({hasSwitchedAccount:i,hasSwitchedWallet:s}){s?Tn.showSuccess("Wallet switched"):i&&Tn.showSuccess("Account switched")}})}catch{Tn.showError("Failed to switch wallet")}finally{this.isSwitching=!1}}handleWalletAction(e){const{connection:n,address:r,isRecentConnection:i,namespace:s}=e;i?(Ne.deleteAddressFromConnection({connectorId:n.connectorId,address:r,namespace:s}),Ce.syncStorageConnections(),Tn.showSuccess("Wallet deleted")):this.handleDisconnect(s,{id:n.connectorId})}async handleDisconnect(e,{id:n}){try{await Ce.disconnect({id:n,namespace:e}),Tn.showSuccess("Wallet disconnected")}catch{Tn.showError("Failed to disconnect wallet")}}handleCopyAddress(e){be.copyToClopboard(e),Tn.showSuccess("Address copied")}handleMore(){Ee.push("AccountSettings")}handleExternalLink(e){var r,i;const n=(i=(r=this.caipNetwork)==null?void 0:r.blockExplorers)==null?void 0:i.default.url;n&&be.openHref(`${n}/address/${e}`,"_blank")}handleAddConnection(e){pe.setFilterByNamespace(e),Ee.push("Connect")}getChainLabelInfo(e){return rSe[e]??{title:"Add Wallet",description:"Add your first wallet"}}isSmartAccount(e){var r,i;if(!this.namespace)return!1;const n=(i=(r=this.user)==null?void 0:r.accounts)==null?void 0:i.find(s=>s.type==="smartAccount");return n&&e?ar.isLowerCaseMatch(n.address,e):!1}getPlainAddress(){return this.caipAddress?be.getPlainAddress(this.caipAddress):void 0}getActiveConnections(e){const n=this.activeConnectorIds[e],{connections:r}=cc.getConnectionsData(e),[i]=r.filter(c=>ar.isLowerCaseMatch(c.connectorId,n));if(!n)return r;const s=e===oe.CHAIN.BITCOIN,{address:o}=this.caipAddress?Zs.parseCaipAddress(this.caipAddress):{};let a=[...o?[o]:[]];return s&&i&&(a=i.accounts.map(c=>c.address)||[]),cc.excludeConnectorAddressFromConnections({connectorId:n,addresses:a,connections:r})}hasAnyConnections(e){const n=this.getActiveConnections(e),{recentConnections:r}=cc.getConnectionsData(e);return!!this.caipAddress||n.length>0||r.length>0}isAccountLoading(e,n){return ar.isLowerCaseMatch(this.lastSelectedConnectorId,e)&&ar.isLowerCaseMatch(this.lastSelectedAddress,n)&&this.isSwitching}getProfileContent(e){const{address:n,connections:r,connectorId:i,namespace:s}=e,[o]=r.filter(c=>ar.isLowerCaseMatch(c.connectorId,i));if(s===oe.CHAIN.BITCOIN&&(o!=null&&o.accounts.every(c=>typeof c.type=="string")))return this.getBitcoinProfileContent(o.accounts,n);const a=uI.getAuthData({connectorId:i,accounts:[]});return[{address:n,tagLabel:"Active",tagVariant:"success",enableButton:!0,profileName:this.profileName,buttonType:"disconnect",buttonLabel:"Disconnect",buttonVariant:"neutral",...a.isAuth?{description:this.isSmartAccount(n)?"Smart Account":"EOA Account"}:{}}]}getBitcoinProfileContent(e,n){const r=e.length>1,i=this.getPlainAddress();return e.map(s=>{const o=ar.isLowerCaseMatch(s.address,i);let a="PAYMENT";return s.type==="ordinal"&&(a="ORDINALS"),{address:s.address,tagLabel:ar.isLowerCaseMatch(s.address,n)?"Active":void 0,tagVariant:ar.isLowerCaseMatch(s.address,n)?"success":void 0,enableButton:!0,...r?{label:a,alignItems:"flex-end",buttonType:o?"disconnect":"switch",buttonLabel:o?"Disconnect":"Switch",buttonVariant:o?"neutral":"accent"}:{alignItems:"center",buttonType:"disconnect",buttonLabel:"Disconnect",buttonVariant:"neutral"}}})}removeScrollListener(){var n;const e=(n=this.shadowRoot)==null?void 0:n.querySelector(".wallet-list");e&&e.removeEventListener("scroll",()=>this.handleConnectListScroll())}handleConnectListScroll(){var n;const e=(n=this.shadowRoot)==null?void 0:n.querySelector(".wallet-list");e&&this.updateScrollOpacity(e)}isMultiWalletEnabled(){var e;return!!((e=this.remoteFeatures)!=null&&e.multiWallet)}updateScrollOpacity(e){e.style.setProperty("--connect-scroll--top-opacity",B3.interpolate([0,Va.SCROLL_THRESHOLD],Va.OPACITY_RANGE,e.scrollTop).toString()),e.style.setProperty("--connect-scroll--bottom-opacity",B3.interpolate([0,Va.SCROLL_THRESHOLD],Va.OPACITY_RANGE,e.scrollHeight-e.scrollTop-e.offsetHeight).toString())}onConnectionsChange(){if(this.isMultiWalletEnabled()&&this.namespace){const{connections:e}=cc.getConnectionsData(this.namespace);e.length===0&&Ee.reset("ProfileWallets")}this.requestUpdate()}};hs.styles=eSe;Xo([fe()],hs.prototype,"currentTab",void 0);Xo([fe()],hs.prototype,"namespace",void 0);Xo([fe()],hs.prototype,"namespaces",void 0);Xo([fe()],hs.prototype,"caipAddress",void 0);Xo([fe()],hs.prototype,"profileName",void 0);Xo([fe()],hs.prototype,"activeConnectorIds",void 0);Xo([fe()],hs.prototype,"lastSelectedAddress",void 0);Xo([fe()],hs.prototype,"lastSelectedConnectorId",void 0);Xo([fe()],hs.prototype,"isSwitching",void 0);Xo([fe()],hs.prototype,"caipNetwork",void 0);Xo([fe()],hs.prototype,"user",void 0);Xo([fe()],hs.prototype,"remoteFeatures",void 0);Xo([fe()],hs.prototype,"tabWidth",void 0);hs=Xo([Ae("w3m-profile-wallets-view")],hs);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const lx=()=>new iSe;let iSe=class{};const dI=new WeakMap,ux=h8(class extends xG{render(t){return di}update(t,[e]){var r;const n=e!==this.G;return n&&this.G!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.G=e,this.ht=(r=t.options)==null?void 0:r.host,this.rt(this.ct=t.element)),di}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let n=dI.get(e);n===void 0&&(n=new WeakMap,dI.set(e,n)),n.get(this.G)!==void 0&&this.G.call(this.ht,void 0),n.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){var t,e;return typeof this.G=="function"?(t=dI.get(this.ht??globalThis))==null?void 0:t.get(this.G):(e=this.G)==null?void 0:e.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}}),sSe=He`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    width: 32px;
    height: 22px;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--wui-color-blue-100);
    border-width: 1px;
    border-style: solid;
    border-color: var(--wui-color-gray-glass-002);
    border-radius: 999px;
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color;
  }

  span:before {
    position: absolute;
    content: '';
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
    background-color: var(--wui-color-inverse-100);
    transition: transform var(--wui-ease-inout-power-1) var(--wui-duration-lg);
    will-change: transform;
    border-radius: 50%;
  }

  input:checked + span {
    border-color: var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-blue-100);
  }

  input:not(:checked) + span {
    background-color: var(--wui-color-gray-glass-010);
  }

  input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }
`;var _G=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Y3=class extends _e{constructor(){super(...arguments),this.inputElementRef=lx(),this.checked=void 0}render(){return B`
      <label>
        <input
          ${ux(this.inputElementRef)}
          type="checkbox"
          ?checked=${We(this.checked)}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){var e;this.dispatchEvent(new CustomEvent("switchChange",{detail:(e=this.inputElementRef.value)==null?void 0:e.checked,bubbles:!0,composed:!0}))}};Y3.styles=[Ut,Un,SS,sSe];_G([Z({type:Boolean})],Y3.prototype,"checked",void 0);Y3=_G([Ae("wui-switch")],Y3);const oSe=He`
  :host {
    height: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: var(--wui-spacing-1xs);
    padding: var(--wui-spacing-xs) var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`;var TG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Q3=class extends _e{constructor(){super(...arguments),this.checked=void 0}render(){return B`
      <button>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-switch ?checked=${We(this.checked)}></wui-switch>
      </button>
    `}};Q3.styles=[Ut,Un,oSe];TG([Z({type:Boolean})],Q3.prototype,"checked",void 0);Q3=TG([Ae("wui-certified-switch")],Q3);const aSe=He`
  button {
    background-color: var(--wui-color-fg-300);
    border-radius: var(--wui-border-radius-4xs);
    width: 16px;
    height: 16px;
  }

  button:disabled {
    background-color: var(--wui-color-bg-300);
  }

  wui-icon {
    color: var(--wui-color-bg-200) !important;
  }

  button:focus-visible {
    background-color: var(--wui-color-fg-250);
    border: 1px solid var(--wui-color-accent-100);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-fg-250);
    }

    button:active:enabled {
      background-color: var(--wui-color-fg-225);
    }
  }
`;var IG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Z3=class extends _e{constructor(){super(...arguments),this.icon="copy"}render(){return B`
      <button>
        <wui-icon color="inherit" size="xxs" name=${this.icon}></wui-icon>
      </button>
    `}};Z3.styles=[Ut,Un,aSe];IG([Z()],Z3.prototype,"icon",void 0);Z3=IG([Ae("wui-input-element")],Z3);const cSe=He`
  :host {
    position: relative;
    width: 100%;
    display: inline-block;
    color: var(--wui-color-fg-275);
  }

  input {
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
    color: var(--wui-color-fg-100);
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      box-shadow var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color, box-shadow;
    caret-color: var(--wui-color-accent-100);
  }

  input:disabled {
    cursor: not-allowed;
    border: 1px solid var(--wui-color-gray-glass-010);
  }

  input:disabled::placeholder,
  input:disabled + wui-icon {
    color: var(--wui-color-fg-300);
  }

  input::placeholder {
    color: var(--wui-color-fg-275);
  }

  input:focus:enabled {
    background-color: var(--wui-color-gray-glass-005);
    -webkit-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  input:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
  }

  .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px var(--wui-spacing-s);
  }

  wui-icon + .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px 36px;
  }

  wui-icon[data-input='sm'] {
    left: var(--wui-spacing-s);
  }

  .wui-size-md {
    padding: 15px var(--wui-spacing-m) var(--wui-spacing-l) var(--wui-spacing-m);
  }

  wui-icon + .wui-size-md,
  wui-loading-spinner + .wui-size-md {
    padding: 10.5px var(--wui-spacing-3xl) 10.5px var(--wui-spacing-3xl);
  }

  wui-icon[data-input='md'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-lg {
    padding: var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-l);
    letter-spacing: var(--wui-letter-spacing-medium-title);
    font-size: var(--wui-font-size-medium-title);
    font-weight: var(--wui-font-weight-light);
    line-height: 130%;
    color: var(--wui-color-fg-100);
    height: 64px;
  }

  .wui-padding-right-xs {
    padding-right: var(--wui-spacing-xs);
  }

  .wui-padding-right-s {
    padding-right: var(--wui-spacing-s);
  }

  .wui-padding-right-m {
    padding-right: var(--wui-spacing-m);
  }

  .wui-padding-right-l {
    padding-right: var(--wui-spacing-l);
  }

  .wui-padding-right-xl {
    padding-right: var(--wui-spacing-xl);
  }

  .wui-padding-right-2xl {
    padding-right: var(--wui-spacing-2xl);
  }

  .wui-padding-right-3xl {
    padding-right: var(--wui-spacing-3xl);
  }

  .wui-padding-right-4xl {
    padding-right: var(--wui-spacing-4xl);
  }

  .wui-padding-right-5xl {
    padding-right: var(--wui-spacing-5xl);
  }

  wui-icon + .wui-size-lg,
  wui-loading-spinner + .wui-size-lg {
    padding-left: 50px;
  }

  wui-icon[data-input='lg'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-m) 17.25px var(--wui-spacing-m);
  }
  wui-icon + .wui-size-mdl,
  wui-loading-spinner + .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-3xl) 17.25px 40px;
  }
  wui-icon[data-input='mdl'] {
    left: var(--wui-spacing-m);
  }

  input:placeholder-shown ~ ::slotted(wui-input-element),
  input:placeholder-shown ~ ::slotted(wui-icon) {
    opacity: 0;
    pointer-events: none;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  ::slotted(wui-input-element),
  ::slotted(wui-icon) {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  ::slotted(wui-input-element) {
    right: var(--wui-spacing-m);
  }

  ::slotted(wui-icon) {
    right: 0px;
  }
`;var Al=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Aa=class extends _e{constructor(){super(...arguments),this.inputElementRef=lx(),this.size="md",this.disabled=!1,this.placeholder="",this.type="text",this.value=""}render(){const e=`wui-padding-right-${this.inputRightPadding}`,r={[`wui-size-${this.size}`]:!0,[e]:!!this.inputRightPadding};return B`${this.templateIcon()}
      <input
        data-testid="wui-input-text"
        ${ux(this.inputElementRef)}
        class=${T2(r)}
        type=${this.type}
        enterkeyhint=${We(this.enterKeyHint)}
        ?disabled=${this.disabled}
        placeholder=${this.placeholder}
        @input=${this.dispatchInputChangeEvent.bind(this)}
        @keydown=${this.onKeyDown}
        .value=${this.value||""}
        tabindex=${We(this.tabIdx)}
      />
      <slot></slot>`}templateIcon(){return this.icon?B`<wui-icon
        data-input=${this.size}
        size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}dispatchInputChangeEvent(){var e;this.dispatchEvent(new CustomEvent("inputChange",{detail:(e=this.inputElementRef.value)==null?void 0:e.value,bubbles:!0,composed:!0}))}};Aa.styles=[Ut,Un,cSe];Al([Z()],Aa.prototype,"size",void 0);Al([Z()],Aa.prototype,"icon",void 0);Al([Z({type:Boolean})],Aa.prototype,"disabled",void 0);Al([Z()],Aa.prototype,"placeholder",void 0);Al([Z()],Aa.prototype,"type",void 0);Al([Z()],Aa.prototype,"keyHint",void 0);Al([Z()],Aa.prototype,"value",void 0);Al([Z()],Aa.prototype,"inputRightPadding",void 0);Al([Z()],Aa.prototype,"tabIdx",void 0);Al([Z({attribute:!1})],Aa.prototype,"onKeyDown",void 0);Aa=Al([Ae("wui-input-text")],Aa);const lSe=He`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }
`;var uSe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let dP=class extends _e{constructor(){super(...arguments),this.inputComponentRef=lx()}render(){return B`
      <wui-input-text
        ${ux(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
      >
        <wui-input-element @click=${this.clearValue} icon="close"></wui-input-element>
      </wui-input-text>
    `}clearValue(){const e=this.inputComponentRef.value,n=e==null?void 0:e.inputElementRef.value;n&&(n.value="",n.focus(),n.dispatchEvent(new Event("input")))}};dP.styles=[Ut,lSe];dP=uSe([Ae("wui-search-bar")],dP);const NG=Tr`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`,dSe=He`
  :host {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xs) 10px;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--wui-path-network);
    clip-path: var(--wui-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: var(--wui-color-gray-glass-010);
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`;var PG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let J3=class extends _e{constructor(){super(...arguments),this.type="wallet"}render(){return B`
      ${this.shimmerTemplate()}
      <wui-shimmer width="56px" height="20px" borderRadius="xs"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?B` <wui-shimmer
          data-type=${this.type}
          width="48px"
          height="54px"
          borderRadius="xs"
        ></wui-shimmer>
        ${NG}`:B`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}};J3.styles=[Ut,Un,dSe];PG([Z()],J3.prototype,"type",void 0);J3=PG([Ae("wui-card-select-loader")],J3);const fSe=He`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`;var Ec=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Go=class extends _e{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&$r.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&$r.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&$r.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&$r.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&$r.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&$r.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&$r.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&$r.getSpacingStyles(this.margin,3)};
    `,B`<slot></slot>`}};Go.styles=[Ut,fSe];Ec([Z()],Go.prototype,"gridTemplateRows",void 0);Ec([Z()],Go.prototype,"gridTemplateColumns",void 0);Ec([Z()],Go.prototype,"justifyItems",void 0);Ec([Z()],Go.prototype,"alignItems",void 0);Ec([Z()],Go.prototype,"justifyContent",void 0);Ec([Z()],Go.prototype,"alignContent",void 0);Ec([Z()],Go.prototype,"columnGap",void 0);Ec([Z()],Go.prototype,"rowGap",void 0);Ec([Z()],Go.prototype,"gap",void 0);Ec([Z()],Go.prototype,"padding",void 0);Ec([Z()],Go.prototype,"margin",void 0);Go=Ec([Ae("wui-grid")],Go);const hSe=He`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-s) var(--wui-spacing-0);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: var(--wui-color-fg-100);
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  button:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  button:disabled > wui-flex > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  [data-selected='true'] {
    background-color: var(--wui-color-accent-glass-020);
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }
  }

  [data-selected='true']:active:enabled {
    background-color: var(--wui-color-accent-glass-010);
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`;var dx=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let vg=class extends _e{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.wallet=void 0,this.observer=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting?(this.visible=!0,this.fetchImageSrc()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){var n,r;const e=((n=this.wallet)==null?void 0:n.badge_type)==="certified";return B`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="3xs">
          <wui-text
            variant="tiny-500"
            color="inherit"
            class=${We(e?"certified":void 0)}
            >${(r=this.wallet)==null?void 0:r.name}</wui-text
          >
          ${e?B`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){var e,n;return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():B`
      <wui-wallet-image
        size="md"
        imageSrc=${We(this.imageSrc)}
        name=${(e=this.wallet)==null?void 0:e.name}
        .installed=${(n=this.wallet)==null?void 0:n.installed}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return B`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=$n.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await $n.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}};vg.styles=hSe;dx([fe()],vg.prototype,"visible",void 0);dx([fe()],vg.prototype,"imageSrc",void 0);dx([fe()],vg.prototype,"imageLoading",void 0);dx([Z()],vg.prototype,"wallet",void 0);vg=dx([Ae("w3m-all-wallets-list-item")],vg);const pSe=He`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    padding-top: var(--wui-spacing-l);
    padding-bottom: var(--wui-spacing-l);
    justify-content: center;
    grid-column: 1 / span 4;
  }
`;var Ib=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const xB="local-paginator";let np=class extends _e{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!nt.state.wallets.length,this.wallets=nt.state.wallets,this.recommended=nt.state.recommended,this.featured=nt.state.featured,this.filteredWallets=nt.state.filteredWallets,this.unsubscribe.push(nt.subscribeKey("wallets",e=>this.wallets=e),nt.subscribeKey("recommended",e=>this.recommended=e),nt.subscribeKey("featured",e=>this.featured=e),nt.subscribeKey("filteredWallets",e=>this.filteredWallets=e))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){var e;this.unsubscribe.forEach(n=>n()),(e=this.paginationObserver)==null||e.disconnect()}render(){return B`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","s","s","s"]}
        columnGap="xxs"
        rowGap="l"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){var n;this.loading=!0;const e=(n=this.shadowRoot)==null?void 0:n.querySelector("wui-grid");e&&(await nt.fetchWalletsByPage({page:1}),await e.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,e.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(e,n){return[...Array(e)].map(()=>B`
        <wui-card-select-loader type="wallet" id=${We(n)}></wui-card-select-loader>
      `)}getWallets(){var i;const e=[...this.featured,...this.recommended];((i=this.filteredWallets)==null?void 0:i.length)>0?e.push(...this.filteredWallets):e.push(...this.wallets);const n=be.uniqueBy(e,"id"),r=Su.markWalletsAsInstalled(n);return Su.markWalletsWithDisplayIndex(r)}walletsTemplate(){return this.getWallets().map(n=>B`
        <w3m-all-wallets-list-item
          @click=${()=>this.onConnectWallet(n)}
          .wallet=${n}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){const{wallets:e,recommended:n,featured:r,count:i}=nt.state,s=window.innerWidth<352?3:4,o=e.length+n.length;let c=Math.ceil(o/s)*s-o+s;return c-=e.length?r.length%s:0,i===0&&r.length>0?null:i===0||[...r,...e,...n].length<i?this.shimmerTemplate(c,xB):null}createPaginationObserver(){var n;const e=(n=this.shadowRoot)==null?void 0:n.querySelector(`#${xB}`);e&&(this.paginationObserver=new IntersectionObserver(([r])=>{if(r!=null&&r.isIntersecting&&!this.loading){const{page:i,count:s,wallets:o}=nt.state;o.length<s&&nt.fetchWalletsByPage({page:i+1})}}),this.paginationObserver.observe(e))}onConnectWallet(e){pe.selectWalletConnector(e)}};np.styles=pSe;Ib([fe()],np.prototype,"loading",void 0);Ib([fe()],np.prototype,"wallets",void 0);Ib([fe()],np.prototype,"recommended",void 0);Ib([fe()],np.prototype,"featured",void 0);Ib([fe()],np.prototype,"filteredWallets",void 0);np=Ib([Ae("w3m-all-wallets-list")],np);const mSe=He`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`;var kS=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Kw=class extends _e{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.query=""}render(){return this.onSearch(),this.loading?B`<wui-loading-spinner color="accent-100"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await nt.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:e}=nt.state,n=Su.markWalletsAsInstalled(e);return e.length?B`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","s","s","s"]}
        rowGap="l"
        columnGap="xs"
        justifyContent="space-between"
      >
        ${n.map(r=>B`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(r)}
              .wallet=${r}
              data-testid="wallet-search-item-${r.id}"
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:B`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="s"
          flexDirection="column"
        >
          <wui-icon-box
            size="lg"
            iconColor="fg-200"
            backgroundColor="fg-300"
            icon="wallet"
            background="transparent"
          ></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="fg-200" variant="paragraph-500">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(e){pe.selectWalletConnector(e)}};Kw.styles=mSe;kS([fe()],Kw.prototype,"loading",void 0);kS([Z()],Kw.prototype,"query",void 0);kS([Z()],Kw.prototype,"badge",void 0);Kw=kS([Ae("w3m-all-wallets-search")],Kw);var C8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let $2=class extends _e{constructor(){super(...arguments),this.search="",this.onDebouncedSearch=be.debounce(e=>{this.search=e})}render(){const e=this.search.length>=2;return B`
      <wui-flex .padding=${["0","s","s","s"]} gap="xs">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge}
          @click=${this.onClick.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${e||this.badge?B`<w3m-all-wallets-search
            query=${this.search}
            badge=${We(this.badge)}
          ></w3m-all-wallets-search>`:B`<w3m-all-wallets-list badge=${We(this.badge)}></w3m-all-wallets-list>`}
    `}onInputChange(e){this.onDebouncedSearch(e.detail)}onClick(){if(this.badge==="certified"){this.badge=void 0;return}this.badge="certified",Tn.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})}qrButtonTemplate(){return be.isMobile()?B`
        <wui-icon-box
          size="lg"
          iconSize="xl"
          iconColor="accent-100"
          backgroundColor="accent-100"
          icon="qrCode"
          background="transparent"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){Ee.push("ConnectingWalletConnect")}};C8([fe()],$2.prototype,"search",void 0);C8([fe()],$2.prototype,"badge",void 0);$2=C8([Ae("w3m-all-wallets-view")],$2);const gSe=He`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 16.5px var(--wui-spacing-l) 16.5px var(--wui-spacing-xs);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
    justify-content: center;
    align-items: center;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }
`;var RS=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Yw=class extends _e{constructor(){super(...arguments),this.text="",this.disabled=!1,this.tabIdx=void 0}render(){return B`
      <button ?disabled=${this.disabled} tabindex=${We(this.tabIdx)}>
        <wui-text align="center" variant="paragraph-500" color="inherit">${this.text}</wui-text>
      </button>
    `}};Yw.styles=[Ut,Un,gSe];RS([Z()],Yw.prototype,"text",void 0);RS([Z({type:Boolean})],Yw.prototype,"disabled",void 0);RS([Z()],Yw.prototype,"tabIdx",void 0);Yw=RS([Ae("wui-list-button")],Yw);const ySe=He`
  :host {
    position: relative;
    display: inline-block;
  }

  wui-text {
    margin: var(--wui-spacing-xxs) var(--wui-spacing-m) var(--wui-spacing-0) var(--wui-spacing-m);
  }
`;var fx=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Cg=class extends _e{constructor(){super(...arguments),this.disabled=!1}render(){return B`
      <wui-input-text
        type="email"
        placeholder="Email"
        icon="mail"
        size="mdl"
        .disabled=${this.disabled}
        .value=${this.value}
        data-testid="wui-email-input"
        tabIdx=${We(this.tabIdx)}
      ></wui-input-text>
      ${this.templateError()}
    `}templateError(){return this.errorMessage?B`<wui-text variant="tiny-500" color="error-100">${this.errorMessage}</wui-text>`:null}};Cg.styles=[Ut,ySe];fx([Z()],Cg.prototype,"errorMessage",void 0);fx([Z({type:Boolean})],Cg.prototype,"disabled",void 0);fx([Z()],Cg.prototype,"value",void 0);fx([Z()],Cg.prototype,"tabIdx",void 0);Cg=fx([Ae("wui-email-input")],Cg);const wSe=He`
  wui-separator {
    margin: var(--wui-spacing-s) calc(var(--wui-spacing-s) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }

  wui-email-input {
    width: 100%;
  }

  form {
    width: 100%;
    display: block;
    position: relative;
  }

  wui-icon-link,
  wui-loading-spinner {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  wui-icon-link {
    right: var(--wui-spacing-xs);
  }

  wui-loading-spinner {
    right: var(--wui-spacing-m);
  }

  wui-text {
    margin: var(--wui-spacing-xxs) var(--wui-spacing-m) var(--wui-spacing-0) var(--wui-spacing-m);
  }
`;var Nb=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let rp=class extends _e{constructor(){super(),this.unsubscribe=[],this.formRef=lx(),this.email="",this.loading=!1,this.error="",this.remoteFeatures=ce.state.remoteFeatures,this.unsubscribe.push(ce.subscribeKey("remoteFeatures",e=>{this.remoteFeatures=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}firstUpdated(){var e;(e=this.formRef.value)==null||e.addEventListener("keydown",n=>{n.key==="Enter"&&this.onSubmitEmail(n)})}render(){const e=Ce.hasAnyConnection(oe.CONNECTOR_ID.AUTH);return B`
      <form ${ux(this.formRef)} @submit=${this.onSubmitEmail.bind(this)}>
        <wui-email-input
          @focus=${this.onFocusEvent.bind(this)}
          .disabled=${this.loading}
          @inputChange=${this.onEmailInputChange.bind(this)}
          tabIdx=${We(this.tabIdx)}
          ?disabled=${e}
        >
        </wui-email-input>

        ${this.submitButtonTemplate()}${this.loadingTemplate()}
        <input type="submit" hidden />
      </form>
      ${this.templateError()}
    `}submitButtonTemplate(){return!this.loading&&this.email.length>3?B`
          <wui-icon-link
            size="sm"
            icon="chevronRight"
            iconcolor="accent-100"
            @click=${this.onSubmitEmail.bind(this)}
          >
          </wui-icon-link>
        `:null}loadingTemplate(){return this.loading?B`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:null}templateError(){return this.error?B`<wui-text variant="tiny-500" color="error-100">${this.error}</wui-text>`:null}onEmailInputChange(e){this.email=e.detail.trim(),this.error=""}async onSubmitEmail(e){var r;if(!oe.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===F.state.activeChain)){const i=F.getFirstCaipNetworkSupportsAuthConnector();if(i){Ee.push("SwitchNetwork",{network:i});return}}try{if(this.loading)return;this.loading=!0,e.preventDefault();const i=pe.getAuthConnector();if(!i)throw new Error("w3m-email-login-widget: Auth connector not found");const{action:s}=await i.provider.connectEmail({email:this.email});if(At.sendEvent({type:"track",event:"EMAIL_SUBMITTED"}),s==="VERIFY_OTP")At.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_SENT"}),Ee.push("EmailVerifyOtp",{email:this.email});else if(s==="VERIFY_DEVICE")Ee.push("EmailVerifyDevice",{email:this.email});else if(s==="CONNECT"){const o=(r=this.remoteFeatures)==null?void 0:r.multiWallet;await Ce.connectExternal(i,F.state.activeChain),o?(Ee.replace("ProfileWallets"),Tn.showSuccess("New Wallet Added")):Ee.replace("Account")}}catch(i){const s=be.parseError(i);s!=null&&s.includes("Invalid email")?this.error="Invalid email. Try again.":Tn.showError(i)}finally{this.loading=!1}}onFocusEvent(){At.sendEvent({type:"track",event:"EMAIL_LOGIN_SELECTED"})}};rp.styles=wSe;Nb([Z()],rp.prototype,"tabIdx",void 0);Nb([fe()],rp.prototype,"email",void 0);Nb([fe()],rp.prototype,"loading",void 0);Nb([fe()],rp.prototype,"error",void 0);Nb([fe()],rp.prototype,"remoteFeatures",void 0);rp=Nb([Ae("w3m-email-login-widget")],rp);const bSe=He`
  label {
    display: flex;
    align-items: center;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    column-gap: var(--wui-spacing-1xs);
  }

  label > input[type='checkbox'] {
    height: 0;
    width: 0;
    opacity: 0;
    pointer-events: none;
    position: absolute;
  }

  label > span {
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
    min-width: var(--wui-spacing-xl);
    min-height: var(--wui-spacing-xl);
    border-radius: var(--wui-border-radius-3xs);
    border-width: 1px;
    border-style: solid;
    border-color: var(--wui-color-gray-glass-010);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-lg);
    will-change: background-color;
  }

  label > span:hover,
  label > input[type='checkbox']:focus-visible + span {
    background-color: var(--wui-color-gray-glass-010);
  }

  label input[type='checkbox']:checked + span {
    background-color: var(--wui-color-blue-base-90);
  }

  label > span > wui-icon {
    opacity: 0;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-lg);
    will-change: opacity;
  }

  label > input[type='checkbox']:checked + span wui-icon {
    opacity: 1;
  }
`;var kG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let X3=class extends _e{constructor(){super(...arguments),this.inputElementRef=lx(),this.checked=void 0}render(){return B`
      <label>
        <input
          ${ux(this.inputElementRef)}
          ?checked=${We(this.checked)}
          type="checkbox"
          @change=${this.dispatchChangeEvent}
        />
        <span>
          <wui-icon name="checkmarkBold" color="inverse-100" size="xxs"></wui-icon>
        </span>
        <slot></slot>
      </label>
    `}dispatchChangeEvent(){var e;this.dispatchEvent(new CustomEvent("checkboxChange",{detail:(e=this.inputElementRef.value)==null?void 0:e.checked,bubbles:!0,composed:!0}))}};X3.styles=[Ut,bSe];kG([Z({type:Boolean})],X3.prototype,"checked",void 0);X3=kG([Ae("wui-checkbox")],X3);const vSe=He`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  wui-checkbox {
    padding: var(--wui-spacing-s);
  }
  a {
    text-decoration: none;
    color: var(--wui-color-fg-150);
    font-weight: 500;
  }
`;var RG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let e5=class extends _e{constructor(){super(),this.unsubscribe=[],this.checked=Gm.state.isLegalCheckboxChecked,this.unsubscribe.push(Gm.subscribeKey("isLegalCheckboxChecked",e=>{this.checked=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){var i;const{termsConditionsUrl:e,privacyPolicyUrl:n}=ce.state,r=(i=ce.state.features)==null?void 0:i.legalCheckbox;return!e&&!n||!r?null:B`
      <wui-checkbox
        ?checked=${this.checked}
        @checkboxChange=${this.onCheckboxChange.bind(this)}
        data-testid="wui-checkbox"
      >
        <wui-text color="fg-250" variant="small-400" align="left">
          I agree to our ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
        </wui-text>
      </wui-checkbox>
    `}andTemplate(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=ce.state;return e&&n?"and":""}termsTemplate(){const{termsConditionsUrl:e}=ce.state;return e?B`<a rel="noreferrer" target="_blank" href=${e}>terms of service</a>`:null}privacyTemplate(){const{privacyPolicyUrl:e}=ce.state;return e?B`<a rel="noreferrer" target="_blank" href=${e}>privacy policy</a>`:null}onCheckboxChange(){Gm.setIsLegalCheckboxChecked(!this.checked)}};e5.styles=[vSe];RG([fe()],e5.prototype,"checked",void 0);e5=RG([Ae("w3m-legal-checkbox")],e5);const MLe=/[.*+?^${}()|[\]\\]/gu,BLe=/[0-9,.]/u,CSe="https://reown.com",xSe=He`
  .reown-logo {
    height: var(--wui-spacing-xxl);
  }

  a {
    text-decoration: none;
    cursor: pointer;
  }

  a:hover {
    opacity: 0.9;
  }
`;var ESe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let fP=class extends _e{render(){return B`
      <a
        data-testid="ux-branding-reown"
        href=${CSe}
        rel="noreferrer"
        target="_blank"
        style="text-decoration: none;"
      >
        <wui-flex
          justifyContent="center"
          alignItems="center"
          gap="xs"
          .padding=${["0","0","l","0"]}
        >
          <wui-text variant="small-500" color="fg-100"> UX by </wui-text>
          <wui-icon name="reown" size="xxxl" class="reown-logo"></wui-icon>
        </wui-flex>
      </a>
    `}};fP.styles=[Ut,Un,xSe];fP=ESe([Ae("wui-ux-by-reown")],fP);const ASe=He`
  :host > wui-flex {
    background-color: var(--wui-color-gray-glass-005);
  }

  :host wui-ux-by-reown {
    padding-top: 0;
  }

  :host wui-ux-by-reown.branding-only {
    padding-top: var(--wui-spacing-m);
  }

  a {
    text-decoration: none;
    color: var(--wui-color-fg-175);
    font-weight: 500;
  }
`;var OG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let t5=class extends _e{constructor(){super(),this.unsubscribe=[],this.remoteFeatures=ce.state.remoteFeatures,this.unsubscribe.push(ce.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){var s;const{termsConditionsUrl:e,privacyPolicyUrl:n}=ce.state,r=(s=ce.state.features)==null?void 0:s.legalCheckbox;return!e&&!n||r?B`
        <wui-flex flexDirection="column"> ${this.reownBrandingTemplate(!0)} </wui-flex>
      `:B`
      <wui-flex flexDirection="column">
        <wui-flex .padding=${["m","s","s","s"]} justifyContent="center">
          <wui-text color="fg-250" variant="small-400" align="center">
            By connecting your wallet, you agree to our <br />
            ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
          </wui-text>
        </wui-flex>
        ${this.reownBrandingTemplate()}
      </wui-flex>
    `}andTemplate(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=ce.state;return e&&n?"and":""}termsTemplate(){const{termsConditionsUrl:e}=ce.state;return e?B`<a href=${e} target="_blank" rel="noopener noreferrer"
      >Terms of Service</a
    >`:null}privacyTemplate(){const{privacyPolicyUrl:e}=ce.state;return e?B`<a href=${e} target="_blank" rel="noopener noreferrer"
      >Privacy Policy</a
    >`:null}reownBrandingTemplate(e=!1){var n;return(n=this.remoteFeatures)!=null&&n.reownBranding?e?B`<wui-ux-by-reown class="branding-only"></wui-ux-by-reown>`:B`<wui-ux-by-reown></wui-ux-by-reown>`:null}};t5.styles=[ASe];OG([fe()],t5.prototype,"remoteFeatures",void 0);t5=OG([Ae("w3m-legal-footer")],t5);const SSe=He`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-color-gray-glass-005);
    overflow: hidden;
  }

  wui-icon {
    width: 100%;
    height: 100%;
  }
`;var $G=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let n5=class extends _e{constructor(){super(...arguments),this.logo="google"}render(){return B`<wui-icon color="inherit" size="inherit" name=${this.logo}></wui-icon> `}};n5.styles=[Ut,SSe];$G([Z()],n5.prototype,"logo",void 0);n5=$G([Ae("wui-logo")],n5);const _Se=He`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    justify-content: flex-start;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-text[data-align='left'] {
    display: flex;
    flex: 1;
  }

  wui-text[data-align='center'] {
    display: flex;
    flex: 1;
    justify-content: center;
  }

  .invisible {
    opacity: 0;
    pointer-events: none;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }
`;var Pb=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ip=class extends _e{constructor(){super(...arguments),this.logo="google",this.name="Continue with google",this.align="left",this.disabled=!1}render(){return B`
      <button ?disabled=${this.disabled} tabindex=${We(this.tabIdx)}>
        <wui-logo logo=${this.logo}></wui-logo>
        <wui-text
          data-align=${this.align}
          variant="paragraph-500"
          color="inherit"
          align=${this.align}
          >${this.name}</wui-text
        >
        ${this.templatePlacement()}
      </button>
    `}templatePlacement(){return this.align==="center"?B` <wui-logo class="invisible" logo=${this.logo}></wui-logo>`:null}};ip.styles=[Ut,Un,_Se];Pb([Z()],ip.prototype,"logo",void 0);Pb([Z()],ip.prototype,"name",void 0);Pb([Z()],ip.prototype,"align",void 0);Pb([Z()],ip.prototype,"tabIdx",void 0);Pb([Z({type:Boolean})],ip.prototype,"disabled",void 0);ip=Pb([Ae("wui-list-social")],ip);const TSe=He`
  :host {
    display: block;
    width: 100%;
  }

  button {
    width: 100%;
    height: 56px;
    background: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }
`;var OS=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Qw=class extends _e{constructor(){super(...arguments),this.logo="google",this.disabled=!1,this.tabIdx=void 0}render(){return B`
      <button ?disabled=${this.disabled} tabindex=${We(this.tabIdx)}>
        <wui-logo logo=${this.logo}></wui-logo>
      </button>
    `}};Qw.styles=[Ut,Un,TSe];OS([Z()],Qw.prototype,"logo",void 0);OS([Z({type:Boolean})],Qw.prototype,"disabled",void 0);OS([Z()],Qw.prototype,"tabIdx",void 0);Qw=OS([Ae("wui-logo-select")],Qw);const ISe=He`
  wui-separator {
    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-m)
      calc(var(--wui-spacing-m) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`;var qg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const EB=2,AB=6;let Zd=class extends _e{constructor(){super(),this.unsubscribe=[],this.walletGuide="get-started",this.tabIdx=void 0,this.connectors=pe.state.connectors,this.remoteFeatures=ce.state.remoteFeatures,this.authConnector=this.connectors.find(e=>e.type==="AUTH"),this.isPwaLoading=!1,this.unsubscribe.push(pe.subscribeKey("connectors",e=>{this.connectors=e,this.authConnector=this.connectors.find(n=>n.type==="AUTH")}),ce.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}connectedCallback(){super.connectedCallback(),this.handlePwaFrameLoad()}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return B`
      <wui-flex
        class="container"
        flexDirection="column"
        gap="xs"
        data-testid="w3m-social-login-widget"
      >
        ${this.topViewTemplate()}${this.bottomViewTemplate()}
      </wui-flex>
    `}topViewTemplate(){var r;const e=this.walletGuide==="explore";let n=(r=this.remoteFeatures)==null?void 0:r.socials;return!n&&e?(n=rn.DEFAULT_SOCIALS,this.renderTopViewContent(n)):n?this.renderTopViewContent(n):null}renderTopViewContent(e){return e.length===2?B` <wui-flex gap="xs">
        ${e.slice(0,EB).map(n=>B`<wui-logo-select
              data-testid=${`social-selector-${n}`}
              @click=${()=>{this.onSocialClick(n)}}
              logo=${n}
              tabIdx=${We(this.tabIdx)}
              ?disabled=${this.isPwaLoading||this.hasConnection()}
            ></wui-logo-select>`)}
      </wui-flex>`:B` <wui-list-social
      data-testid=${`social-selector-${e[0]}`}
      @click=${()=>{this.onSocialClick(e[0])}}
      logo=${We(e[0])}
      align="center"
      name=${`Continue with ${e[0]}`}
      tabIdx=${We(this.tabIdx)}
      ?disabled=${this.isPwaLoading||this.hasConnection()}
    ></wui-list-social>`}bottomViewTemplate(){var i;let e=(i=this.remoteFeatures)==null?void 0:i.socials;const n=this.walletGuide==="explore";return(!this.authConnector||!e||e.length===0)&&n&&(e=rn.DEFAULT_SOCIALS),!e||e.length<=EB?null:e&&e.length>AB?B`<wui-flex gap="xs">
        ${e.slice(1,AB-1).map(s=>B`<wui-logo-select
              data-testid=${`social-selector-${s}`}
              @click=${()=>{this.onSocialClick(s)}}
              logo=${s}
              tabIdx=${We(this.tabIdx)}
              ?focusable=${this.tabIdx!==void 0&&this.tabIdx>=0}
              ?disabled=${this.isPwaLoading||this.hasConnection()}
            ></wui-logo-select>`)}
        <wui-logo-select
          logo="more"
          tabIdx=${We(this.tabIdx)}
          @click=${this.onMoreSocialsClick.bind(this)}
          ?disabled=${this.isPwaLoading||this.hasConnection()}
          data-testid="social-selector-more"
        ></wui-logo-select>
      </wui-flex>`:e?B`<wui-flex gap="xs">
      ${e.slice(1,e.length).map(s=>B`<wui-logo-select
            data-testid=${`social-selector-${s}`}
            @click=${()=>{this.onSocialClick(s)}}
            logo=${s}
            tabIdx=${We(this.tabIdx)}
            ?focusable=${this.tabIdx!==void 0&&this.tabIdx>=0}
            ?disabled=${this.isPwaLoading||this.hasConnection()}
          ></wui-logo-select>`)}
    </wui-flex>`:null}onMoreSocialsClick(){Ee.push("ConnectSocials")}async onSocialClick(e){if(!oe.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===F.state.activeChain)){const r=F.getFirstCaipNetworkSupportsAuthConnector();if(r){Ee.push("SwitchNetwork",{network:r});return}}e&&await Xhe(e)}async handlePwaFrameLoad(){var e;if(be.isPWA()){this.isPwaLoading=!0;try{((e=this.authConnector)==null?void 0:e.provider)instanceof gV&&await this.authConnector.provider.init()}catch(n){Or.open({displayMessage:"Error loading embedded wallet in PWA",debugMessage:n.message},"error")}finally{this.isPwaLoading=!1}}}hasConnection(){return Ce.hasAnyConnection(oe.CONNECTOR_ID.AUTH)}};Zd.styles=ISe;qg([Z()],Zd.prototype,"walletGuide",void 0);qg([Z()],Zd.prototype,"tabIdx",void 0);qg([fe()],Zd.prototype,"connectors",void 0);qg([fe()],Zd.prototype,"remoteFeatures",void 0);qg([fe()],Zd.prototype,"authConnector",void 0);qg([fe()],Zd.prototype,"isPwaLoading",void 0);Zd=qg([Ae("w3m-social-login-widget")],Zd);const NSe=He`
  a {
    border: 1px solid var(--wui-color-gray-glass-010);
    border-radius: var(--wui-border-radius-3xl);
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
    overflow: hidden;
  }

  a.disabled > wui-icon:not(.image-icon),
  a.disabled > wui-image {
    filter: grayscale(1);
  }

  a[data-variant='fill'] {
    color: var(--wui-color-inverse-100);
    background-color: var(--wui-color-accent-100);
  }

  a[data-variant='shade'],
  a[data-variant='shadeSmall'] {
    background-color: transparent;
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-200);
  }

  a[data-variant='success'] {
    column-gap: var(--wui-spacing-xxs);
    border: 1px solid var(--wui-color-success-glass-010);
    background-color: var(--wui-color-success-glass-010);
    color: var(--wui-color-success-100);
  }

  a[data-variant='error'] {
    column-gap: var(--wui-spacing-xxs);
    border: 1px solid var(--wui-color-error-glass-010);
    background-color: var(--wui-color-error-glass-010);
    color: var(--wui-color-error-100);
  }

  a[data-variant='transparent'] {
    column-gap: var(--wui-spacing-xxs);
    background-color: transparent;
    color: var(--wui-color-fg-150);
  }

  a[data-variant='transparent'],
  a[data-variant='success'],
  a[data-variant='shadeSmall'],
  a[data-variant='error'] {
    padding: 7px var(--wui-spacing-s) 7px 10px;
  }

  a[data-variant='transparent']:has(wui-text:first-child),
  a[data-variant='success']:has(wui-text:first-child),
  a[data-variant='shadeSmall']:has(wui-text:first-child),
  a[data-variant='error']:has(wui-text:first-child) {
    padding: 7px var(--wui-spacing-s);
  }

  a[data-variant='fill'],
  a[data-variant='shade'] {
    column-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xxs) var(--wui-spacing-m) var(--wui-spacing-xxs)
      var(--wui-spacing-xs);
  }

  a[data-variant='fill']:has(wui-text:first-child),
  a[data-variant='shade']:has(wui-text:first-child) {
    padding: 9px var(--wui-spacing-m) 9px var(--wui-spacing-m);
  }

  a[data-variant='fill'] > wui-image,
  a[data-variant='shade'] > wui-image {
    width: 24px;
    height: 24px;
  }

  a[data-variant='fill'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);
  }

  a[data-variant='shade'] > wui-image,
  a[data-variant='shadeSmall'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  a[data-variant='fill'] > wui-icon:not(.image-icon),
  a[data-variant='shade'] > wui-icon:not(.image-icon) {
    width: 14px;
    height: 14px;
  }

  a[data-variant='transparent'] > wui-image,
  a[data-variant='success'] > wui-image,
  a[data-variant='shadeSmall'] > wui-image,
  a[data-variant='error'] > wui-image {
    width: 14px;
    height: 14px;
  }

  a[data-variant='transparent'] > wui-icon:not(.image-icon),
  a[data-variant='success'] > wui-icon:not(.image-icon),
  a[data-variant='shadeSmall'] > wui-icon:not(.image-icon),
  a[data-variant='error'] > wui-icon:not(.image-icon) {
    width: 12px;
    height: 12px;
  }

  a[data-variant='fill']:focus-visible {
    background-color: var(--wui-color-accent-090);
  }

  a[data-variant='shade']:focus-visible,
  a[data-variant='shadeSmall']:focus-visible {
    background-color: var(--wui-color-gray-glass-015);
  }

  a[data-variant='transparent']:focus-visible {
    background-color: var(--wui-color-gray-glass-005);
  }

  a[data-variant='success']:focus-visible {
    background-color: var(--wui-color-success-glass-015);
  }

  a[data-variant='error']:focus-visible {
    background-color: var(--wui-color-error-glass-015);
  }

  a.disabled {
    color: var(--wui-color-gray-glass-015);
    background-color: var(--wui-color-gray-glass-015);
    pointer-events: none;
  }

  @media (hover: hover) and (pointer: fine) {
    a[data-variant='fill']:hover {
      background-color: var(--wui-color-accent-090);
    }

    a[data-variant='shade']:hover,
    a[data-variant='shadeSmall']:hover {
      background-color: var(--wui-color-gray-glass-015);
    }

    a[data-variant='transparent']:hover {
      background-color: var(--wui-color-gray-glass-005);
    }

    a[data-variant='success']:hover {
      background-color: var(--wui-color-success-glass-015);
    }

    a[data-variant='error']:hover {
      background-color: var(--wui-color-error-glass-015);
    }
  }

  a[data-variant='fill']:active {
    background-color: var(--wui-color-accent-080);
  }

  a[data-variant='shade']:active,
  a[data-variant='shadeSmall']:active {
    background-color: var(--wui-color-gray-glass-020);
  }

  a[data-variant='transparent']:active {
    background-color: var(--wui-color-gray-glass-010);
  }

  a[data-variant='success']:active {
    background-color: var(--wui-color-success-glass-020);
  }

  a[data-variant='error']:active {
    background-color: var(--wui-color-error-glass-020);
  }
`;var uf=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let hl=class extends _e{constructor(){super(...arguments),this.variant="fill",this.imageSrc=void 0,this.imageIcon=void 0,this.imageIconSize="md",this.disabled=!1,this.icon="externalLink",this.href="",this.text=void 0}render(){const n=this.variant==="success"||this.variant==="transparent"||this.variant==="shadeSmall"?"small-600":"paragraph-600";return B`
      <a
        rel="noreferrer"
        target="_blank"
        href=${this.href}
        class=${this.disabled?"disabled":""}
        data-variant=${this.variant}
      >
        ${this.imageTemplate()}
        <wui-text variant=${n} color="inherit">
          ${this.title?this.title:$r.getHostName(this.href)}
        </wui-text>
        <wui-icon name=${this.icon} color="inherit" size="inherit"></wui-icon>
      </a>
    `}imageTemplate(){return this.imageSrc?B`<wui-image src=${this.imageSrc}></wui-image>`:this.imageIcon?B`<wui-icon
        name=${this.imageIcon}
        color="inherit"
        size=${this.imageIconSize}
        class="image-icon"
      ></wui-icon>`:null}};hl.styles=[Ut,Un,NSe];uf([Z()],hl.prototype,"variant",void 0);uf([Z()],hl.prototype,"imageSrc",void 0);uf([Z()],hl.prototype,"imageIcon",void 0);uf([Z()],hl.prototype,"imageIconSize",void 0);uf([Z({type:Boolean})],hl.prototype,"disabled",void 0);uf([Z()],hl.prototype,"icon",void 0);uf([Z()],hl.prototype,"href",void 0);uf([Z()],hl.prototype,"text",void 0);hl=uf([Ae("wui-chip")],hl);const PSe=He`
  wui-flex {
    width: 100%;
  }

  .wallet-guide {
    width: 100%;
  }

  .chip-box {
    width: fit-content;
    background-color: var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-3xl);
  }
`;var x8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let D2=class extends _e{constructor(){super(...arguments),this.walletGuide="get-started"}render(){return this.walletGuide==="explore"?B`<wui-flex
          class="wallet-guide"
          flexDirection="column"
          alignItems="center"
          justifyContent="center"
          rowGap="xs"
          data-testid="w3m-wallet-guide-explore"
        >
          <wui-text variant="small-400" color="fg-200" align="center">
            Looking for a self-custody wallet?
          </wui-text>

          <wui-flex class="chip-box">
            <wui-chip
              imageIcon="walletConnectLightBrown"
              icon="externalLink"
              variant="transparent"
              href="https://walletguide.walletconnect.network"
              title="Find one on WalletGuide"
            ></wui-chip>
          </wui-flex>
        </wui-flex>`:B`<wui-flex
          columnGap="4xs"
          flexDirection="row"
          alignItems="center"
          justifyContent="center"
          .padding=${["s","0","s","0"]}
        >
          <wui-text variant="small-400" class="title" color="fg-200"
            >Haven't got a wallet?</wui-text
          >
          <wui-link
            data-testid="w3m-wallet-guide-get-started"
            color="blue-100"
            class="get-started-link"
            @click=${this.onGetStarted}
            tabIdx=${We(this.tabIdx)}
          >
            Get started
          </wui-link>
        </wui-flex>`}onGetStarted(){Ee.push("Create")}};D2.styles=PSe;x8([Z()],D2.prototype,"tabIdx",void 0);x8([Z()],D2.prototype,"walletGuide",void 0);D2=x8([Ae("w3m-wallet-guide")],D2);const kSe=He`
  :host {
    position: relative;
    border-radius: var(--wui-border-radius-xxs);
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--wui-spacing-4xs);
    padding: 3.75px !important;
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: var(--wui-border-radius-5xs);
  }

  :host > wui-flex {
    padding: 2px;
    position: fixed;
    overflow: hidden;
    left: 34px;
    bottom: 8px;
    background: var(--dark-background-150, #1e1f1f);
    border-radius: 50%;
    z-index: 2;
    display: flex;
  }
`;var DG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const fI=4;let r5=class extends _e{constructor(){super(...arguments),this.walletImages=[]}render(){const e=this.walletImages.length<fI;return B`${this.walletImages.slice(0,fI).map(({src:n,walletName:r})=>B`
            <wui-wallet-image
              size="inherit"
              imageSrc=${n}
              name=${We(r)}
            ></wui-wallet-image>
          `)}
      ${e?[...Array(fI-this.walletImages.length)].map(()=>B` <wui-wallet-image size="inherit" name=""></wui-wallet-image>`):null}
      <wui-flex>
        <wui-icon-box
          size="xxs"
          iconSize="xxs"
          iconcolor="success-100"
          backgroundcolor="success-100"
          icon="checkmark"
          background="opaque"
        ></wui-icon-box>
      </wui-flex>`}};r5.styles=[Ut,kSe];DG([Z({type:Array})],r5.prototype,"walletImages",void 0);r5=DG([Ae("wui-all-wallets-image")],r5);const RSe=He`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-tag {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-300);
  }

  wui-icon {
    color: var(--wui-color-fg-200) !important;
  }
`;var ea=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ls=class extends _e{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.tabIdx=void 0,this.installed=!1,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return B`
      <button ?disabled=${this.disabled} tabindex=${We(this.tabIdx)}>
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="paragraph-500" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?B` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?B` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?B`<wui-wallet-image
        size="sm"
        imageSrc=${this.imageSrc}
        name=${this.name}
        .installed=${this.installed}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?B`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?B`<wui-loading-spinner
        size="lg"
        color=${this.loadingSpinnerColor}
      ></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?B`<wui-tag variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:this.icon?B`<wui-icon color="inherit" size="sm" name=${this.icon}></wui-icon>`:null}};Ls.styles=[Ut,Un,RSe];ea([Z({type:Array})],Ls.prototype,"walletImages",void 0);ea([Z()],Ls.prototype,"imageSrc",void 0);ea([Z()],Ls.prototype,"name",void 0);ea([Z()],Ls.prototype,"tagLabel",void 0);ea([Z()],Ls.prototype,"tagVariant",void 0);ea([Z()],Ls.prototype,"icon",void 0);ea([Z()],Ls.prototype,"walletIcon",void 0);ea([Z()],Ls.prototype,"tabIdx",void 0);ea([Z({type:Boolean})],Ls.prototype,"installed",void 0);ea([Z({type:Boolean})],Ls.prototype,"disabled",void 0);ea([Z({type:Boolean})],Ls.prototype,"showAllWallets",void 0);ea([Z({type:Boolean})],Ls.prototype,"loading",void 0);ea([Z({type:String})],Ls.prototype,"loadingSpinnerColor",void 0);Ls=ea([Ae("wui-list-wallet")],Ls);var kb=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let xg=class extends _e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=pe.state.connectors,this.count=nt.state.count,this.filteredCount=nt.state.filteredWallets.length,this.isFetchingRecommendedWallets=nt.state.isFetchingRecommendedWallets,this.unsubscribe.push(pe.subscribeKey("connectors",e=>this.connectors=e),nt.subscribeKey("count",e=>this.count=e),nt.subscribeKey("filteredWallets",e=>this.filteredCount=e.length),nt.subscribeKey("isFetchingRecommendedWallets",e=>this.isFetchingRecommendedWallets=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.find(u=>u.id==="walletConnect"),{allWallets:n}=ce.state;if(!e||n==="HIDE"||n==="ONLY_MOBILE"&&!be.isMobile())return null;const r=nt.state.featured.length,i=this.count+r,s=i<10?i:Math.floor(i/10)*10,o=this.filteredCount>0?this.filteredCount:s;let a=`${o}`;this.filteredCount>0?a=`${this.filteredCount}`:o<i&&(a=`${o}+`);const c=Ce.hasAnyConnection(oe.CONNECTOR_ID.WALLET_CONNECT);return B`
      <wui-list-wallet
        name="All Wallets"
        walletIcon="allWallets"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${a}
        tagVariant="shade"
        data-testid="all-wallets"
        tabIdx=${We(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        loadingSpinnerColor=${this.isFetchingRecommendedWallets?"fg-300":"accent-100"}
        ?disabled=${c}
      ></wui-list-wallet>
    `}onAllWallets(){At.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),Ee.push("AllWallets")}};kb([Z()],xg.prototype,"tabIdx",void 0);kb([fe()],xg.prototype,"connectors",void 0);kb([fe()],xg.prototype,"count",void 0);kb([fe()],xg.prototype,"filteredCount",void 0);kb([fe()],xg.prototype,"isFetchingRecommendedWallets",void 0);xg=kb([Ae("w3m-all-wallets-widget")],xg);var $S=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let L2=class extends _e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=pe.state.connectors,this.connections=Ce.state.connections,this.unsubscribe.push(pe.subscribeKey("connectors",e=>this.connectors=e),Ce.subscribeKey("connections",e=>this.connections=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(n=>n.type==="ANNOUNCED");return e!=null&&e.length?B`
      <wui-flex flexDirection="column" gap="xs">
        ${e.filter(al.showConnector).map(n=>{const i=(this.connections.get(n.chain)??[]).some(s=>ar.isLowerCaseMatch(s.connectorId,n.id));return B`
            <wui-list-wallet
              imageSrc=${We($n.getConnectorImage(n))}
              name=${n.name??"Unknown"}
              @click=${()=>this.onConnector(n)}
              tagVariant=${i?"shade":"success"}
              tagLabel=${i?"connected":"installed"}
              data-testid=${`wallet-selector-${n.id}`}
              .installed=${!0}
              tabIdx=${We(this.tabIdx)}
            >
            </wui-list-wallet>
          `})}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){e.id==="walletConnect"?be.isMobile()?Ee.push("AllWallets"):Ee.push("ConnectingWalletConnect"):Ee.push("ConnectingExternal",{connector:e})}};$S([Z()],L2.prototype,"tabIdx",void 0);$S([fe()],L2.prototype,"connectors",void 0);$S([fe()],L2.prototype,"connections",void 0);L2=$S([Ae("w3m-connect-announced-widget")],L2);var DS=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let M2=class extends _e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=pe.state.connectors,this.loading=!1,this.unsubscribe.push(pe.subscribeKey("connectors",e=>this.connectors=e)),be.isTelegram()&&be.isIos()&&(this.loading=!Ce.state.wcUri,this.unsubscribe.push(Ce.subscribeKey("wcUri",e=>this.loading=!e)))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{customWallets:e}=ce.state;if(!(e!=null&&e.length))return this.style.cssText="display: none",null;const n=this.filterOutDuplicateWallets(e),r=Ce.hasAnyConnection(oe.CONNECTOR_ID.WALLET_CONNECT);return B`<wui-flex flexDirection="column" gap="xs">
      ${n.map(i=>B`
          <wui-list-wallet
            imageSrc=${We($n.getWalletImage(i))}
            name=${i.name??"Unknown"}
            @click=${()=>this.onConnectWallet(i)}
            data-testid=${`wallet-selector-${i.id}`}
            tabIdx=${We(this.tabIdx)}
            ?loading=${this.loading}
            ?disabled=${r}
          >
          </wui-list-wallet>
        `)}
    </wui-flex>`}filterOutDuplicateWallets(e){const n=Ne.getRecentWallets(),r=this.connectors.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&be.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return e.filter(a=>!s.includes(String(a==null?void 0:a.rdns)))}onConnectWallet(e){this.loading||Ee.push("ConnectingWalletConnect",{wallet:e})}};DS([Z()],M2.prototype,"tabIdx",void 0);DS([fe()],M2.prototype,"connectors",void 0);DS([fe()],M2.prototype,"loading",void 0);M2=DS([Ae("w3m-connect-custom-widget")],M2);var E8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let i5=class extends _e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=pe.state.connectors,this.unsubscribe.push(pe.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const r=this.connectors.filter(s=>s.type==="EXTERNAL").filter(al.showConnector).filter(s=>s.id!==oe.CONNECTOR_ID.COINBASE_SDK);if(!(r!=null&&r.length))return this.style.cssText="display: none",null;const i=Ce.hasAnyConnection(oe.CONNECTOR_ID.WALLET_CONNECT);return B`
      <wui-flex flexDirection="column" gap="xs">
        ${r.map(s=>B`
            <wui-list-wallet
              imageSrc=${We($n.getConnectorImage(s))}
              .installed=${!0}
              name=${s.name??"Unknown"}
              data-testid=${`wallet-selector-external-${s.id}`}
              @click=${()=>this.onConnector(s)}
              tabIdx=${We(this.tabIdx)}
              ?disabled=${i}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `}onConnector(e){Ee.push("ConnectingExternal",{connector:e})}};E8([Z()],i5.prototype,"tabIdx",void 0);E8([fe()],i5.prototype,"connectors",void 0);i5=E8([Ae("w3m-connect-external-widget")],i5);var A8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let s5=class extends _e{constructor(){super(...arguments),this.tabIdx=void 0,this.wallets=[]}render(){if(!this.wallets.length)return this.style.cssText="display: none",null;const e=Ce.hasAnyConnection(oe.CONNECTOR_ID.WALLET_CONNECT);return B`
      <wui-flex flexDirection="column" gap="xs">
        ${this.wallets.map(n=>B`
            <wui-list-wallet
              data-testid=${`wallet-selector-featured-${n.id}`}
              imageSrc=${We($n.getWalletImage(n))}
              name=${n.name??"Unknown"}
              @click=${()=>this.onConnectWallet(n)}
              tabIdx=${We(this.tabIdx)}
              ?disabled=${e}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `}onConnectWallet(e){pe.selectWalletConnector(e)}};A8([Z()],s5.prototype,"tabIdx",void 0);A8([Z()],s5.prototype,"wallets",void 0);s5=A8([Ae("w3m-connect-featured-widget")],s5);var LS=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let B2=class extends _e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=[],this.connections=Ce.state.connections,this.unsubscribe.push(Ce.subscribeKey("connections",e=>this.connections=e))}render(){const e=this.connectors.filter(al.showConnector);return e.length===0?(this.style.cssText="display: none",null):B`
      <wui-flex flexDirection="column" gap="xs">
        ${e.map(n=>{const i=(this.connections.get(n.chain)??[]).some(s=>ar.isLowerCaseMatch(s.connectorId,n.id));return B`
            <wui-list-wallet
              imageSrc=${We($n.getConnectorImage(n))}
              .installed=${!0}
              name=${n.name??"Unknown"}
              tagVariant=${i?"shade":"success"}
              tagLabel=${i?"connected":"installed"}
              data-testid=${`wallet-selector-${n.id}`}
              @click=${()=>this.onConnector(n)}
              tabIdx=${We(this.tabIdx)}
            >
            </wui-list-wallet>
          `})}
      </wui-flex>
    `}onConnector(e){pe.setActiveConnector(e),Ee.push("ConnectingExternal",{connector:e})}};LS([Z()],B2.prototype,"tabIdx",void 0);LS([Z()],B2.prototype,"connectors",void 0);LS([fe()],B2.prototype,"connections",void 0);B2=LS([Ae("w3m-connect-injected-widget")],B2);var S8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let o5=class extends _e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=pe.state.connectors,this.unsubscribe.push(pe.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(n=>n.type==="MULTI_CHAIN"&&n.name!=="WalletConnect");return e!=null&&e.length?B`
      <wui-flex flexDirection="column" gap="xs">
        ${e.map(n=>B`
            <wui-list-wallet
              imageSrc=${We($n.getConnectorImage(n))}
              .installed=${!0}
              name=${n.name??"Unknown"}
              tagVariant="shade"
              tagLabel="multichain"
              data-testid=${`wallet-selector-${n.id}`}
              @click=${()=>this.onConnector(n)}
              tabIdx=${We(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){pe.setActiveConnector(e),Ee.push("ConnectingMultiChain")}};S8([Z()],o5.prototype,"tabIdx",void 0);S8([fe()],o5.prototype,"connectors",void 0);o5=S8([Ae("w3m-connect-multi-chain-widget")],o5);var MS=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let U2=class extends _e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=pe.state.connectors,this.loading=!1,this.unsubscribe.push(pe.subscribeKey("connectors",e=>this.connectors=e)),be.isTelegram()&&be.isIos()&&(this.loading=!Ce.state.wcUri,this.unsubscribe.push(Ce.subscribeKey("wcUri",e=>this.loading=!e)))}render(){const n=Ne.getRecentWallets().filter(i=>!Su.isExcluded(i)).filter(i=>!this.hasWalletConnector(i)).filter(i=>this.isWalletCompatibleWithCurrentChain(i));if(!n.length)return this.style.cssText="display: none",null;const r=Ce.hasAnyConnection(oe.CONNECTOR_ID.WALLET_CONNECT);return B`
      <wui-flex flexDirection="column" gap="xs">
        ${n.map(i=>B`
            <wui-list-wallet
              imageSrc=${We($n.getWalletImage(i))}
              name=${i.name??"Unknown"}
              @click=${()=>this.onConnectWallet(i)}
              tagLabel="recent"
              tagVariant="shade"
              tabIdx=${We(this.tabIdx)}
              ?loading=${this.loading}
              ?disabled=${r}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `}onConnectWallet(e){this.loading||pe.selectWalletConnector(e)}hasWalletConnector(e){return this.connectors.some(n=>n.id===e.id||n.name===e.name)}isWalletCompatibleWithCurrentChain(e){const n=F.state.activeChain;return n&&e.chains?e.chains.some(r=>{const i=r.split(":")[0];return n===i}):!0}};MS([Z()],U2.prototype,"tabIdx",void 0);MS([fe()],U2.prototype,"connectors",void 0);MS([fe()],U2.prototype,"loading",void 0);U2=MS([Ae("w3m-connect-recent-widget")],U2);var BS=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let F2=class extends _e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.wallets=[],this.loading=!1,be.isTelegram()&&be.isIos()&&(this.loading=!Ce.state.wcUri,this.unsubscribe.push(Ce.subscribeKey("wcUri",e=>this.loading=!e)))}render(){const{connectors:e}=pe.state,{customWallets:n,featuredWalletIds:r}=ce.state,i=Ne.getRecentWallets(),s=e.find(p=>p.id==="walletConnect"),a=e.filter(p=>p.type==="INJECTED"||p.type==="ANNOUNCED"||p.type==="MULTI_CHAIN").filter(p=>p.name!=="Browser Wallet");if(!s)return null;if(r||n||!this.wallets.length)return this.style.cssText="display: none",null;const c=a.length+i.length,u=Math.max(0,2-c),f=Su.filterOutDuplicateWallets(this.wallets).slice(0,u);if(!f.length)return this.style.cssText="display: none",null;const h=Ce.hasAnyConnection(oe.CONNECTOR_ID.WALLET_CONNECT);return B`
      <wui-flex flexDirection="column" gap="xs">
        ${f.map(p=>B`
            <wui-list-wallet
              imageSrc=${We($n.getWalletImage(p))}
              name=${(p==null?void 0:p.name)??"Unknown"}
              @click=${()=>this.onConnectWallet(p)}
              tabIdx=${We(this.tabIdx)}
              ?loading=${this.loading}
              ?disabled=${h}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `}onConnectWallet(e){if(this.loading)return;const n=pe.getConnector({id:e.id,rdns:e.rdns});n?Ee.push("ConnectingExternal",{connector:n}):Ee.push("ConnectingWalletConnect",{wallet:e})}};BS([Z()],F2.prototype,"tabIdx",void 0);BS([Z()],F2.prototype,"wallets",void 0);BS([fe()],F2.prototype,"loading",void 0);F2=BS([Ae("w3m-connect-recommended-widget")],F2);var US=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let j2=class extends _e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=pe.state.connectors,this.connectorImages=qi.state.connectorImages,this.unsubscribe.push(pe.subscribeKey("connectors",e=>this.connectors=e),qi.subscribeKey("connectorImages",e=>this.connectorImages=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(be.isMobile())return this.style.cssText="display: none",null;const e=this.connectors.find(i=>i.id==="walletConnect");if(!e)return this.style.cssText="display: none",null;const n=e.imageUrl||this.connectorImages[(e==null?void 0:e.imageId)??""],r=Ce.hasAnyConnection(oe.CONNECTOR_ID.WALLET_CONNECT);return B`
      <wui-list-wallet
        imageSrc=${We(n)}
        name=${e.name??"Unknown"}
        @click=${()=>this.onConnector(e)}
        tagLabel="qr code"
        tagVariant="main"
        tabIdx=${We(this.tabIdx)}
        data-testid="wallet-selector-walletconnect"
        ?disabled=${r}
      >
      </wui-list-wallet>
    `}onConnector(e){pe.setActiveConnector(e),Ee.push("ConnectingWalletConnect")}};US([Z()],j2.prototype,"tabIdx",void 0);US([fe()],j2.prototype,"connectors",void 0);US([fe()],j2.prototype,"connectorImages",void 0);j2=US([Ae("w3m-connect-walletconnect-widget")],j2);const OSe=He`
  :host {
    margin-top: var(--wui-spacing-3xs);
  }
  wui-separator {
    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-xs)
      calc(var(--wui-spacing-m) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`;var hx=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Eg=class extends _e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=pe.state.connectors,this.recommended=nt.state.recommended,this.featured=nt.state.featured,this.unsubscribe.push(pe.subscribeKey("connectors",e=>this.connectors=e),nt.subscribeKey("recommended",e=>this.recommended=e),nt.subscribeKey("featured",e=>this.featured=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return B`
      <wui-flex flexDirection="column" gap="xs"> ${this.connectorListTemplate()} </wui-flex>
    `}connectorListTemplate(){const{custom:e,recent:n,announced:r,injected:i,multiChain:s,recommended:o,featured:a,external:c}=al.getConnectorsByType(this.connectors,this.recommended,this.featured);return al.getConnectorTypeOrder({custom:e,recent:n,announced:r,injected:i,multiChain:s,recommended:o,featured:a,external:c}).map(f=>{switch(f){case"injected":return B`
            ${s.length?B`<w3m-connect-multi-chain-widget
                  tabIdx=${We(this.tabIdx)}
                ></w3m-connect-multi-chain-widget>`:null}
            ${r.length?B`<w3m-connect-announced-widget
                  tabIdx=${We(this.tabIdx)}
                ></w3m-connect-announced-widget>`:null}
            ${i.length?B`<w3m-connect-injected-widget
                  .connectors=${i}
                  tabIdx=${We(this.tabIdx)}
                ></w3m-connect-injected-widget>`:null}
          `;case"walletConnect":return B`<w3m-connect-walletconnect-widget
            tabIdx=${We(this.tabIdx)}
          ></w3m-connect-walletconnect-widget>`;case"recent":return B`<w3m-connect-recent-widget
            tabIdx=${We(this.tabIdx)}
          ></w3m-connect-recent-widget>`;case"featured":return B`<w3m-connect-featured-widget
            .wallets=${a}
            tabIdx=${We(this.tabIdx)}
          ></w3m-connect-featured-widget>`;case"custom":return B`<w3m-connect-custom-widget
            tabIdx=${We(this.tabIdx)}
          ></w3m-connect-custom-widget>`;case"external":return B`<w3m-connect-external-widget
            tabIdx=${We(this.tabIdx)}
          ></w3m-connect-external-widget>`;case"recommended":return B`<w3m-connect-recommended-widget
            .wallets=${o}
            tabIdx=${We(this.tabIdx)}
          ></w3m-connect-recommended-widget>`;default:return console.warn(`Unknown connector type: ${f}`),null}})}};Eg.styles=OSe;hx([Z()],Eg.prototype,"tabIdx",void 0);hx([fe()],Eg.prototype,"connectors",void 0);hx([fe()],Eg.prototype,"recommended",void 0);hx([fe()],Eg.prototype,"featured",void 0);Eg=hx([Ae("w3m-connector-list")],Eg);var LG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let hP=class extends _e{constructor(){super(...arguments),this.tabIdx=void 0}render(){return B`
      <wui-flex flexDirection="column" gap="xs">
        <w3m-connector-list tabIdx=${We(this.tabIdx)}></w3m-connector-list>
        <w3m-all-wallets-widget tabIdx=${We(this.tabIdx)}></w3m-all-wallets-widget>
      </wui-flex>
    `}};LG([Z()],hP.prototype,"tabIdx",void 0);hP=LG([Ae("w3m-wallet-login-list")],hP);const $Se=He`
  :host {
    --connect-scroll--top-opacity: 0;
    --connect-scroll--bottom-opacity: 0;
    --connect-mask-image: none;
  }

  .connect {
    max-height: clamp(360px, 470px, 80vh);
    scrollbar-width: none;
    overflow-y: scroll;
    overflow-x: hidden;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    mask-image: var(--connect-mask-image);
  }

  .guide {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  .connect::-webkit-scrollbar {
    display: none;
  }

  .all-wallets {
    flex-flow: column;
  }

  .connect.disabled,
  .guide.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }

  wui-separator {
    margin: var(--wui-spacing-s) calc(var(--wui-spacing-s) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`;var Ac=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const DSe=470;let co=class extends _e{constructor(){var e,n;super(),this.unsubscribe=[],this.connectors=pe.state.connectors,this.authConnector=this.connectors.find(r=>r.type==="AUTH"),this.features=ce.state.features,this.remoteFeatures=ce.state.remoteFeatures,this.enableWallets=ce.state.enableWallets,this.noAdapters=F.state.noAdapters,this.walletGuide="get-started",this.checked=Gm.state.isLegalCheckboxChecked,this.isEmailEnabled=((e=this.remoteFeatures)==null?void 0:e.email)&&!F.state.noAdapters,this.isSocialEnabled=((n=this.remoteFeatures)==null?void 0:n.socials)&&this.remoteFeatures.socials.length>0&&!F.state.noAdapters,this.isAuthEnabled=this.checkIfAuthEnabled(this.connectors),this.unsubscribe.push(pe.subscribeKey("connectors",r=>{this.connectors=r,this.authConnector=this.connectors.find(i=>i.type==="AUTH"),this.isAuthEnabled=this.checkIfAuthEnabled(this.connectors)}),ce.subscribeKey("features",r=>{this.features=r}),ce.subscribeKey("remoteFeatures",r=>{this.remoteFeatures=r,this.setEmailAndSocialEnableCheck(this.noAdapters,this.remoteFeatures)}),ce.subscribeKey("enableWallets",r=>this.enableWallets=r),F.subscribeKey("noAdapters",r=>this.setEmailAndSocialEnableCheck(r,this.remoteFeatures)),Gm.subscribeKey("isLegalCheckboxChecked",r=>this.checked=r))}disconnectedCallback(){var n,r;this.unsubscribe.forEach(i=>i()),(n=this.resizeObserver)==null||n.disconnect();const e=(r=this.shadowRoot)==null?void 0:r.querySelector(".connect");e==null||e.removeEventListener("scroll",this.handleConnectListScroll.bind(this))}firstUpdated(){var n,r;const e=(n=this.shadowRoot)==null?void 0:n.querySelector(".connect");e&&(requestAnimationFrame(this.handleConnectListScroll.bind(this)),e==null||e.addEventListener("scroll",this.handleConnectListScroll.bind(this)),this.resizeObserver=new ResizeObserver(()=>{this.handleConnectListScroll()}),(r=this.resizeObserver)==null||r.observe(e),this.handleConnectListScroll())}render(){var p;const{termsConditionsUrl:e,privacyPolicyUrl:n}=ce.state,r=(p=ce.state.features)==null?void 0:p.legalCheckbox,o=!!(e||n)&&!!r&&this.walletGuide==="get-started"&&!this.checked,a={connect:!0,disabled:o},c=ce.state.enableWalletGuide,u=this.enableWallets,f=this.isSocialEnabled||this.authConnector,h=o?-1:void 0;return B`
      <wui-flex flexDirection="column">
        ${this.legalCheckboxTemplate()}
        <wui-flex
          data-testid="w3m-connect-scroll-view"
          flexDirection="column"
          class=${T2(a)}
        >
          <wui-flex
            class="connect-methods"
            flexDirection="column"
            gap="s"
            .padding=${f&&u&&c&&this.walletGuide==="get-started"?["3xs","s","0","s"]:["3xs","s","s","s"]}
          >
            ${this.renderConnectMethod(h)}
          </wui-flex>
        </wui-flex>
        ${this.guideTemplate(o)}
        <w3m-legal-footer></w3m-legal-footer>
      </wui-flex>
    `}setEmailAndSocialEnableCheck(e,n){this.isEmailEnabled=(n==null?void 0:n.email)&&!e,this.isSocialEnabled=(n==null?void 0:n.socials)&&n.socials.length>0&&!e,this.remoteFeatures=n,this.noAdapters=e}checkIfAuthEnabled(e){const n=e.filter(i=>i.type===_r.CONNECTOR_TYPE_AUTH).map(i=>i.chain);return oe.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(i=>n.includes(i))}renderConnectMethod(e){const n=Su.getConnectOrderMethod(this.features,this.connectors);return B`${n.map((r,i)=>{switch(r){case"email":return B`${this.emailTemplate(e)} ${this.separatorTemplate(i,"email")}`;case"social":return B`${this.socialListTemplate(e)}
          ${this.separatorTemplate(i,"social")}`;case"wallet":return B`${this.walletListTemplate(e)}
          ${this.separatorTemplate(i,"wallet")}`;default:return null}})}`}checkMethodEnabled(e){switch(e){case"wallet":return this.enableWallets;case"social":return this.isSocialEnabled&&this.isAuthEnabled;case"email":return this.isEmailEnabled&&this.isAuthEnabled;default:return null}}checkIsThereNextMethod(e){const r=Su.getConnectOrderMethod(this.features,this.connectors)[e+1];return r?this.checkMethodEnabled(r)?r:this.checkIsThereNextMethod(e+1):void 0}separatorTemplate(e,n){const r=this.checkIsThereNextMethod(e),i=this.walletGuide==="explore";switch(n){case"wallet":return this.enableWallets&&r&&!i?B`<wui-separator data-testid="wui-separator" text="or"></wui-separator>`:null;case"email":{const s=r==="social";return this.isAuthEnabled&&this.isEmailEnabled&&!s&&r?B`<wui-separator
              data-testid="w3m-email-login-or-separator"
              text="or"
            ></wui-separator>`:null}case"social":{const s=r==="email";return this.isAuthEnabled&&this.isSocialEnabled&&!s&&r?B`<wui-separator data-testid="wui-separator" text="or"></wui-separator>`:null}default:return null}}emailTemplate(e){return!this.isEmailEnabled||!this.isAuthEnabled?null:B`<w3m-email-login-widget
      walletGuide=${this.walletGuide}
      tabIdx=${We(e)}
    ></w3m-email-login-widget>`}socialListTemplate(e){return!this.isSocialEnabled||!this.isAuthEnabled?null:B`<w3m-social-login-widget
      walletGuide=${this.walletGuide}
      tabIdx=${We(e)}
    ></w3m-social-login-widget>`}walletListTemplate(e){var a,c;const n=this.enableWallets,r=((a=this.features)==null?void 0:a.emailShowWallets)===!1,i=(c=this.features)==null?void 0:c.collapseWallets,s=r||i;return!n||(be.isTelegram()&&(be.isSafari()||be.isIos())&&Ce.connectWalletConnect().catch(u=>({})),this.walletGuide==="explore")?null:this.isAuthEnabled&&(this.isEmailEnabled||this.isSocialEnabled)&&s?B`<wui-list-button
        data-testid="w3m-collapse-wallets-button"
        tabIdx=${We(e)}
        @click=${this.onContinueWalletClick.bind(this)}
        text="Continue with a wallet"
      ></wui-list-button>`:B`<w3m-wallet-login-list tabIdx=${We(e)}></w3m-wallet-login-list>`}guideTemplate(e=!1){if(!ce.state.enableWalletGuide)return null;const r={guide:!0,disabled:e},i=e?-1:void 0;return!this.authConnector&&!this.isSocialEnabled?null:B`
      ${this.walletGuide==="explore"&&!F.state.noAdapters?B`<wui-separator data-testid="wui-separator" id="explore" text="or"></wui-separator>`:null}
      <w3m-wallet-guide
        class=${T2(r)}
        tabIdx=${We(i)}
        walletGuide=${this.walletGuide}
      ></w3m-wallet-guide>
    `}legalCheckboxTemplate(){return this.walletGuide==="explore"?null:B`<w3m-legal-checkbox data-testid="w3m-legal-checkbox"></w3m-legal-checkbox>`}handleConnectListScroll(){var r;const e=(r=this.shadowRoot)==null?void 0:r.querySelector(".connect");if(!e)return;e.scrollHeight>DSe?(e.style.setProperty("--connect-mask-image",`linear-gradient(
          to bottom,
          rgba(0, 0, 0, calc(1 - var(--connect-scroll--top-opacity))) 0px,
          rgba(200, 200, 200, calc(1 - var(--connect-scroll--top-opacity))) 1px,
          black 40px,
          black calc(100% - 40px),
          rgba(155, 155, 155, calc(1 - var(--connect-scroll--bottom-opacity))) calc(100% - 1px),
          rgba(0, 0, 0, calc(1 - var(--connect-scroll--bottom-opacity))) 100%
        )`),e.style.setProperty("--connect-scroll--top-opacity",B3.interpolate([0,50],[0,1],e.scrollTop).toString()),e.style.setProperty("--connect-scroll--bottom-opacity",B3.interpolate([0,50],[0,1],e.scrollHeight-e.scrollTop-e.offsetHeight).toString())):(e.style.setProperty("--connect-mask-image","none"),e.style.setProperty("--connect-scroll--top-opacity","0"),e.style.setProperty("--connect-scroll--bottom-opacity","0"))}onContinueWalletClick(){Ee.push("ConnectWallets")}};co.styles=$Se;Ac([fe()],co.prototype,"connectors",void 0);Ac([fe()],co.prototype,"authConnector",void 0);Ac([fe()],co.prototype,"features",void 0);Ac([fe()],co.prototype,"remoteFeatures",void 0);Ac([fe()],co.prototype,"enableWallets",void 0);Ac([fe()],co.prototype,"noAdapters",void 0);Ac([Z()],co.prototype,"walletGuide",void 0);Ac([fe()],co.prototype,"checked",void 0);Ac([fe()],co.prototype,"isEmailEnabled",void 0);Ac([fe()],co.prototype,"isSocialEnabled",void 0);Ac([fe()],co.prototype,"isAuthEnabled",void 0);co=Ac([Ae("w3m-connect-view")],co);const LSe=He`
  :host {
    display: block;
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  svg {
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  rect {
    fill: none;
    stroke: var(--wui-color-accent-100);
    stroke-width: 4px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var MG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let a5=class extends _e{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const e=this.radius>50?50:this.radius,r=36-e,i=116+r,s=245+r,o=360+r*1.75;return B`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${e}
          stroke-dasharray="${i} ${s}"
          stroke-dashoffset=${o}
        />
      </svg>
    `}};a5.styles=[Ut,LSe];MG([Z({type:Number})],a5.prototype,"radius",void 0);a5=MG([Ae("wui-loading-thumbnail")],a5);const MSe=He`
  button {
    border: none;
    border-radius: var(--wui-border-radius-3xl);
  }

  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='gray'] {
    background-color: transparent;
    color: var(--wui-color-fg-200);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='shade'] {
    background-color: transparent;
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-size='sm'] {
    height: 32px;
    padding: 0 var(--wui-spacing-s);
  }

  button[data-size='md'] {
    height: 40px;
    padding: 0 var(--wui-spacing-l);
  }

  button[data-size='sm'] > wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='md'] > wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] > wui-icon {
    width: 14px;
    height: 14px;
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
    overflow: hidden;
  }

  button.disabled > wui-icon,
  button.disabled > wui-image {
    filter: grayscale(1);
  }

  button[data-variant='main'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);
  }

  button[data-variant='shade'] > wui-image,
  button[data-variant='gray'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:focus-visible {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='shade']:focus-visible,
    button[data-variant='gray']:focus-visible,
    button[data-variant='shade']:hover,
    button[data-variant='gray']:hover {
      background-color: var(--wui-color-gray-glass-002);
    }

    button[data-variant='gray']:active,
    button[data-variant='shade']:active {
      background-color: var(--wui-color-gray-glass-005);
    }
  }

  button.disabled {
    color: var(--wui-color-gray-glass-020);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    pointer-events: none;
  }
`;var Gg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Jd=class extends _e{constructor(){super(...arguments),this.variant="accent",this.imageSrc="",this.disabled=!1,this.icon="externalLink",this.size="md",this.text=""}render(){const e=this.size==="sm"?"small-600":"paragraph-600";return B`
      <button
        class=${this.disabled?"disabled":""}
        data-variant=${this.variant}
        data-size=${this.size}
        ?disabled=${this.disabled}
      >
        ${this.imageSrc?B`<wui-image src=${this.imageSrc}></wui-image>`:null}
        <wui-text variant=${e} color="inherit"> ${this.text} </wui-text>
        ${this.icon?B`<wui-icon name=${this.icon} color="inherit" size="inherit"></wui-icon>`:null}
      </button>
    `}};Jd.styles=[Ut,Un,MSe];Gg([Z()],Jd.prototype,"variant",void 0);Gg([Z()],Jd.prototype,"imageSrc",void 0);Gg([Z({type:Boolean})],Jd.prototype,"disabled",void 0);Gg([Z()],Jd.prototype,"icon",void 0);Gg([Z()],Jd.prototype,"size",void 0);Gg([Z()],Jd.prototype,"text",void 0);Jd=Gg([Ae("wui-chip-button")],Jd);const BSe=He`
  wui-flex {
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }
`;var FS=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Zw=class extends _e{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return B`
      <wui-flex
        justifyContent="space-between"
        alignItems="center"
        .padding=${["1xs","2l","1xs","2l"]}
      >
        <wui-text variant="paragraph-500" color="fg-200">${this.label}</wui-text>
        <wui-chip-button size="sm" variant="shade" text=${this.buttonLabel} icon="chevronRight">
        </wui-chip-button>
      </wui-flex>
    `}};Zw.styles=[Ut,Un,BSe];FS([Z({type:Boolean})],Zw.prototype,"disabled",void 0);FS([Z()],Zw.prototype,"label",void 0);FS([Z()],Zw.prototype,"buttonLabel",void 0);Zw=FS([Ae("wui-cta-button")],Zw);const USe=He`
  :host {
    display: block;
    padding: 0 var(--wui-spacing-xl) var(--wui-spacing-xl);
  }
`;var BG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let c5=class extends _e{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:e,app_store:n,play_store:r,chrome_store:i,homepage:s}=this.wallet,o=be.isMobile(),a=be.isIos(),c=be.isAndroid(),u=[n,r,s,i].filter(Boolean).length>1,f=$r.getTruncateString({string:e,charsStart:12,charsEnd:0,truncate:"end"});return u&&!o?B`
        <wui-cta-button
          label=${`Don't have ${f}?`}
          buttonLabel="Get"
          @click=${()=>Ee.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!u&&s?B`
        <wui-cta-button
          label=${`Don't have ${f}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:n&&a?B`
        <wui-cta-button
          label=${`Don't have ${f}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:r&&c?B`
        <wui-cta-button
          label=${`Don't have ${f}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){var e;(e=this.wallet)!=null&&e.app_store&&be.openHref(this.wallet.app_store,"_blank")}onPlayStore(){var e;(e=this.wallet)!=null&&e.play_store&&be.openHref(this.wallet.play_store,"_blank")}onHomePage(){var e;(e=this.wallet)!=null&&e.homepage&&be.openHref(this.wallet.homepage,"_blank")}};c5.styles=[USe];BG([Z({type:Object})],c5.prototype,"wallet",void 0);c5=BG([Ae("w3m-mobile-download-links")],c5);const FSe=He`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: var(--wui-duration-lg);
    transition-timing-function: var(--wui-ease-out-power-2);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }
`;var Sl=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class Zi extends _e{constructor(){var e,n,r,i,s;super(),this.wallet=(e=Ee.state.data)==null?void 0:e.wallet,this.connector=(n=Ee.state.data)==null?void 0:n.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=$n.getWalletImage(this.wallet)??$n.getConnectorImage(this.connector),this.name=((r=this.wallet)==null?void 0:r.name)??((i=this.connector)==null?void 0:i.name)??"Wallet",this.isRetrying=!1,this.uri=Ce.state.wcUri,this.error=Ce.state.wcError,this.ready=!1,this.showRetry=!1,this.label=void 0,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(Ce.subscribeKey("wcUri",o=>{var a;this.uri=o,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,(a=this.onConnect)==null||a.call(this))}),Ce.subscribeKey("wcError",o=>this.error=o)),(be.isTelegram()||be.isSafari())&&be.isIos()&&Ce.state.wcUri&&((s=this.onConnect)==null||s.call(this))}firstUpdated(){var e;(e=this.onAutoConnect)==null||e.call(this),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),Ce.setWcError(!1),clearTimeout(this.timeout)}render(){var r;(r=this.onRender)==null||r.call(this),this.onShowRetry();const e=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let n="";return this.label?n=this.label:(n=`Continue in ${this.name}`,this.error&&(n="Connection declined")),B`
      <wui-flex
        data-error=${We(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${We(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text
            align="center"
            variant="paragraph-500"
            color=${this.error?"error-100":"fg-100"}
          >
            ${n}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${e}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?B`
              <wui-button
                variant="accent"
                size="md"
                ?disabled=${this.isRetrying||this.isLoading}
                @click=${this.onTryAgain.bind(this)}
                data-testid="w3m-connecting-widget-secondary-button"
              >
                <wui-icon color="inherit" slot="iconLeft" name=${this.secondaryBtnIcon}></wui-icon>
                ${this.secondaryBtnLabel}
              </wui-button>
            `:null}
      </wui-flex>

      ${this.isWalletConnect?B`
            <wui-flex .padding=${["0","xl","xl","xl"]} justifyContent="center">
              <wui-link @click=${this.onCopyUri} color="fg-200" data-testid="wui-link-copy">
                <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
                Copy link
              </wui-link>
            </wui-flex>
          `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onShowRetry(){var e;if(this.error&&!this.showRetry){this.showRetry=!0;const n=(e=this.shadowRoot)==null?void 0:e.querySelector("wui-button");n==null||n.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"})}}onTryAgain(){var e,n;Ce.setWcError(!1),this.onRetry?(this.isRetrying=!0,(e=this.onRetry)==null||e.call(this)):(n=this.onConnect)==null||n.call(this)}loaderTemplate(){const e=cs.state.themeVariables["--w3m-border-radius-master"],n=e?parseInt(e.replace("px",""),10):4;return B`<wui-loading-thumbnail radius=${n*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(be.copyToClopboard(this.uri),Tn.showSuccess("Link copied"))}catch{Tn.showError("Failed to copy")}}}Zi.styles=FSe;Sl([fe()],Zi.prototype,"isRetrying",void 0);Sl([fe()],Zi.prototype,"uri",void 0);Sl([fe()],Zi.prototype,"error",void 0);Sl([fe()],Zi.prototype,"ready",void 0);Sl([fe()],Zi.prototype,"showRetry",void 0);Sl([fe()],Zi.prototype,"label",void 0);Sl([fe()],Zi.prototype,"secondaryBtnLabel",void 0);Sl([fe()],Zi.prototype,"secondaryLabel",void 0);Sl([fe()],Zi.prototype,"isLoading",void 0);Sl([Z({type:Boolean})],Zi.prototype,"isMobile",void 0);Sl([Z()],Zi.prototype,"onRetry",void 0);var jSe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let pP=class extends Zi{constructor(){var n,r,i,s;if(super(),this.externalViewUnsubscribe=[],this.connectionsByNamespace=Ce.getConnections((n=this.connector)==null?void 0:n.chain),this.hasMultipleConnections=this.connectionsByNamespace.length>0,this.remoteFeatures=ce.state.remoteFeatures,this.currentActiveConnectorId=pe.state.activeConnectorIds[(r=this.connector)==null?void 0:r.chain],!this.connector)throw new Error("w3m-connecting-view: No connector provided");const e=(i=this.connector)==null?void 0:i.chain;this.isAlreadyConnected(this.connector)&&(this.secondaryBtnLabel=void 0,this.label=`This account is already linked, change your account in ${this.connector.name}`,this.secondaryLabel=`To link a new account, open ${this.connector.name} and switch to the account you want to link`),At.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.connector.name??"Unknown",platform:"browser",displayIndex:(s=this.wallet)==null?void 0:s.display_index}}),this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),this.isWalletConnect=!1,this.externalViewUnsubscribe.push(pe.subscribeKey("activeConnectorIds",o=>{var u;const a=o[e],c=(u=this.remoteFeatures)==null?void 0:u.multiWallet;a!==this.currentActiveConnectorId&&(this.hasMultipleConnections&&c?(Ee.replace("ProfileWallets"),Tn.showSuccess("New Wallet Added")):Kt.close())}),Ce.subscribeKey("connections",this.onConnectionsChange.bind(this)))}disconnectedCallback(){this.externalViewUnsubscribe.forEach(e=>e())}async onConnectProxy(){try{if(this.error=!1,this.connector){if(this.isAlreadyConnected(this.connector))return;(this.connector.id!==oe.CONNECTOR_ID.COINBASE_SDK||!this.error)&&(await Ce.connectExternal(this.connector,this.connector.chain),At.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:this.connector.name||"Unknown"}}))}}catch(e){At.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(e==null?void 0:e.message)??"Unknown"}}),this.error=!0}}onConnectionsChange(e){var n,r;if((n=this.connector)!=null&&n.chain&&e.get(this.connector.chain)&&this.isAlreadyConnected(this.connector)){const i=e.get(this.connector.chain)??[],s=(r=this.remoteFeatures)==null?void 0:r.multiWallet;if(i.length===0)Ee.replace("Connect");else{const o=cc.getConnectionsByConnectorId(this.connectionsByNamespace,this.connector.id).flatMap(c=>c.accounts),a=cc.getConnectionsByConnectorId(i,this.connector.id).flatMap(c=>c.accounts);a.length===0?this.hasMultipleConnections&&s?(Ee.replace("ProfileWallets"),Tn.showSuccess("Wallet deleted")):Kt.close():!o.every(u=>a.some(f=>ar.isLowerCaseMatch(u.address,f.address)))&&s&&Ee.replace("ProfileWallets")}}}isAlreadyConnected(e){return!!e&&this.connectionsByNamespace.some(n=>ar.isLowerCaseMatch(n.connectorId,e.id))}};pP=jSe([Ae("w3m-connecting-external-view")],pP);const zSe=He`
  wui-flex,
  wui-list-wallet {
    width: 100%;
  }
`;var UG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let z2=class extends _e{constructor(){super(),this.unsubscribe=[],this.activeConnector=pe.state.activeConnector,this.unsubscribe.push(pe.subscribeKey("activeConnector",e=>this.activeConnector=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){var e;return B`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["m","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image
            size="lg"
            imageSrc=${We($n.getConnectorImage(this.activeConnector))}
          ></wui-wallet-image>
        </wui-flex>
        <wui-flex
          flexDirection="column"
          alignItems="center"
          gap="xs"
          .padding=${["0","s","0","s"]}
        >
          <wui-text variant="paragraph-500" color="fg-100">
            Select Chain for ${(e=this.activeConnector)==null?void 0:e.name}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200"
            >Select which chain to connect to your multi chain wallet</wui-text
          >
        </wui-flex>
        <wui-flex
          flexGrow="1"
          flexDirection="column"
          alignItems="center"
          gap="xs"
          .padding=${["xs","0","xs","0"]}
        >
          ${this.networksTemplate()}
        </wui-flex>
      </wui-flex>
    `}networksTemplate(){var e,n;return(n=(e=this.activeConnector)==null?void 0:e.connectors)==null?void 0:n.map(r=>r.name?B`
            <wui-list-wallet
              imageSrc=${We($n.getChainImage(r.chain))}
              name=${oe.CHAIN_NAME_MAP[r.chain]}
              @click=${()=>this.onConnector(r)}
              data-testid="wui-list-chain-${r.chain}"
            ></wui-list-wallet>
          `:null)}onConnector(e){var r,i;const n=(i=(r=this.activeConnector)==null?void 0:r.connectors)==null?void 0:i.find(s=>s.chain===e.chain);if(!n){Tn.showError("Failed to find connector");return}n.id==="walletConnect"?be.isMobile()?Ee.push("AllWallets"):Ee.push("ConnectingWalletConnect"):Ee.push("ConnectingExternal",{connector:n})}};z2.styles=zSe;UG([fe()],z2.prototype,"activeConnector",void 0);z2=UG([Ae("w3m-connecting-multi-chain-view")],z2);var _8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let l5=class extends _e{constructor(){super(...arguments),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.generateTabs();return B`
      <wui-flex justifyContent="center" .padding=${["0","0","l","0"]}>
        <wui-tabs .tabs=${e} .onTabChange=${this.onTabChange.bind(this)}></wui-tabs>
      </wui-flex>
    `}generateTabs(){const e=this.platforms.map(n=>n==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:n==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:n==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:n==="web"?{label:"Webapp",icon:"browser",platform:"web"}:n==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=e.map(({platform:n})=>n),e}onTabChange(e){var r;const n=this.platformTabs[e];n&&((r=this.onSelectPlatfrom)==null||r.call(this,n))}};_8([Z({type:Array})],l5.prototype,"platforms",void 0);_8([Z()],l5.prototype,"onSelectPlatfrom",void 0);l5=_8([Ae("w3m-connecting-header")],l5);var WSe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let SB=class extends Zi{constructor(){var e;if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),At.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:(e=this.wallet)==null?void 0:e.display_index}})}async onConnectProxy(){var e;try{this.error=!1;const{connectors:n}=pe.state,r=n.find(i=>{var s,o,a;return i.type==="ANNOUNCED"&&((s=i.info)==null?void 0:s.rdns)===((o=this.wallet)==null?void 0:o.rdns)||i.type==="INJECTED"||i.name===((a=this.wallet)==null?void 0:a.name)});if(r)await Ce.connectExternal(r,r.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");Kt.close(),At.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:((e=this.wallet)==null?void 0:e.name)||"Unknown"}})}catch(n){At.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(n==null?void 0:n.message)??"Unknown"}}),this.error=!0}}};SB=WSe([Ae("w3m-connecting-wc-browser")],SB);var HSe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let _B=class extends Zi{constructor(){var e;if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),At.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop",displayIndex:(e=this.wallet)==null?void 0:e.display_index}})}onRenderProxy(){var e;!this.ready&&this.uri&&(this.ready=!0,(e=this.onConnect)==null||e.call(this))}onConnectProxy(){var e;if((e=this.wallet)!=null&&e.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:n,name:r}=this.wallet,{redirect:i,href:s}=be.formatNativeUrl(n,this.uri);Ce.setWcLinking({name:r,href:s}),Ce.setRecentWallet(this.wallet),be.openHref(i,"_blank")}catch{this.error=!0}}};_B=HSe([Ae("w3m-connecting-wc-desktop")],_B);var Rb=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ag=class extends Zi{constructor(){var e;if(super(),this.btnLabelTimeout=void 0,this.redirectDeeplink=void 0,this.redirectUniversalLink=void 0,this.target=void 0,this.preferUniversalLinks=ce.state.experimental_preferUniversalLinks,this.isLoading=!0,this.onConnect=()=>{var n;if((n=this.wallet)!=null&&n.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:r,link_mode:i,name:s}=this.wallet,{redirect:o,redirectUniversalLink:a,href:c}=be.formatNativeUrl(r,this.uri,i);this.redirectDeeplink=o,this.redirectUniversalLink=a,this.target=be.isIframe()?"_top":"_self",Ce.setWcLinking({name:s,href:c}),Ce.setRecentWallet(this.wallet),this.preferUniversalLinks&&this.redirectUniversalLink?be.openHref(this.redirectUniversalLink,this.target):be.openHref(this.redirectDeeplink,this.target)}catch(r){At.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:r instanceof Error?r.message:"Error parsing the deeplink",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.secondaryBtnLabel="Open",this.secondaryLabel=rn.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.onHandleURI(),this.unsubscribe.push(Ce.subscribeKey("wcUri",()=>{this.onHandleURI()})),At.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile",displayIndex:(e=this.wallet)==null?void 0:e.display_index}})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.btnLabelTimeout)}onHandleURI(){var e;this.isLoading=!this.uri,!this.ready&&this.uri&&(this.ready=!0,(e=this.onConnect)==null||e.call(this))}onTryAgain(){var e;Ce.setWcError(!1),(e=this.onConnect)==null||e.call(this)}};Rb([fe()],Ag.prototype,"redirectDeeplink",void 0);Rb([fe()],Ag.prototype,"redirectUniversalLink",void 0);Rb([fe()],Ag.prototype,"target",void 0);Rb([fe()],Ag.prototype,"preferUniversalLinks",void 0);Rb([fe()],Ag.prototype,"isLoading",void 0);Ag=Rb([Ae("w3m-connecting-wc-mobile")],Ag);var J0={},hI,TB;function VSe(){return TB||(TB=1,hI=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),hI}var pI={},qf={},IB;function Kg(){if(IB)return qf;IB=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return qf.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},qf.getSymbolTotalCodewords=function(r){return e[r]},qf.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},qf.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},qf.isKanjiModeEnabled=function(){return typeof t<"u"},qf.toSJIS=function(r){return t(r)},qf}var mI={},NB;function T8(){return NB||(NB=1,function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}}(mI)),mI}var gI,PB;function qSe(){if(PB)return gI;PB=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},gI=t,gI}var yI,kB;function GSe(){if(kB)return yI;kB=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},yI=t,yI}var wI={},RB;function KSe(){return RB||(RB=1,function(t){const e=Kg().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}}(wI)),wI}var bI={},OB;function YSe(){if(OB)return bI;OB=1;const t=Kg().getSymbolSize,e=7;return bI.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},bI}var vI={},$B;function QSe(){return $B||($B=1,function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,u=null,f=null;for(let h=0;h<s;h++){a=c=0,u=f=null;for(let p=0;p<s;p++){let g=i.get(h,p);g===u?a++:(a>=5&&(o+=e.N1+(a-5)),u=g,a=1),g=i.get(p,h),g===f?c++:(c>=5&&(o+=e.N1+(c-5)),f=g,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const u=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let u=0;u<s;u++){a=c=0;for(let f=0;f<s;f++)a=a<<1&2047|i.get(u,f),f>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(f,u),f>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,n(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let u=0;u<o;u++){s(u),t.applyMask(u,i);const f=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),f<c&&(c=f,a=u)}return a}}(vI)),vI}var sA={},DB;function FG(){if(DB)return sA;DB=1;const t=T8(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return sA.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},sA.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},sA}var CI={},jv={},LB;function ZSe(){if(LB)return jv;LB=1;const t=new Uint8Array(512),e=new Uint8Array(256);return function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]}(),jv.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},jv.exp=function(r){return t[r]},jv.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},jv}var MB;function JSe(){return MB||(MB=1,function(t){const e=ZSe();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}}(CI)),CI}var xI,BB;function XSe(){if(BB)return xI;BB=1;const t=JSe();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},xI=e,xI}var EI={},AI={},SI={},UB;function jG(){return UB||(UB=1,SI.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),SI}var zl={},FB;function zG(){if(FB)return zl;FB=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;zl.KANJI=new RegExp(n,"g"),zl.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),zl.BYTE=new RegExp(r,"g"),zl.NUMERIC=new RegExp(t,"g"),zl.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return zl.testKanji=function(c){return i.test(c)},zl.testNumeric=function(c){return s.test(c)},zl.testAlphanumeric=function(c){return o.test(c)},zl}var jB;function Yg(){return jB||(jB=1,function(t){const e=jG(),n=zG();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}}(AI)),AI}var zB;function e_e(){return zB||(zB=1,function(t){const e=Kg(),n=FG(),r=T8(),i=Yg(),s=jG(),o=7973,a=e.getBCHDigit(o);function c(p,g,w){for(let y=1;y<=40;y++)if(g<=t.getCapacity(y,w,p))return y}function u(p,g){return i.getCharCountIndicator(p,g)+4}function f(p,g){let w=0;return p.forEach(function(y){const b=u(y.mode,g);w+=b+y.getBitsLength()}),w}function h(p,g){for(let w=1;w<=40;w++)if(f(p,w)<=t.getCapacity(w,g,i.MIXED))return w}t.from=function(g,w){return s.isValid(g)?parseInt(g,10):w},t.getCapacity=function(g,w,y){if(!s.isValid(g))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);const b=e.getSymbolTotalCodewords(g),C=n.getTotalCodewordsCount(g,w),x=(b-C)*8;if(y===i.MIXED)return x;const E=x-u(y,g);switch(y){case i.NUMERIC:return Math.floor(E/10*3);case i.ALPHANUMERIC:return Math.floor(E/11*2);case i.KANJI:return Math.floor(E/13);case i.BYTE:default:return Math.floor(E/8)}},t.getBestVersionForData=function(g,w){let y;const b=r.from(w,r.M);if(Array.isArray(g)){if(g.length>1)return h(g,b);if(g.length===0)return 1;y=g[0]}else y=g;return c(y.mode,y.getLength(),b)},t.getEncodedBits=function(g){if(!s.isValid(g)||g<7)throw new Error("Invalid QR Code version");let w=g<<12;for(;e.getBCHDigit(w)-a>=0;)w^=o<<e.getBCHDigit(w)-a;return g<<12|w}}(EI)),EI}var _I={},WB;function t_e(){if(WB)return _I;WB=1;const t=Kg(),e=1335,n=21522,r=t.getBCHDigit(e);return _I.getEncodedBits=function(s,o){const a=s.bit<<3|o;let c=a<<10;for(;t.getBCHDigit(c)-r>=0;)c^=e<<t.getBCHDigit(c)-r;return(a<<10|c)^n},_I}var TI={},II,HB;function n_e(){if(HB)return II;HB=1;const t=Yg();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),r.put(o,10);const a=this.data.length-i;a>0&&(s=this.data.substr(i),o=parseInt(s,10),r.put(o,a*3+1))},II=e,II}var NI,VB;function r_e(){if(VB)return NI;VB=1;const t=Yg(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},NI=n,NI}var PI,qB;function i_e(){return qB||(qB=1,PI=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer}),PI}var kI,GB;function s_e(){if(GB)return kI;GB=1;const t=i_e(),e=Yg();function n(r){this.mode=e.BYTE,typeof r=="string"&&(r=t(r)),this.data=new Uint8Array(r)}return n.getBitsLength=function(i){return i*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){for(let i=0,s=this.data.length;i<s;i++)r.put(this.data[i],8)},kI=n,kI}var RI,KB;function o_e(){if(KB)return RI;KB=1;const t=Yg(),e=Kg();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},RI=n,RI}var OI={exports:{}},YB;function a_e(){return YB||(YB=1,function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var c,u,f,h,p,g,w,y,b;!a.empty();){c=a.pop(),u=c.value,h=c.cost,p=n[u]||{};for(f in p)p.hasOwnProperty(f)&&(g=p[f],w=h+g,y=o[f],b=typeof o[f]>"u",(b||y>w)&&(o[f]=w,a.push(f,w),s[f]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var C=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(C)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e}(OI)),OI.exports}var QB;function c_e(){return QB||(QB=1,function(t){const e=Yg(),n=n_e(),r=r_e(),i=s_e(),s=o_e(),o=zG(),a=Kg(),c=a_e();function u(C){return unescape(encodeURIComponent(C)).length}function f(C,x,E){const I=[];let S;for(;(S=C.exec(E))!==null;)I.push({data:S[0],index:S.index,mode:x,length:S[0].length});return I}function h(C){const x=f(o.NUMERIC,e.NUMERIC,C),E=f(o.ALPHANUMERIC,e.ALPHANUMERIC,C);let I,S;return a.isKanjiModeEnabled()?(I=f(o.BYTE,e.BYTE,C),S=f(o.KANJI,e.KANJI,C)):(I=f(o.BYTE_KANJI,e.BYTE,C),S=[]),x.concat(E,I,S).sort(function(R,O){return R.index-O.index}).map(function(R){return{data:R.data,mode:R.mode,length:R.length}})}function p(C,x){switch(x){case e.NUMERIC:return n.getBitsLength(C);case e.ALPHANUMERIC:return r.getBitsLength(C);case e.KANJI:return s.getBitsLength(C);case e.BYTE:return i.getBitsLength(C)}}function g(C){return C.reduce(function(x,E){const I=x.length-1>=0?x[x.length-1]:null;return I&&I.mode===E.mode?(x[x.length-1].data+=E.data,x):(x.push(E),x)},[])}function w(C){const x=[];for(let E=0;E<C.length;E++){const I=C[E];switch(I.mode){case e.NUMERIC:x.push([I,{data:I.data,mode:e.ALPHANUMERIC,length:I.length},{data:I.data,mode:e.BYTE,length:I.length}]);break;case e.ALPHANUMERIC:x.push([I,{data:I.data,mode:e.BYTE,length:I.length}]);break;case e.KANJI:x.push([I,{data:I.data,mode:e.BYTE,length:u(I.data)}]);break;case e.BYTE:x.push([{data:I.data,mode:e.BYTE,length:u(I.data)}])}}return x}function y(C,x){const E={},I={start:{}};let S=["start"];for(let T=0;T<C.length;T++){const R=C[T],O=[];for(let k=0;k<R.length;k++){const M=R[k],L=""+T+k;O.push(L),E[L]={node:M,lastCount:0},I[L]={};for(let j=0;j<S.length;j++){const Q=S[j];E[Q]&&E[Q].node.mode===M.mode?(I[Q][L]=p(E[Q].lastCount+M.length,M.mode)-p(E[Q].lastCount,M.mode),E[Q].lastCount+=M.length):(E[Q]&&(E[Q].lastCount=M.length),I[Q][L]=p(M.length,M.mode)+4+e.getCharCountIndicator(M.mode,x))}}S=O}for(let T=0;T<S.length;T++)I[S[T]].end=0;return{map:I,table:E}}function b(C,x){let E;const I=e.getBestModeForData(C);if(E=e.from(x,I),E!==e.BYTE&&E.bit<I.bit)throw new Error('"'+C+'" cannot be encoded with mode '+e.toString(E)+`.
 Suggested mode is: `+e.toString(I));switch(E===e.KANJI&&!a.isKanjiModeEnabled()&&(E=e.BYTE),E){case e.NUMERIC:return new n(C);case e.ALPHANUMERIC:return new r(C);case e.KANJI:return new s(C);case e.BYTE:return new i(C)}}t.fromArray=function(x){return x.reduce(function(E,I){return typeof I=="string"?E.push(b(I,null)):I.data&&E.push(b(I.data,I.mode)),E},[])},t.fromString=function(x,E){const I=h(x,a.isKanjiModeEnabled()),S=w(I),T=y(S,E),R=c.find_path(T.map,"start","end"),O=[];for(let k=1;k<R.length-1;k++)O.push(T.table[R[k]].node);return t.fromArray(g(O))},t.rawSplit=function(x){return t.fromArray(h(x,a.isKanjiModeEnabled()))}}(TI)),TI}var ZB;function l_e(){if(ZB)return pI;ZB=1;const t=Kg(),e=T8(),n=qSe(),r=GSe(),i=KSe(),s=YSe(),o=QSe(),a=FG(),c=XSe(),u=e_e(),f=t_e(),h=Yg(),p=c_e();function g(T,R){const O=T.size,k=s.getPositions(R);for(let M=0;M<k.length;M++){const L=k[M][0],j=k[M][1];for(let Q=-1;Q<=7;Q++)if(!(L+Q<=-1||O<=L+Q))for(let J=-1;J<=7;J++)j+J<=-1||O<=j+J||(Q>=0&&Q<=6&&(J===0||J===6)||J>=0&&J<=6&&(Q===0||Q===6)||Q>=2&&Q<=4&&J>=2&&J<=4?T.set(L+Q,j+J,!0,!0):T.set(L+Q,j+J,!1,!0))}}function w(T){const R=T.size;for(let O=8;O<R-8;O++){const k=O%2===0;T.set(O,6,k,!0),T.set(6,O,k,!0)}}function y(T,R){const O=i.getPositions(R);for(let k=0;k<O.length;k++){const M=O[k][0],L=O[k][1];for(let j=-2;j<=2;j++)for(let Q=-2;Q<=2;Q++)j===-2||j===2||Q===-2||Q===2||j===0&&Q===0?T.set(M+j,L+Q,!0,!0):T.set(M+j,L+Q,!1,!0)}}function b(T,R){const O=T.size,k=u.getEncodedBits(R);let M,L,j;for(let Q=0;Q<18;Q++)M=Math.floor(Q/3),L=Q%3+O-8-3,j=(k>>Q&1)===1,T.set(M,L,j,!0),T.set(L,M,j,!0)}function C(T,R,O){const k=T.size,M=f.getEncodedBits(R,O);let L,j;for(L=0;L<15;L++)j=(M>>L&1)===1,L<6?T.set(L,8,j,!0):L<8?T.set(L+1,8,j,!0):T.set(k-15+L,8,j,!0),L<8?T.set(8,k-L-1,j,!0):L<9?T.set(8,15-L-1+1,j,!0):T.set(8,15-L-1,j,!0);T.set(k-8,8,1,!0)}function x(T,R){const O=T.size;let k=-1,M=O-1,L=7,j=0;for(let Q=O-1;Q>0;Q-=2)for(Q===6&&Q--;;){for(let J=0;J<2;J++)if(!T.isReserved(M,Q-J)){let $=!1;j<R.length&&($=(R[j]>>>L&1)===1),T.set(M,Q-J,$),L--,L===-1&&(j++,L=7)}if(M+=k,M<0||O<=M){M-=k,k=-k;break}}}function E(T,R,O){const k=new n;O.forEach(function(J){k.put(J.mode.bit,4),k.put(J.getLength(),h.getCharCountIndicator(J.mode,T)),J.write(k)});const M=t.getSymbolTotalCodewords(T),L=a.getTotalCodewordsCount(T,R),j=(M-L)*8;for(k.getLengthInBits()+4<=j&&k.put(0,4);k.getLengthInBits()%8!==0;)k.putBit(0);const Q=(j-k.getLengthInBits())/8;for(let J=0;J<Q;J++)k.put(J%2?17:236,8);return I(k,T,R)}function I(T,R,O){const k=t.getSymbolTotalCodewords(R),M=a.getTotalCodewordsCount(R,O),L=k-M,j=a.getBlocksCount(R,O),Q=k%j,J=j-Q,$=Math.floor(k/j),D=Math.floor(L/j),H=D+1,z=$-D,Y=new c(z);let K=0;const q=new Array(j),V=new Array(j);let ue=0;const le=new Uint8Array(T.buffer);for(let ke=0;ke<j;ke++){const it=ke<J?D:H;q[ke]=le.slice(K,K+it),V[ke]=Y.encode(q[ke]),K+=it,ue=Math.max(ue,it)}const ge=new Uint8Array(k);let ve=0,Pe,Ie;for(Pe=0;Pe<ue;Pe++)for(Ie=0;Ie<j;Ie++)Pe<q[Ie].length&&(ge[ve++]=q[Ie][Pe]);for(Pe=0;Pe<z;Pe++)for(Ie=0;Ie<j;Ie++)ge[ve++]=V[Ie][Pe];return ge}function S(T,R,O,k){let M;if(Array.isArray(T))M=p.fromArray(T);else if(typeof T=="string"){let $=R;if(!$){const D=p.rawSplit(T);$=u.getBestVersionForData(D,O)}M=p.fromString(T,$||40)}else throw new Error("Invalid data");const L=u.getBestVersionForData(M,O);if(!L)throw new Error("The amount of data is too big to be stored in a QR Code");if(!R)R=L;else if(R<L)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+L+`.
`);const j=E(R,O,M),Q=t.getSymbolSize(R),J=new r(Q);return g(J,R),w(J),y(J,R),C(J,O,0),R>=7&&b(J,R),x(J,j),isNaN(k)&&(k=o.getBestMask(J,C.bind(null,J,O))),o.applyMask(k,J),C(J,O,k),{modules:J,version:R,errorCorrectionLevel:O,maskPattern:k,segments:M}}return pI.create=function(R,O){if(typeof R>"u"||R==="")throw new Error("No input text");let k=e.M,M,L;return typeof O<"u"&&(k=e.from(O.errorCorrectionLevel,e.M),M=u.from(O.version),L=o.from(O.maskPattern),O.toSJISFunc&&t.setToSJISFunction(O.toSJISFunc)),S(R,M,k,L)},pI}var $I={},DI={},JB;function WG(){return JB||(JB=1,function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),u=Math.floor((o+s.margin*2)*c),f=s.margin*c,h=[s.color.light,s.color.dark];for(let p=0;p<u;p++)for(let g=0;g<u;g++){let w=(p*u+g)*4,y=s.color.light;if(p>=f&&g>=f&&p<u-f&&g<u-f){const b=Math.floor((p-f)/c),C=Math.floor((g-f)/c);y=h[a[b*o+C]?1:0]}r[w++]=y.r,r[w++]=y.g,r[w++]=y.b,r[w]=y.a}}}(DI)),DI}var XB;function u_e(){return XB||(XB=1,function(t){const e=WG();function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=r()),c=e.getOptions(c);const f=e.getImageWidth(s.modules.size,c),h=u.getContext("2d"),p=h.createImageData(f,f);return e.qrToImageData(p.data,s,c),n(h,u,f),h.putImageData(p,0,0),u},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=t.render(s,o,c),f=c.type||"image/png",h=c.rendererOpts||{};return u.toDataURL(f,h.quality)}}($I)),$I}var LI={},eU;function d_e(){if(eU)return LI;eU=1;const t=WG();function e(i,s){const o=i.a/255,a=s+'="'+i.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function n(i,s,o){let a=i+s;return typeof o<"u"&&(a+=" "+o),a}function r(i,s,o){let a="",c=0,u=!1,f=0;for(let h=0;h<i.length;h++){const p=Math.floor(h%s),g=Math.floor(h/s);!p&&!u&&(u=!0),i[h]?(f++,h>0&&p>0&&i[h-1]||(a+=u?n("M",p+o,.5+g+o):n("m",c,0),c=0,u=!1),p+1<s&&i[h+1]||(a+=n("h",f),f=0)):c++}return a}return LI.render=function(s,o,a){const c=t.getOptions(o),u=s.modules.size,f=s.modules.data,h=u+c.margin*2,p=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",g="<path "+e(c.color.dark,"stroke")+' d="'+r(f,u,c.margin)+'"/>',w='viewBox="0 0 '+h+" "+h+'"',b='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+w+' shape-rendering="crispEdges">'+p+g+`</svg>
`;return typeof a=="function"&&a(null,b),b},LI}var tU;function f_e(){if(tU)return J0;tU=1;const t=VSe(),e=l_e(),n=u_e(),r=d_e();function i(s,o,a,c,u){const f=[].slice.call(arguments,1),h=f.length,p=typeof f[h-1]=="function";if(!p&&!t())throw new Error("Callback required as last argument");if(p){if(h<2)throw new Error("Too few arguments provided");h===2?(u=a,a=o,o=c=void 0):h===3&&(o.getContext&&typeof u>"u"?(u=c,c=void 0):(u=c,c=a,a=o,o=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(a=o,o=c=void 0):h===2&&!o.getContext&&(c=a,a=o,o=void 0),new Promise(function(g,w){try{const y=e.create(a,c);g(s(y,o,c))}catch(y){w(y)}})}try{const g=e.create(a,c);u(null,s(g,o,c))}catch(g){u(g)}}return J0.create=e.create,J0.toCanvas=i.bind(null,n.render),J0.toDataURL=i.bind(null,n.renderToDataURL),J0.toString=i.bind(null,function(s,o,a){return r.render(s,a)}),J0}var h_e=f_e();const p_e=gc(h_e),m_e=.1,nU=2.5,Xu=7;function MI(t,e,n){return t===e?!1:(t-e<0?e-t:t-e)<=n+m_e}function g_e(t,e){const n=Array.prototype.slice.call(p_e.create(t,{errorCorrectionLevel:e}).modules.data,0),r=Math.sqrt(n.length);return n.reduce((i,s,o)=>(o%r===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const y_e={generate({uri:t,size:e,logoSize:n,dotColor:r="#141414"}){const i="transparent",o=[],a=g_e(t,"Q"),c=e/a.length,u=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];u.forEach(({x:y,y:b})=>{const C=(a.length-Xu)*c*y,x=(a.length-Xu)*c*b,E=.45;for(let I=0;I<u.length;I+=1){const S=c*(Xu-I*2);o.push(Tr`
            <rect
              fill=${I===2?r:i}
              width=${I===0?S-5:S}
              rx= ${I===0?(S-5)*E:S*E}
              ry= ${I===0?(S-5)*E:S*E}
              stroke=${r}
              stroke-width=${I===0?5:0}
              height=${I===0?S-5:S}
              x= ${I===0?x+c*I+5/2:x+c*I}
              y= ${I===0?C+c*I+5/2:C+c*I}
            />
          `)}});const f=Math.floor((n+25)/c),h=a.length/2-f/2,p=a.length/2+f/2-1,g=[];a.forEach((y,b)=>{y.forEach((C,x)=>{if(a[b][x]&&!(b<Xu&&x<Xu||b>a.length-(Xu+1)&&x<Xu||b<Xu&&x>a.length-(Xu+1))&&!(b>h&&b<p&&x>h&&x<p)){const E=b*c+c/2,I=x*c+c/2;g.push([E,I])}})});const w={};return g.forEach(([y,b])=>{var C;w[y]?(C=w[y])==null||C.push(b):w[y]=[b]}),Object.entries(w).map(([y,b])=>{const C=b.filter(x=>b.every(E=>!MI(x,E,c)));return[Number(y),C]}).forEach(([y,b])=>{b.forEach(C=>{o.push(Tr`<circle cx=${y} cy=${C} fill=${r} r=${c/nU} />`)})}),Object.entries(w).filter(([y,b])=>b.length>1).map(([y,b])=>{const C=b.filter(x=>b.some(E=>MI(x,E,c)));return[Number(y),C]}).map(([y,b])=>{b.sort((x,E)=>x<E?-1:1);const C=[];for(const x of b){const E=C.find(I=>I.some(S=>MI(x,S,c)));E?E.push(x):C.push([x])}return[y,C.map(x=>[x[0],x[x.length-1]])]}).forEach(([y,b])=>{b.forEach(([C,x])=>{o.push(Tr`
              <line
                x1=${y}
                x2=${y}
                y1=${C}
                y2=${x}
                stroke=${r}
                stroke-width=${c/(nU/2)}
                stroke-linecap="round"
              />
            `)})}),o}},w_e=He`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: var(--local-size);
  }

  :host([data-theme='dark']) {
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px);
    background-color: var(--wui-color-inverse-100);
    padding: var(--wui-spacing-l);
  }

  :host([data-theme='light']) {
    box-shadow: 0 0 0 1px var(--wui-color-bg-125);
    background-color: var(--wui-color-bg-125);
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: var(--wui-border-radius-xs);
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: var(--local-icon-color) !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }
`;var df=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const b_e="#3396ff";let pl=class extends _e{constructor(){super(...arguments),this.uri="",this.size=0,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),this.style.cssText=`
     --local-size: ${this.size}px;
     --local-icon-color: ${this.color??b_e}
    `,B`${this.templateVisual()} ${this.templateSvg()}`}templateSvg(){const e=this.theme==="light"?this.size:this.size-32;return Tr`
      <svg height=${e} width=${e}>
        ${y_e.generate({uri:this.uri,size:e,logoSize:this.arenaClear?0:e/4,dotColor:this.color})}
      </svg>
    `}templateVisual(){return this.imageSrc?B`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?B`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:B`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};pl.styles=[Ut,w_e];df([Z()],pl.prototype,"uri",void 0);df([Z({type:Number})],pl.prototype,"size",void 0);df([Z()],pl.prototype,"theme",void 0);df([Z()],pl.prototype,"imageSrc",void 0);df([Z()],pl.prototype,"alt",void 0);df([Z()],pl.prototype,"color",void 0);df([Z({type:Boolean})],pl.prototype,"arenaClear",void 0);df([Z({type:Boolean})],pl.prototype,"farcaster",void 0);pl=df([Ae("wui-qr-code")],pl);const v_e=He`
  @keyframes fadein {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px) !important;
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: 200ms;
    animation-timing-function: ease;
    animation-name: fadein;
    animation-fill-mode: forwards;
  }
`;var C_e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let mP=class extends Zi{constructor(){var e,n;super(),this.forceUpdate=()=>{this.requestUpdate()},window.addEventListener("resize",this.forceUpdate),At.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:((e=this.wallet)==null?void 0:e.name)??"WalletConnect",platform:"qrcode",displayIndex:(n=this.wallet)==null?void 0:n.display_index}})}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this.unsubscribe)==null||e.forEach(n=>n()),window.removeEventListener("resize",this.forceUpdate)}render(){return this.onRenderProxy(),B`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","xl","xl","xl"]}
        gap="xl"
      >
        <wui-shimmer borderRadius="l" width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>

        <wui-text variant="paragraph-500" color="fg-100">
          Scan this QR Code with your phone
        </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},200))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const e=this.getBoundingClientRect().width-40,n=this.wallet?this.wallet.name:void 0;return Ce.setWcLinking(void 0),Ce.setRecentWallet(this.wallet),B` <wui-qr-code
      size=${e}
      theme=${cs.state.themeMode}
      uri=${this.uri}
      imageSrc=${We($n.getWalletImage(this.wallet))}
      color=${We(cs.state.themeVariables["--w3m-qr-color"])}
      alt=${We(n)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const e=!this.uri||!this.ready;return B`<wui-link
      .disabled=${e}
      @click=${this.onCopyUri}
      color="fg-200"
      data-testid="copy-wc2-uri"
    >
      <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
      Copy link
    </wui-link>`}};mP.styles=v_e;mP=C_e([Ae("w3m-connecting-wc-qrcode")],mP);var x_e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let rU=class extends _e{constructor(){var e,n;if(super(),this.wallet=(e=Ee.state.data)==null?void 0:e.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");At.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:(n=this.wallet)==null?void 0:n.display_index}})}render(){return B`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${We($n.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="paragraph-500" color="fg-100">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};rU=x_e([Ae("w3m-connecting-wc-unsupported")],rU);var HG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let gP=class extends Zi{constructor(){var e;if(super(),this.isLoading=!0,!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel=rn.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.updateLoadingState(),this.unsubscribe.push(Ce.subscribeKey("wcUri",()=>{this.updateLoadingState()})),At.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web",displayIndex:(e=this.wallet)==null?void 0:e.display_index}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){var e;if((e=this.wallet)!=null&&e.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:n,name:r}=this.wallet,{redirect:i,href:s}=be.formatUniversalUrl(n,this.uri);Ce.setWcLinking({name:r,href:s}),Ce.setRecentWallet(this.wallet),be.openHref(i,"_blank")}catch{this.error=!0}}};HG([fe()],gP.prototype,"isLoading",void 0);gP=HG([Ae("w3m-connecting-wc-web")],gP);var Ob=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let sp=class extends _e{constructor(){var e;super(),this.wallet=(e=Ee.state.data)==null?void 0:e.wallet,this.unsubscribe=[],this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!ce.state.siwx,this.remoteFeatures=ce.state.remoteFeatures,this.displayBranding=!0,this.determinePlatforms(),this.initializeConnection(),this.unsubscribe.push(ce.subscribeKey("remoteFeatures",n=>this.remoteFeatures=n))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return B`
      ${this.headerTemplate()}
      <div>${this.platformTemplate()}</div>
      ${this.reownBrandingTemplate()}
    `}reownBrandingTemplate(){var e;return!((e=this.remoteFeatures)!=null&&e.reownBranding)||!this.displayBranding?null:B`<wui-ux-by-reown></wui-ux-by-reown>`}async initializeConnection(e=!1){var n,r;if(!(this.platform==="browser"||ce.state.manualWCControl&&!e))try{const{wcPairingExpiry:i,status:s}=Ce.state;if(e||ce.state.enableEmbedded||be.isPairingExpired(i)||s==="connecting"){const o=Ce.getConnections(F.state.activeChain),a=(n=this.remoteFeatures)==null?void 0:n.multiWallet,c=o.length>0;await Ce.connectWalletConnect({cache:"never"}),this.isSiwxEnabled||(c&&a?(Ee.replace("ProfileWallets"),Tn.showSuccess("New Wallet Added")):Kt.close())}}catch(i){if(i instanceof Error&&i.message.includes("An error occurred when attempting to switch chain")&&!ce.state.enableNetworkSwitch&&F.state.activeChain){F.setActiveCaipNetwork(el.getUnsupportedNetwork(`${F.state.activeChain}:${(r=F.state.activeCaipNetwork)==null?void 0:r.id}`)),F.showUnsupportedChainUI();return}At.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(i==null?void 0:i.message)??"Unknown"}}),Ce.setWcError(!0),Tn.showError(i.message??"Connection error"),Ce.resetWcConnection(),Ee.goBack()}}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;const{mobile_link:e,desktop_link:n,webapp_link:r,injected:i,rdns:s}=this.wallet,o=i==null?void 0:i.map(({injected_id:w})=>w).filter(Boolean),a=[...s?[s]:o??[]],c=ce.state.isUniversalProvider?!1:a.length,u=e,f=r,h=Ce.checkInstalled(a),p=c&&h,g=n&&!be.isMobile();p&&!F.state.noAdapters&&this.platforms.push("browser"),u&&this.platforms.push(be.isMobile()?"mobile":"qrcode"),f&&this.platforms.push("web"),g&&this.platforms.push("desktop"),!p&&c&&!F.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return B`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return B`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return B`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return B`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return B`<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>`;default:return B`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?B`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(e){var r;const n=(r=this.shadowRoot)==null?void 0:r.querySelector("div");n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=e,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};Ob([fe()],sp.prototype,"platform",void 0);Ob([fe()],sp.prototype,"platforms",void 0);Ob([fe()],sp.prototype,"isSiwxEnabled",void 0);Ob([fe()],sp.prototype,"remoteFeatures",void 0);Ob([Z({type:Boolean})],sp.prototype,"displayBranding",void 0);sp=Ob([Ae("w3m-connecting-wc-view")],sp);var I8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let W2=class extends _e{constructor(){super(),this.unsubscribe=[],this.isMobile=be.isMobile(),this.remoteFeatures=ce.state.remoteFeatures,this.unsubscribe.push(ce.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(this.isMobile){const{featured:e,recommended:n}=nt.state,{customWallets:r}=ce.state,i=Ne.getRecentWallets(),s=e.length||n.length||(r==null?void 0:r.length)||i.length;return B`<wui-flex
        flexDirection="column"
        gap="xs"
        .margin=${["3xs","s","s","s"]}
      >
        ${s?B`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return B`<wui-flex flexDirection="column" .padding=${["0","0","l","0"]}>
        <w3m-connecting-wc-view .displayBranding=${!1}></w3m-connecting-wc-view>
        <wui-flex flexDirection="column" .padding=${["0","m","0","m"]}>
          <w3m-all-wallets-widget></w3m-all-wallets-widget>
        </wui-flex>
      </wui-flex>
      ${this.reownBrandingTemplate()} `}reownBrandingTemplate(){var e;return(e=this.remoteFeatures)!=null&&e.reownBranding?B` <wui-flex flexDirection="column" .padding=${["3xs","0","3xs","0"]}>
      <wui-ux-by-reown></wui-ux-by-reown>
    </wui-flex>`:null}};I8([fe()],W2.prototype,"isMobile",void 0);I8([fe()],W2.prototype,"remoteFeatures",void 0);W2=I8([Ae("w3m-connecting-wc-basic-view")],W2);const E_e=He`
  .continue-button-container {
    width: 100%;
  }
`;var VG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let H2=class extends _e{constructor(){super(...arguments),this.loading=!1}render(){return B`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="xxl"
        .padding=${["0","0","l","0"]}
      >
        ${this.onboardingTemplate()} ${this.buttonsTemplate()}
        <wui-link
          @click=${()=>{be.openHref(yte.URLS.FAQ,"_blank")}}
        >
          Learn more about names
          <wui-icon color="inherit" slot="iconRight" name="externalLink"></wui-icon>
        </wui-link>
      </wui-flex>
    `}onboardingTemplate(){return B` <wui-flex
      flexDirection="column"
      gap="xxl"
      alignItems="center"
      .padding=${["0","xxl","0","xxl"]}
    >
      <wui-flex gap="s" alignItems="center" justifyContent="center">
        <wui-icon-box
          icon="id"
          size="xl"
          iconSize="xxl"
          iconColor="fg-200"
          backgroundColor="fg-200"
        ></wui-icon-box>
      </wui-flex>
      <wui-flex flexDirection="column" alignItems="center" gap="s">
        <wui-text align="center" variant="medium-600" color="fg-100">
          Choose your account name
        </wui-text>
        <wui-text align="center" variant="paragraph-400" color="fg-100">
          Finally say goodbye to 0x addresses, name your account to make it easier to exchange
          assets
        </wui-text>
      </wui-flex>
    </wui-flex>`}buttonsTemplate(){return B`<wui-flex
      .padding=${["0","2l","0","2l"]}
      gap="s"
      class="continue-button-container"
    >
      <wui-button
        fullWidth
        .loading=${this.loading}
        size="lg"
        borderRadius="xs"
        @click=${this.handleContinue.bind(this)}
        >Choose name
      </wui-button>
    </wui-flex>`}handleContinue(){Ee.push("RegisterAccountName"),At.sendEvent({type:"track",event:"OPEN_ENS_FLOW",properties:{isSmartAccount:ii(F.state.activeChain)===tr.ACCOUNT_TYPES.SMART_ACCOUNT}})}};H2.styles=E_e;VG([fe()],H2.prototype,"loading",void 0);H2=VG([Ae("w3m-choose-account-name-view")],H2);var A_e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let yP=class extends _e{constructor(){var e;super(...arguments),this.wallet=(e=Ee.state.data)==null?void 0:e.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return B`
      <wui-flex gap="xs" flexDirection="column" .padding=${["s","s","l","s"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){var e;return(e=this.wallet)!=null&&e.chrome_store?B`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){var e;return(e=this.wallet)!=null&&e.app_store?B`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){var e;return(e=this.wallet)!=null&&e.play_store?B`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){var e;return(e=this.wallet)!=null&&e.homepage?B`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="paragraph-500" color="fg-100">Website</wui-text>
      </wui-list-item>
    `:null}onChromeStore(){var e;(e=this.wallet)!=null&&e.chrome_store&&be.openHref(this.wallet.chrome_store,"_blank")}onAppStore(){var e;(e=this.wallet)!=null&&e.app_store&&be.openHref(this.wallet.app_store,"_blank")}onPlayStore(){var e;(e=this.wallet)!=null&&e.play_store&&be.openHref(this.wallet.play_store,"_blank")}onHomePage(){var e;(e=this.wallet)!=null&&e.homepage&&be.openHref(this.wallet.homepage,"_blank")}};yP=A_e([Ae("w3m-downloads-view")],yP);var S_e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const __e="https://walletconnect.com/explorer";let wP=class extends _e{render(){return B`
      <wui-flex flexDirection="column" .padding=${["0","s","s","s"]} gap="xs">
        ${this.recommendedWalletsTemplate()}
        <wui-list-wallet
          name="Explore all"
          showAllWallets
          walletIcon="allWallets"
          icon="externalLink"
          @click=${()=>{be.openHref("https://walletconnect.com/explorer?type=wallet","_blank")}}
        ></wui-list-wallet>
      </wui-flex>
    `}recommendedWalletsTemplate(){const{recommended:e,featured:n}=nt.state,{customWallets:r}=ce.state;return[...n,...r??[],...e].slice(0,4).map(s=>B`
        <wui-list-wallet
          name=${s.name??"Unknown"}
          tagVariant="main"
          imageSrc=${We($n.getWalletImage(s))}
          @click=${()=>{be.openHref(s.homepage??__e,"_blank")}}
        ></wui-list-wallet>
      `)}};wP=S_e([Ae("w3m-get-wallet-view")],wP);const T_e=Tr`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="64" height="64" fill="#F7931A"/>
  <g clip-path="url(#clip0_1045_17)">
    <path d="M63.0394 39.7409C58.7654 56.8839 41.4024 67.3169 24.2574 63.0419C7.11937 58.7679 -3.31363 41.4039 0.962367 24.2619C5.23437 7.11686 22.5974 -3.31714 39.7374 0.956863C56.8814 5.23086 67.3134 22.5969 63.0394 39.7409Z" fill="#F7931A"/>
    <path d="M46.1092 27.4409C46.7462 23.1829 43.5042 20.8939 39.0712 19.3669L40.5092 13.5989L36.9982 12.7239L35.5982 18.3399C34.6752 18.1099 33.7272 17.8929 32.7852 17.6779L34.1952 12.0249L30.6862 11.1499L29.2472 16.9159C28.4832 16.7419 27.7332 16.5699 27.0052 16.3889L27.0092 16.3709L22.1672 15.1619L21.2332 18.9119C21.2332 18.9119 23.8382 19.5089 23.7832 19.5459C25.2052 19.9009 25.4622 20.8419 25.4192 21.5879L23.7812 28.1589C23.8792 28.1839 24.0062 28.2199 24.1462 28.2759C24.0292 28.2469 23.9042 28.2149 23.7752 28.1839L21.4792 37.3889C21.3052 37.8209 20.8642 38.4689 19.8702 38.2229C19.9052 38.2739 17.3182 37.5859 17.3182 37.5859L15.5752 41.6049L20.1442 42.7439C20.9942 42.9569 21.8272 43.1799 22.6472 43.3899L21.1942 49.2239L24.7012 50.0989L26.1402 44.3269C27.0982 44.5869 28.0282 44.8269 28.9382 45.0529L27.5042 50.7979L31.0152 51.6729L32.4682 45.8499C38.4552 46.9829 42.9572 46.5259 44.8522 41.1109C46.3792 36.7509 44.7762 34.2359 41.6262 32.5959C43.9202 32.0669 45.6482 30.5579 46.1092 27.4409ZM38.0872 38.6899C37.0022 43.0499 29.6612 40.6929 27.2812 40.1019L29.2092 32.3729C31.5892 32.9669 39.2212 34.1429 38.0872 38.6899ZM39.1732 27.3779C38.1832 31.3439 32.0732 29.3289 30.0912 28.8349L31.8392 21.8249C33.8212 22.3189 40.2042 23.2409 39.1732 27.3779Z" fill="white"/>
  </g>
  <defs>
    <clipPath id="clip0_1045_17">
      <rect width="64" height="64" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,I_e=Tr`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#1DC956" rx="30" />
  <circle cx="30" cy="30" r="3" fill="#fff" />
  <path
    fill="#2BEE6C"
    stroke="#fff"
    stroke-width="2"
    d="m45.32 17.9-.88-.42.88.42.02-.05c.1-.2.21-.44.26-.7l-.82-.15.82.16a2 2 0 0 0-.24-1.4c-.13-.23-.32-.42-.47-.57a8.42 8.42 0 0 1-.04-.04l-.04-.04a2.9 2.9 0 0 0-.56-.47l-.51.86.5-.86a2 2 0 0 0-1.4-.24c-.26.05-.5.16-.69.26l-.05.02-15.05 7.25-.1.05c-1.14.55-1.85.89-2.46 1.37a7 7 0 0 0-1.13 1.14c-.5.6-.83 1.32-1.38 2.45l-.05.11-7.25 15.05-.02.05c-.1.2-.21.43-.26.69a2 2 0 0 0 .24 1.4l.85-.5-.85.5c.13.23.32.42.47.57l.04.04.04.04c.15.15.34.34.56.47a2 2 0 0 0 1.41.24l-.2-.98.2.98c.25-.05.5-.17.69-.26l.05-.02-.42-.87.42.87 15.05-7.25.1-.05c1.14-.55 1.85-.89 2.46-1.38a7 7 0 0 0 1.13-1.13 12.87 12.87 0 0 0 1.43-2.56l7.25-15.05Z"
  />
  <path
    fill="#1DC956"
    d="M33.38 32.72 30.7 29.3 15.86 44.14l.2.2a1 1 0 0 0 1.14.2l15.1-7.27a3 3 0 0 0 1.08-4.55Z"
  />
  <path
    fill="#86F999"
    d="m26.62 27.28 2.67 3.43 14.85-14.85-.2-.2a1 1 0 0 0-1.14-.2l-15.1 7.27a3 3 0 0 0-1.08 4.55Z"
  />
  <circle cx="30" cy="30" r="3" fill="#fff" transform="rotate(45 30 30)" />
  <rect width="59" height="59" x=".5" y=".5" stroke="#062B2B" stroke-opacity=".1" rx="29.5" />
</svg> `,N_e=Tr`<svg viewBox="0 0 60 60" fill="none">
  <g clip-path="url(#clip0_7734_50402)">
    <path
      d="M0 24.9C0 15.6485 0 11.0228 1.97053 7.56812C3.3015 5.23468 5.23468 3.3015 7.56812 1.97053C11.0228 0 15.6485 0 24.9 0H35.1C44.3514 0 48.9772 0 52.4319 1.97053C54.7653 3.3015 56.6985 5.23468 58.0295 7.56812C60 11.0228 60 15.6485 60 24.9V35.1C60 44.3514 60 48.9772 58.0295 52.4319C56.6985 54.7653 54.7653 56.6985 52.4319 58.0295C48.9772 60 44.3514 60 35.1 60H24.9C15.6485 60 11.0228 60 7.56812 58.0295C5.23468 56.6985 3.3015 54.7653 1.97053 52.4319C0 48.9772 0 44.3514 0 35.1V24.9Z"
      fill="#EB8B47"
    />
    <path
      d="M0.5 24.9C0.5 20.2652 0.50047 16.8221 0.744315 14.105C0.987552 11.3946 1.46987 9.45504 2.40484 7.81585C3.69145 5.56019 5.56019 3.69145 7.81585 2.40484C9.45504 1.46987 11.3946 0.987552 14.105 0.744315C16.8221 0.50047 20.2652 0.5 24.9 0.5H35.1C39.7348 0.5 43.1779 0.50047 45.895 0.744315C48.6054 0.987552 50.545 1.46987 52.1841 2.40484C54.4398 3.69145 56.3086 5.56019 57.5952 7.81585C58.5301 9.45504 59.0124 11.3946 59.2557 14.105C59.4995 16.8221 59.5 20.2652 59.5 24.9V35.1C59.5 39.7348 59.4995 43.1779 59.2557 45.895C59.0124 48.6054 58.5301 50.545 57.5952 52.1841C56.3086 54.4398 54.4398 56.3086 52.1841 57.5952C50.545 58.5301 48.6054 59.0124 45.895 59.2557C43.1779 59.4995 39.7348 59.5 35.1 59.5H24.9C20.2652 59.5 16.8221 59.4995 14.105 59.2557C11.3946 59.0124 9.45504 58.5301 7.81585 57.5952C5.56019 56.3086 3.69145 54.4398 2.40484 52.1841C1.46987 50.545 0.987552 48.6054 0.744315 45.895C0.50047 43.1779 0.5 39.7348 0.5 35.1V24.9Z"
      stroke="#062B2B"
      stroke-opacity="0.1"
    />
    <path
      d="M19 52C24.5228 52 29 47.5228 29 42C29 36.4772 24.5228 32 19 32C13.4772 32 9 36.4772 9 42C9 47.5228 13.4772 52 19 52Z"
      fill="#FF974C"
      stroke="white"
      stroke-width="2"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M42.8437 8.3264C42.4507 7.70891 41.5493 7.70891 41.1564 8.32641L28.978 27.4638C28.5544 28.1295 29.0326 29.0007 29.8217 29.0007H54.1783C54.9674 29.0007 55.4456 28.1295 55.022 27.4638L42.8437 8.3264Z"
      fill="white"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M42.3348 11.6456C42.659 11.7608 42.9061 12.1492 43.4005 12.926L50.7332 24.4488C51.2952 25.332 51.5763 25.7737 51.5254 26.1382C51.4915 26.3808 51.3698 26.6026 51.1833 26.7614C50.9031 27 50.3796 27 49.3327 27H34.6673C33.6204 27 33.0969 27 32.8167 26.7614C32.6302 26.6026 32.5085 26.3808 32.4746 26.1382C32.4237 25.7737 32.7048 25.332 33.2669 24.4488L40.5995 12.926C41.0939 12.1492 41.341 11.7608 41.6652 11.6456C41.8818 11.5687 42.1182 11.5687 42.3348 11.6456ZM35.0001 26.999C38.8661 26.999 42.0001 23.865 42.0001 19.999C42.0001 23.865 45.1341 26.999 49.0001 26.999H35.0001Z"
      fill="#FF974C"
    />
    <path
      d="M10.1061 9.35712C9.9973 9.67775 9.99867 10.0388 9.99978 10.3323C9.99989 10.3611 10 10.3893 10 10.4167V25.5833C10 25.6107 9.99989 25.6389 9.99978 25.6677C9.99867 25.9612 9.9973 26.3222 10.1061 26.6429C10.306 27.2317 10.7683 27.694 11.3571 27.8939C11.6777 28.0027 12.0388 28.0013 12.3323 28.0002C12.3611 28.0001 12.3893 28 12.4167 28H19C24.5228 28 29 23.5228 29 18C29 12.4772 24.5228 8 19 8H12.4167C12.3893 8 12.3611 7.99989 12.3323 7.99978C12.0388 7.99867 11.6778 7.9973 11.3571 8.10614C10.7683 8.306 10.306 8.76834 10.1061 9.35712Z"
      fill="#FF974C"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="19" cy="18" r="4" fill="#EB8B47" stroke="white" stroke-width="2" />
    <circle cx="19" cy="42" r="4" fill="#EB8B47" stroke="white" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="clip0_7734_50402">
      <rect width="60" height="60" fill="white" />
    </clipPath>
  </defs>
</svg> `,P_e=Tr`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <path
      fill="#1DC956"
      d="M0 25.01c0-9.25 0-13.88 1.97-17.33a15 15 0 0 1 5.6-5.6C11.02.11 15.65.11 24.9.11h10.2c9.25 0 13.88 0 17.33 1.97a15 15 0 0 1 5.6 5.6C60 11.13 60 15.76 60 25v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6c-3.45 1.97-8.08 1.97-17.33 1.97H24.9c-9.25 0-13.88 0-17.33-1.97a15 15 0 0 1-5.6-5.6C0 49.1 0 44.46 0 35.21v-10.2Z"
    />
    <path
      fill="#2BEE6C"
      d="M16.1 60c-3.82-.18-6.4-.64-8.53-1.86a15 15 0 0 1-5.6-5.6C.55 50.06.16 46.97.04 41.98L4.2 40.6a4 4 0 0 0 2.48-2.39l4.65-12.4a2 2 0 0 1 2.5-1.2l2.53.84a2 2 0 0 0 2.43-1l2.96-5.94a2 2 0 0 1 3.7.32l3.78 12.58a2 2 0 0 0 3.03 1.09l3.34-2.23a2 2 0 0 0 .65-.7l5.3-9.72a2 2 0 0 1 1.42-1.01l4.14-.69a2 2 0 0 1 1.6.44l3.9 3.24a2 2 0 0 0 2.7-.12l4.62-4.63c.08 2.2.08 4.8.08 7.93v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6c-2.13 1.22-4.7 1.68-8.54 1.86H16.11Z"
    />
    <path
      fill="#fff"
      d="m.07 43.03-.05-2.1 3.85-1.28a3 3 0 0 0 1.86-1.79l4.66-12.4a3 3 0 0 1 3.75-1.8l2.53.84a1 1 0 0 0 1.21-.5l2.97-5.94a3 3 0 0 1 5.56.48l3.77 12.58a1 1 0 0 0 1.51.55l3.34-2.23a1 1 0 0 0 .33-.35l5.3-9.71a3 3 0 0 1 2.14-1.53l4.13-.69a3 3 0 0 1 2.41.66l3.9 3.24a1 1 0 0 0 1.34-.06l5.28-5.28c.05.85.08 1.75.1 2.73L56 22.41a3 3 0 0 1-4.04.19l-3.9-3.25a1 1 0 0 0-.8-.21l-4.13.69a1 1 0 0 0-.72.5l-5.3 9.72a3 3 0 0 1-.97 1.05l-3.34 2.23a3 3 0 0 1-4.53-1.63l-3.78-12.58a1 1 0 0 0-1.85-.16l-2.97 5.94a3 3 0 0 1-3.63 1.5l-2.53-.84a1 1 0 0 0-1.25.6l-4.65 12.4a5 5 0 0 1-3.1 3L.07 43.02Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M49.5 19a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"
      clip-rule="evenodd"
    />
    <path fill="#fff" d="M45 .28v59.66l-2 .1V.19c.7.02 1.37.05 2 .1Z" />
    <path fill="#2BEE6C" d="M47.5 19a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" />
    <path
      stroke="#fff"
      stroke-opacity=".1"
      d="M.5 25.01c0-4.63 0-8.08.24-10.8.25-2.7.73-4.64 1.66-6.28a14.5 14.5 0 0 1 5.42-5.41C9.46 1.58 11.39 1.1 14.1.85A133 133 0 0 1 24.9.61h10.2c4.63 0 8.08 0 10.8.24 2.7.25 4.65.73 6.28 1.67a14.5 14.5 0 0 1 5.42 5.4c.93 1.65 1.41 3.58 1.66 6.3.24 2.71.24 6.16.24 10.79v10.2c0 4.64 0 8.08-.24 10.8-.25 2.7-.73 4.65-1.66 6.28a14.5 14.5 0 0 1-5.42 5.42c-1.63.93-3.57 1.41-6.28 1.66-2.72.24-6.17.24-10.8.24H24.9c-4.63 0-8.08 0-10.8-.24-2.7-.25-4.64-.73-6.28-1.66a14.5 14.5 0 0 1-5.42-5.42C1.47 50.66 1 48.72.74 46.01A133 133 0 0 1 .5 35.2v-10.2Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M0 0h60v60H0z" /></clipPath>
  </defs>
</svg>`,k_e=Tr`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#C653C6" rx="30" />
    <path
      fill="#E87DE8"
      d="M57.98.01v19.5a4.09 4.09 0 0 0-2.63 2.29L50.7 34.2a2 2 0 0 1-2.5 1.2l-2.53-.84a2 2 0 0 0-2.42 1l-2.97 5.94a2 2 0 0 1-3.7-.32L32.8 28.6a2 2 0 0 0-3.02-1.09l-3.35 2.23a2 2 0 0 0-.64.7l-5.3 9.72a2 2 0 0 1-1.43 1.01l-4.13.69a2 2 0 0 1-1.61-.44l-3.9-3.24a2 2 0 0 0-2.69.12L2.1 42.93.02 43V.01h57.96Z"
    />
    <path
      fill="#fff"
      d="m61.95 16.94.05 2.1-3.85 1.28a3 3 0 0 0-1.86 1.79l-4.65 12.4a3 3 0 0 1-3.76 1.8l-2.53-.84a1 1 0 0 0-1.2.5l-2.98 5.94a3 3 0 0 1-5.55-.48l-3.78-12.58a1 1 0 0 0-1.5-.55l-3.35 2.23a1 1 0 0 0-.32.35l-5.3 9.72a3 3 0 0 1-2.14 1.52l-4.14.69a3 3 0 0 1-2.41-.66l-3.9-3.24a1 1 0 0 0-1.34.06l-5.28 5.28c-.05-.84-.08-1.75-.1-2.73l3.97-3.96a3 3 0 0 1 4.04-.19l3.89 3.25a1 1 0 0 0 .8.21l4.14-.68a1 1 0 0 0 .71-.51l5.3-9.71a3 3 0 0 1 .97-1.06l3.34-2.23a3 3 0 0 1 4.54 1.63l3.77 12.58a1 1 0 0 0 1.86.16l2.96-5.93a3 3 0 0 1 3.64-1.5l2.52.83a1 1 0 0 0 1.25-.6l4.66-12.4a5 5 0 0 1 3.1-2.99l4.43-1.48Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M35.5 27a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"
      clip-rule="evenodd"
    />
    <path fill="#fff" d="M31 0v60h-2V0h2Z" />
    <path fill="#E87DE8" d="M33.5 27a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg> `,R_e=Tr`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#987DE8" rx="30" />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="m15.48 28.37 11.97-19.3a3 3 0 0 1 5.1 0l11.97 19.3a6 6 0 0 1 .9 3.14v.03a6 6 0 0 1-1.16 3.56L33.23 50.2a4 4 0 0 1-6.46 0L15.73 35.1a6 6 0 0 1-1.15-3.54v-.03a6 6 0 0 1 .9-3.16Z"
      clip-rule="evenodd"
    />
    <path
      fill="#643CDD"
      d="M30.84 10.11a1 1 0 0 0-.84-.46V24.5l12.6 5.53a2 2 0 0 0-.28-1.4L30.84 10.11Z"
    />
    <path
      fill="#BDADEB"
      d="M30 9.65a1 1 0 0 0-.85.46L17.66 28.64a2 2 0 0 0-.26 1.39L30 24.5V9.65Z"
    />
    <path
      fill="#643CDD"
      d="M30 50.54a1 1 0 0 0 .8-.4l11.24-15.38c.3-.44-.2-1-.66-.73l-9.89 5.68a3 3 0 0 1-1.5.4v10.43Z"
    />
    <path
      fill="#BDADEB"
      d="m17.97 34.76 11.22 15.37c.2.28.5.41.8.41V40.11a3 3 0 0 1-1.49-.4l-9.88-5.68c-.47-.27-.97.3-.65.73Z"
    />
    <path
      fill="#401AB3"
      d="M42.6 30.03 30 24.5v13.14a3 3 0 0 0 1.5-.4l10.14-5.83a2 2 0 0 0 .95-1.38Z"
    />
    <path
      fill="#7C5AE2"
      d="M30 37.64V24.46l-12.6 5.57a2 2 0 0 0 .97 1.39l10.13 5.82a3 3 0 0 0 1.5.4Z"
    />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg> `,O_e=Tr`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="64" height="64" rx="30" fill="#1DC956"/>
  <rect x="0.5" y="0.5" width="63" height="63" rx="29.5" stroke="#141414" stroke-opacity="0.1"/>
  <path d="M32.4053 19.8031C35.3901 19.8031 38.0431 20.8349 40.1619 22.8247L45.9656 17.0211C42.4465 13.7416 37.8773 11.7333 32.4053 11.7333C24.4829 11.7333 17.6475 16.2841 14.3127 22.9168L21.056 28.1493C22.6589 23.359 27.136 19.8031 32.4053 19.8031Z" fill="#1DC956" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  <path d="M32.4053 52.2667C37.8773 52.2667 42.465 50.4611 45.8182 47.3658L39.2407 42.2623C37.4351 43.4783 35.1321 44.2153 32.4053 44.2153C27.136 44.2153 22.6589 40.6594 21.056 35.8691L14.3127 41.1016C17.6475 47.7159 24.4829 52.2667 32.4053 52.2667Z" fill="#2BEE6C"/>
  <path d="M21.056 35.8507L19.5636 36.993L14.3127 41.0832M39.2407 42.2623L45.8182 47.3658C42.465 50.4611 37.8773 52.2667 32.4053 52.2667C24.4829 52.2667 17.6475 47.7159 14.3127 41.1016L21.056 35.8691C22.6589 40.6594 27.136 44.2153 32.4053 44.2153C35.1321 44.2153 37.4351 43.4783 39.2407 42.2623Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  <path d="M51.8613 32.4606C51.8613 31.0235 51.7323 29.6417 51.4928 28.3151H32.4053V36.1638H43.3124C42.8334 38.688 41.3963 40.8252 39.2407 42.2623L45.8181 47.3658C49.6503 43.8283 51.8613 38.6327 51.8613 32.4606Z" fill="#1FAD7E" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  <path d="M21.056 35.8507C20.6507 34.6347 20.4111 33.345 20.4111 32C20.4111 30.655 20.6507 29.3653 21.056 28.1493L14.3127 22.9169C12.9309 25.6437 12.1387 28.7205 12.1387 32C12.1387 35.2795 12.9309 38.3564 14.3127 41.0831L19.5636 36.993L21.056 35.8507Z" fill="#86F999"/>
  <path d="M21.056 35.8691L14.3127 41.1016M21.056 35.8507C20.6507 34.6347 20.4111 33.345 20.4111 32C20.4111 30.655 20.6507 29.3653 21.056 28.1493L14.3127 22.9169C12.9309 25.6437 12.1387 28.7205 12.1387 32C12.1387 35.2795 12.9309 38.3564 14.3127 41.0831L19.5636 36.993L21.056 35.8507Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
</svg>
`,$_e=Tr`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#1DC956" rx="3" />
  <path
    fill="#1FAD7E"
    stroke="#fff"
    stroke-width="2"
    d="m30.49 29.13-.49-.27-.49.27-12.77 7.1-.05.02c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45l-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-12.77-7.1Z"
  />
  <path
    fill="#2BEE6C"
    stroke="#fff"
    stroke-width="2"
    d="m30.49 19.13-.49-.27-.49.27-12.77 7.1-.05.02c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45l-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-12.77-7.1Z"
  />
  <path
    fill="#86F999"
    stroke="#fff"
    stroke-width="2"
    d="m46.69 21.06-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-6.32-3.51-.18-.1c-2.33-1.3-3.72-2.06-5.22-2.33a9 9 0 0 0-3.08 0c-1.5.27-2.9 1.04-5.22 2.33l-.17.1-6.33 3.51-.05.03c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45Z"
  />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,D_e=Tr`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_241_31636)">
    <path d="M0 26.5595C0 16.6913 0 11.7572 2.1019 8.07217C3.5216 5.58318 5.58366 3.52111 8.07266 2.10141C11.7577 -0.000488281 16.6918 -0.000488281 26.56 -0.000488281H37.44C47.3082 -0.000488281 52.2423 -0.000488281 55.9273 2.10141C58.4163 3.52111 60.4784 5.58318 61.8981 8.07217C64 11.7572 64 16.6913 64 26.5595V37.4395C64 47.3077 64 52.2418 61.8981 55.9269C60.4784 58.4159 58.4163 60.4779 55.9273 61.8976C52.2423 63.9995 47.3082 63.9995 37.44 63.9995H26.56C16.6918 63.9995 11.7577 63.9995 8.07266 61.8976C5.58366 60.4779 3.5216 58.4159 2.1019 55.9269C0 52.2418 0 47.3077 0 37.4395V26.5595Z" fill="#794CFF"/>
    <path d="M0.5 26.5595C0.5 21.6163 0.50047 17.942 0.760736 15.0418C1.02039 12.1485 1.53555 10.0742 2.53621 8.3199C3.91155 5.90869 5.90917 3.91106 8.32039 2.53572C10.0747 1.53506 12.1489 1.01991 15.0423 0.760247C17.9425 0.499981 21.6168 0.499512 26.56 0.499512H37.44C42.3832 0.499512 46.0575 0.499981 48.9577 0.760247C51.8511 1.01991 53.9253 1.53506 55.6796 2.53572C58.0908 3.91106 60.0885 5.90869 61.4638 8.3199C62.4645 10.0742 62.9796 12.1485 63.2393 15.0418C63.4995 17.942 63.5 21.6163 63.5 26.5595V37.4395C63.5 42.3827 63.4995 46.057 63.2393 48.9572C62.9796 51.8506 62.4645 53.9248 61.4638 55.6791C60.0885 58.0903 58.0908 60.088 55.6796 61.4633C53.9253 62.464 51.8511 62.9791 48.9577 63.2388C46.0575 63.499 42.3832 63.4995 37.44 63.4995H26.56C21.6168 63.4995 17.9425 63.499 15.0423 63.2388C12.1489 62.9791 10.0747 62.464 8.32039 61.4633C5.90917 60.088 3.91155 58.0903 2.53621 55.6791C1.53555 53.9248 1.02039 51.8506 0.760736 48.9572C0.50047 46.057 0.5 42.3827 0.5 37.4395V26.5595Z" stroke="#141414" stroke-opacity="0.1"/>
    <path d="M40 39.4595C44.7824 36.693 48 31.5222 48 25.6C48 16.7634 40.8366 9.59998 32 9.59998C23.1634 9.59998 16 16.7634 16 25.6C16 31.5222 19.2176 36.693 24 39.4595V45.8144H40V39.4595Z" fill="#906EF7"/>
    <path d="M24 49.9689C24 51.8192 24 52.7444 24.3941 53.4353C24.6603 53.902 25.0469 54.2886 25.5136 54.5548C26.2046 54.9489 27.1297 54.9489 28.98 54.9489H35.02C36.8703 54.9489 37.7954 54.9489 38.4864 54.5548C38.9531 54.2886 39.3397 53.902 39.6059 53.4353C40 52.7444 40 51.8192 40 49.9689V45.8144H24V49.9689Z" fill="#906EF7"/>
    <path d="M24 45.8144V39.4595C19.2176 36.693 16 31.5222 16 25.6C16 16.7634 23.1634 9.59998 32 9.59998C40.8366 9.59998 48 16.7634 48 25.6C48 31.5222 44.7824 36.693 40 39.4595V45.8144M24 45.8144H40M24 45.8144V49.9689C24 51.8192 24 52.7444 24.3941 53.4353C24.6603 53.902 25.0469 54.2886 25.5136 54.5548C26.2046 54.9489 27.1297 54.9489 28.98 54.9489H35.02C36.8703 54.9489 37.7954 54.9489 38.4864 54.5548C38.9531 54.2886 39.3397 53.902 39.6059 53.4353C40 52.7444 40 51.8192 40 49.9689V45.8144" stroke="white" stroke-width="2" stroke-linejoin="round"/>
    <path d="M24 49.9689C24 51.8192 24 52.7444 24.3941 53.4353C24.6603 53.902 25.0469 54.2886 25.5136 54.5548C26.2046 54.9489 27.1297 54.9489 28.98 54.9489H35.02C36.8703 54.9489 37.7954 54.9489 38.4864 54.5548C38.9531 54.2886 39.3397 53.902 39.6059 53.4353C40 52.7444 40 51.8192 40 49.9689V45.8144H24V49.9689Z" fill="#643CDD" stroke="white" stroke-width="2" stroke-linejoin="round"/>
    <path d="M29.6735 26.9101V29.1109H34.0753V26.9101C34.0753 25.6945 35.0607 24.7092 36.2762 24.7092C37.4917 24.7092 38.4771 25.6945 38.4771 26.9101C38.4771 28.1256 37.4917 29.1109 36.2762 29.1109H34.0753H29.6735H27.4726C26.2571 29.1109 25.2717 28.1256 25.2717 26.9101C25.2717 25.6945 26.2571 24.7092 27.4726 24.7092C28.6881 24.7092 29.6735 25.6945 29.6735 26.9101Z" fill="#906EF7"/>
    <path d="M29.6735 45.3183V26.9101C29.6735 25.6945 28.6881 24.7092 27.4726 24.7092V24.7092C26.2571 24.7092 25.2717 25.6945 25.2717 26.9101V26.9101C25.2717 28.1256 26.2571 29.1109 27.4726 29.1109H36.2762C37.4917 29.1109 38.4771 28.1256 38.4771 26.9101V26.9101C38.4771 25.6945 37.4917 24.7092 36.2762 24.7092V24.7092C35.0607 24.7092 34.0753 25.6945 34.0753 26.9101V45.3183" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  </g>
  <defs>
    <clipPath id="clip0_241_31636">
      <rect width="64" height="64" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,L_e=Tr`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#C653C6" rx="3" />
  <path
    fill="#fff"
    d="M20.03 15.22C20 15.6 20 16.07 20 17v2.8c0 1.14 0 1.7-.2 2.12-.15.31-.3.5-.58.71-.37.28-1.06.42-2.43.7-.59.12-1.11.29-1.6.51a9 9 0 0 0-4.35 4.36C10 30 10 32.34 10 37c0 4.66 0 7 .84 8.8a9 9 0 0 0 4.36 4.36C17 51 19.34 51 24 51h12c4.66 0 7 0 8.8-.84a9 9 0 0 0 4.36-4.36C50 44 50 41.66 50 37c0-4.66 0-7-.84-8.8a9 9 0 0 0-4.36-4.36c-.48-.22-1-.39-1.6-.5-1.36-.29-2.05-.43-2.42-.7-.27-.22-.43-.4-.58-.72-.2-.42-.2-.98-.2-2.11V17c0-.93 0-1.4-.03-1.78a9 9 0 0 0-8.19-8.19C31.4 7 30.93 7 30 7s-1.4 0-1.78.03a9 9 0 0 0-8.19 8.19Z"
  />
  <path
    fill="#E87DE8"
    d="M22 17c0-.93 0-1.4.04-1.78a7 7 0 0 1 6.18-6.18C28.6 9 29.07 9 30 9s1.4 0 1.78.04a7 7 0 0 1 6.18 6.18c.04.39.04.85.04 1.78v4.5a1.5 1.5 0 0 1-3 0V17c0-.93 0-1.4-.08-1.78a4 4 0 0 0-3.14-3.14C31.39 12 30.93 12 30 12s-1.4 0-1.78.08a4 4 0 0 0-3.14 3.14c-.08.39-.08.85-.08 1.78v4.5a1.5 1.5 0 0 1-3 0V17Z"
  />
  <path
    fill="#E87DE8"
    fill-rule="evenodd"
    d="M12 36.62c0-4.32 0-6.48.92-8.09a7 7 0 0 1 2.61-2.61C17.14 25 19.3 25 23.62 25h6.86c.46 0 .7 0 .9.02 2.73.22 4.37 2.43 4.62 4.98.27-2.7 2.11-5 5.02-5A6.98 6.98 0 0 1 48 31.98v5.4c0 4.32 0 6.48-.92 8.09a7 7 0 0 1-2.61 2.61c-1.61.92-3.77.92-8.09.92h-5.86c-.46 0-.7 0-.9-.02-2.73-.22-4.37-2.43-4.62-4.98-.26 2.58-1.94 4.82-4.71 4.99l-.7.01c-.55 0-.82 0-1.05-.02a7 7 0 0 1-6.52-6.52c-.02-.23-.02-.5-.02-1.05v-4.79Zm21.24-.27a4 4 0 1 0-6.48 0 31.28 31.28 0 0 1 1.57 2.23c.17.4.17.81.17 1.24V42.5a1.5 1.5 0 0 0 3 0V39.82c0-.43 0-.85.17-1.24.09-.2.58-.87 1.57-2.23Z"
    clip-rule="evenodd"
  />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,M_e=Tr`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <path
      fill="#EB8B47"
      d="M0 24.9c0-9.25 0-13.88 1.97-17.33a15 15 0 0 1 5.6-5.6C11.02 0 15.65 0 24.9 0h10.2c9.25 0 13.88 0 17.33 1.97a15 15 0 0 1 5.6 5.6C60 11.02 60 15.65 60 24.9v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6C48.98 60 44.35 60 35.1 60H24.9c-9.25 0-13.88 0-17.33-1.97a15 15 0 0 1-5.6-5.6C0 48.98 0 44.35 0 35.1V24.9Z"
    />
    <path
      stroke="#062B2B"
      stroke-opacity=".1"
      d="M.5 24.9c0-4.64 0-8.08.24-10.8.25-2.7.73-4.65 1.66-6.28A14.5 14.5 0 0 1 7.82 2.4C9.46 1.47 11.39 1 14.1.74A133 133 0 0 1 24.9.5h10.2c4.63 0 8.08 0 10.8.24 2.7.25 4.65.73 6.28 1.66a14.5 14.5 0 0 1 5.42 5.42c.93 1.63 1.41 3.57 1.66 6.28.24 2.72.24 6.16.24 10.8v10.2c0 4.63 0 8.08-.24 10.8-.25 2.7-.73 4.64-1.66 6.28a14.5 14.5 0 0 1-5.42 5.41c-1.63.94-3.57 1.42-6.28 1.67-2.72.24-6.17.24-10.8.24H24.9c-4.63 0-8.08 0-10.8-.24-2.7-.25-4.64-.73-6.28-1.67a14.5 14.5 0 0 1-5.42-5.4C1.47 50.53 1 48.6.74 45.88A133 133 0 0 1 .5 35.1V24.9Z"
    />
    <path
      fill="#FF974C"
      stroke="#fff"
      stroke-width="2"
      d="M39.2 29.2a13 13 0 1 0-18.4 0l1.3 1.28a12.82 12.82 0 0 1 2.1 2.39 6 6 0 0 1 .6 1.47c.2.76.2 1.56.2 3.17v11.24c0 1.08 0 1.61.13 2.12a4 4 0 0 0 .41.98c.26.45.64.83 1.4 1.6l.3.29c.65.65.98.98 1.36 1.09.26.07.54.07.8 0 .38-.11.7-.44 1.36-1.1l3.48-3.47c.65-.65.98-.98 1.09-1.36a1.5 1.5 0 0 0 0-.8c-.1-.38-.44-.7-1.1-1.36l-.47-.48c-.65-.65-.98-.98-1.09-1.36a1.5 1.5 0 0 1 0-.8c.1-.38.44-.7 1.1-1.36l.47-.48c.65-.65.98-.98 1.09-1.36a1.5 1.5 0 0 0 0-.8c-.1-.38-.44-.7-1.1-1.36l-.48-.5c-.65-.64-.98-.97-1.08-1.35a1.5 1.5 0 0 1 0-.79c.1-.38.42-.7 1.06-1.36l5.46-5.55Z"
    />
    <circle cx="30" cy="17" r="4" fill="#EB8B47" stroke="#fff" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M0 0h60v60H0z" /></clipPath>
  </defs>
</svg> `,B_e=Tr`<svg width="40" height="42" viewBox="0 0 40 42" fill="none">
<path opacity="0.7" d="M19.9526 41.9076L7.3877 34.655V26.1226L19.9526 33.3751V41.9076Z" fill="url(#paint0_linear_2113_32117)"/>
<path opacity="0.7" d="M19.9521 41.9076L32.5171 34.655V26.1226L19.9521 33.3751V41.9076Z" fill="url(#paint1_linear_2113_32117)"/>
<path opacity="0.7" d="M39.9095 7.34521V21.8562L32.5166 26.1225V11.6114L39.9095 7.34521Z" fill="url(#paint2_linear_2113_32117)"/>
<path d="M39.9099 7.34536L27.345 0.0927734L19.9521 4.359L32.5171 11.6116L39.9099 7.34536Z" fill="url(#paint3_linear_2113_32117)"/>
<path d="M0 7.34536L12.5649 0.0927734L19.9519 4.359L7.387 11.6116L0 7.34536Z" fill="#F969D3"/>
<path opacity="0.7" d="M0 7.34521V21.8562L7.387 26.1225V11.6114L0 7.34521Z" fill="url(#paint4_linear_2113_32117)"/>
<defs>
<linearGradient id="paint0_linear_2113_32117" x1="18.6099" y1="41.8335" x2="7.73529" y2="8.31842" gradientUnits="userSpaceOnUse">
<stop stop-color="#E98ADA"/>
<stop offset="1" stop-color="#7E4DBD"/>
</linearGradient>
<linearGradient id="paint1_linear_2113_32117" x1="26.2346" y1="26.1226" x2="26.2346" y2="41.9076" gradientUnits="userSpaceOnUse">
<stop stop-color="#719DED"/>
<stop offset="1" stop-color="#2545BE"/>
</linearGradient>
<linearGradient id="paint2_linear_2113_32117" x1="36.213" y1="7.34521" x2="36.213" y2="26.1225" gradientUnits="userSpaceOnUse">
<stop stop-color="#93EBFF"/>
<stop offset="1" stop-color="#197DDB"/>
</linearGradient>
<linearGradient id="paint3_linear_2113_32117" x1="29.931" y1="0.0927734" x2="38.2156" y2="14.8448" gradientUnits="userSpaceOnUse">
<stop stop-color="#F969D3"/>
<stop offset="1" stop-color="#4F51C0"/>
</linearGradient>
<linearGradient id="paint4_linear_2113_32117" x1="18.1251" y1="44.2539" x2="-7.06792" y2="15.2763" gradientUnits="userSpaceOnUse">
<stop stop-color="#E98ADA"/>
<stop offset="1" stop-color="#7E4DBD"/>
</linearGradient>
</defs>
</svg>`,U_e=Tr`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#00ACE6" rx="30" />
    <circle cx="64" cy="39" r="50" fill="#1AC6FF" stroke="#fff" stroke-width="2" />
    <circle cx="78" cy="30" r="50" fill="#4DD2FF" stroke="#fff" stroke-width="2" />
    <circle cx="72" cy="15" r="35" fill="#80DFFF" stroke="#fff" stroke-width="2" />
    <circle cx="34" cy="-17" r="45" stroke="#fff" stroke-width="2" />
    <circle cx="34" cy="-5" r="50" stroke="#fff" stroke-width="2" />
    <circle cx="30" cy="45" r="4" fill="#4DD2FF" stroke="#fff" stroke-width="2" />
    <circle cx="39.5" cy="27.5" r="4" fill="#80DFFF" stroke="#fff" stroke-width="2" />
    <circle cx="16" cy="24" r="4" fill="#19C6FF" stroke="#fff" stroke-width="2" />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#062B2B" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg>`,F_e=Tr`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#C653C6" rx="3" />
    <path
      fill="#E87DE8"
      stroke="#fff"
      stroke-width="2"
      d="M52.1 47.34c0-4.24-1.44-9.55-5.9-12.4a2.86 2.86 0 0 0-1.6-3.89v-.82c0-1.19-.52-2.26-1.35-3a4.74 4.74 0 0 0-2.4-6.26v-5.5a11.31 11.31 0 1 0-22.63 0v2.15a3.34 3.34 0 0 0-1.18 5.05 4.74 4.74 0 0 0-.68 6.44A5.22 5.22 0 0 0 14 35.92c-3.06 4.13-6.1 8.3-6.1 15.64 0 2.67.37 4.86.74 6.39a20.3 20.3 0 0 0 .73 2.39l.02.04v.01l.92-.39-.92.4.26.6h38.26l.3-.49-.87-.51.86.5.02-.01.03-.07a16.32 16.32 0 0 0 .57-1.05c.36-.72.85-1.74 1.33-2.96a25.51 25.51 0 0 0 1.94-9.07Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M26.5 29.5c-3-.5-5.5-3-5.5-7v-7c0-.47 0-.7.03-.9a3 3 0 0 1 2.58-2.57c.2-.03.42-.03.89-.03 2 0 2.5-2.5 2.5-2.5s0 2.5 2.5 2.5c1.4 0 2.1 0 2.65.23a3 3 0 0 1 1.62 1.62c.23.55.23 1.25.23 2.65v6c0 4-3 7-6.5 7 1.35.23 4 0 6.5-2v9.53C34 38.5 31.5 40 28 40s-6-1.5-6-2.97L24 34l2.5 1.5v-6ZM26 47h4.5c2.5 0 3 4 3 5.5h-3l-1-1.5H26v-4Zm-6.25 5.5H24V57h-8c0-1 1-4.5 3.75-4.5Z"
      clip-rule="evenodd"
    />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="3" /></clipPath>
  </defs>
</svg> `,j_e=Tr`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#794CFF" rx="3" />
  <path
    fill="#987DE8"
    stroke="#fff"
    stroke-width="2"
    d="M33 22.5v-1H16v5H8.5V36H13v-5h3v7.5h17V31h1v7.5h17v-17H34v5h-1v-4Z"
  />
  <path fill="#fff" d="M37.5 25h10v10h-10z" />
  <path fill="#4019B2" d="M42.5 25h5v10h-5z" />
  <path fill="#fff" d="M19.5 25h10v10h-10z" />
  <path fill="#4019B2" d="M24.5 25h5v10h-5z" />
  <path fill="#fff" d="M12 30.5h4V37h-4v-6.5Z" />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,z_e=Tr`<svg width="60" height="60" viewBox="0 0 60 60" fill="none">
<g clip-path="url(#clip0_13859_31161)">
  <path d="M0 24.8995C0 15.6481 0 11.0223 1.97053 7.56763C3.3015 5.2342 5.23468 3.30101 7.56812 1.97004C11.0228 -0.000488281 15.6485 -0.000488281 24.9 -0.000488281H35.1C44.3514 -0.000488281 48.9772 -0.000488281 52.4319 1.97004C54.7653 3.30101 56.6985 5.2342 58.0295 7.56763C60 11.0223 60 15.6481 60 24.8995V35.0995C60 44.351 60 48.9767 58.0295 52.4314C56.6985 54.7648 54.7653 56.698 52.4319 58.029C48.9772 59.9995 44.3514 59.9995 35.1 59.9995H24.9C15.6485 59.9995 11.0228 59.9995 7.56812 58.029C5.23468 56.698 3.3015 54.7648 1.97053 52.4314C0 48.9767 0 44.351 0 35.0995V24.8995Z" fill="#EB8B47"/>
  <path d="M0.5 24.8995C0.5 20.2647 0.50047 16.8216 0.744315 14.1045C0.987552 11.3941 1.46987 9.45455 2.40484 7.81536C3.69145 5.55971 5.56019 3.69096 7.81585 2.40435C9.45504 1.46938 11.3946 0.987064 14.105 0.743826C16.8221 0.499981 20.2652 0.499512 24.9 0.499512H35.1C39.7348 0.499512 43.1779 0.499981 45.895 0.743826C48.6054 0.987064 50.545 1.46938 52.1841 2.40435C54.4398 3.69096 56.3086 5.55971 57.5952 7.81536C58.5301 9.45455 59.0124 11.3941 59.2557 14.1045C59.4995 16.8216 59.5 20.2647 59.5 24.8995V35.0995C59.5 39.7343 59.4995 43.1774 59.2557 45.8945C59.0124 48.6049 58.5301 50.5445 57.5952 52.1837C56.3086 54.4393 54.4398 56.3081 52.1841 57.5947C50.545 58.5296 48.6054 59.012 45.895 59.2552C43.1779 59.499 39.7348 59.4995 35.1 59.4995H24.9C20.2652 59.4995 16.8221 59.499 14.105 59.2552C11.3946 59.012 9.45504 58.5296 7.81585 57.5947C5.56019 56.3081 3.69145 54.4393 2.40484 52.1837C1.46987 50.5445 0.987552 48.6049 0.744315 45.8945C0.50047 43.1774 0.5 39.7343 0.5 35.0995V24.8995Z" stroke="#141414" stroke-opacity="0.1"/>
  <path d="M13 26.0335C13 21.7838 13 19.659 14.0822 18.1694C14.4318 17.6883 14.8548 17.2653 15.3359 16.9157C16.8255 15.8335 18.9503 15.8335 23.2 15.8335H36.8C41.0497 15.8335 43.1745 15.8335 44.6641 16.9157C45.1452 17.2653 45.5682 17.6883 45.9178 18.1694C47 19.659 47 21.7838 47 26.0335V33.9668C47 38.2165 47 40.3414 45.9178 41.831C45.5682 42.312 45.1452 42.7351 44.6641 43.0846C43.1745 44.1668 41.0497 44.1668 36.8 44.1668H23.2C18.9503 44.1668 16.8255 44.1668 15.3359 43.0846C14.8548 42.7351 14.4318 42.312 14.0822 41.831C13 40.3414 13 38.2165 13 33.9668V26.0335Z" fill="#FF974C" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M39.5 36.667H36.6666" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M45.2 23.0645H14.8C14.0501 23.0645 13.6751 23.0645 13.4122 23.2554C13.3273 23.3171 13.2527 23.3918 13.191 23.4767C13 23.7395 13 24.1145 13 24.8645V27.2645C13 28.0144 13 28.3894 13.191 28.6522C13.2527 28.7371 13.3273 28.8118 13.4122 28.8735C13.6751 29.0645 14.0501 29.0645 14.8 29.0645H45.2C45.9499 29.0645 46.3249 29.0645 46.5878 28.8735C46.6727 28.8118 46.7473 28.7371 46.809 28.6522C47 28.3894 47 28.0144 47 27.2645V24.8645C47 24.1145 47 23.7395 46.809 23.4767C46.7473 23.3918 46.6727 23.3171 46.5878 23.2554C46.3249 23.0645 45.9499 23.0645 45.2 23.0645Z" fill="white" fill-opacity="0.4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</g>
<defs>
  <clipPath id="clip0_13859_31161">
    <rect width="60" height="60" fill="white"/>
  </clipPath>
</defs>
</svg>`,W_e=Tr`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_241_31635)">
    <path d="M0 26.5595C0 16.6913 0 11.7572 2.1019 8.07217C3.5216 5.58317 5.58366 3.52111 8.07266 2.10141C11.7577 -0.000488281 16.6918 -0.000488281 26.56 -0.000488281H37.44C47.3082 -0.000488281 52.2423 -0.000488281 55.9273 2.10141C58.4163 3.52111 60.4784 5.58317 61.8981 8.07217C64 11.7572 64 16.6913 64 26.5595V37.4395C64 47.3077 64 52.2418 61.8981 55.9268C60.4784 58.4158 58.4163 60.4779 55.9273 61.8976C52.2423 63.9995 47.3082 63.9995 37.44 63.9995H26.56C16.6918 63.9995 11.7577 63.9995 8.07266 61.8976C5.58366 60.4779 3.5216 58.4158 2.1019 55.9268C0 52.2418 0 47.3077 0 37.4395V26.5595Z" fill="#EB8B47"/>
    <path d="M0.5 26.5595C0.5 21.6163 0.50047 17.942 0.760736 15.0418C1.02039 12.1485 1.53555 10.0742 2.53621 8.3199C3.91155 5.90869 5.90917 3.91106 8.32039 2.53572C10.0747 1.53506 12.1489 1.01991 15.0423 0.760247C17.9425 0.499981 21.6168 0.499512 26.56 0.499512H37.44C42.3832 0.499512 46.0575 0.499981 48.9577 0.760247C51.8511 1.01991 53.9253 1.53506 55.6796 2.53572C58.0908 3.91106 60.0885 5.90869 61.4638 8.3199C62.4645 10.0742 62.9796 12.1485 63.2393 15.0418C63.4995 17.942 63.5 21.6163 63.5 26.5595V37.4395C63.5 42.3827 63.4995 46.057 63.2393 48.9572C62.9796 51.8506 62.4645 53.9248 61.4638 55.6791C60.0885 58.0903 58.0908 60.088 55.6796 61.4633C53.9253 62.464 51.8511 62.9791 48.9577 63.2388C46.0575 63.499 42.3832 63.4995 37.44 63.4995H26.56C21.6168 63.4995 17.9425 63.499 15.0423 63.2388C12.1489 62.9791 10.0747 62.464 8.32039 61.4633C5.90917 60.088 3.91155 58.0903 2.53621 55.6791C1.53555 53.9248 1.02039 51.8506 0.760736 48.9572C0.50047 46.057 0.5 42.3827 0.5 37.4395V26.5595Z" stroke="#141414" stroke-opacity="0.1"/>
    <path d="M28.1042 49.2329L13.1024 51.2077L15.0772 36.2059L37.1015 14.1815C39.2441 12.039 40.3154 10.9677 41.5718 10.624C42.4205 10.3918 43.3159 10.3918 44.1645 10.624C45.421 10.9677 46.4922 12.039 48.6348 14.1815L50.1286 15.6753C52.2711 17.8179 53.3424 18.8891 53.6861 20.1456C53.9183 20.9942 53.9183 21.8896 53.6861 22.7383C53.3424 23.9947 52.2711 25.066 50.1286 27.2086L28.1042 49.2329Z" fill="#FF974C" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M38.5962 20.5376L22.4199 36.7139" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M43.7727 25.714L27.5964 41.8903" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M22.3703 36.7635C19.3258 39.808 16.0198 36.6395 16.2616 35.0324" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M27.5466 41.9399C24.5034 44.9831 28.155 48.7098 29.2738 48.0475" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M27.5468 41.9398C23.428 46.0586 18.2516 40.8822 22.3704 36.7634" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M15.8191 50.5214C15.4711 49.5823 14.728 48.8392 13.7889 48.4912" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M49.2862 29.5805L34.7275 15.0219" stroke="#E4E7E7" stroke-width="2" stroke-linejoin="round"/>
  </g>
  <defs>
    <clipPath id="clip0_241_31635">
      <rect width="64" height="64" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,H_e=Tr`<svg
  viewBox="0 0 60 60"
  fill="none"
>
  <g clip-path="url(#1)">
    <rect width="60" height="60" rx="30" fill="#00ACE6" />
    <path
      d="M59 73C59 89.0163 46.0163 102 30 102C13.9837 102 1 89.0163 1 73C1 56.9837 12 44 30 44C48 44 59 56.9837 59 73Z"
      fill="#1AC6FF"
      stroke="white"
      stroke-width="2"
    />
    <path
      d="M18.6904 19.9015C19.6264 15.3286 23.3466 11.8445 27.9708 11.2096C29.3231 11.024 30.6751 11.0238 32.0289 11.2096C36.6532 11.8445 40.3733 15.3286 41.3094 19.9015C41.4868 20.7681 41.6309 21.6509 41.7492 22.5271C41.8811 23.5041 41.8811 24.4944 41.7492 25.4715C41.6309 26.3476 41.4868 27.2304 41.3094 28.097C40.3733 32.6699 36.6532 36.154 32.0289 36.7889C30.6772 36.9744 29.3216 36.9743 27.9708 36.7889C23.3466 36.154 19.6264 32.6699 18.6904 28.097C18.513 27.2304 18.3689 26.3476 18.2506 25.4715C18.1186 24.4944 18.1186 23.5041 18.2506 22.5271C18.3689 21.6509 18.513 20.7681 18.6904 19.9015Z"
      fill="#1AC6FF"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="24.5" cy="23.5" r="1.5" fill="white" />
    <circle cx="35.5" cy="23.5" r="1.5" fill="white" />
    <path
      d="M31 20L28 28H32"
      stroke="white"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  </g>
  <rect x="0.5" y="0.5" width="59" height="59" rx="29.5" stroke="white" stroke-opacity="0.1" />
  <defs>
    <clipPath id="1">
      <rect width="60" height="60" rx="30" fill="white" />
    </clipPath>
  </defs>
</svg> `,V_e=Tr`<svg fill="none" viewBox="0 0 80 80">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M40 80a40 40 0 1 0 0-80 40 40 0 0 0 0 80Z" />
    <path
      stroke="#fff"
      stroke-opacity=".1"
      d="M79.5 40a39.5 39.5 0 1 1-79 0 39.5 39.5 0 0 1 79 0Z"
    />
    <path
      fill="#fff"
      d="m62.62 51.54-7.54 7.91a1.75 1.75 0 0 1-1.29.55H18.02a.9.9 0 0 1-.8-.52.84.84 0 0 1 .16-.92l7.55-7.92a1.75 1.75 0 0 1 1.28-.55h35.77a.87.87 0 0 1 .8.52.84.84 0 0 1-.16.93Zm-7.54-15.95a1.75 1.75 0 0 0-1.29-.54H18.02a.89.89 0 0 0-.8.51.84.84 0 0 0 .16.93l7.55 7.92a1.75 1.75 0 0 0 1.28.54h35.77a.89.89 0 0 0 .8-.51.84.84 0 0 0-.16-.93l-7.54-7.92ZM18.02 29.9h35.77a1.79 1.79 0 0 0 1.29-.54l7.54-7.92a.85.85 0 0 0 .16-.93.87.87 0 0 0-.8-.51H26.21a1.79 1.79 0 0 0-1.28.54l-7.55 7.92a.85.85 0 0 0-.16.93.89.89 0 0 0 .8.52Z"
    />
  </g>
  <defs>
    <linearGradient id="b" x1="6.75" x2="80.68" y1="81.91" y2="7.37" gradientUnits="userSpaceOnUse">
      <stop offset=".08" stop-color="#9945FF" />
      <stop offset=".3" stop-color="#8752F3" />
      <stop offset=".5" stop-color="#5497D5" />
      <stop offset=".6" stop-color="#43B4CA" />
      <stop offset=".72" stop-color="#28E0B9" />
      <stop offset=".97" stop-color="#19FB9B" />
    </linearGradient>
    <clipPath id="a"><path fill="#fff" d="M0 0h80v80H0z" /></clipPath>
  </defs>
</svg> `,q_e=Tr`<svg viewBox="0 0 60 60" fill="none">
  <g clip-path="url(#1)">
    <path
      d="M0 24.9C0 15.6485 0 11.0228 1.97053 7.56812C3.3015 5.23468 5.23468 3.3015 7.56812 1.97053C11.0228 0 15.6485 0 24.9 0H35.1C44.3514 0 48.9772 0 52.4319 1.97053C54.7653 3.3015 56.6985 5.23468 58.0295 7.56812C60 11.0228 60 15.6485 60 24.9V35.1C60 44.3514 60 48.9772 58.0295 52.4319C56.6985 54.7653 54.7653 56.6985 52.4319 58.0295C48.9772 60 44.3514 60 35.1 60H24.9C15.6485 60 11.0228 60 7.56812 58.0295C5.23468 56.6985 3.3015 54.7653 1.97053 52.4319C0 48.9772 0 44.3514 0 35.1V24.9Z"
      fill="#794CFF"
    />
    <path
      d="M0.5 24.9C0.5 20.2652 0.50047 16.8221 0.744315 14.105C0.987552 11.3946 1.46987 9.45504 2.40484 7.81585C3.69145 5.56019 5.56019 3.69145 7.81585 2.40484C9.45504 1.46987 11.3946 0.987552 14.105 0.744315C16.8221 0.50047 20.2652 0.5 24.9 0.5H35.1C39.7348 0.5 43.1779 0.50047 45.895 0.744315C48.6054 0.987552 50.545 1.46987 52.1841 2.40484C54.4398 3.69145 56.3086 5.56019 57.5952 7.81585C58.5301 9.45504 59.0124 11.3946 59.2557 14.105C59.4995 16.8221 59.5 20.2652 59.5 24.9V35.1C59.5 39.7348 59.4995 43.1779 59.2557 45.895C59.0124 48.6054 58.5301 50.545 57.5952 52.1841C56.3086 54.4398 54.4398 56.3086 52.1841 57.5952C50.545 58.5301 48.6054 59.0124 45.895 59.2557C43.1779 59.4995 39.7348 59.5 35.1 59.5H24.9C20.2652 59.5 16.8221 59.4995 14.105 59.2557C11.3946 59.0124 9.45504 58.5301 7.81585 57.5952C5.56019 56.3086 3.69145 54.4398 2.40484 52.1841C1.46987 50.545 0.987552 48.6054 0.744315 45.895C0.50047 43.1779 0.5 39.7348 0.5 35.1V24.9Z"
      stroke="#062B2B"
      stroke-opacity="0.1"
    />
    <path
      d="M35.1403 31.5016C35.1193 30.9637 35.388 30.4558 35.8446 30.1707C36.1207 29.9982 36.4761 29.8473 36.7921 29.7685C37.3143 29.6382 37.8664 29.7977 38.2386 30.1864C38.8507 30.8257 39.3004 31.6836 39.8033 32.408C40.2796 33.0942 41.4695 33.2512 41.9687 32.5047C42.4839 31.7341 42.9405 30.8229 43.572 30.1399C43.9375 29.7447 44.4866 29.5756 45.0111 29.6967C45.3283 29.7701 45.6863 29.9147 45.9655 30.0823C46.4269 30.3595 46.7045 30.8626 46.6928 31.4008C46.6731 32.3083 46.3764 33.2571 46.2158 34.1473C46.061 35.0048 46.9045 35.8337 47.7592 35.664C48.6464 35.4878 49.5899 35.1747 50.497 35.1391C51.0348 35.1181 51.5427 35.3868 51.8279 35.8433C52.0004 36.1195 52.1513 36.4749 52.2301 36.7908C52.3604 37.3131 52.2009 37.8651 51.8121 38.2374C51.1729 38.8495 50.3151 39.2991 49.5908 39.8019C48.9046 40.2782 48.7473 41.4683 49.4939 41.9675C50.2644 42.4827 51.1757 42.9393 51.8587 43.5708C52.2539 43.9362 52.423 44.4854 52.3018 45.0099C52.2285 45.3271 52.0839 45.6851 51.9162 45.9642C51.6391 46.4257 51.1359 46.7032 50.5978 46.6916C49.6903 46.6719 48.7417 46.3753 47.8516 46.2146C46.9939 46.0598 46.1648 46.9035 46.3346 47.7583C46.5108 48.6454 46.8239 49.5888 46.8594 50.4958C46.8805 51.0336 46.6117 51.5415 46.1552 51.8267C45.879 51.9992 45.5236 52.15 45.2077 52.2289C44.6854 52.3592 44.1334 52.1997 43.7611 51.8109C43.1491 51.1718 42.6996 50.314 42.1968 49.5897C41.7203 48.9034 40.5301 48.7463 40.0309 49.493C39.5157 50.2634 39.0592 51.1746 38.4278 51.8574C38.0623 52.2527 37.5132 52.4218 36.9887 52.3006C36.6715 52.2273 36.3135 52.0826 36.0343 51.915C35.5729 51.6379 35.2953 51.1347 35.307 50.5966C35.3267 49.6891 35.6233 48.7405 35.7839 47.8505C35.9388 46.9928 35.0951 46.1636 34.2402 46.3334C33.3531 46.5096 32.4098 46.8227 31.5028 46.8582C30.9649 46.8793 30.457 46.6105 30.1719 46.154C29.9994 45.8778 29.8485 45.5224 29.7697 45.2065C29.6394 44.6842 29.7989 44.1322 30.1877 43.7599C30.8269 43.1479 31.6847 42.6982 32.4091 42.1954C33.0954 41.7189 33.2522 40.5289 32.5056 40.0297C31.7351 39.5145 30.824 39.058 30.1411 38.4265C29.7459 38.0611 29.5768 37.5119 29.698 36.9875C29.7713 36.6702 29.9159 36.3122 30.0836 36.0331C30.3607 35.5717 30.8638 35.2941 31.402 35.3058C32.3095 35.3255 33.2583 35.6221 34.1485 35.7828C35.006 35.9376 35.8349 35.094 35.6652 34.2393C35.489 33.3521 35.1759 32.4087 35.1403 31.5016Z"
      fill="#906EF7"
      stroke="white"
      stroke-width="2"
    />
    <path
      d="M20.7706 8.22357C20.9036 7.51411 21.5231 7 22.2449 7H23.7551C24.4769 7 25.0964 7.51411 25.2294 8.22357C25.5051 9.69403 25.4829 11.6321 27.1202 12.2606C27.3092 12.3331 27.4958 12.4105 27.6798 12.4926C29.2818 13.2072 30.6374 11.8199 31.8721 10.9752C32.4678 10.5676 33.2694 10.6421 33.7798 11.1525L34.8477 12.2204C35.3581 12.7308 35.4326 13.5323 35.025 14.128C34.1802 15.3627 32.7931 16.7183 33.5077 18.3202C33.5898 18.5043 33.6672 18.6909 33.7398 18.88C34.3683 20.5171 36.3061 20.4949 37.7764 20.7706C38.4859 20.9036 39 21.5231 39 22.2449V23.7551C39 24.4769 38.4859 25.0964 37.7764 25.2294C36.3061 25.5051 34.3685 25.483 33.7401 27.1201C33.6675 27.3093 33.59 27.4961 33.5079 27.6803C32.7934 29.282 34.1803 30.6374 35.025 31.8719C35.4326 32.4677 35.3581 33.2692 34.8477 33.7796L33.7798 34.8475C33.2694 35.3579 32.4678 35.4324 31.8721 35.0248C30.6376 34.1801 29.2823 32.7934 27.6806 33.508C27.4962 33.5903 27.3093 33.6678 27.12 33.7405C25.483 34.3688 25.5051 36.3062 25.2294 37.7764C25.0964 38.4859 24.4769 39 23.7551 39H22.2449C21.5231 39 20.9036 38.4859 20.7706 37.7764C20.4949 36.3062 20.517 34.3688 18.88 33.7405C18.6908 33.6678 18.5039 33.5903 18.3196 33.5081C16.7179 32.7936 15.3625 34.1804 14.1279 35.0251C13.5322 35.4327 12.7307 35.3582 12.2203 34.8478L11.1524 33.7799C10.642 33.2695 10.5675 32.4679 10.9751 31.8722C11.8198 30.6376 13.2067 29.2822 12.4922 27.6804C12.41 27.4962 12.3325 27.3093 12.2599 27.1201C11.6315 25.483 9.69392 25.5051 8.22357 25.2294C7.51411 25.0964 7 24.4769 7 23.7551V22.2449C7 21.5231 7.51411 20.9036 8.22357 20.7706C9.69394 20.4949 11.6317 20.5171 12.2602 18.88C12.3328 18.6909 12.4103 18.5042 12.4924 18.3201C13.207 16.7181 11.8198 15.3625 10.975 14.1278C10.5674 13.5321 10.6419 12.7305 11.1523 12.2201L12.2202 11.1522C12.7306 10.6418 13.5322 10.5673 14.1279 10.9749C15.3626 11.8197 16.7184 13.2071 18.3204 12.4925C18.5044 12.4105 18.6909 12.3331 18.8799 12.2606C20.5171 11.6321 20.4949 9.69403 20.7706 8.22357Z"
      fill="#906EF7"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="23" cy="23" r="6" fill="#794CFF" stroke="white" stroke-width="2" />
    <circle cx="41" cy="41" r="4" fill="#794CFF" stroke="white" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="1">
      <rect width="60" height="60" fill="white" />
    </clipPath>
  </defs>
</svg> `,G_e=He`
  :host {
    display: block;
    width: var(--local-size);
    height: var(--local-size);
  }

  :host svg {
    width: 100%;
    height: 100%;
  }
`;var N8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const K_e={browser:I_e,dao:N_e,defi:P_e,defiAlt:k_e,eth:R_e,layers:$_e,lock:L_e,login:M_e,network:U_e,nft:F_e,noun:j_e,profile:H_e,system:q_e,meld:B_e,onrampCard:z_e,google:O_e,pencil:W_e,lightbulb:D_e,solana:V_e,bitcoin:T_e};let V2=class extends _e{constructor(){super(...arguments),this.name="browser",this.size="md"}render(){return this.style.cssText=`
       --local-size: var(--wui-visual-size-${this.size});
   `,B`${K_e[this.name]}`}};V2.styles=[Ut,G_e];N8([Z()],V2.prototype,"name",void 0);N8([Z()],V2.prototype,"size",void 0);V2=N8([Ae("wui-visual")],V2);var qG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let bP=class extends _e{constructor(){super(...arguments),this.data=[]}render(){return B`
      <wui-flex flexDirection="column" alignItems="center" gap="l">
        ${this.data.map(e=>B`
            <wui-flex flexDirection="column" alignItems="center" gap="xl">
              <wui-flex flexDirection="row" justifyContent="center" gap="1xs">
                ${e.images.map(n=>B`<wui-visual name=${n}></wui-visual>`)}
              </wui-flex>
            </wui-flex>
            <wui-flex flexDirection="column" alignItems="center" gap="xxs">
              <wui-text variant="paragraph-500" color="fg-100" align="center">
                ${e.title}
              </wui-text>
              <wui-text variant="small-500" color="fg-200" align="center">${e.text}</wui-text>
            </wui-flex>
          `)}
      </wui-flex>
    `}};qG([Z({type:Array})],bP.prototype,"data",void 0);bP=qG([Ae("w3m-help-widget")],bP);var Y_e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const Q_e=[{images:["login","profile","lock"],title:"One login for all of web3",text:"Log in to any app by connecting your wallet. Say goodbye to countless passwords!"},{images:["defi","nft","eth"],title:"A home for your digital assets",text:"A wallet lets you store, send and receive digital assets like cryptocurrencies and NFTs."},{images:["browser","noun","dao"],title:"Your gateway to a new web",text:"With your wallet, you can explore and interact with DeFi, NFTs, DAOs, and much more."}];let vP=class extends _e{render(){return B`
      <wui-flex
        flexDirection="column"
        .padding=${["xxl","xl","xl","xl"]}
        alignItems="center"
        gap="xl"
      >
        <w3m-help-widget .data=${Q_e}></w3m-help-widget>
        <wui-button variant="main" size="md" @click=${this.onGetWallet.bind(this)}>
          <wui-icon color="inherit" slot="iconLeft" name="wallet"></wui-icon>
          Get a wallet
        </wui-button>
      </wui-flex>
    `}onGetWallet(){At.sendEvent({type:"track",event:"CLICK_GET_WALLET"}),Ee.push("GetWallet")}};vP=Y_e([Ae("w3m-what-is-a-wallet-view")],vP);const Z_e=He`
  wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }
  wui-flex::-webkit-scrollbar {
    display: none;
  }
  wui-flex.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;var GG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let q2=class extends _e{constructor(){super(),this.unsubscribe=[],this.checked=Gm.state.isLegalCheckboxChecked,this.unsubscribe.push(Gm.subscribeKey("isLegalCheckboxChecked",e=>{this.checked=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){var c;const{termsConditionsUrl:e,privacyPolicyUrl:n}=ce.state,r=(c=ce.state.features)==null?void 0:c.legalCheckbox,s=!!(e||n)&&!!r,o=s&&!this.checked,a=o?-1:void 0;return B`
      <w3m-legal-checkbox></w3m-legal-checkbox>
      <wui-flex
        flexDirection="column"
        .padding=${s?["0","s","s","s"]:"s"}
        gap="xs"
        class=${We(o?"disabled":void 0)}
      >
        <w3m-wallet-login-list tabIdx=${We(a)}></w3m-wallet-login-list>
      </wui-flex>
      <w3m-legal-footer></w3m-legal-footer>
    `}};q2.styles=Z_e;GG([fe()],q2.prototype,"checked",void 0);q2=GG([Ae("w3m-connect-wallets-view")],q2);const J_e=He`
  :host {
    display: block;
    width: var(--wui-box-size-lg);
    height: var(--wui-box-size-lg);
  }

  svg {
    width: var(--wui-box-size-lg);
    height: var(--wui-box-size-lg);
    fill: none;
    stroke: transparent;
    stroke-linecap: round;
  }

  use {
    stroke: var(--wui-color-accent-100);
    stroke-width: 2px;
    stroke-dasharray: 54, 118;
    stroke-dashoffset: 172;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var X_e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let CP=class extends _e{render(){return B`
      <svg viewBox="0 0 54 59">
        <path
          id="wui-loader-path"
          d="M17.22 5.295c3.877-2.277 5.737-3.363 7.72-3.726a11.44 11.44 0 0 1 4.12 0c1.983.363 3.844 1.45 7.72 3.726l6.065 3.562c3.876 2.276 5.731 3.372 7.032 4.938a11.896 11.896 0 0 1 2.06 3.63c.683 1.928.688 4.11.688 8.663v7.124c0 4.553-.005 6.735-.688 8.664a11.896 11.896 0 0 1-2.06 3.63c-1.3 1.565-3.156 2.66-7.032 4.937l-6.065 3.563c-3.877 2.276-5.737 3.362-7.72 3.725a11.46 11.46 0 0 1-4.12 0c-1.983-.363-3.844-1.449-7.72-3.726l-6.065-3.562c-3.876-2.276-5.731-3.372-7.032-4.938a11.885 11.885 0 0 1-2.06-3.63c-.682-1.928-.688-4.11-.688-8.663v-7.124c0-4.553.006-6.735.688-8.664a11.885 11.885 0 0 1 2.06-3.63c1.3-1.565 3.156-2.66 7.032-4.937l6.065-3.562Z"
        />
        <use xlink:href="#wui-loader-path"></use>
      </svg>
    `}};CP.styles=[Ut,J_e];CP=X_e([Ae("wui-loading-hexagon")],CP);const eTe=Tr`<svg width="86" height="96" fill="none">
  <path
    d="M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z"
  />
</svg>`,tTe=Tr`
  <svg fill="none" viewBox="0 0 36 40">
    <path
      d="M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z"
    />
  </svg>
`,nTe=He`
  :host {
    position: relative;
    border-radius: inherit;
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-width);
    height: var(--local-height);
  }

  :host([data-round='true']) {
    background: var(--wui-color-gray-glass-002);
    border-radius: 100%;
    outline: 1px solid var(--wui-color-gray-glass-005);
  }

  svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    fill: var(--wui-color-gray-glass-002);
  }

  svg > path {
    stroke: var(--local-stroke);
  }

  wui-image {
    width: 100%;
    height: 100%;
    -webkit-clip-path: var(--local-path);
    clip-path: var(--local-path);
    background: var(--wui-color-gray-glass-002);
  }

  wui-icon {
    transform: translateY(-5%);
    width: var(--local-icon-size);
    height: var(--local-icon-size);
  }
`;var Qg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Xd=class extends _e{constructor(){super(...arguments),this.size="md",this.name="uknown",this.networkImagesBySize={sm:tTe,md:NG,lg:eTe},this.selected=!1,this.round=!1}render(){return this.round?(this.dataset.round="true",this.style.cssText=`
      --local-width: var(--wui-spacing-3xl);
      --local-height: var(--wui-spacing-3xl);
      --local-icon-size: var(--wui-spacing-l);
    `):this.style.cssText=`

      --local-path: var(--wui-path-network-${this.size});
      --local-width:  var(--wui-width-network-${this.size});
      --local-height:  var(--wui-height-network-${this.size});
      --local-icon-size:  var(--wui-icon-size-network-${this.size});
    `,B`${this.templateVisual()} ${this.svgTemplate()} `}svgTemplate(){return this.round?null:this.networkImagesBySize[this.size]}templateVisual(){return this.imageSrc?B`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:B`<wui-icon size="inherit" color="fg-200" name="networkPlaceholder"></wui-icon>`}};Xd.styles=[Ut,nTe];Qg([Z()],Xd.prototype,"size",void 0);Qg([Z()],Xd.prototype,"name",void 0);Qg([Z({type:Object})],Xd.prototype,"networkImagesBySize",void 0);Qg([Z()],Xd.prototype,"imageSrc",void 0);Qg([Z({type:Boolean})],Xd.prototype,"selected",void 0);Qg([Z({type:Boolean})],Xd.prototype,"round",void 0);Xd=Qg([Ae("wui-network-image")],Xd);const rTe=He`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-hexagon {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: 4px;
    bottom: 0;
    opacity: 0;
    transform: scale(0.5);
    z-index: 1;
  }

  wui-button {
    display: none;
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  wui-button[data-retry='true'] {
    display: block;
    opacity: 1;
  }
`;var P8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Jw=class extends _e{constructor(){var e;super(),this.network=(e=Ee.state.data)==null?void 0:e.network,this.unsubscribe=[],this.showRetry=!1,this.error=!1}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}firstUpdated(){this.onSwitchNetwork()}render(){if(!this.network)throw new Error("w3m-network-switch-view: No network provided");this.onShowRetry();const e=this.getLabel(),n=this.getSubLabel();return B`
      <wui-flex
        data-error=${this.error}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","3xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-network-image
            size="lg"
            imageSrc=${We($n.getNetworkImage(this.network))}
          ></wui-network-image>

          ${this.error?null:B`<wui-loading-hexagon></wui-loading-hexagon>`}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            ?border=${!0}
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text align="center" variant="paragraph-500" color="fg-100">${e}</wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${n}</wui-text>
        </wui-flex>

        <wui-button
          data-retry=${this.showRetry}
          variant="accent"
          size="md"
          .disabled=${!this.error}
          @click=${this.onSwitchNetwork.bind(this)}
        >
          <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
          Try again
        </wui-button>
      </wui-flex>
    `}getSubLabel(){const e=pe.getConnectorId(F.state.activeChain);return pe.getAuthConnector()&&e===oe.CONNECTOR_ID.AUTH?"":this.error?"Switch can be declined if chain is not supported by a wallet or previous request is still active":"Accept connection request in your wallet"}getLabel(){var r;const e=pe.getConnectorId(F.state.activeChain);return pe.getAuthConnector()&&e===oe.CONNECTOR_ID.AUTH?`Switching to ${((r=this.network)==null?void 0:r.name)??"Unknown"} network...`:this.error?"Switch declined":"Approve in wallet"}onShowRetry(){var e;if(this.error&&!this.showRetry){this.showRetry=!0;const n=(e=this.shadowRoot)==null?void 0:e.querySelector("wui-button");n==null||n.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"})}}async onSwitchNetwork(){var e;try{this.error=!1,F.state.activeChain!==((e=this.network)==null?void 0:e.chainNamespace)&&F.setIsSwitchingNamespace(!0),this.network&&await F.switchActiveNetwork(this.network)}catch{this.error=!0}}};Jw.styles=rTe;P8([fe()],Jw.prototype,"showRetry",void 0);P8([fe()],Jw.prototype,"error",void 0);Jw=P8([Ae("w3m-network-switch-view")],Jw);const iTe=He`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button[data-transparent='true'] {
    pointer-events: none;
    background-color: transparent;
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  button:active {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-image {
    width: var(--wui-spacing-3xl);
    height: var(--wui-spacing-3xl);
    border-radius: 100%;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-002);
    opacity: 0.5;
    cursor: not-allowed;
  }

  button:disabled > wui-tag {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-300);
  }
`;var $b=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let op=class extends _e{constructor(){super(...arguments),this.imageSrc="",this.name="",this.disabled=!1,this.selected=!1,this.transparent=!1}render(){return B`
      <button data-transparent=${this.transparent} ?disabled=${this.disabled}>
        <wui-flex gap="s" alignItems="center">
          ${this.templateNetworkImage()}
          <wui-text variant="paragraph-500" color="inherit">${this.name}</wui-text></wui-flex
        >
        ${this.checkmarkTemplate()}
      </button>
    `}checkmarkTemplate(){return this.selected?B`<wui-icon size="sm" color="accent-100" name="checkmarkBold"></wui-icon>`:null}templateNetworkImage(){return this.imageSrc?B`<wui-image size="sm" src=${this.imageSrc} name=${this.name}></wui-image>`:this.imageSrc?null:B`<wui-network-image
        ?round=${!0}
        size="md"
        name=${this.name}
      ></wui-network-image>`}};op.styles=[Ut,Un,iTe];$b([Z()],op.prototype,"imageSrc",void 0);$b([Z()],op.prototype,"name",void 0);$b([Z({type:Boolean})],op.prototype,"disabled",void 0);$b([Z({type:Boolean})],op.prototype,"selected",void 0);$b([Z({type:Boolean})],op.prototype,"transparent",void 0);op=$b([Ae("wui-list-network")],op);const sTe=He`
  .container {
    max-height: 360px;
    overflow: auto;
  }

  .container::-webkit-scrollbar {
    display: none;
  }
`;var px=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ap=class extends _e{constructor(){super(),this.unsubscribe=[],this.network=F.state.activeCaipNetwork,this.requestedCaipNetworks=F.getCaipNetworks(),this.search="",this.onDebouncedSearch=be.debounce(e=>{this.search=e},100),this.unsubscribe.push(qi.subscribeNetworkImages(()=>this.requestUpdate()),F.subscribeKey("activeCaipNetwork",e=>this.network=e),F.subscribe(()=>{this.requestedCaipNetworks=F.getAllRequestedCaipNetworks()}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return B`
      ${this.templateSearchInput()}
      <wui-flex
        class="container"
        .padding=${["0","s","s","s"]}
        flexDirection="column"
        gap="xs"
      >
        ${this.networksTemplate()}
      </wui-flex>

      <wui-separator></wui-separator>

      <wui-flex padding="s" flexDirection="column" gap="m" alignItems="center">
        <wui-text variant="small-400" color="fg-300" align="center">
          Your connected wallet may not support some of the networks available for this dApp
        </wui-text>
        <wui-link @click=${this.onNetworkHelp.bind(this)}>
          <wui-icon size="xs" color="accent-100" slot="iconLeft" name="helpCircle"></wui-icon>
          What is a network
        </wui-link>
      </wui-flex>
    `}templateSearchInput(){return B`
      <wui-flex gap="xs" .padding=${["0","s","s","s"]}>
        <wui-input-text
          @inputChange=${this.onInputChange.bind(this)}
          class="network-search-input"
          size="md"
          placeholder="Search network"
          icon="search"
        ></wui-input-text>
      </wui-flex>
    `}onInputChange(e){this.onDebouncedSearch(e.detail)}onNetworkHelp(){At.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),Ee.push("WhatIsANetwork")}networksTemplate(){var r;const e=F.getAllApprovedCaipNetworkIds(),n=be.sortRequestedNetworks(e,this.requestedCaipNetworks);return this.search?this.filteredNetworks=n==null?void 0:n.filter(i=>{var s;return(s=i==null?void 0:i.name)==null?void 0:s.toLowerCase().includes(this.search.toLowerCase())}):this.filteredNetworks=n,(r=this.filteredNetworks)==null?void 0:r.map(i=>{var s;return B`
        <wui-list-network
          .selected=${((s=this.network)==null?void 0:s.id)===i.id}
          imageSrc=${We($n.getNetworkImage(i))}
          type="network"
          name=${i.name??i.id}
          @click=${()=>this.onSwitchNetwork(i)}
          .disabled=${this.getNetworkDisabled(i)}
          data-testid=${`w3m-network-switch-${i.name??i.id}`}
        ></wui-list-network>
      `})}getNetworkDisabled(e){const n=e.chainNamespace,r=Le.getCaipAddress(n),i=F.getAllApprovedCaipNetworkIds(),s=F.getNetworkProp("supportsAllNetworks",n)!==!1,o=pe.getConnectorId(n),a=pe.getAuthConnector(),c=o===oe.CONNECTOR_ID.AUTH&&a;return!r||s||c?!1:!(i!=null&&i.includes(e.caipNetworkId))}onSwitchNetwork(e){lH.onSwitchNetwork({network:e})}};ap.styles=sTe;px([fe()],ap.prototype,"network",void 0);px([fe()],ap.prototype,"requestedCaipNetworks",void 0);px([fe()],ap.prototype,"filteredNetworks",void 0);px([fe()],ap.prototype,"search",void 0);ap=px([Ae("w3m-networks-view")],ap);const oTe=He`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-visual {
    width: var(--wui-wallet-image-size-lg);
    height: var(--wui-wallet-image-size-lg);
    border-radius: calc(var(--wui-border-radius-5xs) * 9 - var(--wui-border-radius-xxs));
    position: relative;
    overflow: hidden;
  }

  wui-visual::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(var(--wui-border-radius-5xs) * 9 - var(--wui-border-radius-xxs));
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition:
      opacity var(--wui-ease-out-power-2) var(--wui-duration-lg),
      transform var(--wui-ease-out-power-2) var(--wui-duration-lg);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  wui-link {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
  }

  .capitalize {
    text-transform: capitalize;
  }
`;var KG=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const aTe={eip155:"eth",solana:"solana",bip122:"bitcoin",polkadot:void 0};let G2=class extends _e{constructor(){var e,n;super(...arguments),this.unsubscribe=[],this.switchToChain=(e=Ee.state.data)==null?void 0:e.switchToChain,this.caipNetwork=(n=Ee.state.data)==null?void 0:n.network,this.activeChain=F.state.activeChain}firstUpdated(){this.unsubscribe.push(F.subscribeKey("activeChain",e=>this.activeChain=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.switchToChain?oe.CHAIN_NAME_MAP[this.switchToChain]:"supported";if(!this.switchToChain)return null;const n=oe.CHAIN_NAME_MAP[this.switchToChain];return B`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" flexDirection="column" alignItems="center" gap="xl">
          <wui-visual name=${We(aTe[this.switchToChain])}></wui-visual>
          <wui-text
            data-testid=${`w3m-switch-active-chain-to-${n}`}
            variant="paragraph-500"
            color="fg-100"
            align="center"
            >Switch to <span class="capitalize">${n}</span></wui-text
          >
          <wui-text variant="small-400" color="fg-200" align="center">
            Connected wallet doesn't support connecting to ${e} chain. You
            need to connect with a different wallet.
          </wui-text>
          <wui-button
            data-testid="w3m-switch-active-chain-button"
            size="md"
            @click=${this.switchActiveChain.bind(this)}
            >Switch</wui-button
          >
        </wui-flex>
      </wui-flex>
    `}async switchActiveChain(){this.switchToChain&&(F.setIsSwitchingNamespace(!0),pe.setFilterByNamespace(this.switchToChain),this.caipNetwork?await F.switchActiveNetwork(this.caipNetwork):F.setActiveNamespace(this.switchToChain),Ee.reset("Connect"))}};G2.styles=oTe;KG([Z()],G2.prototype,"activeChain",void 0);G2=KG([Ae("w3m-switch-active-chain-view")],G2);var cTe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const lTe=[{images:["network","layers","system"],title:"The systems nuts and bolts",text:"A network is what brings the blockchain to life, as this technical infrastructure allows apps to access the ledger and smart contract services."},{images:["noun","defiAlt","dao"],title:"Designed for different uses",text:"Each network is designed differently, and may therefore suit certain apps and experiences."}];let xP=class extends _e{render(){return B`
      <wui-flex
        flexDirection="column"
        .padding=${["xxl","xl","xl","xl"]}
        alignItems="center"
        gap="xl"
      >
        <w3m-help-widget .data=${lTe}></w3m-help-widget>
        <wui-button
          variant="main"
          size="md"
          @click=${()=>{be.openHref("https://ethereum.org/en/developers/docs/networks/","_blank")}}
        >
          Learn more
          <wui-icon color="inherit" slot="iconRight" name="externalLink"></wui-icon>
        </wui-button>
      </wui-flex>
    `}};xP=cTe([Ae("w3m-what-is-a-network-view")],xP);const uTe=He`
  :host > wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
  }

  :host > wui-flex::-webkit-scrollbar {
    display: none;
  }
`;var k8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Xw=class extends _e{constructor(){var e;super(),this.swapUnsupportedChain=(e=Ee.state.data)==null?void 0:e.swapUnsupportedChain,this.unsubscribe=[],this.disconnecting=!1,this.remoteFeatures=ce.state.remoteFeatures,this.unsubscribe.push(qi.subscribeNetworkImages(()=>this.requestUpdate()),ce.subscribeKey("remoteFeatures",n=>{this.remoteFeatures=n}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return B`
      <wui-flex class="container" flexDirection="column" gap="0">
        <wui-flex
          class="container"
          flexDirection="column"
          .padding=${["m","xl","xs","xl"]}
          alignItems="center"
          gap="xl"
        >
          ${this.descriptionTemplate()}
        </wui-flex>

        <wui-flex flexDirection="column" padding="s" gap="xs">
          ${this.networksTemplate()}
        </wui-flex>

        <wui-separator text="or"></wui-separator>
        <wui-flex flexDirection="column" padding="s" gap="xs">
          <wui-list-item
            variant="icon"
            iconVariant="overlay"
            icon="disconnect"
            ?chevron=${!1}
            .loading=${this.disconnecting}
            @click=${this.onDisconnect.bind(this)}
            data-testid="disconnect-button"
          >
            <wui-text variant="paragraph-500" color="fg-200">Disconnect</wui-text>
          </wui-list-item>
        </wui-flex>
      </wui-flex>
    `}descriptionTemplate(){return this.swapUnsupportedChain?B`
        <wui-text variant="small-400" color="fg-200" align="center">
          The swap feature doesnt support your current network. Switch to an available option to
          continue.
        </wui-text>
      `:B`
      <wui-text variant="small-400" color="fg-200" align="center">
        This app doesnt support your current network. Switch to an available option to continue.
      </wui-text>
    `}networksTemplate(){const e=F.getAllRequestedCaipNetworks(),n=F.getAllApprovedCaipNetworkIds(),r=be.sortRequestedNetworks(n,e);return(this.swapUnsupportedChain?r.filter(s=>rn.SWAP_SUPPORTED_NETWORKS.includes(s.caipNetworkId)):r).map(s=>B`
        <wui-list-network
          imageSrc=${We($n.getNetworkImage(s))}
          name=${s.name??"Unknown"}
          @click=${()=>this.onSwitchNetwork(s)}
        >
        </wui-list-network>
      `)}async onDisconnect(){var e;try{this.disconnecting=!0;const n=F.state.activeChain,i=Ce.getConnections(n).length>0,s=n&&pe.state.activeConnectorIds[n],o=(e=this.remoteFeatures)==null?void 0:e.multiWallet;await Ce.disconnect(o?{id:s,namespace:n}:{}),i&&o&&(Ee.push("ProfileWallets"),Tn.showSuccess("Wallet deleted"))}catch{At.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:"Failed to disconnect"}}),Tn.showError("Failed to disconnect")}finally{this.disconnecting=!1}}async onSwitchNetwork(e){const n=Le.state.caipAddress,r=F.getAllApprovedCaipNetworkIds(),i=F.getNetworkProp("supportsAllNetworks",e.chainNamespace),s=Ee.state.data;n?r!=null&&r.includes(e.caipNetworkId)?await F.switchActiveNetwork(e):i?Ee.push("SwitchNetwork",{...s,network:e}):Ee.push("SwitchNetwork",{...s,network:e}):n||(F.setActiveCaipNetwork(e),Ee.push("Connect"))}};Xw.styles=uTe;k8([fe()],Xw.prototype,"disconnecting",void 0);k8([fe()],Xw.prototype,"remoteFeatures",void 0);Xw=k8([Ae("w3m-unsupported-chain-view")],Xw);const dTe=He`
  wui-flex {
    width: 100%;
    background-color: var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-s);
    padding: var(--wui-spacing-1xs) var(--wui-spacing-s) var(--wui-spacing-1xs)
      var(--wui-spacing-1xs);
  }
`;var R8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let K2=class extends _e{constructor(){super(...arguments),this.icon="externalLink",this.text=""}render(){return B`
      <wui-flex gap="1xs" alignItems="center">
        <wui-icon-box
          size="sm"
          iconcolor="fg-200"
          backgroundcolor="fg-200"
          icon=${this.icon}
          background="transparent"
        ></wui-icon-box>
        <wui-text variant="small-400" color="fg-200">${this.text}</wui-text>
      </wui-flex>
    `}};K2.styles=[Ut,Un,dTe];R8([Z()],K2.prototype,"icon",void 0);R8([Z()],K2.prototype,"text",void 0);K2=R8([Ae("wui-banner")],K2);const fTe=He`
  :host > wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
  }

  :host > wui-flex::-webkit-scrollbar {
    display: none;
  }
`;var hTe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let u5=class extends _e{constructor(){super(),this.unsubscribe=[]}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return B` <wui-flex
      flexDirection="column"
      .padding=${["xs","s","m","s"]}
      gap="xs"
    >
      <wui-banner
        icon="warningCircle"
        text="You can only receive assets on these networks"
      ></wui-banner>
      ${this.networkTemplate()}
    </wui-flex>`}networkTemplate(){const e=F.getAllRequestedCaipNetworks(),n=F.getAllApprovedCaipNetworkIds(),r=F.state.activeCaipNetwork,i=F.checkIfSmartAccountEnabled();let s=be.sortRequestedNetworks(n,e);if(i&&ii(r==null?void 0:r.chainNamespace)===tr.ACCOUNT_TYPES.SMART_ACCOUNT){if(!r)return null;s=[r]}return s.filter(a=>a.chainNamespace===(r==null?void 0:r.chainNamespace)).map(a=>B`
        <wui-list-network
          imageSrc=${We($n.getNetworkImage(a))}
          name=${a.name??"Unknown"}
          ?transparent=${!0}
        >
        </wui-list-network>
      `)}};u5.styles=fTe;u5=hTe([Ae("w3m-wallet-compatible-networks-view")],u5);const pTe=He`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--wui-icon-box-size-xl);
    height: var(--wui-icon-box-size-xl);
    box-shadow: 0 0 0 8px var(--wui-thumbnail-border);
    border-radius: var(--local-border-radius);
    overflow: hidden;
  }

  wui-icon {
    width: 32px;
    height: 32px;
  }
`;var jS=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let eb=class extends _e{render(){return this.style.cssText=`--local-border-radius: ${this.borderRadiusFull?"1000px":"20px"}; background-color: var(--wui-color-modal-bg);`,B`${this.templateVisual()}`}templateVisual(){return this.imageSrc?B`<wui-image src=${this.imageSrc} alt=${this.alt??""}></wui-image>`:B`<wui-icon
      data-parent-size="md"
      size="inherit"
      color="inherit"
      name="walletPlaceholder"
    ></wui-icon>`}};eb.styles=[Ut,pTe];jS([Z()],eb.prototype,"imageSrc",void 0);jS([Z()],eb.prototype,"alt",void 0);jS([Z({type:Boolean})],eb.prototype,"borderRadiusFull",void 0);eb=jS([Ae("wui-visual-thumbnail")],eb);const mTe=He`
  :host {
    display: flex;
    justify-content: center;
    gap: var(--wui-spacing-2xl);
  }

  wui-visual-thumbnail:nth-child(1) {
    z-index: 1;
  }
`;var gTe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let EP=class extends _e{constructor(){var e,n;super(...arguments),this.dappImageUrl=(e=ce.state.metadata)==null?void 0:e.icons,this.walletImageUrl=(n=Le.state.connectedWalletInfo)==null?void 0:n.icon}firstUpdated(){var n;const e=(n=this.shadowRoot)==null?void 0:n.querySelectorAll("wui-visual-thumbnail");e!=null&&e[0]&&this.createAnimation(e[0],"translate(18px)"),e!=null&&e[1]&&this.createAnimation(e[1],"translate(-18px)")}render(){var e;return B`
      <wui-visual-thumbnail
        ?borderRadiusFull=${!0}
        .imageSrc=${(e=this.dappImageUrl)==null?void 0:e[0]}
      ></wui-visual-thumbnail>
      <wui-visual-thumbnail .imageSrc=${this.walletImageUrl}></wui-visual-thumbnail>
    `}createAnimation(e,n){e.animate([{transform:"translateX(0px)"},{transform:n}],{duration:1600,easing:"cubic-bezier(0.56, 0, 0.48, 1)",direction:"alternate",iterations:1/0})}};EP.styles=mTe;EP=gTe([Ae("w3m-siwx-sign-message-thumbnails")],EP);var O8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Y2=class extends _e{constructor(){var e;super(...arguments),this.dappName=(e=ce.state.metadata)==null?void 0:e.name,this.isCancelling=!1,this.isSigning=!1}render(){return B`
      <wui-flex justifyContent="center" .padding=${["2xl","0","xxl","0"]}>
        <w3m-siwx-sign-message-thumbnails></w3m-siwx-sign-message-thumbnails>
      </wui-flex>
      <wui-flex
        .padding=${["0","4xl","l","4xl"]}
        gap="s"
        justifyContent="space-between"
      >
        <wui-text variant="paragraph-500" align="center" color="fg-100"
          >${this.dappName??"Dapp"} needs to connect to your wallet</wui-text
        >
      </wui-flex>
      <wui-flex
        .padding=${["0","3xl","l","3xl"]}
        gap="s"
        justifyContent="space-between"
      >
        <wui-text variant="small-400" align="center" color="fg-200"
          >Sign this message to prove you own this wallet and proceed. Canceling will disconnect
          you.</wui-text
        >
      </wui-flex>
      <wui-flex .padding=${["l","xl","xl","xl"]} gap="s" justifyContent="space-between">
        <wui-button
          size="lg"
          borderRadius="xs"
          fullWidth
          variant="neutral"
          ?loading=${this.isCancelling}
          @click=${this.onCancel.bind(this)}
          data-testid="w3m-connecting-siwe-cancel"
        >
          ${this.isCancelling?"Cancelling...":"Cancel"}
        </wui-button>
        <wui-button
          size="lg"
          borderRadius="xs"
          fullWidth
          variant="main"
          @click=${this.onSign.bind(this)}
          ?loading=${this.isSigning}
          data-testid="w3m-connecting-siwe-sign"
        >
          ${this.isSigning?"Signing...":"Sign"}
        </wui-button>
      </wui-flex>
    `}async onSign(){this.isSigning=!0;try{await Bo.requestSignMessage()}catch(e){if(e instanceof Error&&e.message.includes("OTP is required")){Tn.showError({message:"Something went wrong. We need to verify your account again."}),Ee.replace("DataCapture");return}throw e}finally{this.isSigning=!1}}async onCancel(){this.isCancelling=!0,await Bo.cancelSignMessage().finally(()=>this.isCancelling=!1)}};O8([fe()],Y2.prototype,"isCancelling",void 0);O8([fe()],Y2.prototype,"isSigning",void 0);Y2=O8([Ae("w3m-siwx-sign-message-view")],Y2);const yTe=Object.freeze(Object.defineProperty({__proto__:null,get AppKitAccountButton(){return W3},get AppKitButton(){return H3},get AppKitConnectButton(){return V3},get AppKitNetworkButton(){return q3},get W3mAccountButton(){return nP},get W3mAccountSettingsView(){return pc},get W3mAccountView(){return G3},get W3mAllWalletsView(){return $2},get W3mButton(){return rP},get W3mChooseAccountNameView(){return H2},get W3mConnectButton(){return iP},get W3mConnectView(){return co},get W3mConnectWalletsView(){return q2},get W3mConnectingExternalView(){return pP},get W3mConnectingMultiChainView(){return z2},get W3mConnectingWcBasicView(){return W2},get W3mConnectingWcView(){return sp},get W3mDownloadsView(){return yP},get W3mGetWalletView(){return wP},get W3mNetworkButton(){return sP},get W3mNetworkSwitchView(){return Jw},get W3mNetworksView(){return ap},get W3mProfileWalletsView(){return hs},get W3mRouter(){return Hw},get W3mSIWXSignMessageView(){return Y2},get W3mSwitchActiveChainView(){return G2},get W3mUnsupportedChainView(){return Xw},get W3mWalletCompatibleNetworksView(){return u5},get W3mWhatIsANetworkView(){return xP},get W3mWhatIsAWalletView(){return vP}},Symbol.toStringTag,{value:"Module"}));_S({tagName:"appkit-button",elementClass:H3,react:wa});_S({tagName:"appkit-network-button",elementClass:q3,react:wa});_S({tagName:"appkit-connect-button",elementClass:V3,react:wa});_S({tagName:"appkit-account-button",elementClass:W3,react:wa});let BI;function wTe(t){return BI||(BI=new j3e({...t,sdkVersion:be.generateSdkVersion(t.adapters??[],"react",z3e)})),BI}const iU=()=>{const{isConnected:t,address:e}=epe();return U.useEffect(()=>{console.log("Wallet connected:",t,"Address:",e)},[t,e]),_.jsx("div",{children:_.jsx("appkit-button",{})})},bTe=()=>{const t=U.useCallback(({isActive:r})=>r?"nav-link active-link text-light":"nav-link text-light",[]),e=U.useCallback(({isActive:r})=>r?"nav-link active-link text-light dropdown-toggle":"nav-link text-light dropdown-toggle",[]),n=U.useCallback(({isActive:r})=>r?"text-light active-link text-center":"text-light text-center",[]);return _.jsxs(_.Fragment,{children:[_.jsx("nav",{className:"navbar navbar-expand-lg bg-dark py-2 d-none d-lg-flex",children:_.jsxs("div",{className:"container d-flex justify-content-between align-items-center w-100",children:[_.jsxs(as,{className:"navbar-brand text-light pb-0 mb-0",to:"/",children:[_.jsx("label",{className:"uppercase fs-2 fw-bolder",style:{fontFamily:"Satoshi, sans-serif"},children:"STATE DEX"}),_.jsx("p",{className:"detailAmount mb-0",style:{fontSize:"0.8rem"},children:"Not just a swap  its VOLUME"})]}),_.jsxs("div",{className:"d-flex align-items-center",children:[_.jsxs("ul",{className:"navbar-nav d-flex flex-row align-items-center me-4",children:[_.jsx("li",{className:"nav-item mx-2",children:_.jsx(as,{className:t,to:"/auction",children:"Dav Mint"})}),_.jsx("li",{className:"nav-item mx-2",children:_.jsx(as,{className:t,to:"/live-auction",children:"Auction"})}),_.jsxs("li",{className:"nav-item mx-2 dropdown",children:[_.jsx(as,{className:e,to:"/info",children:"DAV Vault"}),_.jsx("ul",{className:"dropdown-menu custom-dropdown-menu bg-dark border-0 shadow",children:_.jsx("li",{children:_.jsx(as,{className:"dropdown-item text-light",to:"/dav-history",children:"DAV History"})})})]}),_.jsx("li",{className:"nav-item mx-2",children:_.jsx(as,{className:t,to:"/admin",children:"Admin"})})]}),_.jsx("div",{children:_.jsx(iU,{})})]})]})}),_.jsxs("nav",{className:"navbar bg-dark d-lg-none justify-content-between align-items-center py-2",children:[_.jsx(as,{className:"navbar-brand text-light small-text",to:"/",children:_.jsx("h5",{className:"uppercase fs-2 fw-bolder",children:"STATE DEX"})}),_.jsx("div",{className:"me-3 small-text",children:_.jsx(iU,{})})]}),_.jsxs("div",{className:"mobile-nav d-flex d-lg-none justify-content-around fixed-bottom bg-dark py-2",children:[_.jsxs(as,{to:"/auction",className:n,children:[_.jsx("i",{className:"bi bi-coin"}),_.jsx("div",{children:"Dav Mint"})]}),_.jsxs(as,{to:"/live-auction",className:n,children:[_.jsx("i",{className:"bi bi-hammer"}),_.jsx("div",{children:"Auction"})]}),_.jsxs(as,{to:"/info",className:n,children:[_.jsx("i",{className:"bi bi-info-circle"}),_.jsx("div",{children:"DAV Vault"})]}),_.jsxs(as,{target:"_blank",to:"https://system-state-documentation.gitbook.io/system-state",className:n,children:[_.jsx("i",{className:"bi bi-file-earmark-text"}),_.jsx("div",{children:"Docs"})]})]})]})};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function vTe(t,e,n){return(e=xTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sU(Object(n),!0).forEach(function(r){vTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xTe(t){var e=CTe(t,"string");return typeof e=="symbol"?e:e+""}const oU=()=>{};let $8={},YG={},QG=null,ZG={mark:oU,measure:oU};try{typeof window<"u"&&($8=window),typeof document<"u"&&(YG=document),typeof MutationObserver<"u"&&(QG=MutationObserver),typeof performance<"u"&&(ZG=performance)}catch{}const{userAgent:aU=""}=$8.navigator||{},cp=$8,Fr=YG,cU=QG,oA=ZG;cp.document;const ff=!!Fr.documentElement&&!!Fr.head&&typeof Fr.addEventListener=="function"&&typeof Fr.createElement=="function",JG=~aU.indexOf("MSIE")||~aU.indexOf("Trident/");var ETe=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,ATe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,XG={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},STe={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},eK=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Ms="classic",zS="duotone",_Te="sharp",TTe="sharp-duotone",tK=[Ms,zS,_Te,TTe],ITe={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},NTe={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},PTe=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),kTe={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},RTe=["fak","fa-kit","fakd","fa-kit-duotone"],lU={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},OTe=["kit"],$Te={kit:{"fa-kit":"fak"}},DTe=["fak","fakd"],LTe={kit:{fak:"fa-kit"}},uU={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},aA={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},MTe=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],BTe=["fak","fa-kit","fakd","fa-kit-duotone"],UTe={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},FTe={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},jTe={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},AP={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},zTe=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],SP=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...MTe,...zTe],WTe=["solid","regular","light","thin","duotone","brands"],nK=[1,2,3,4,5,6,7,8,9,10],HTe=nK.concat([11,12,13,14,15,16,17,18,19,20]),VTe=[...Object.keys(jTe),...WTe,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",aA.GROUP,aA.SWAP_OPACITY,aA.PRIMARY,aA.SECONDARY].concat(nK.map(t=>"".concat(t,"x"))).concat(HTe.map(t=>"w-".concat(t))),qTe={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const ef="___FONT_AWESOME___",_P=16,rK="fa",iK="svg-inline--fa",Sg="data-fa-i2svg",TP="data-fa-pseudo-element",GTe="data-fa-pseudo-element-pending",D8="data-prefix",L8="data-icon",dU="fontawesome-i2svg",KTe="async",YTe=["HTML","HEAD","STYLE","SCRIPT"],sK=(()=>{try{return!0}catch{return!1}})();function mx(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Ms]}})}const oK=Ge({},XG);oK[Ms]=Ge(Ge(Ge(Ge({},{"fa-duotone":"duotone"}),XG[Ms]),lU.kit),lU["kit-duotone"]);const QTe=mx(oK),IP=Ge({},kTe);IP[Ms]=Ge(Ge(Ge(Ge({},{duotone:"fad"}),IP[Ms]),uU.kit),uU["kit-duotone"]);const fU=mx(IP),NP=Ge({},AP);NP[Ms]=Ge(Ge({},NP[Ms]),LTe.kit);const M8=mx(NP),PP=Ge({},FTe);PP[Ms]=Ge(Ge({},PP[Ms]),$Te.kit);mx(PP);const ZTe=ETe,aK="fa-layers-text",JTe=ATe,XTe=Ge({},ITe);mx(XTe);const e6e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],UI=STe,t6e=[...OTe,...VTe],S1=cp.FontAwesomeConfig||{};function n6e(t){var e=Fr.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function r6e(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Fr&&typeof Fr.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const i=r6e(n6e(n));i!=null&&(S1[r]=i)});const cK={styleDefault:"solid",familyDefault:Ms,cssPrefix:rK,replacementClass:iK,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};S1.familyPrefix&&(S1.cssPrefix=S1.familyPrefix);const tb=Ge(Ge({},cK),S1);tb.autoReplaceSvg||(tb.observeMutations=!1);const Dt={};Object.keys(cK).forEach(t=>{Object.defineProperty(Dt,t,{enumerable:!0,set:function(e){tb[t]=e,_1.forEach(n=>n(Dt))},get:function(){return tb[t]}})});Object.defineProperty(Dt,"familyPrefix",{enumerable:!0,set:function(t){tb.cssPrefix=t,_1.forEach(e=>e(Dt))},get:function(){return tb.cssPrefix}});cp.FontAwesomeConfig=Dt;const _1=[];function i6e(t){return _1.push(t),()=>{_1.splice(_1.indexOf(t),1)}}const Gf=_P,fu={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function s6e(t){if(!t||!ff)return;const e=Fr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=Fr.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Fr.head.insertBefore(e,r),t}const o6e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Q2(){let t=12,e="";for(;t-- >0;)e+=o6e[Math.random()*62|0];return e}function Db(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function B8(t){return t.classList?Db(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function lK(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a6e(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(lK(t[n]),'" '),"").trim()}function WS(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function U8(t){return t.size!==fu.size||t.x!==fu.x||t.y!==fu.y||t.rotate!==fu.rotate||t.flipX||t.flipY}function c6e(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:c,path:u}}function l6e(t){let{transform:e,width:n=_P,height:r=_P,startCentered:i=!1}=t,s="";return i&&JG?s+="translate(".concat(e.x/Gf-n/2,"em, ").concat(e.y/Gf-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/Gf,"em), calc(-50% + ").concat(e.y/Gf,"em)) "):s+="translate(".concat(e.x/Gf,"em, ").concat(e.y/Gf,"em) "),s+="scale(".concat(e.size/Gf*(e.flipX?-1:1),", ").concat(e.size/Gf*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var u6e=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function uK(){const t=rK,e=iK,n=Dt.cssPrefix,r=Dt.replacementClass;let i=u6e;if(n!==t||r!==e){const s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}let hU=!1;function FI(){Dt.autoAddCss&&!hU&&(s6e(uK()),hU=!0)}var d6e={mixout(){return{dom:{css:uK,insertCss:FI}}},hooks(){return{beforeDOMElementCreation(){FI()},beforeI2svg(){FI()}}}};const tf=cp||{};tf[ef]||(tf[ef]={});tf[ef].styles||(tf[ef].styles={});tf[ef].hooks||(tf[ef].hooks={});tf[ef].shims||(tf[ef].shims=[]);var hu=tf[ef];const dK=[],fK=function(){Fr.removeEventListener("DOMContentLoaded",fK),d5=1,dK.map(t=>t())};let d5=!1;ff&&(d5=(Fr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Fr.readyState),d5||Fr.addEventListener("DOMContentLoaded",fK));function f6e(t){ff&&(d5?setTimeout(t,0):dK.push(t))}function gx(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?lK(t):"<".concat(e," ").concat(a6e(n),">").concat(r.map(gx).join(""),"</").concat(e,">")}function pU(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var jI=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=n,c,u,f;for(r===void 0?(c=1,f=e[s[0]]):(c=0,f=r);c<o;c++)u=s[c],f=a(f,e[u],u,e);return f};function h6e(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function kP(t){const e=h6e(t);return e.length===1?e[0].toString(16):null}function p6e(t,e){const n=t.length;let r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function mU(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function RP(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=mU(e);typeof hu.hooks.addPack=="function"&&!r?hu.hooks.addPack(t,mU(e)):hu.styles[t]=Ge(Ge({},hu.styles[t]||{}),i),t==="fas"&&RP("fa",e)}const{styles:Z2,shims:m6e}=hu,hK=Object.keys(M8),g6e=hK.reduce((t,e)=>(t[e]=Object.keys(M8[e]),t),{});let F8=null,pK={},mK={},gK={},yK={},wK={};function y6e(t){return~t6e.indexOf(t)}function w6e(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!y6e(i)?i:null}const bK=()=>{const t=r=>jI(Z2,(i,s,o)=>(i[o]=jI(s,r,{}),i),{});pK=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(a=>typeof a=="number").forEach(a=>{r[a.toString(16)]=s}),r)),mK=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(a=>typeof a=="string").forEach(a=>{r[a]=s}),r)),wK=t((r,i,s)=>{const o=i[2];return r[s]=s,o.forEach(a=>{r[a]=s}),r});const e="far"in Z2||Dt.autoFetchSvg,n=jI(m6e,(r,i)=>{const s=i[0];let o=i[1];const a=i[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:a}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:a}),r},{names:{},unicodes:{}});gK=n.names,yK=n.unicodes,F8=HS(Dt.styleDefault,{family:Dt.familyDefault})};i6e(t=>{F8=HS(t.styleDefault,{family:Dt.familyDefault})});bK();function j8(t,e){return(pK[t]||{})[e]}function b6e(t,e){return(mK[t]||{})[e]}function hm(t,e){return(wK[t]||{})[e]}function vK(t){return gK[t]||{prefix:null,iconName:null}}function v6e(t){const e=yK[t],n=j8("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function lp(){return F8}const CK=()=>({prefix:null,iconName:null,rest:[]});function C6e(t){let e=Ms;const n=hK.reduce((r,i)=>(r[i]="".concat(Dt.cssPrefix,"-").concat(i),r),{});return tK.forEach(r=>{(t.includes(n[r])||t.some(i=>g6e[r].includes(i)))&&(e=r)}),e}function HS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Ms}=e,r=QTe[n][t];if(n===zS&&!t)return"fad";const i=fU[n][t]||fU[n][r],s=t in hu.styles?t:null;return i||s||null}function x6e(t){let e=[],n=null;return t.forEach(r=>{const i=w6e(Dt.cssPrefix,r);i?n=i:r&&e.push(r)}),{iconName:n,rest:e}}function gU(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function VS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let r=null;const i=SP.concat(BTe),s=gU(t.filter(h=>i.includes(h))),o=gU(t.filter(h=>!SP.includes(h))),a=s.filter(h=>(r=h,!eK.includes(h))),[c=null]=a,u=C6e(s),f=Ge(Ge({},x6e(o)),{},{prefix:HS(c,{family:u})});return Ge(Ge(Ge({},f),_6e({values:t,family:u,styles:Z2,config:Dt,canonical:f,givenPrefix:r})),E6e(n,r,f))}function E6e(t,e,n){let{prefix:r,iconName:i}=n;if(t||!r||!i)return{prefix:r,iconName:i};const s=e==="fa"?vK(i):{},o=hm(r,i);return i=s.iconName||o||i,r=s.prefix||r,r==="far"&&!Z2.far&&Z2.fas&&!Dt.autoFetchSvg&&(r="fas"),{prefix:r,iconName:i}}const A6e=tK.filter(t=>t!==Ms||t!==zS),S6e=Object.keys(AP).filter(t=>t!==Ms).map(t=>Object.keys(AP[t])).flat();function _6e(t){const{values:e,family:n,canonical:r,givenPrefix:i="",styles:s={},config:o={}}=t,a=n===zS,c=e.includes("fa-duotone")||e.includes("fad"),u=o.familyDefault==="duotone",f=r.prefix==="fad"||r.prefix==="fa-duotone";if(!a&&(c||u||f)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&A6e.includes(n)&&(Object.keys(s).find(p=>S6e.includes(p))||o.autoFetchSvg)){const p=PTe.get(n).defaultShortPrefixId;r.prefix=p,r.iconName=hm(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||i==="fa")&&(r.prefix=lp()||"fas"),r}class T6e{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]=Ge(Ge({},this.definitions[s]||{}),i[s]),RP(s,i[s]);const o=M8[Ms][s];o&&RP(o,i[s]),bK()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:s,iconName:o,icon:a}=r[i],c=a[2];e[s]||(e[s]={}),c.length>0&&c.forEach(u=>{typeof u=="string"&&(e[s][u]=a)}),e[s][o]=a}),e}}let yU=[],hy={};const Ay={},I6e=Object.keys(Ay);function N6e(t,e){let{mixoutsTo:n}=e;return yU=t,hy={},Object.keys(Ay).forEach(r=>{I6e.indexOf(r)===-1&&delete Ay[r]}),yU.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(o=>{n[s]||(n[s]={}),n[s][o]=i[s][o]})}),r.hooks){const s=r.hooks();Object.keys(s).forEach(o=>{hy[o]||(hy[o]=[]),hy[o].push(s[o])})}r.provides&&r.provides(Ay)}),n}function OP(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(hy[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function _g(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(hy[t]||[]).forEach(s=>{s.apply(null,n)})}function up(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ay[t]?Ay[t].apply(null,e):void 0}function $P(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||lp();if(e)return e=hm(n,e)||e,pU(xK.definitions,n,e)||pU(hu.styles,n,e)}const xK=new T6e,P6e=()=>{Dt.autoReplaceSvg=!1,Dt.observeMutations=!1,_g("noAuto")},k6e={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ff?(_g("beforeI2svg",t),up("pseudoElements2svg",t),up("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;Dt.autoReplaceSvg===!1&&(Dt.autoReplaceSvg=!0),Dt.observeMutations=!0,f6e(()=>{O6e({autoReplaceSvgRoot:e}),_g("watch",t)})}},R6e={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:hm(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=HS(t[0]);return{prefix:n,iconName:hm(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(Dt.cssPrefix,"-"))>-1||t.match(ZTe))){const e=VS(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||lp(),iconName:hm(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=lp();return{prefix:e,iconName:hm(e,t)||t}}}},Ia={noAuto:P6e,config:Dt,dom:k6e,parse:R6e,library:xK,findIconDefinition:$P,toHtml:gx},O6e=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Fr}=t;(Object.keys(hu.styles).length>0||Dt.autoFetchSvg)&&ff&&Dt.autoReplaceSvg&&Ia.dom.i2svg({node:e})};function qS(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>gx(n))}}),Object.defineProperty(t,"node",{get:function(){if(!ff)return;const n=Fr.createElement("div");return n.innerHTML=t.html,n.children}}),t}function $6e(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:o}=t;if(U8(o)&&n.found&&!r.found){const{width:a,height:c}=n,u={x:a/c/2,y:.5};i.style=WS(Ge(Ge({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function D6e(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t;const o=s===!0?"".concat(e,"-").concat(Dt.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ge(Ge({},i),{},{id:o}),children:r}]}]}function z8(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:a,maskId:c,titleId:u,extra:f,watchable:h=!1}=t,{width:p,height:g}=n.found?n:e,w=DTe.includes(r),y=[Dt.replacementClass,i?"".concat(Dt.cssPrefix,"-").concat(i):""].filter(S=>f.classes.indexOf(S)===-1).filter(S=>S!==""||!!S).concat(f.classes).join(" ");let b={children:[],attributes:Ge(Ge({},f.attributes),{},{"data-prefix":r,"data-icon":i,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(g)})};const C=w&&!~f.classes.indexOf("fa-fw")?{width:"".concat(p/g*16*.0625,"em")}:{};h&&(b.attributes[Sg]=""),a&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(u||Q2())},children:[a]}),delete b.attributes.title);const x=Ge(Ge({},b),{},{prefix:r,iconName:i,main:e,mask:n,maskId:c,transform:s,symbol:o,styles:Ge(Ge({},C),f.styles)}),{children:E,attributes:I}=n.found&&e.found?up("generateAbstractMask",x)||{children:[],attributes:{}}:up("generateAbstractIcon",x)||{children:[],attributes:{}};return x.children=E,x.attributes=I,o?D6e(x):$6e(x)}function wU(t){const{content:e,width:n,height:r,transform:i,title:s,extra:o,watchable:a=!1}=t,c=Ge(Ge(Ge({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});a&&(c[Sg]="");const u=Ge({},o.styles);U8(i)&&(u.transform=l6e({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const f=WS(u);f.length>0&&(c.style=f);const h=[];return h.push({tag:"span",attributes:c,children:[e]}),s&&h.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),h}function L6e(t){const{content:e,title:n,extra:r}=t,i=Ge(Ge(Ge({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=WS(r.styles);s.length>0&&(i.style=s);const o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:zI}=hu;function DP(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(Dt.cssPrefix,"-").concat(UI.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Dt.cssPrefix,"-").concat(UI.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Dt.cssPrefix,"-").concat(UI.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const M6e={found:!1,width:512,height:512};function B6e(t,e){!sK&&!Dt.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function LP(t,e){let n=e;return e==="fa"&&Dt.styleDefault!==null&&(e=lp()),new Promise((r,i)=>{if(n==="fa"){const s=vK(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&zI[e]&&zI[e][t]){const s=zI[e][t];return r(DP(s))}B6e(t,e),r(Ge(Ge({},M6e),{},{icon:Dt.showMissingIcons&&t?up("missingIconAbstract")||{}:{}}))})}const bU=()=>{},MP=Dt.measurePerformance&&oA&&oA.mark&&oA.measure?oA:{mark:bU,measure:bU},Xv='FA "6.7.2"',U6e=t=>(MP.mark("".concat(Xv," ").concat(t," begins")),()=>EK(t)),EK=t=>{MP.mark("".concat(Xv," ").concat(t," ends")),MP.measure("".concat(Xv," ").concat(t),"".concat(Xv," ").concat(t," begins"),"".concat(Xv," ").concat(t," ends"))};var W8={begin:U6e,end:EK};const UA=()=>{};function vU(t){return typeof(t.getAttribute?t.getAttribute(Sg):null)=="string"}function F6e(t){const e=t.getAttribute?t.getAttribute(D8):null,n=t.getAttribute?t.getAttribute(L8):null;return e&&n}function j6e(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Dt.replacementClass)}function z6e(){return Dt.autoReplaceSvg===!0?FA.replace:FA[Dt.autoReplaceSvg]||FA.replace}function W6e(t){return Fr.createElementNS("http://www.w3.org/2000/svg",t)}function H6e(t){return Fr.createElement(t)}function AK(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?W6e:H6e}=e;if(typeof t=="string")return Fr.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(AK(s,{ceFn:n}))}),r}function V6e(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const FA={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(AK(n),e)}),e.getAttribute(Sg)===null&&Dt.keepOriginalSource){let n=Fr.createComment(V6e(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~B8(e).indexOf(Dt.replacementClass))return FA.replace(t);const r=new RegExp("".concat(Dt.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const s=n[0].attributes.class.split(" ").reduce((o,a)=>(a===Dt.replacementClass||a.match(r)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}const i=n.map(s=>gx(s)).join(`
`);e.setAttribute(Sg,""),e.innerHTML=i}};function CU(t){t()}function SK(t,e){const n=typeof e=="function"?e:UA;if(t.length===0)n();else{let r=CU;Dt.mutateApproach===KTe&&(r=cp.requestAnimationFrame||CU),r(()=>{const i=z6e(),s=W8.begin("mutate");t.map(i),s(),n()})}}let H8=!1;function _K(){H8=!0}function BP(){H8=!1}let f5=null;function xU(t){if(!cU||!Dt.observeMutations)return;const{treeCallback:e=UA,nodeCallback:n=UA,pseudoElementsCallback:r=UA,observeMutationsRoot:i=Fr}=t;f5=new cU(s=>{if(H8)return;const o=lp();Db(s).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!vU(a.addedNodes[0])&&(Dt.searchPseudoElements&&r(a.target),e(a.target)),a.type==="attributes"&&a.target.parentNode&&Dt.searchPseudoElements&&r(a.target.parentNode),a.type==="attributes"&&vU(a.target)&&~e6e.indexOf(a.attributeName))if(a.attributeName==="class"&&F6e(a.target)){const{prefix:c,iconName:u}=VS(B8(a.target));a.target.setAttribute(D8,c||o),u&&a.target.setAttribute(L8,u)}else j6e(a.target)&&n(a.target)})}),ff&&f5.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function q6e(){f5&&f5.disconnect()}function G6e(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,i)=>{const s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function K6e(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let i=VS(B8(t));return i.prefix||(i.prefix=lp()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=b6e(i.prefix,t.innerText)||j8(i.prefix,kP(t.innerText))),!i.iconName&&Dt.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function Y6e(t){const e=Db(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Dt.autoA11y&&(n?e["aria-labelledby"]="".concat(Dt.replacementClass,"-title-").concat(r||Q2()):(e["aria-hidden"]="true",e.focusable="false")),e}function Q6e(){return{iconName:null,title:null,titleId:null,prefix:null,transform:fu,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function EU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=K6e(t),s=Y6e(t),o=OP("parseNodeAttributes",{},t);let a=e.styleParser?G6e(t):[];return Ge({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:fu,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:a,attributes:s}},o)}const{styles:Z6e}=hu;function TK(t){const e=Dt.autoReplaceSvg==="nest"?EU(t,{styleParser:!1}):EU(t);return~e.extra.classes.indexOf(aK)?up("generateLayersText",t,e):up("generateSvgReplacementMutation",t,e)}function J6e(){return[...RTe,...SP]}function AU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ff)return Promise.resolve();const n=Fr.documentElement.classList,r=f=>n.add("".concat(dU,"-").concat(f)),i=f=>n.remove("".concat(dU,"-").concat(f)),s=Dt.autoFetchSvg?J6e():eK.concat(Object.keys(Z6e));s.includes("fa")||s.push("fa");const o=[".".concat(aK,":not([").concat(Sg,"])")].concat(s.map(f=>".".concat(f,":not([").concat(Sg,"])"))).join(", ");if(o.length===0)return Promise.resolve();let a=[];try{a=Db(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();const c=W8.begin("onTree"),u=a.reduce((f,h)=>{try{const p=TK(h);p&&f.push(p)}catch(p){sK||p.name==="MissingIcon"&&console.error(p)}return f},[]);return new Promise((f,h)=>{Promise.all(u).then(p=>{SK(p,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),c(),f()})}).catch(p=>{c(),h(p)})})}function X6e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;TK(t).then(n=>{n&&SK([n],e)})}function eIe(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:$P(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:$P(i||{})),t(r,Ge(Ge({},n),{},{mask:i}))}}const tIe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=fu,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:a=null,classes:c=[],attributes:u={},styles:f={}}=e;if(!t)return;const{prefix:h,iconName:p,icon:g}=t;return qS(Ge({type:"icon"},t),()=>(_g("beforeDOMElementCreation",{iconDefinition:t,params:e}),Dt.autoA11y&&(o?u["aria-labelledby"]="".concat(Dt.replacementClass,"-title-").concat(a||Q2()):(u["aria-hidden"]="true",u.focusable="false")),z8({icons:{main:DP(g),mask:i?DP(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:p,transform:Ge(Ge({},fu),n),symbol:r,title:o,maskId:s,titleId:a,extra:{attributes:u,styles:f,classes:c}})))};var nIe={mixout(){return{icon:eIe(tIe)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=AU,t.nodeCallback=X6e,t}}},provides(t){t.i2svg=function(e){const{node:n=Fr,callback:r=()=>{}}=e;return AU(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:i,titleId:s,prefix:o,transform:a,symbol:c,mask:u,maskId:f,extra:h}=n;return new Promise((p,g)=>{Promise.all([LP(r,o),u.iconName?LP(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(w=>{let[y,b]=w;p([e,z8({icons:{main:y,mask:b},prefix:o,iconName:r,transform:a,symbol:c,maskId:f,title:i,titleId:s,extra:h,watchable:!0})])}).catch(g)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:o}=e;const a=WS(o);a.length>0&&(r.style=a);let c;return U8(s)&&(c=up("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(c||i.icon),{children:n,attributes:r}}}},rIe={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return qS({type:"layer"},()=>{_g("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(Dt.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},iIe={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return qS({type:"counter",content:t},()=>(_g("beforeDOMElementCreation",{content:t,params:e}),L6e({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(Dt.cssPrefix,"-layers-counter"),...r]}})))}}}},sIe={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=fu,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return qS({type:"text",content:t},()=>(_g("beforeDOMElementCreation",{content:t,params:e}),wU({content:t,transform:Ge(Ge({},fu),n),title:r,extra:{attributes:s,styles:o,classes:["".concat(Dt.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:i,extra:s}=n;let o=null,a=null;if(JG){const c=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/c,a=u.height/c}return Dt.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,wU({content:e.innerHTML,width:o,height:a,transform:i,title:r,extra:s,watchable:!0})])}}};const oIe=new RegExp('"',"ug"),SU=[1105920,1112319],_U=Ge(Ge(Ge(Ge({},{FontAwesome:{normal:"fas",400:"fas"}}),NTe),qTe),UTe),UP=Object.keys(_U).reduce((t,e)=>(t[e.toLowerCase()]=_U[e],t),{}),aIe=Object.keys(UP).reduce((t,e)=>{const n=UP[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function cIe(t){const e=t.replace(oIe,""),n=p6e(e,0),r=n>=SU[0]&&n<=SU[1],i=e.length===2?e[0]===e[1]:!1;return{value:kP(i?e[0]:e),isSecondary:r||i}}function lIe(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(UP[n]||{})[i]||aIe[n]}function TU(t,e){const n="".concat(GTe).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();const o=Db(t.children).filter(p=>p.getAttribute(TP)===e)[0],a=cp.getComputedStyle(t,e),c=a.getPropertyValue("font-family"),u=c.match(JTe),f=a.getPropertyValue("font-weight"),h=a.getPropertyValue("content");if(o&&!u)return t.removeChild(o),r();if(u&&h!=="none"&&h!==""){const p=a.getPropertyValue("content");let g=lIe(c,f);const{value:w,isSecondary:y}=cIe(p),b=u[0].startsWith("FontAwesome");let C=j8(g,w),x=C;if(b){const E=v6e(w);E.iconName&&E.prefix&&(C=E.iconName,g=E.prefix)}if(C&&!y&&(!o||o.getAttribute(D8)!==g||o.getAttribute(L8)!==x)){t.setAttribute(n,x),o&&t.removeChild(o);const E=Q6e(),{extra:I}=E;I.attributes[TP]=e,LP(C,g).then(S=>{const T=z8(Ge(Ge({},E),{},{icons:{main:S,mask:CK()},prefix:g,iconName:x,extra:I,watchable:!0})),R=Fr.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(R,t.firstChild):t.appendChild(R),R.outerHTML=T.map(O=>gx(O)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function uIe(t){return Promise.all([TU(t,"::before"),TU(t,"::after")])}function dIe(t){return t.parentNode!==document.head&&!~YTe.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(TP)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function IU(t){if(ff)return new Promise((e,n)=>{const r=Db(t.querySelectorAll("*")).filter(dIe).map(uIe),i=W8.begin("searchPseudoElements");_K(),Promise.all(r).then(()=>{i(),BP(),e()}).catch(()=>{i(),BP(),n()})})}var fIe={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=IU,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=Fr}=e;Dt.searchPseudoElements&&IU(n)}}};let NU=!1;var hIe={mixout(){return{dom:{unwatch(){_K(),NU=!0}}}},hooks(){return{bootstrap(){xU(OP("mutationObserverCallbacks",{}))},noAuto(){q6e()},watch(t){const{observeMutationsRoot:e}=t;NU?BP():xU(OP("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const PU=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),s=i[0];let o=i.slice(1).join("-");if(s&&o==="h")return n.flipX=!0,n;if(s&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(s){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)};var pIe={mixout(){return{parse:{transform:t=>PU(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=PU(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e;const o={transform:"translate(".concat(i/2," 256)")},a="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),f={transform:"".concat(a," ").concat(c," ").concat(u)},h={transform:"translate(".concat(s/2*-1," -256)")},p={outer:o,inner:f,path:h};return{tag:"g",attributes:Ge({},p.outer),children:[{tag:"g",attributes:Ge({},p.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:Ge(Ge({},n.icon.attributes),p.path)}]}]}}}};const WI={x:0,y:0,width:"100%",height:"100%"};function kU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function mIe(t){return t.tag==="g"?t.children:[t]}var gIe={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?VS(n.split(" ").map(i=>i.trim())):CK();return r.prefix||(r.prefix=lp()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:o,transform:a}=e;const{width:c,icon:u}=i,{width:f,icon:h}=s,p=c6e({transform:a,containerWidth:f,iconWidth:c}),g={tag:"rect",attributes:Ge(Ge({},WI),{},{fill:"white"})},w=u.children?{children:u.children.map(kU)}:{},y={tag:"g",attributes:Ge({},p.inner),children:[kU(Ge({tag:u.tag,attributes:Ge(Ge({},u.attributes),p.path)},w))]},b={tag:"g",attributes:Ge({},p.outer),children:[y]},C="mask-".concat(o||Q2()),x="clip-".concat(o||Q2()),E={tag:"mask",attributes:Ge(Ge({},WI),{},{id:C,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[g,b]},I={tag:"defs",children:[{tag:"clipPath",attributes:{id:x},children:mIe(h)},E]};return n.push(I,{tag:"rect",attributes:Ge({fill:"currentColor","clip-path":"url(#".concat(x,")"),mask:"url(#".concat(C,")")},WI)}),{children:n,attributes:r}}}},yIe={provides(t){let e=!1;cp.matchMedia&&(e=cp.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:Ge(Ge({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const s=Ge(Ge({},i),{},{attributeName:"opacity"}),o={tag:"circle",attributes:Ge(Ge({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:Ge(Ge({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ge(Ge({},s),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:Ge(Ge({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:Ge(Ge({},s),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:Ge(Ge({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ge(Ge({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},wIe={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},bIe=[d6e,nIe,rIe,iIe,sIe,fIe,hIe,pIe,gIe,yIe,wIe];N6e(bIe,{mixoutsTo:Ia});Ia.noAuto;Ia.config;Ia.library;Ia.dom;const FP=Ia.parse;Ia.findIconDefinition;Ia.toHtml;const vIe=Ia.icon;Ia.layer;Ia.text;Ia.counter;var HI={exports:{}},VI,RU;function CIe(){if(RU)return VI;RU=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return VI=t,VI}var qI,OU;function xIe(){if(OU)return qI;OU=1;var t=CIe();function e(){}function n(){}return n.resetWarningCache=e,qI=function(){function r(o,a,c,u,f,h){if(h!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},qI}var $U;function EIe(){return $U||($U=1,HI.exports=xIe()()),HI.exports}var AIe=EIe();const Bt=gc(AIe);var SIe={};function jP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _Ie(t){if(Array.isArray(t))return t}function TIe(t){if(Array.isArray(t))return jP(t)}function sh(t,e,n){return(e=DIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function PIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DU(Object(n),!0).forEach(function(r){sh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RIe(t,e){if(t==null)return{};var n,r,i=OIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function OIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function LU(t,e){return _Ie(t)||NIe(t,e)||IK(t,e)||PIe()}function zP(t){return TIe(t)||IIe(t)||IK(t)||kIe()}function $Ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DIe(t){var e=$Ie(t,"string");return typeof e=="symbol"?e:e+""}function h5(t){"@babel/helpers - typeof";return h5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h5(t)}function IK(t,e){if(t){if(typeof t=="string")return jP(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jP(t,e):void 0}}var LIe="7.0.0-alpha1",WP;try{var MIe=require("@fortawesome/fontawesome-svg-core/package.json");WP=MIe.version}catch{WP=SIe.FA_VERSION||"7.0.0-alpha8"}function BIe(t){var e=t.beat,n=t.fade,r=t.beatFade,i=t.bounce,s=t.shake,o=t.flash,a=t.spin,c=t.spinPulse,u=t.spinReverse,f=t.pulse,h=t.fixedWidth,p=t.inverse,g=t.border,w=t.listItem,y=t.flip,b=t.size,C=t.rotation,x=t.pull,E=t.swapOpacity,I=t.rotateBy,S=t.widthAuto,T=UIe(WP,LIe),R=sh(sh(sh(sh(sh(sh({"fa-beat":e,"fa-fade":n,"fa-beat-fade":r,"fa-bounce":i,"fa-shake":s,"fa-flash":o,"fa-spin":a,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":p,"fa-border":g,"fa-li":w,"fa-flip":y===!0,"fa-flip-horizontal":y==="horizontal"||y==="both","fa-flip-vertical":y==="vertical"||y==="both"},"fa-".concat(b),typeof b<"u"&&b!==null),"fa-rotate-".concat(C),typeof C<"u"&&C!==null&&C!==0),"fa-pull-".concat(x),typeof x<"u"&&x!==null),"fa-swap-opacity",E),"fa-rotate-by",T&&I),"fa-width-auto",T&&S);return Object.keys(R).map(function(O){return R[O]?O:null}).filter(function(O){return O})}function UIe(t,e){for(var n=t.split("-"),r=LU(n,2),i=r[0],s=r[1],o=e.split("-"),a=LU(o,2),c=a[0],u=a[1],f=i.split("."),h=c.split("."),p=0;p<Math.max(f.length,h.length);p++){var g=f[p]||"0",w=h[p]||"0",y=parseInt(g,10),b=parseInt(w,10);if(y!==b)return y>b}for(var C=0;C<Math.max(f.length,h.length);C++){var x=f[C]||"0",E=h[C]||"0";if(x!==E&&x.length!==E.length)return x.length<E.length}return!(s&&!u)}function FIe(t){return t=t-0,t===t}function NK(t){return FIe(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var jIe=["style"];function zIe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function WIe(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=NK(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[zIe(i)]=s:e[i]=s,e},{})}function PK(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(c){return PK(t,c)}),i=Object.keys(e.attributes||{}).reduce(function(c,u){var f=e.attributes[u];switch(u){case"class":c.attrs.className=f,delete e.attributes.class;break;case"style":c.attrs.style=WIe(f);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?c.attrs[u.toLowerCase()]=f:c.attrs[NK(u)]=f}return c},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=RIe(n,jIe);return i.attrs.style=cu(cu({},i.attrs.style),o),t.apply(void 0,[e.tag,cu(cu({},i.attrs),a)].concat(zP(r)))}var kK=!1;try{kK=!0}catch{}function HIe(){if(!kK&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function MU(t){if(t&&h5(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(FP.icon)return FP.icon(t);if(t===null)return null;if(t&&h5(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function GI(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?sh({},t,e):{}}var BU={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,rotateBy:!1,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1,widthAuto:!1},V8=wa.forwardRef(function(t,e){var n=cu(cu({},BU),t),r=n.icon,i=n.mask,s=n.symbol,o=n.className,a=n.title,c=n.titleId,u=n.maskId,f=MU(r),h=GI("classes",[].concat(zP(BIe(n)),zP((o||"").split(" ")))),p=GI("transform",typeof n.transform=="string"?FP.transform(n.transform):n.transform),g=GI("mask",MU(i)),w=vIe(f,cu(cu(cu(cu({},h),p),g),{},{symbol:s,title:a,titleId:c,maskId:u}));if(!w)return HIe("Could not find icon",f),null;var y=w.abstract,b={ref:e};return Object.keys(n).forEach(function(C){BU.hasOwnProperty(C)||(b[C]=n[C])}),VIe(y[0],b)});V8.displayName="FontAwesomeIcon";V8.propTypes={beat:Bt.bool,border:Bt.bool,beatFade:Bt.bool,bounce:Bt.bool,className:Bt.string,fade:Bt.bool,flash:Bt.bool,mask:Bt.oneOfType([Bt.object,Bt.array,Bt.string]),maskId:Bt.string,fixedWidth:Bt.bool,inverse:Bt.bool,flip:Bt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Bt.oneOfType([Bt.object,Bt.array,Bt.string]),listItem:Bt.bool,pull:Bt.oneOf(["right","left"]),pulse:Bt.bool,rotation:Bt.oneOf([0,90,180,270]),rotateBy:Bt.bool,shake:Bt.bool,size:Bt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Bt.bool,spinPulse:Bt.bool,spinReverse:Bt.bool,symbol:Bt.oneOfType([Bt.bool,Bt.string]),title:Bt.string,titleId:Bt.string,transform:Bt.oneOfType([Bt.string,Bt.object]),swapOpacity:Bt.bool,widthAuto:Bt.bool};var VIe=PK.bind(null,wa.createElement);const qIe="6.15.0";function GIe(t,e,n){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function Qs(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function Zt(t,e,n){for(let r in e){let i=e[r];const s=n?n[r]:null;s&&GIe(i,s,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function py(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>py(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return py(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${py(r,e)}: ${py(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ds(t,e){return t&&t.code===e}function q8(t){return ds(t,"CALL_EXCEPTION")}function Vr(t,e,n){let r=t;{const s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${py(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];s.push(o+"="+py(a))}}s.push(`code=${e}`),s.push(`version=${qIe}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Zt(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&Zt(i,{shortMessage:r}),i}function De(t,e,n,r){if(!t)throw Vr(e,n,r)}function ie(t,e,n,r){De(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function RK(t,e,n){n==null&&(n=""),n&&(n=": "+n),De(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),De(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function yx(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),De(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function OK(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(t.substring(i,i+2),16),i+=2;return r}ie(!1,"invalid BytesLike value",e||"value",t)}function En(t,e){return OK(t,e,!1)}function Xs(t,e){return OK(t,e,!0)}function Dr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function G8(t){return Dr(t,!0)||t instanceof Uint8Array}const UU="0123456789abcdef";function ut(t){const e=En(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=UU[(i&240)>>4]+UU[i&15]}return n}function ri(t){return"0x"+t.map(e=>ut(e).substring(2)).join("")}function Sy(t){return Dr(t,!0)?(t.length-2)/2:En(t).length}function ni(t,e,n){const r=En(t);return n!=null&&n>r.length&&De(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),ut(r.slice(e??0,n??r.length))}function $K(t,e,n){const r=En(t);De(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),ut(i)}function nf(t,e){return $K(t,e,!0)}function KIe(t,e){return $K(t,e,!1)}const GS=BigInt(0),tl=BigInt(1),my=9007199254740991;function p5(t,e){const n=KS(t,"value"),r=BigInt(wn(e,"width"));if(De(n>>r===GS,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-tl){const i=(tl<<r)-tl;return-((~n&i)+tl)}return n}function DK(t,e){let n=Ct(t,"value");const r=BigInt(wn(e,"width")),i=tl<<r-tl;if(n<GS){n=-n,De(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(tl<<r)-tl;return(~n&s)+tl}else De(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function pm(t,e){const n=KS(t,"value"),r=BigInt(wn(e,"bits"));return n&(tl<<r)-tl}function Ct(t,e){switch(typeof t){case"bigint":return t;case"number":return ie(Number.isInteger(t),"underflow",e||"value",t),ie(t>=-my&&t<=my,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){ie(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}ie(!1,"invalid BigNumberish value",e||"value",t)}function KS(t,e){const n=Ct(t,e);return De(n>=GS,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const FU="0123456789abcdef";function YS(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=FU[n>>4],e+=FU[n&15];return BigInt(e)}return Ct(t)}function wn(t,e){switch(typeof t){case"bigint":return ie(t>=-my&&t<=my,"overflow",e||"value",t),Number(t);case"number":return ie(Number.isInteger(t),"underflow",e||"value",t),ie(t>=-my&&t<=my,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return wn(BigInt(t),e)}catch(n){ie(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}ie(!1,"invalid numeric value",e||"value",t)}function YIe(t){return wn(YS(t))}function dp(t,e){let r=KS(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=wn(e,"width");for(De(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function Ri(t){const e=KS(t,"value");if(e===GS)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const s=i*2;r[i]=parseInt(n.substring(s,s+2),16)}return r}function Zc(t){let e=ut(G8(t)?t:Ri(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const jU="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const zU=BigInt(58);function QIe(t){const e=En(t);let n=YS(e),r="";for(;n;)r=jU[Number(n%zU)]+r,n/=zU;for(let i=0;i<e.length&&!e[i];i++)r=jU[0]+r;return r}function ZIe(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return En(e)}function JIe(t){const e=En(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var Py;class LK{constructor(e,n,r){he(this,"filter");he(this,"emitter");ae(this,Py);X(this,Py,n),Zt(this,{emitter:e,filter:r})}async removeListener(){N(this,Py)!=null&&await this.emitter.off(this.filter,N(this,Py))}}Py=new WeakMap;function XIe(t,e,n,r,i){ie(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function MK(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t==="OVERRUN"?n.length-e-1:0}function eNe(t,e,n,r,i){return t==="OVERLONG"?(ie(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),MK(t,e,n))}const tNe=Object.freeze({error:XIe,ignore:MK,replace:eNe});function nNe(t,e){e==null&&(e=tNe.error);const n=En(t,"bytes"),r=[];let i=0;for(;i<n.length;){const s=n[i++];if(s>>7===0){r.push(s);continue}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+o>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let c=s&(1<<8-o-1)-1;for(let u=0;u<o;u++){let f=n[i];if((f&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),c=null;break}c=c<<6|f&63,i++}if(c!==null){if(c>1114111){i+=e("OUT_OF_RANGE",i-1-o,n,r,c);continue}if(c>=55296&&c<=57343){i+=e("UTF16_SURROGATE",i-1-o,n,r,c);continue}if(c<=a){i+=e("OVERLONG",i-1-o,n,r,c);continue}r.push(c)}}return r}function Md(t,e){ie(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);ie(r<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function rNe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function m5(t,e){return rNe(nNe(t,e))}function BK(t){async function e(n,r){De(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();De(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),De(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const o=new AbortController,a=setTimeout(()=>{s=Vr("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{s=Vr("request cancelled","CANCELLED"),o.abort()});const c=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal});let u;try{u=await fetch(n.url,c)}catch(g){throw clearTimeout(a),s||g}clearTimeout(a);const f={};u.headers.forEach((g,w)=>{f[w.toLowerCase()]=g});const h=await u.arrayBuffer(),p=h==null?null:new Uint8Array(h);return{statusCode:u.status,statusMessage:u.statusText,headers:f,body:p}}return e}const iNe=12,sNe=250;let WU=BK();const oNe=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),aNe=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let KI=!1;async function UK(t,e){try{const n=t.match(oNe);if(!n)throw new Error("invalid data");return new Hh(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?ZIe(n[3]):lNe(n[3]))}catch{return new Hh(599,"BAD REQUEST (invalid data: URI)",{},null,new rf(t))}}function FK(t){async function e(n,r){try{const i=n.match(aNe);if(!i)throw new Error("invalid link");return new rf(`${t}${i[2]}`)}catch{return new Hh(599,"BAD REQUEST (invalid IPFS URI)",{},null,new rf(n))}}return e}const cA={data:UK,ipfs:FK("https://gateway.ipfs.io/ipfs/")},jK=new WeakMap;var bm,hh;class cNe{constructor(e){ae(this,bm);ae(this,hh);X(this,bm,[]),X(this,hh,!1),jK.set(e,()=>{if(!N(this,hh)){X(this,hh,!0);for(const n of N(this,bm))setTimeout(()=>{n()},0);X(this,bm,[])}})}addListener(e){De(!N(this,hh),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),N(this,bm).push(e)}get cancelled(){return N(this,hh)}checkSignal(){De(!this.cancelled,"cancelled","CANCELLED",{})}}bm=new WeakMap,hh=new WeakMap;function lA(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var ky,Ry,Wc,fd,Oy,$y,Wi,la,hd,vm,Cm,xm,Kl,Hc,ph,Em,e1;const B5=class B5{constructor(e){ae(this,Em);ae(this,ky);ae(this,Ry);ae(this,Wc);ae(this,fd);ae(this,Oy);ae(this,$y);ae(this,Wi);ae(this,la);ae(this,hd);ae(this,vm);ae(this,Cm);ae(this,xm);ae(this,Kl);ae(this,Hc);ae(this,ph);X(this,$y,String(e)),X(this,ky,!1),X(this,Ry,!0),X(this,Wc,{}),X(this,fd,""),X(this,Oy,3e5),X(this,Hc,{slotInterval:sNe,maxAttempts:iNe}),X(this,ph,null)}get url(){return N(this,$y)}set url(e){X(this,$y,String(e))}get body(){return N(this,Wi)==null?null:new Uint8Array(N(this,Wi))}set body(e){if(e==null)X(this,Wi,void 0),X(this,la,void 0);else if(typeof e=="string")X(this,Wi,Md(e)),X(this,la,"text/plain");else if(e instanceof Uint8Array)X(this,Wi,e),X(this,la,"application/octet-stream");else if(typeof e=="object")X(this,Wi,Md(JSON.stringify(e))),X(this,la,"application/json");else throw new Error("invalid body")}hasBody(){return N(this,Wi)!=null}get method(){return N(this,fd)?N(this,fd):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),X(this,fd,String(e).toUpperCase())}get headers(){const e=Object.assign({},N(this,Wc));return N(this,hd)&&(e.authorization=`Basic ${JIe(Md(N(this,hd)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&N(this,la)&&(e["content-type"]=N(this,la)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){N(this,Wc)[String(e).toLowerCase()]=String(n)}clearHeaders(){X(this,Wc,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return N(this,hd)||null}setCredentials(e,n){ie(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),X(this,hd,`${e}:${n}`)}get allowGzip(){return N(this,Ry)}set allowGzip(e){X(this,Ry,!!e)}get allowInsecureAuthentication(){return!!N(this,ky)}set allowInsecureAuthentication(e){X(this,ky,!!e)}get timeout(){return N(this,Oy)}set timeout(e){ie(e>=0,"timeout must be non-zero","timeout",e),X(this,Oy,e)}get preflightFunc(){return N(this,vm)||null}set preflightFunc(e){X(this,vm,e)}get processFunc(){return N(this,Cm)||null}set processFunc(e){X(this,Cm,e)}get retryFunc(){return N(this,xm)||null}set retryFunc(e){X(this,xm,e)}get getUrlFunc(){return N(this,ph)||WU}set getUrlFunc(e){X(this,ph,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${N(this,Wi)?ut(N(this,Wi)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(N(this,Hc).slotInterval=e.slotInterval),e.maxAttempts!=null&&(N(this,Hc).maxAttempts=e.maxAttempts)}send(){return De(N(this,Kl)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),X(this,Kl,new cNe(this)),xe(this,Em,e1).call(this,0,HU()+this.timeout,0,this,new Hh(0,"",{},null,this))}cancel(){De(N(this,Kl)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=jK.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();De(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new B5(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,X(i,Wc,Object.assign({},N(this,Wc))),N(this,Wi)&&X(i,Wi,new Uint8Array(N(this,Wi))),X(i,la,N(this,la)),i}clone(){const e=new B5(this.url);return X(e,fd,N(this,fd)),N(this,Wi)&&X(e,Wi,N(this,Wi)),X(e,la,N(this,la)),X(e,Wc,Object.assign({},N(this,Wc))),X(e,hd,N(this,hd)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),X(e,vm,N(this,vm)),X(e,Cm,N(this,Cm)),X(e,xm,N(this,xm)),X(e,Hc,Object.assign({},N(this,Hc))),X(e,ph,N(this,ph)),e}static lockConfig(){KI=!0}static getGateway(e){return cA[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(KI)throw new Error("gateways locked");cA[e]=n}static registerGetUrl(e){if(KI)throw new Error("gateways locked");WU=e}static createGetUrlFunc(e){return BK(e)}static createDataGateway(){return UK}static createIpfsGatewayFunc(e){return FK(e)}};ky=new WeakMap,Ry=new WeakMap,Wc=new WeakMap,fd=new WeakMap,Oy=new WeakMap,$y=new WeakMap,Wi=new WeakMap,la=new WeakMap,hd=new WeakMap,vm=new WeakMap,Cm=new WeakMap,xm=new WeakMap,Kl=new WeakMap,Hc=new WeakMap,ph=new WeakMap,Em=new WeakSet,e1=async function(e,n,r,i,s){var f,h,p;if(e>=N(this,Hc).maxAttempts)return s.makeServerError("exceeded maximum retry limit");De(HU()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await uNe(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in cA){const g=await cA[a](o.url,lA(N(i,Kl)));if(g instanceof Hh){let w=g;if(this.processFunc){lA(N(i,Kl));try{w=await this.processFunc(o,w)}catch(y){(y.throttle==null||typeof y.stall!="number")&&w.makeServerError("error in post-processing function",y).assertOk()}}return w}o=g}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,lA(N(i,Kl)));let u=new Hh(c.statusCode,c.statusMessage,c.headers,c.body,i);if(u.statusCode===301||u.statusCode===302){try{const g=u.headers.location||"";return xe(f=o.redirect(g),Em,e1).call(f,e+1,n,0,i,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,u,e))){const g=u.headers["retry-after"];let w=N(this,Hc).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof g=="string"&&g.match(/^[1-9][0-9]*$/)&&(w=parseInt(g)),xe(h=o.clone(),Em,e1).call(h,e+1,n,w,i,u)}if(this.processFunc){lA(N(i,Kl));try{u=await this.processFunc(o,u)}catch(g){(g.throttle==null||typeof g.stall!="number")&&u.makeServerError("error in post-processing function",g).assertOk();let w=N(this,Hc).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return g.stall>=0&&(w=g.stall),xe(p=o.clone(),Em,e1).call(p,e+1,n,w,i,u)}}return u};let rf=B5;var mC,gC,yC,ua,Dy,Am;const AO=class AO{constructor(e,n,r,i,s){ae(this,mC);ae(this,gC);ae(this,yC);ae(this,ua);ae(this,Dy);ae(this,Am);X(this,mC,e),X(this,gC,n),X(this,yC,Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{})),X(this,ua,i==null?null:new Uint8Array(i)),X(this,Dy,s||null),X(this,Am,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${N(this,ua)?ut(N(this,ua)):"null"}>`}get statusCode(){return N(this,mC)}get statusMessage(){return N(this,gC)}get headers(){return Object.assign({},N(this,yC))}get body(){return N(this,ua)==null?null:new Uint8Array(N(this,ua))}get bodyText(){try{return N(this,ua)==null?"":m5(N(this,ua))}catch{De(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{De(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new AO(599,r,this.headers,this.body,N(this,Dy)||void 0);return X(i,Am,{message:e,error:n}),i}throwThrottleError(e,n){n==null?n=-1:ie(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw Zt(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return N(this,ua)!=null}get request(){return N(this,Dy)}ok(){return N(this,Am).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=N(this,Am);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{N(this,ua)&&(i=m5(N(this,ua)))}catch{}De(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};mC=new WeakMap,gC=new WeakMap,yC=new WeakMap,ua=new WeakMap,Dy=new WeakMap,Am=new WeakMap;let Hh=AO;function HU(){return new Date().getTime()}function lNe(t){return Md(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function uNe(t){return new Promise(e=>setTimeout(e,t))}const dNe=BigInt(-1),Fc=BigInt(0),gy=BigInt(1),fNe=BigInt(5),X0={};let _y="0000";for(;_y.length<80;)_y+=_y;function Hp(t){let e=_y;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function zv(t,e,n){const r=BigInt(e.width);if(e.signed){const i=gy<<r-gy;De(n==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>Fc?t=p5(pm(t,r),r):t=-p5(pm(-t,r),r)}else{const i=gy<<r;De(n==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%i+i)%i&i-gy}return t}function YI(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);ie(s,"invalid fixed format","format",t),e=s[1]!=="u",n=parseInt(s[2]),r=parseInt(s[3])}}else if(t){const s=t,o=(a,c,u)=>s[a]==null?u:(ie(typeof s[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,s[a]),s[a]);e=o("signed","boolean",e),n=o("width","number",n),r=o("decimals","number",r)}ie(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),ie(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:i}}function hNe(t,e){let n="";t<Fc&&(n="-",t*=dNe);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=_y+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var Vc,wr,Hs,cr,Kp,id,HP,VP,qP,GP;const ch=class ch{constructor(e,n,r){ae(this,cr);he(this,"format");ae(this,Vc);ae(this,wr);ae(this,Hs);he(this,"_value");yx(e,X0,"FixedNumber"),X(this,wr,n),X(this,Vc,r);const i=hNe(n,r.decimals);Zt(this,{format:r.name,_value:i}),X(this,Hs,Hp(r.decimals))}get signed(){return N(this,Vc).signed}get width(){return N(this,Vc).width}get decimals(){return N(this,Vc).decimals}get value(){return N(this,wr)}addUnsafe(e){return xe(this,cr,HP).call(this,e)}add(e){return xe(this,cr,HP).call(this,e,"add")}subUnsafe(e){return xe(this,cr,VP).call(this,e)}sub(e){return xe(this,cr,VP).call(this,e,"sub")}mulUnsafe(e){return xe(this,cr,qP).call(this,e)}mul(e){return xe(this,cr,qP).call(this,e,"mul")}mulSignal(e){xe(this,cr,Kp).call(this,e);const n=N(this,wr)*N(e,wr);return De(n%N(this,Hs)===Fc,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),xe(this,cr,id).call(this,n/N(this,Hs),"mulSignal")}divUnsafe(e){return xe(this,cr,GP).call(this,e)}div(e){return xe(this,cr,GP).call(this,e,"div")}divSignal(e){De(N(e,wr)!==Fc,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),xe(this,cr,Kp).call(this,e);const n=N(this,wr)*N(this,Hs);return De(n%N(e,wr)===Fc,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),xe(this,cr,id).call(this,n/N(e,wr),"divSignal")}cmp(e){let n=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=Hp(i):i<0&&(n*=Hp(-i)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=N(this,wr);return N(this,wr)<Fc&&(e-=N(this,Hs)-gy),e=N(this,wr)/N(this,Hs)*N(this,Hs),xe(this,cr,id).call(this,e,"floor")}ceiling(){let e=N(this,wr);return N(this,wr)>Fc&&(e+=N(this,Hs)-gy),e=N(this,wr)/N(this,Hs)*N(this,Hs),xe(this,cr,id).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=fNe*Hp(n-1);let i=this.value+r;const s=Hp(n);return i=i/s*s,zv(i,N(this,Vc),"round"),new ch(X0,i,N(this,Vc))}isZero(){return N(this,wr)===Fc}isNegative(){return N(this,wr)<Fc}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ch.fromString(this.toString(),e)}static fromValue(e,n,r){const i=n==null?0:wn(n),s=YI(r);let o=Ct(e,"value");const a=i-s.decimals;if(a>0){const c=Hp(a);De(o%c===Fc,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=Hp(-a));return zv(o,s,"fromValue"),new ch(X0,o,s)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);ie(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=YI(n);let s=r[2]||"0",o=r[3]||"";for(;o.length<i.decimals;)o+=_y;De(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,i.decimals);const a=BigInt(r[1]+s+o);return zv(a,i,"fromString"),new ch(X0,a,i)}static fromBytes(e,n){let r=YS(En(e,"value"));const i=YI(n);return i.signed&&(r=p5(r,i.width)),zv(r,i,"fromBytes"),new ch(X0,r,i)}};Vc=new WeakMap,wr=new WeakMap,Hs=new WeakMap,cr=new WeakSet,Kp=function(e){ie(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},id=function(e,n){return e=zv(e,N(this,Vc),n),new ch(X0,e,N(this,Vc))},HP=function(e,n){return xe(this,cr,Kp).call(this,e),xe(this,cr,id).call(this,N(this,wr)+N(e,wr),n)},VP=function(e,n){return xe(this,cr,Kp).call(this,e),xe(this,cr,id).call(this,N(this,wr)-N(e,wr),n)},qP=function(e,n){return xe(this,cr,Kp).call(this,e),xe(this,cr,id).call(this,N(this,wr)*N(e,wr)/N(this,Hs),n)},GP=function(e,n){return De(N(e,wr)!==Fc,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),xe(this,cr,Kp).call(this,e),xe(this,cr,id).call(this,N(this,wr)*N(this,Hs)/N(e,wr),n)};let g5=ch;function pNe(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function VU(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function qU(t,e,n,r){const i=[];for(;n<e+1+r;){const s=zK(t,n);i.push(s.result),n+=s.consumed,De(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function zK(t,e){De(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{De(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=VU(t,e+1,r);return n(e+1+r+i),qU(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),qU(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=VU(t,e+1,r);n(e+1+r+i);const s=ut(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=ut(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:pNe(t[e])}}function wx(t){const e=En(t,"data"),n=zK(e,0);return ie(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function GU(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function WK(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(WK(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=GU(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(En(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=GU(e.length);return n.unshift(183+n.length),n.concat(e)}const KU="0123456789abcdef";function fp(t){let e="0x";for(const n of WK(t))e+=KU[n>>4],e+=KU[n&15];return e}const HK=["wei","kwei","mwei","gwei","szabo","finney","ether"];function vi(t,e){let n=18;if(typeof e=="string"){const r=HK.indexOf(e);ie(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=wn(e,"unit"));return g5.fromValue(t,n,{decimals:n,width:512}).toString()}function pu(t,e){ie(typeof t=="string","value must be a string","value",t);let n=18;if(typeof e=="string"){const r=HK.indexOf(e);ie(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=wn(e,"unit"));return g5.fromString(t,{decimals:n,width:512}).value}function oh(t){return vi(t,18)}function Xp(t){return pu(t,18)}const eo=32,KP=new Uint8Array(eo),mNe=["then"],uA={},VK=new WeakMap;function em(t){return VK.get(t)}function YU(t,e){VK.set(t,e)}function Wv(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function YP(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof nb?YP(em(r),r,n):r):t.reduce((r,i,s)=>{let o=e.getValue(i);return i in r||(n&&o instanceof nb&&(o=YP(em(o),o,n)),r[i]=o),r},{})}var Ly;const yy=class yy extends Array{constructor(...n){const r=n[0];let i=n[1],s=(n[2]||[]).slice(),o=!0;r!==uA&&(i=n,s=[],o=!1);super(i.length);ae(this,Ly);i.forEach((u,f)=>{this[f]=u});const a=s.reduce((u,f)=>(typeof f=="string"&&u.set(f,(u.get(f)||0)+1),u),new Map);if(YU(this,Object.freeze(i.map((u,f)=>{const h=s[f];return h!=null&&a.get(h)===1?h:null}))),X(this,Ly,[]),N(this,Ly)==null&&N(this,Ly),!o)return;Object.freeze(this);const c=new Proxy(this,{get:(u,f,h)=>{if(typeof f=="string"){if(f.match(/^[0-9]+$/)){const g=wn(f,"%index");if(g<0||g>=this.length)throw new RangeError("out of result range");const w=u[g];return w instanceof Error&&Wv(`index ${g}`,w),w}if(mNe.indexOf(f)>=0)return Reflect.get(u,f,h);const p=u[f];if(p instanceof Function)return function(...g){return p.apply(this===h?u:this,g)};if(!(f in u))return u.getValue.apply(this===h?u:this,[f])}return Reflect.get(u,f,h)}});return YU(c,em(this)),c}toArray(n){const r=[];return this.forEach((i,s)=>{i instanceof Error&&Wv(`index ${s}`,i),n&&i instanceof yy&&(i=i.toArray(n)),r.push(i)}),r}toObject(n){const r=em(this);return r.reduce((i,s,o)=>(De(s!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),YP(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=em(this),s=[],o=[];for(let a=n;a<r;a++)s.push(this[a]),o.push(i[a]);return new yy(uA,s,o)}filter(n,r){const i=em(this),s=[],o=[];for(let a=0;a<this.length;a++){const c=this[a];c instanceof Error&&Wv(`index ${a}`,c),n.call(r,c,a,this)&&(s.push(c),o.push(i[a]))}return new yy(uA,s,o)}map(n,r){const i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&Wv(`index ${s}`,o),i.push(n.call(r,o,s,this))}return i}getValue(n){const r=em(this).indexOf(n);if(r===-1)return;const i=this[r];return i instanceof Error&&Wv(`property ${JSON.stringify(n)}`,i.error),i}static fromItems(n,r){return new yy(uA,n,r)}};Ly=new WeakMap;let nb=yy;function QU(t){let e=Ri(t);return De(e.length<=eo,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:eo,offset:e.length}),e.length!==eo&&(e=Xs(ri([KP.slice(e.length%eo),e]))),e}class hf{constructor(e,n,r,i){he(this,"name");he(this,"type");he(this,"localName");he(this,"dynamic");Zt(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){ie(!1,e,this.localName,n)}}var pd,Sm,My,jA;class QP{constructor(){ae(this,My);ae(this,pd);ae(this,Sm);X(this,pd,[]),X(this,Sm,0)}get data(){return ri(N(this,pd))}get length(){return N(this,Sm)}appendWriter(e){return xe(this,My,jA).call(this,Xs(e.data))}writeBytes(e){let n=Xs(e);const r=n.length%eo;return r&&(n=Xs(ri([n,KP.slice(r)]))),xe(this,My,jA).call(this,n)}writeValue(e){return xe(this,My,jA).call(this,QU(e))}writeUpdatableValue(){const e=N(this,pd).length;return N(this,pd).push(KP),X(this,Sm,N(this,Sm)+eo),n=>{N(this,pd)[e]=QU(n)}}}pd=new WeakMap,Sm=new WeakMap,My=new WeakSet,jA=function(e){return N(this,pd).push(e),X(this,Sm,N(this,Sm)+e.length),e.length};var Po,da,_m,Tm,mh,Rg,JP,qK;const SO=class SO{constructor(e,n,r){ae(this,Rg);he(this,"allowLoose");ae(this,Po);ae(this,da);ae(this,_m);ae(this,Tm);ae(this,mh);Zt(this,{allowLoose:!!n}),X(this,Po,Xs(e)),X(this,_m,0),X(this,Tm,null),X(this,mh,r??1024),X(this,da,0)}get data(){return ut(N(this,Po))}get dataLength(){return N(this,Po).length}get consumed(){return N(this,da)}get bytes(){return new Uint8Array(N(this,Po))}subReader(e){const n=new SO(N(this,Po).slice(N(this,da)+e),this.allowLoose,N(this,mh));return X(n,Tm,this),n}readBytes(e,n){let r=xe(this,Rg,qK).call(this,0,e,!!n);return xe(this,Rg,JP).call(this,e),X(this,da,N(this,da)+r.length),r.slice(0,e)}readValue(){return YS(this.readBytes(eo))}readIndex(){return YIe(this.readBytes(eo))}};Po=new WeakMap,da=new WeakMap,_m=new WeakMap,Tm=new WeakMap,mh=new WeakMap,Rg=new WeakSet,JP=function(e){var n;if(N(this,Tm))return xe(n=N(this,Tm),Rg,JP).call(n,e);X(this,_m,N(this,_m)+e),De(N(this,mh)<1||N(this,_m)<=N(this,mh)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${N(this,mh)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Xs(N(this,Po)),offset:N(this,da),length:e,info:{bytesRead:N(this,_m),dataLength:this.dataLength}})},qK=function(e,n,r){let i=Math.ceil(n/eo)*eo;return N(this,da)+i>N(this,Po).length&&(this.allowLoose&&r&&N(this,da)+n<=N(this,Po).length?i=n:De(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Xs(N(this,Po)),length:N(this,Po).length,offset:N(this,da)+i})),N(this,Po).slice(N(this,da),N(this,da)+i)};let ZP=SO;function y5(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function K8(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function gNe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");y5(t.outputLen),y5(t.blockLen)}function rb(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function GK(t,e){K8(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const QI=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const KK=t=>t instanceof Uint8Array,yNe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ZI=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Wl=(t,e)=>t<<32-e|t>>>e,wNe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!wNe)throw new Error("Non little-endian hardware is not supported");function bNe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function QS(t){if(typeof t=="string"&&(t=bNe(t)),!KK(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function vNe(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!KK(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class Y8{clone(){return this._cloneInto()}}function Q8(t){const e=r=>t().update(QS(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function CNe(t=32){if(QI&&typeof QI.getRandomValues=="function")return QI.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class YK extends Y8{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,gNe(e);const r=QS(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return rb(this),this.iHash.update(e),this}digestInto(e){rb(this),K8(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const QK=(t,e,n)=>new YK(t,e).update(n).digest();QK.create=(t,e)=>new YK(t,e);function xNe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}class ZK extends Y8{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ZI(this.buffer)}update(e){rb(this);const{view:n,buffer:r,blockLen:i}=this;e=QS(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=ZI(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){rb(this),GK(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;xNe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=ZI(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,f[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const ENe=(t,e,n)=>t&e^~t&n,ANe=(t,e,n)=>t&e^t&n^e&n,SNe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Kf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yf=new Uint32Array(64);class _Ne extends ZK{constructor(){super(64,32,8,!1),this.A=Kf[0]|0,this.B=Kf[1]|0,this.C=Kf[2]|0,this.D=Kf[3]|0,this.E=Kf[4]|0,this.F=Kf[5]|0,this.G=Kf[6]|0,this.H=Kf[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let h=0;h<16;h++,n+=4)Yf[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const p=Yf[h-15],g=Yf[h-2],w=Wl(p,7)^Wl(p,18)^p>>>3,y=Wl(g,17)^Wl(g,19)^g>>>10;Yf[h]=y+Yf[h-7]+w+Yf[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:f}=this;for(let h=0;h<64;h++){const p=Wl(a,6)^Wl(a,11)^Wl(a,25),g=f+p+ENe(a,c,u)+SNe[h]+Yf[h]|0,y=(Wl(r,2)^Wl(r,13)^Wl(r,22))+ANe(r,i,s)|0;f=u,u=c,c=a,a=o+g|0,o=s,s=i,i=r,r=g+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,i,s,o,a,c,u,f)}roundClean(){Yf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const JK=Q8(()=>new _Ne),dA=BigInt(2**32-1),XP=BigInt(32);function XK(t,e=!1){return e?{h:Number(t&dA),l:Number(t>>XP&dA)}:{h:Number(t>>XP&dA)|0,l:Number(t&dA)|0}}function eY(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=XK(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const TNe=(t,e)=>BigInt(t>>>0)<<XP|BigInt(e>>>0),INe=(t,e,n)=>t>>>n,NNe=(t,e,n)=>t<<32-n|e>>>n,PNe=(t,e,n)=>t>>>n|e<<32-n,kNe=(t,e,n)=>t<<32-n|e>>>n,RNe=(t,e,n)=>t<<64-n|e>>>n-32,ONe=(t,e,n)=>t>>>n-32|e<<64-n,$Ne=(t,e)=>e,DNe=(t,e)=>t,tY=(t,e,n)=>t<<n|e>>>32-n,nY=(t,e,n)=>e<<n|t>>>32-n,rY=(t,e,n)=>e<<n-32|t>>>64-n,iY=(t,e,n)=>t<<n-32|e>>>64-n;function LNe(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const MNe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),BNe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,UNe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),FNe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,jNe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),zNe=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,vn={fromBig:XK,split:eY,toBig:TNe,shrSH:INe,shrSL:NNe,rotrSH:PNe,rotrSL:kNe,rotrBH:RNe,rotrBL:ONe,rotr32H:$Ne,rotr32L:DNe,rotlSH:tY,rotlSL:nY,rotlBH:rY,rotlBL:iY,add:LNe,add3L:MNe,add3H:BNe,add4L:UNe,add4H:FNe,add5H:zNe,add5L:jNe},[WNe,HNe]=vn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Qf=new Uint32Array(80),Zf=new Uint32Array(80);class VNe extends ZK{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:f,Fh:h,Fl:p,Gh:g,Gl:w,Hh:y,Hl:b}=this;return[e,n,r,i,s,o,a,c,u,f,h,p,g,w,y,b]}set(e,n,r,i,s,o,a,c,u,f,h,p,g,w,y,b){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=f|0,this.Fh=h|0,this.Fl=p|0,this.Gh=g|0,this.Gl=w|0,this.Hh=y|0,this.Hl=b|0}process(e,n){for(let E=0;E<16;E++,n+=4)Qf[E]=e.getUint32(n),Zf[E]=e.getUint32(n+=4);for(let E=16;E<80;E++){const I=Qf[E-15]|0,S=Zf[E-15]|0,T=vn.rotrSH(I,S,1)^vn.rotrSH(I,S,8)^vn.shrSH(I,S,7),R=vn.rotrSL(I,S,1)^vn.rotrSL(I,S,8)^vn.shrSL(I,S,7),O=Qf[E-2]|0,k=Zf[E-2]|0,M=vn.rotrSH(O,k,19)^vn.rotrBH(O,k,61)^vn.shrSH(O,k,6),L=vn.rotrSL(O,k,19)^vn.rotrBL(O,k,61)^vn.shrSL(O,k,6),j=vn.add4L(R,L,Zf[E-7],Zf[E-16]),Q=vn.add4H(j,T,M,Qf[E-7],Qf[E-16]);Qf[E]=Q|0,Zf[E]=j|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:f,Eh:h,El:p,Fh:g,Fl:w,Gh:y,Gl:b,Hh:C,Hl:x}=this;for(let E=0;E<80;E++){const I=vn.rotrSH(h,p,14)^vn.rotrSH(h,p,18)^vn.rotrBH(h,p,41),S=vn.rotrSL(h,p,14)^vn.rotrSL(h,p,18)^vn.rotrBL(h,p,41),T=h&g^~h&y,R=p&w^~p&b,O=vn.add5L(x,S,R,HNe[E],Zf[E]),k=vn.add5H(O,C,I,T,WNe[E],Qf[E]),M=O|0,L=vn.rotrSH(r,i,28)^vn.rotrBH(r,i,34)^vn.rotrBH(r,i,39),j=vn.rotrSL(r,i,28)^vn.rotrBL(r,i,34)^vn.rotrBL(r,i,39),Q=r&s^r&a^s&a,J=i&o^i&c^o&c;C=y|0,x=b|0,y=g|0,b=w|0,g=h|0,w=p|0,{h,l:p}=vn.add(u|0,f|0,k|0,M|0),u=a|0,f=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const $=vn.add3L(M,j,J);r=vn.add3H($,k,L,Q),i=$|0}({h:r,l:i}=vn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=vn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=vn.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:f}=vn.add(this.Dh|0,this.Dl|0,u|0,f|0),{h,l:p}=vn.add(this.Eh|0,this.El|0,h|0,p|0),{h:g,l:w}=vn.add(this.Fh|0,this.Fl|0,g|0,w|0),{h:y,l:b}=vn.add(this.Gh|0,this.Gl|0,y|0,b|0),{h:C,l:x}=vn.add(this.Hh|0,this.Hl|0,C|0,x|0),this.set(r,i,s,o,a,c,u,f,h,p,g,w,y,b,C,x)}roundClean(){Qf.fill(0),Zf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const qNe=Q8(()=>new VNe);function GNe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const ZU=GNe();ZU.crypto||ZU.msCrypto;function KNe(t){switch(t){case"sha256":return JK.create();case"sha512":return qNe.create()}ie(!1,"invalid hashing algorithm name","algorithm",t)}const[sY,oY,aY]=[[],[],[]],YNe=BigInt(0),Hv=BigInt(1),QNe=BigInt(2),ZNe=BigInt(7),JNe=BigInt(256),XNe=BigInt(113);for(let t=0,e=Hv,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],sY.push(2*(5*r+n)),oY.push((t+1)*(t+2)/2%64);let i=YNe;for(let s=0;s<7;s++)e=(e<<Hv^(e>>ZNe)*XNe)%JNe,e&QNe&&(i^=Hv<<(Hv<<BigInt(s))-Hv);aY.push(i)}const[e4e,t4e]=eY(aY,!0),JU=(t,e,n)=>n>32?rY(t,e,n):tY(t,e,n),XU=(t,e,n)=>n>32?iY(t,e,n):nY(t,e,n);function n4e(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],f=n[c+1],h=JU(u,f,1)^n[a],p=XU(u,f,1)^n[a+1];for(let g=0;g<50;g+=10)t[o+g]^=h,t[o+g+1]^=p}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=oY[o],c=JU(i,s,a),u=XU(i,s,a),f=sY[o];i=t[f],s=t[f+1],t[f]=c,t[f+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=e4e[r],t[1]^=t4e[r]}n.fill(0)}class Z8 extends Y8{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,y5(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=yNe(this.state)}keccak(){n4e(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){rb(this);const{blockLen:n,state:r}=this;e=QS(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){rb(this,!1),K8(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return y5(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(GK(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Z8(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const r4e=(t,e,n)=>Q8(()=>new Z8(e,t,n)),i4e=r4e(1,136,256/8);let cY=!1;const lY=function(t){return i4e(t)};let uY=lY;function Ci(t){const e=En(t,"data");return ut(uY(e))}Ci._=lY;Ci.lock=function(){cY=!0};Ci.register=function(t){if(cY)throw new TypeError("keccak256 is locked");uY=t};Object.freeze(Ci);const dY=function(t){return KNe("sha256").update(t).digest()};let fY=dY,hY=!1;function Lb(t){const e=En(t,"data");return ut(fY(e))}Lb._=dY;Lb.lock=function(){hY=!0};Lb.register=function(t){if(hY)throw new Error("sha256 is locked");fY=t};Object.freeze(Lb);Object.freeze(Lb);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pY=BigInt(0),ZS=BigInt(1),s4e=BigInt(2),JS=t=>t instanceof Uint8Array,o4e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ib(t){if(!JS(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=o4e[t[n]];return e}function mY(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function J8(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function sb(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Jm(t){return J8(ib(t))}function X8(t){if(!JS(t))throw new Error("Uint8Array expected");return J8(ib(Uint8Array.from(t).reverse()))}function ob(t,e){return sb(t.toString(16).padStart(e*2,"0"))}function eO(t,e){return ob(t,e).reverse()}function a4e(t){return sb(mY(t))}function zc(t,e,n){let r;if(typeof e=="string")try{r=sb(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(JS(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function J2(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!JS(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function c4e(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function l4e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function u4e(t){let e;for(e=0;t>pY;t>>=ZS,e+=1);return e}function d4e(t,e){return t>>BigInt(e)&ZS}const f4e=(t,e,n)=>t|(n?ZS:pY)<<BigInt(e),tO=t=>(s4e<<BigInt(t-1))-ZS,JI=t=>new Uint8Array(t),eF=t=>Uint8Array.from(t);function gY(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=JI(t),i=JI(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),c=(h=JI())=>{i=a(eF([0]),h),r=a(),h.length!==0&&(i=a(eF([1]),h),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const p=[];for(;h<e;){r=a();const g=r.slice();p.push(g),h+=r.length}return J2(...p)};return(h,p)=>{o(),c(h);let g;for(;!(g=p(u()));)c();return o(),g}}const h4e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function bx(t,e,n={}){const r=(i,s,o)=>{const a=h4e[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const p4e=Object.freeze(Object.defineProperty({__proto__:null,bitGet:d4e,bitLen:u4e,bitMask:tO,bitSet:f4e,bytesToHex:ib,bytesToNumberBE:Jm,bytesToNumberLE:X8,concatBytes:J2,createHmacDrbg:gY,ensureBytes:zc,equalBytes:c4e,hexToBytes:sb,hexToNumber:J8,numberToBytesBE:ob,numberToBytesLE:eO,numberToHexUnpadded:mY,numberToVarBytesBE:a4e,utf8ToBytes:l4e,validateObject:bx},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ki=BigInt(0),fi=BigInt(1),tm=BigInt(2),m4e=BigInt(3),ek=BigInt(4),tF=BigInt(5),nF=BigInt(8);BigInt(9);BigInt(16);function Mo(t,e){const n=t%e;return n>=Ki?n:e+n}function g4e(t,e,n){if(n<=Ki||e<Ki)throw new Error("Expected power/modulo > 0");if(n===fi)return Ki;let r=fi;for(;e>Ki;)e&fi&&(r=r*t%n),t=t*t%n,e>>=fi;return r}function qa(t,e,n){let r=t;for(;e-- >Ki;)r*=r,r%=n;return r}function tk(t,e){if(t===Ki||e<=Ki)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Mo(t,e),r=e,i=Ki,s=fi;for(;n!==Ki;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==fi)throw new Error("invert: does not exist");return Mo(i,e)}function y4e(t){const e=(t-fi)/tm;let n,r,i;for(n=t-fi,r=0;n%tm===Ki;n/=tm,r++);for(i=tm;i<t&&g4e(i,e,t)!==t-fi;i++);if(r===1){const o=(t+fi)/ek;return function(c,u){const f=c.pow(u,o);if(!c.eql(c.sqr(f),u))throw new Error("Cannot find square root");return f}}const s=(n+fi)/tm;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,f=a.pow(a.mul(a.ONE,i),n),h=a.pow(c,s),p=a.pow(c,n);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let g=1;for(let y=a.sqr(p);g<u&&!a.eql(y,a.ONE);g++)y=a.sqr(y);const w=a.pow(f,fi<<BigInt(u-g-1));f=a.sqr(w),h=a.mul(h,w),p=a.mul(p,f),u=g}return h}}function w4e(t){if(t%ek===m4e){const e=(t+fi)/ek;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%nF===tF){const e=(t-tF)/nF;return function(r,i){const s=r.mul(i,tm),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,tm),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return y4e(t)}const b4e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function v4e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=b4e.reduce((r,i)=>(r[i]="function",r),e);return bx(t,n)}function C4e(t,e,n){if(n<Ki)throw new Error("Expected power > 0");if(n===Ki)return t.ONE;if(n===fi)return e;let r=t.ONE,i=e;for(;n>Ki;)n&fi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=fi;return r}function x4e(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function yY(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function E4e(t,e,n=!1,r={}){if(t<=Ki)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=yY(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=w4e(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:tO(i),ZERO:Ki,ONE:fi,create:c=>Mo(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ki<=c&&c<t},is0:c=>c===Ki,isOdd:c=>(c&fi)===fi,neg:c=>Mo(-c,t),eql:(c,u)=>c===u,sqr:c=>Mo(c*c,t),add:(c,u)=>Mo(c+u,t),sub:(c,u)=>Mo(c-u,t),mul:(c,u)=>Mo(c*u,t),pow:(c,u)=>C4e(a,c,u),div:(c,u)=>Mo(c*tk(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>tk(c,t),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>x4e(a,c),cmov:(c,u,f)=>f?u:c,toBytes:c=>n?eO(c,s):ob(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?X8(c):Jm(c)}});return Object.freeze(a)}function wY(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function bY(t){const e=wY(t);return e+Math.ceil(e/2)}function A4e(t,e,n=!1){const r=t.length,i=wY(e),s=bY(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?Jm(t):X8(t),a=Mo(o,e-fi)+fi;return n?eO(a,i):ob(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const S4e=BigInt(0),XI=BigInt(1);function _4e(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>S4e;)s&XI&&(o=o.add(a)),a=a.double(),s>>=XI;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),c=[];let u=i,f=u;for(let h=0;h<o;h++){f=u,c.push(f);for(let p=1;p<a;p++)f=f.add(u),c.push(f);u=f.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=r(i);let u=t.ZERO,f=t.BASE;const h=BigInt(2**i-1),p=2**i,g=BigInt(i);for(let w=0;w<a;w++){const y=w*c;let b=Number(o&h);o>>=g,b>c&&(b-=p,o+=XI);const C=y,x=y+Math.abs(b)-1,E=w%2!==0,I=b<0;b===0?f=f.add(n(E,s[C])):u=u.add(n(I,s[x]))}return{p:u,f}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,a(u))),this.wNAF(c,u,o)}}}function vY(t){return v4e(t.Fp),bx(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...yY(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function T4e(t){const e=vY(t);bx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:I4e,hexToBytes:N4e}=p4e,mm={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=mm;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:I4e(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=mm,n=typeof t=="string"?N4e(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=mm._parseInt(n.subarray(2)),{d:o,l:a}=mm._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const f=u.toString(16);return f.length&1?`0${f}`:f},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return`30${n(o+s+4)}02${c}${i}02${a}${r}`}},Sd=BigInt(0),sc=BigInt(1);BigInt(2);const rF=BigInt(3);BigInt(4);function P4e(t){const e=T4e(t),{Fp:n}=e,r=e.toBytes||((w,y,b)=>{const C=y.toAffine();return J2(Uint8Array.from([4]),n.toBytes(C.x),n.toBytes(C.y))}),i=e.fromBytes||(w=>{const y=w.subarray(1),b=n.fromBytes(y.subarray(0,n.BYTES)),C=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:b,y:C}});function s(w){const{a:y,b}=e,C=n.sqr(w),x=n.mul(C,w);return n.add(n.add(x,n.mul(w,y)),b)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(w){return typeof w=="bigint"&&Sd<w&&w<e.n}function a(w){if(!o(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(w){const{allowedPrivateKeyLengths:y,nByteLength:b,wrapPrivateKey:C,n:x}=e;if(y&&typeof w!="bigint"){if(w instanceof Uint8Array&&(w=ib(w)),typeof w!="string"||!y.includes(w.length))throw new Error("Invalid key");w=w.padStart(b*2,"0")}let E;try{E=typeof w=="bigint"?w:Jm(zc("private key",w,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof w}`)}return C&&(E=Mo(E,x)),a(E),E}const u=new Map;function f(w){if(!(w instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(y,b,C){if(this.px=y,this.py=b,this.pz=C,y==null||!n.isValid(y))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(C==null||!n.isValid(C))throw new Error("z required")}static fromAffine(y){const{x:b,y:C}=y||{};if(!y||!n.isValid(b)||!n.isValid(C))throw new Error("invalid affine point");if(y instanceof h)throw new Error("projective point not allowed");const x=E=>n.eql(E,n.ZERO);return x(b)&&x(C)?h.ZERO:new h(b,C,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const b=n.invertBatch(y.map(C=>C.pz));return y.map((C,x)=>C.toAffine(b[x])).map(h.fromAffine)}static fromHex(y){const b=h.fromAffine(i(zc("pointHex",y)));return b.assertValidity(),b}static fromPrivateKey(y){return h.BASE.multiply(c(y))}_setWindowSize(y){this._WINDOW_SIZE=y,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:b}=this.toAffine();if(!n.isValid(y)||!n.isValid(b))throw new Error("bad point: x or y not FE");const C=n.sqr(b),x=s(y);if(!n.eql(C,x))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){f(y);const{px:b,py:C,pz:x}=this,{px:E,py:I,pz:S}=y,T=n.eql(n.mul(b,S),n.mul(E,x)),R=n.eql(n.mul(C,S),n.mul(I,x));return T&&R}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b}=e,C=n.mul(b,rF),{px:x,py:E,pz:I}=this;let S=n.ZERO,T=n.ZERO,R=n.ZERO,O=n.mul(x,x),k=n.mul(E,E),M=n.mul(I,I),L=n.mul(x,E);return L=n.add(L,L),R=n.mul(x,I),R=n.add(R,R),S=n.mul(y,R),T=n.mul(C,M),T=n.add(S,T),S=n.sub(k,T),T=n.add(k,T),T=n.mul(S,T),S=n.mul(L,S),R=n.mul(C,R),M=n.mul(y,M),L=n.sub(O,M),L=n.mul(y,L),L=n.add(L,R),R=n.add(O,O),O=n.add(R,O),O=n.add(O,M),O=n.mul(O,L),T=n.add(T,O),M=n.mul(E,I),M=n.add(M,M),O=n.mul(M,L),S=n.sub(S,O),R=n.mul(M,k),R=n.add(R,R),R=n.add(R,R),new h(S,T,R)}add(y){f(y);const{px:b,py:C,pz:x}=this,{px:E,py:I,pz:S}=y;let T=n.ZERO,R=n.ZERO,O=n.ZERO;const k=e.a,M=n.mul(e.b,rF);let L=n.mul(b,E),j=n.mul(C,I),Q=n.mul(x,S),J=n.add(b,C),$=n.add(E,I);J=n.mul(J,$),$=n.add(L,j),J=n.sub(J,$),$=n.add(b,x);let D=n.add(E,S);return $=n.mul($,D),D=n.add(L,Q),$=n.sub($,D),D=n.add(C,x),T=n.add(I,S),D=n.mul(D,T),T=n.add(j,Q),D=n.sub(D,T),O=n.mul(k,$),T=n.mul(M,Q),O=n.add(T,O),T=n.sub(j,O),O=n.add(j,O),R=n.mul(T,O),j=n.add(L,L),j=n.add(j,L),Q=n.mul(k,Q),$=n.mul(M,$),j=n.add(j,Q),Q=n.sub(L,Q),Q=n.mul(k,Q),$=n.add($,Q),L=n.mul(j,$),R=n.add(R,L),L=n.mul(D,$),T=n.mul(J,T),T=n.sub(T,L),L=n.mul(J,j),O=n.mul(D,O),O=n.add(O,L),new h(T,R,O)}subtract(y){return this.add(y.negate())}is0(){return this.equals(h.ZERO)}wNAF(y){return g.wNAFCached(this,u,y,b=>{const C=n.invertBatch(b.map(x=>x.pz));return b.map((x,E)=>x.toAffine(C[E])).map(h.fromAffine)})}multiplyUnsafe(y){const b=h.ZERO;if(y===Sd)return b;if(a(y),y===sc)return this;const{endo:C}=e;if(!C)return g.unsafeLadder(this,y);let{k1neg:x,k1:E,k2neg:I,k2:S}=C.splitScalar(y),T=b,R=b,O=this;for(;E>Sd||S>Sd;)E&sc&&(T=T.add(O)),S&sc&&(R=R.add(O)),O=O.double(),E>>=sc,S>>=sc;return x&&(T=T.negate()),I&&(R=R.negate()),R=new h(n.mul(R.px,C.beta),R.py,R.pz),T.add(R)}multiply(y){a(y);let b=y,C,x;const{endo:E}=e;if(E){const{k1neg:I,k1:S,k2neg:T,k2:R}=E.splitScalar(b);let{p:O,f:k}=this.wNAF(S),{p:M,f:L}=this.wNAF(R);O=g.constTimeNegate(I,O),M=g.constTimeNegate(T,M),M=new h(n.mul(M.px,E.beta),M.py,M.pz),C=O.add(M),x=k.add(L)}else{const{p:I,f:S}=this.wNAF(b);C=I,x=S}return h.normalizeZ([C,x])[0]}multiplyAndAddUnsafe(y,b,C){const x=h.BASE,E=(S,T)=>T===Sd||T===sc||!S.equals(x)?S.multiplyUnsafe(T):S.multiply(T),I=E(this,b).add(E(y,C));return I.is0()?void 0:I}toAffine(y){const{px:b,py:C,pz:x}=this,E=this.is0();y==null&&(y=E?n.ONE:n.inv(x));const I=n.mul(b,y),S=n.mul(C,y),T=n.mul(x,y);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:I,y:S}}isTorsionFree(){const{h:y,isTorsionFree:b}=e;if(y===sc)return!0;if(b)return b(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:b}=e;return y===sc?this:b?b(h,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return this.assertValidity(),r(h,this,y)}toHex(y=!0){return ib(this.toRawBytes(y))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const p=e.nBitLength,g=_4e(h,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function k4e(t){const e=vY(t);return bx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function R4e(t){const e=k4e(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o($){return Sd<$&&$<n.ORDER}function a($){return Mo($,r)}function c($){return tk($,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:h,isWithinCurveOrder:p}=P4e({...e,toBytes($,D,H){const z=D.toAffine(),Y=n.toBytes(z.x),K=J2;return H?K(Uint8Array.from([D.hasEvenY()?2:3]),Y):K(Uint8Array.from([4]),Y,n.toBytes(z.y))},fromBytes($){const D=$.length,H=$[0],z=$.subarray(1);if(D===i&&(H===2||H===3)){const Y=Jm(z);if(!o(Y))throw new Error("Point is not on curve");const K=h(Y);let q=n.sqrt(K);const V=(q&sc)===sc;return(H&1)===1!==V&&(q=n.neg(q)),{x:Y,y:q}}else if(D===s&&H===4){const Y=n.fromBytes(z.subarray(0,n.BYTES)),K=n.fromBytes(z.subarray(n.BYTES,2*n.BYTES));return{x:Y,y:K}}else throw new Error(`Point of length ${D} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),g=$=>ib(ob($,e.nByteLength));function w($){const D=r>>sc;return $>D}function y($){return w($)?a(-$):$}const b=($,D,H)=>Jm($.slice(D,H));class C{constructor(D,H,z){this.r=D,this.s=H,this.recovery=z,this.assertValidity()}static fromCompact(D){const H=e.nByteLength;return D=zc("compactSignature",D,H*2),new C(b(D,0,H),b(D,H,2*H))}static fromDER(D){const{r:H,s:z}=mm.toSig(zc("DER",D));return new C(H,z)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(D){return new C(this.r,this.s,D)}recoverPublicKey(D){const{r:H,s:z,recovery:Y}=this,K=R(zc("msgHash",D));if(Y==null||![0,1,2,3].includes(Y))throw new Error("recovery id invalid");const q=Y===2||Y===3?H+e.n:H;if(q>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=(Y&1)===0?"02":"03",ue=u.fromHex(V+g(q)),le=c(q),ge=a(-K*le),ve=a(z*le),Pe=u.BASE.multiplyAndAddUnsafe(ue,ge,ve);if(!Pe)throw new Error("point at infinify");return Pe.assertValidity(),Pe}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return sb(this.toDERHex())}toDERHex(){return mm.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return sb(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const x={isValidPrivateKey($){try{return f($),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const $=bY(e.n);return A4e(e.randomBytes($),e.n)},precompute($=8,D=u.BASE){return D._setWindowSize($),D.multiply(BigInt(3)),D}};function E($,D=!0){return u.fromPrivateKey($).toRawBytes(D)}function I($){const D=$ instanceof Uint8Array,H=typeof $=="string",z=(D||H)&&$.length;return D?z===i||z===s:H?z===2*i||z===2*s:$ instanceof u}function S($,D,H=!0){if(I($))throw new Error("first arg must be private key");if(!I(D))throw new Error("second arg must be public key");return u.fromHex(D).multiply(f($)).toRawBytes(H)}const T=e.bits2int||function($){const D=Jm($),H=$.length*8-e.nBitLength;return H>0?D>>BigInt(H):D},R=e.bits2int_modN||function($){return a(T($))},O=tO(e.nBitLength);function k($){if(typeof $!="bigint")throw new Error("bigint expected");if(!(Sd<=$&&$<O))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ob($,e.nByteLength)}function M($,D,H=L){if(["recovered","canonical"].some(ke=>ke in H))throw new Error("sign() legacy options not supported");const{hash:z,randomBytes:Y}=e;let{lowS:K,prehash:q,extraEntropy:V}=H;K==null&&(K=!0),$=zc("msgHash",$),q&&($=zc("prehashed msgHash",z($)));const ue=R($),le=f(D),ge=[k(le),k(ue)];if(V!=null){const ke=V===!0?Y(n.BYTES):V;ge.push(zc("extraEntropy",ke))}const ve=J2(...ge),Pe=ue;function Ie(ke){const it=T(ke);if(!p(it))return;const Xt=c(it),dn=u.BASE.multiply(it).toAffine(),hn=a(dn.x);if(hn===Sd)return;const rr=a(Xt*a(Pe+hn*le));if(rr===Sd)return;let st=(dn.x===hn?0:2)|Number(dn.y&sc),Te=rr;return K&&w(rr)&&(Te=y(rr),st^=1),new C(hn,Te,st)}return{seed:ve,k2sig:Ie}}const L={lowS:e.lowS,prehash:!1},j={lowS:e.lowS,prehash:!1};function Q($,D,H=L){const{seed:z,k2sig:Y}=M($,D,H),K=e;return gY(K.hash.outputLen,K.nByteLength,K.hmac)(z,Y)}u.BASE._setWindowSize(8);function J($,D,H,z=j){var dn;const Y=$;if(D=zc("msgHash",D),H=zc("publicKey",H),"strict"in z)throw new Error("options.strict was renamed to lowS");const{lowS:K,prehash:q}=z;let V,ue;try{if(typeof Y=="string"||Y instanceof Uint8Array)try{V=C.fromDER(Y)}catch(hn){if(!(hn instanceof mm.Err))throw hn;V=C.fromCompact(Y)}else if(typeof Y=="object"&&typeof Y.r=="bigint"&&typeof Y.s=="bigint"){const{r:hn,s:rr}=Y;V=new C(hn,rr)}else throw new Error("PARSE");ue=u.fromHex(H)}catch(hn){if(hn.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(K&&V.hasHighS())return!1;q&&(D=e.hash(D));const{r:le,s:ge}=V,ve=R(D),Pe=c(ge),Ie=a(ve*Pe),ke=a(le*Pe),it=(dn=u.BASE.multiplyAndAddUnsafe(ue,Ie,ke))==null?void 0:dn.toAffine();return it?a(it.x)===le:!1}return{CURVE:e,getPublicKey:E,getSharedSecret:S,sign:Q,verify:J,ProjectivePoint:u,Signature:C,utils:x}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function O4e(t){return{hash:t,hmac:(e,...n)=>QK(t,e,vNe(...n)),randomBytes:CNe}}function $4e(t,e){const n=r=>R4e({...t,...O4e(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const CY=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),iF=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),D4e=BigInt(1),nk=BigInt(2),sF=(t,e)=>(t+e/nk)/e;function L4e(t){const e=CY,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,f=u*u*t%e,h=qa(f,n,e)*f%e,p=qa(h,n,e)*f%e,g=qa(p,nk,e)*u%e,w=qa(g,i,e)*g%e,y=qa(w,s,e)*w%e,b=qa(y,a,e)*y%e,C=qa(b,c,e)*b%e,x=qa(C,a,e)*y%e,E=qa(x,n,e)*f%e,I=qa(E,o,e)*w%e,S=qa(I,r,e)*u%e,T=qa(S,nk,e);if(!rk.eql(rk.sqr(T),t))throw new Error("Cannot find square root");return T}const rk=E4e(CY,void 0,void 0,{sqrt:L4e}),Xf=$4e({a:BigInt(0),b:BigInt(7),Fp:rk,n:iF,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=iF,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-D4e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=sF(s*t,e),c=sF(-r*t,e);let u=Mo(t-a*n-c*i,e),f=Mo(-a*r-c*s,e);const h=u>o,p=f>o;if(h&&(u=e-u),p&&(f=e-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:u,k2neg:p,k2:f}}}},JK);BigInt(0);Xf.ProjectivePoint;const er="0x0000000000000000000000000000000000000000",oF="0x0000000000000000000000000000000000000000000000000000000000000000",aF=BigInt(0),cF=BigInt(1),lF=BigInt(2),uF=BigInt(27),dF=BigInt(28),fA=BigInt(35),ey={};function fF(t){return nf(Ri(t),32)}var By,Yl,Uy,Im;const jc=class jc{constructor(e,n,r,i){ae(this,By);ae(this,Yl);ae(this,Uy);ae(this,Im);yx(e,ey,"Signature"),X(this,By,n),X(this,Yl,r),X(this,Uy,i),X(this,Im,null)}get r(){return N(this,By)}set r(e){ie(Sy(e)===32,"invalid r","value",e),X(this,By,ut(e))}get s(){return ie(parseInt(N(this,Yl).substring(0,3))<8,"non-canonical s; use ._s","s",N(this,Yl)),N(this,Yl)}set s(e){ie(Sy(e)===32,"invalid s","value",e),X(this,Yl,ut(e))}get _s(){return N(this,Yl)}isValid(){return parseInt(N(this,Yl).substring(0,3))<8}get v(){return N(this,Uy)}set v(e){const n=wn(e,"value");ie(n===27||n===28,"invalid v","v",e),X(this,Uy,n)}get networkV(){return N(this,Im)}get legacyChainId(){const e=this.networkV;return e==null?null:jc.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=En(this.s);return this.yParity&&(e[0]|=128),ut(e)}get compactSerialized(){return ri([this.r,this.yParityAndS])}get serialized(){return ri([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new jc(ey,this.r,this._s,this.v);return this.networkV&&X(e,Im,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const n=Ct(e,"v");return n==uF||n==dF?aF:(ie(n>=fA,"invalid EIP-155 v","v",e),(n-fA)/lF)}static getChainIdV(e,n){return Ct(e)*lF+BigInt(35+n-27)}static getNormalizedV(e){const n=Ct(e);return n===aF||n===uF?27:n===cF||n===dF?28:(ie(n>=fA,"invalid v","v",e),n&cF?27:28)}static from(e){function n(u,f){ie(u,f,"signature",e)}if(e==null)return new jc(ey,oF,oF,27);if(typeof e=="string"){const u=En(e,"signature");if(u.length===64){const f=ut(u.slice(0,32)),h=u.slice(32,64),p=h[0]&128?28:27;return h[0]&=127,new jc(ey,f,ut(h),p)}if(u.length===65){const f=ut(u.slice(0,32)),h=ut(u.slice(32,64)),p=jc.getNormalizedV(u[64]);return new jc(ey,f,h,p)}n(!1,"invalid raw signature length")}if(e instanceof jc)return e.clone();const r=e.r;n(r!=null,"missing r");const i=fF(r),s=function(u,f){if(u!=null)return fF(u);if(f!=null){n(Dr(f,32),"invalid yParityAndS");const h=En(f);return h[0]&=127,ut(h)}n(!1,"missing s")}(e.s,e.yParityAndS),{networkV:o,v:a}=function(u,f,h){if(u!=null){const p=Ct(u);return{networkV:p>=fA?p:void 0,v:jc.getNormalizedV(p)}}if(f!=null)return n(Dr(f,32),"invalid yParityAndS"),{v:En(f)[0]&128?28:27};if(h!=null){switch(wn(h,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new jc(ey,i,s,a);return o&&X(c,Im,o),n(e.yParity==null||wn(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};By=new WeakMap,Yl=new WeakMap,Uy=new WeakMap,Im=new WeakMap;let Ho=jc;var md;const nm=class nm{constructor(e){ae(this,md);ie(Sy(e)===32,"invalid private key","privateKey","[REDACTED]"),X(this,md,ut(e))}get privateKey(){return N(this,md)}get publicKey(){return nm.computePublicKey(N(this,md))}get compressedPublicKey(){return nm.computePublicKey(N(this,md),!0)}sign(e){ie(Sy(e)===32,"invalid digest length","digest",e);const n=Xf.sign(Xs(e),Xs(N(this,md)),{lowS:!0});return Ho.from({r:dp(n.r,32),s:dp(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=nm.computePublicKey(e);return ut(Xf.getSharedSecret(Xs(N(this,md)),En(n),!1))}static computePublicKey(e,n){let r=En(e,"key");if(r.length===32){const s=Xf.getPublicKey(r,!!n);return ut(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=Xf.ProjectivePoint.fromHex(r);return ut(i.toRawBytes(n))}static recoverPublicKey(e,n){ie(Sy(e)===32,"invalid digest length","digest",e);const r=Ho.from(n);let i=Xf.Signature.fromCompact(Xs(ri([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(Xs(e));return ie(s!=null,"invalid signature for digest","signature",n),"0x"+s.toHex(!1)}static addPoints(e,n,r){const i=Xf.ProjectivePoint.fromHex(nm.computePublicKey(e).substring(2)),s=Xf.ProjectivePoint.fromHex(nm.computePublicKey(n).substring(2));return"0x"+i.add(s).toHex(!!r)}};md=new WeakMap;let X2=nm;const M4e=BigInt(0),B4e=BigInt(36);function hF(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=En(Ci(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const nO={};for(let t=0;t<10;t++)nO[String(t)]=String(t);for(let t=0;t<26;t++)nO[String.fromCharCode(65+t)]=String(10+t);const pF=15;function U4e(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>nO[r]).join("");for(;e.length>=pF;){let r=e.substring(0,pF);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const F4e=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function j4e(t){t=t.toLowerCase();let e=M4e;for(let n=0;n<t.length;n++)e=e*B4e+F4e[t[n]];return e}function nr(t){if(ie(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=hF(t);return ie(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){ie(t.substring(2,4)===U4e(t),"bad icap checksum","address",t);let e=j4e(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return hF("0x"+e)}ie(!1,"invalid address","address",t)}function z4e(t){const e=nr(t.from);let r=Ct(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,nr(ni(Ci(fp([e,r])),12))}function xY(t){return t&&typeof t.getAddress=="function"}function T1(t){try{return nr(t),!0}catch{}return!1}async function eN(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(De(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),ie(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),nr(n)}function to(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?nr(t):(De(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),eN(t,e.resolveName(t)));if(xY(t))return eN(t,t.getAddress());if(t&&typeof t.then=="function")return eN(t,t);ie(!1,"unsupported addressable value","target",t)}const ad={};function vt(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new Os(ad,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Gn(t,e){return new Os(ad,`bytes${e||""}`,t,{size:e})}const mF=Symbol.for("_ethers_typed");var Nm;const cd=class cd{constructor(e,n,r,i){he(this,"type");he(this,"value");ae(this,Nm);he(this,"_typedSymbol");i==null&&(i=null),yx(ad,e,"Typed"),Zt(this,{_typedSymbol:mF,type:n,value:r}),X(this,Nm,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return N(this,Nm)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return N(this,Nm)===!0?-1:N(this,Nm)===!1?this.value.length:null}static from(e,n){return new cd(ad,e,n)}static uint8(e){return vt(e,8)}static uint16(e){return vt(e,16)}static uint24(e){return vt(e,24)}static uint32(e){return vt(e,32)}static uint40(e){return vt(e,40)}static uint48(e){return vt(e,48)}static uint56(e){return vt(e,56)}static uint64(e){return vt(e,64)}static uint72(e){return vt(e,72)}static uint80(e){return vt(e,80)}static uint88(e){return vt(e,88)}static uint96(e){return vt(e,96)}static uint104(e){return vt(e,104)}static uint112(e){return vt(e,112)}static uint120(e){return vt(e,120)}static uint128(e){return vt(e,128)}static uint136(e){return vt(e,136)}static uint144(e){return vt(e,144)}static uint152(e){return vt(e,152)}static uint160(e){return vt(e,160)}static uint168(e){return vt(e,168)}static uint176(e){return vt(e,176)}static uint184(e){return vt(e,184)}static uint192(e){return vt(e,192)}static uint200(e){return vt(e,200)}static uint208(e){return vt(e,208)}static uint216(e){return vt(e,216)}static uint224(e){return vt(e,224)}static uint232(e){return vt(e,232)}static uint240(e){return vt(e,240)}static uint248(e){return vt(e,248)}static uint256(e){return vt(e,256)}static uint(e){return vt(e,256)}static int8(e){return vt(e,-8)}static int16(e){return vt(e,-16)}static int24(e){return vt(e,-24)}static int32(e){return vt(e,-32)}static int40(e){return vt(e,-40)}static int48(e){return vt(e,-48)}static int56(e){return vt(e,-56)}static int64(e){return vt(e,-64)}static int72(e){return vt(e,-72)}static int80(e){return vt(e,-80)}static int88(e){return vt(e,-88)}static int96(e){return vt(e,-96)}static int104(e){return vt(e,-104)}static int112(e){return vt(e,-112)}static int120(e){return vt(e,-120)}static int128(e){return vt(e,-128)}static int136(e){return vt(e,-136)}static int144(e){return vt(e,-144)}static int152(e){return vt(e,-152)}static int160(e){return vt(e,-160)}static int168(e){return vt(e,-168)}static int176(e){return vt(e,-176)}static int184(e){return vt(e,-184)}static int192(e){return vt(e,-192)}static int200(e){return vt(e,-200)}static int208(e){return vt(e,-208)}static int216(e){return vt(e,-216)}static int224(e){return vt(e,-224)}static int232(e){return vt(e,-232)}static int240(e){return vt(e,-240)}static int248(e){return vt(e,-248)}static int256(e){return vt(e,-256)}static int(e){return vt(e,-256)}static bytes1(e){return Gn(e,1)}static bytes2(e){return Gn(e,2)}static bytes3(e){return Gn(e,3)}static bytes4(e){return Gn(e,4)}static bytes5(e){return Gn(e,5)}static bytes6(e){return Gn(e,6)}static bytes7(e){return Gn(e,7)}static bytes8(e){return Gn(e,8)}static bytes9(e){return Gn(e,9)}static bytes10(e){return Gn(e,10)}static bytes11(e){return Gn(e,11)}static bytes12(e){return Gn(e,12)}static bytes13(e){return Gn(e,13)}static bytes14(e){return Gn(e,14)}static bytes15(e){return Gn(e,15)}static bytes16(e){return Gn(e,16)}static bytes17(e){return Gn(e,17)}static bytes18(e){return Gn(e,18)}static bytes19(e){return Gn(e,19)}static bytes20(e){return Gn(e,20)}static bytes21(e){return Gn(e,21)}static bytes22(e){return Gn(e,22)}static bytes23(e){return Gn(e,23)}static bytes24(e){return Gn(e,24)}static bytes25(e){return Gn(e,25)}static bytes26(e){return Gn(e,26)}static bytes27(e){return Gn(e,27)}static bytes28(e){return Gn(e,28)}static bytes29(e){return Gn(e,29)}static bytes30(e){return Gn(e,30)}static bytes31(e){return Gn(e,31)}static bytes32(e){return Gn(e,32)}static address(e){return new cd(ad,"address",e)}static bool(e){return new cd(ad,"bool",!!e)}static bytes(e){return new cd(ad,"bytes",e)}static string(e){return new cd(ad,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new cd(ad,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===mF}static dereference(e,n){if(cd.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};Nm=new WeakMap;let Os=cd;class W4e extends hf{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=Os.dereference(n,"string");try{r=nr(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return nr(dp(e.readValue(),20))}}class H4e extends hf{constructor(n){super(n.name,n.type,"_",n.dynamic);he(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function EY(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let c={};r=e.map(u=>{const f=u.localName;return De(f,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),De(!c[f],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),c[f]=!0,n[f]})}else ie(!1,"invalid tuple value","tuple",n);ie(e.length===r.length,"types/value length mismatch","tuple",n);let i=new QP,s=new QP,o=[];e.forEach((c,u)=>{let f=r[u];if(c.dynamic){let h=s.length;c.encode(s,f);let p=i.writeUpdatableValue();o.push(g=>{p(g+h)})}else c.encode(i,f)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function AY(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readIndex(),c=i.subReader(a);try{o=s.decode(c)}catch(u){if(ds(u,"BUFFER_OVERRUN"))throw u;o=u,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(ds(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");n.push(o),r.push(s.localName||null)}),nb.fromItems(n,r)}class V4e extends hf{constructor(n,r,i){const s=n.type+"["+(r>=0?r:"")+"]",o=r===-1||n.dynamic;super("array",s,i,o);he(this,"coder");he(this,"length");Zt(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(n);return r}encode(n,r){const i=Os.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,n.writeValue(i.length)),RK(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<i.length;a++)o.push(this.coder);return EY(n,o,i)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),De(r*eo<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*eo,length:n.dataLength}));let i=[];for(let s=0;s<r;s++)i.push(new H4e(this.coder));return AY(n,i)}}class q4e extends hf{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=Os.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class SY extends hf{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Xs(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class G4e extends SY{constructor(e){super("bytes",e)}decode(e){return ut(super.decode(e))}}class K4e extends hf{constructor(n,r){let i="bytes"+String(n);super(i,i,r,!1);he(this,"size");Zt(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let i=Xs(Os.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(i)}decode(n){return ut(n.readBytes(this.size))}}const Y4e=new Uint8Array([]);class Q4e extends hf{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(Y4e)}decode(e){return e.readBytes(0),null}}const Z4e=BigInt(0),J4e=BigInt(1),X4e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class ePe extends hf{constructor(n,r,i){const s=(r?"int":"uint")+n*8;super(s,s,i,!1);he(this,"size");he(this,"signed");Zt(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let i=Ct(Os.dereference(r,this.type)),s=pm(X4e,eo*8);if(this.signed){let o=pm(s,this.size*8-1);(i>o||i<-(o+J4e))&&this._throwError("value out-of-bounds",r),i=DK(i,8*eo)}else(i<Z4e||i>pm(s,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(i)}decode(n){let r=pm(n.readValue(),this.size*8);return this.signed&&(r=p5(r,this.size*8)),r}}class tPe extends SY{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Md(Os.dereference(n,"string")))}decode(e){return m5(super.decode(e))}}class hA extends hf{constructor(n,r){let i=!1;const s=[];n.forEach(a=>{a.dynamic&&(i=!0),s.push(a.type)});const o="tuple("+s.join(",")+")";super("tuple",o,r,i);he(this,"coders");Zt(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(i=>{n.push(i.defaultValue())});const r=this.coders.reduce((i,s)=>{const o=s.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});return this.coders.forEach((i,s)=>{let o=i.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),n[o]==null&&(n[o]=n[s]))}),Object.freeze(n)}encode(n,r){const i=Os.dereference(r,"tuple");return EY(n,this.coders,i)}decode(n){return AY(n,this.coders)}}function tN(t,e){return{address:nr(t),storageKeys:e.map((n,r)=>(ie(Dr(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Zg(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(ie(n.length===2,"invalid slot set",`value[${r}]`,n),tN(n[0],n[1])):(ie(n!=null&&typeof n=="object","invalid address-slot set","value",t),tN(n.address,n.storageKeys)));ie(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return tN(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function _Y(t){return{address:nr(t.address),nonce:Ct(t.nonce!=null?t.nonce:0),chainId:Ct(t.chainId!=null?t.chainId:0),signature:Ho.from(t.signature)}}function nPe(t){let e;return typeof t=="string"?e=X2.computePublicKey(t,!1):e=t.publicKey,nr(Ci("0x"+e.substring(4)).substring(26))}function rPe(t,e){return nPe(X2.recoverPublicKey(t,e))}const Vi=BigInt(0),iPe=BigInt(2),sPe=BigInt(27),oPe=BigInt(28),aPe=BigInt(35),cPe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),nN=4096*32;function lPe(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return En(t.blobToKzgCommitment(ut(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return En(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return En(t.blobToKZGCommitment(ut(r)));ie(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return En(t.computeBlobProof(ut(r),ut(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return En(t.computeBlobKZGProof(ut(r),ut(i)));ie(!1,"unsupported KZG library","kzg",t)}}}function gF(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=Lb(e).substring(4),"0x"+n}function Mb(t){return t==="0x"?null:nr(t)}function XS(t,e){try{return Zg(t)}catch(n){ie(!1,n.message,e,t)}}function uPe(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:Mb(i[1]),nonce:xr(i[2],"nonce"),chainId:xr(i[0],"chainId"),signature:Ho.from({yParity:Jg(i[3],"yParity"),r:nf(i[4],32),s:nf(i[5],32)})})}return n}catch(n){ie(!1,n.message,e,t)}}function Jg(t,e){return t==="0x"?0:wn(t,e)}function xr(t,e){if(t==="0x")return Vi;const n=Ct(t,e);return ie(n<=cPe,"value exceeds uint size",e,n),n}function On(t,e){const n=Ct(t,"value"),r=Ri(n);return ie(r.length<=32,"value too large",`tx.${e}`,n),r}function e_(t){return Zg(t).map(e=>[e.address,e.storageKeys])}function dPe(t){return t.map(e=>[On(e.chainId,"chainId"),e.address,On(e.nonce,"nonce"),On(e.signature.yParity,"yParity"),Ri(e.signature.r),Ri(e.signature.s)])}function fPe(t,e){ie(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)ie(Dr(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function hPe(t){const e=wx(t);ie(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Jg(e[0],"nonce"),gasPrice:xr(e[1],"gasPrice"),gasLimit:xr(e[2],"gasLimit"),to:Mb(e[3]),value:xr(e[4],"value"),data:ut(e[5]),chainId:Vi};if(e.length===6)return n;const r=xr(e[6],"v"),i=xr(e[7],"r"),s=xr(e[8],"s");if(i===Vi&&s===Vi)n.chainId=r;else{let o=(r-aPe)/iPe;o<Vi&&(o=Vi),n.chainId=o,ie(o!==Vi||r===sPe||r===oPe,"non-canonical legacy v","v",e[6]),n.signature=Ho.from({r:nf(e[7],32),s:nf(e[8],32),v:r})}return n}function pPe(t,e){const n=[On(t.nonce,"nonce"),On(t.gasPrice||0,"gasPrice"),On(t.gasLimit,"gasLimit"),t.to||"0x",On(t.value,"value"),t.data];let r=Vi;if(t.chainId!=Vi)r=Ct(t.chainId,"tx.chainId"),ie(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==Vi&&(n.push(Ri(r)),n.push("0x"),n.push("0x")),fp(n);let i=BigInt(27+e.yParity);return r!==Vi?i=Ho.getChainIdV(r,e.v):BigInt(e.v)!==i&&ie(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(Ri(i)),n.push(Ri(e.r)),n.push(Ri(e.s)),fp(n)}function t_(t,e){let n;try{if(n=Jg(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{ie(!1,"invalid yParity","yParity",e[0])}const r=nf(e[1],32),i=nf(e[2],32),s=Ho.from({r,s:i,yParity:n});t.signature=s}function mPe(t){const e=wx(En(t).slice(1));ie(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ut(t));const n={type:2,chainId:xr(e[0],"chainId"),nonce:Jg(e[1],"nonce"),maxPriorityFeePerGas:xr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:xr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:xr(e[4],"gasLimit"),to:Mb(e[5]),value:xr(e[6],"value"),data:ut(e[7]),accessList:XS(e[8],"accessList")};return e.length===9||t_(n,e.slice(9)),n}function gPe(t,e){const n=[On(t.chainId,"chainId"),On(t.nonce,"nonce"),On(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),On(t.maxFeePerGas||0,"maxFeePerGas"),On(t.gasLimit,"gasLimit"),t.to||"0x",On(t.value,"value"),t.data,e_(t.accessList||[])];return e&&(n.push(On(e.yParity,"yParity")),n.push(Ri(e.r)),n.push(Ri(e.s))),ri(["0x02",fp(n)])}function yPe(t){const e=wx(En(t).slice(1));ie(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ut(t));const n={type:1,chainId:xr(e[0],"chainId"),nonce:Jg(e[1],"nonce"),gasPrice:xr(e[2],"gasPrice"),gasLimit:xr(e[3],"gasLimit"),to:Mb(e[4]),value:xr(e[5],"value"),data:ut(e[6]),accessList:XS(e[7],"accessList")};return e.length===8||t_(n,e.slice(8)),n}function wPe(t,e){const n=[On(t.chainId,"chainId"),On(t.nonce,"nonce"),On(t.gasPrice||0,"gasPrice"),On(t.gasLimit,"gasLimit"),t.to||"0x",On(t.value,"value"),t.data,e_(t.accessList||[])];return e&&(n.push(On(e.yParity,"recoveryParam")),n.push(Ri(e.r)),n.push(Ri(e.s))),ri(["0x01",fp(n)])}function bPe(t){let e=wx(En(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const s=e[1],o=e[2],a=e[3];ie(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),ie(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),ie(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),ie(s.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),ie(s.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let c=0;c<e[1].length;c++)r.push({data:s[c],commitment:o[c],proof:a[c]});e=e[0]}ie(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",ut(t));const i={type:3,chainId:xr(e[0],"chainId"),nonce:Jg(e[1],"nonce"),maxPriorityFeePerGas:xr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:xr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:xr(e[4],"gasLimit"),to:Mb(e[5]),value:xr(e[6],"value"),data:ut(e[7]),accessList:XS(e[8],"accessList"),maxFeePerBlobGas:xr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),ie(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),ie(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<i.blobVersionedHashes.length;s++)ie(Dr(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||t_(i,e.slice(11)),i}function vPe(t,e,n){const r=[On(t.chainId,"chainId"),On(t.nonce,"nonce"),On(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),On(t.maxFeePerGas||0,"maxFeePerGas"),On(t.gasLimit,"gasLimit"),t.to||er,On(t.value,"value"),t.data,e_(t.accessList||[]),On(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),fPe(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(On(e.yParity,"yParity")),r.push(Ri(e.r)),r.push(Ri(e.s)),n)?ri(["0x03",fp([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])]):ri(["0x03",fp(r)])}function CPe(t){const e=wx(En(t).slice(1));ie(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",ut(t));const n={type:4,chainId:xr(e[0],"chainId"),nonce:Jg(e[1],"nonce"),maxPriorityFeePerGas:xr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:xr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:xr(e[4],"gasLimit"),to:Mb(e[5]),value:xr(e[6],"value"),data:ut(e[7]),accessList:XS(e[8],"accessList"),authorizationList:uPe(e[9],"authorizationList")};return e.length===10||t_(n,e.slice(10)),n}function xPe(t,e){const n=[On(t.chainId,"chainId"),On(t.nonce,"nonce"),On(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),On(t.maxFeePerGas||0,"maxFeePerGas"),On(t.gasLimit,"gasLimit"),t.to||"0x",On(t.value,"value"),t.data,e_(t.accessList||[]),dPe(t.authorizationList||[])];return e&&(n.push(On(e.yParity,"yParity")),n.push(Ri(e.r)),n.push(Ri(e.s))),ri(["0x04",fp(n)])}var qc,Fy,jy,zy,Wy,Hy,Vy,qy,Gy,Ky,Yy,Qy,Pm,gh,Ql,yh,Zy,Jy,zA;const Gl=class Gl{constructor(){ae(this,Jy);ae(this,qc);ae(this,Fy);ae(this,jy);ae(this,zy);ae(this,Wy);ae(this,Hy);ae(this,Vy);ae(this,qy);ae(this,Gy);ae(this,Ky);ae(this,Yy);ae(this,Qy);ae(this,Pm);ae(this,gh);ae(this,Ql);ae(this,yh);ae(this,Zy);X(this,qc,null),X(this,Fy,null),X(this,zy,0),X(this,Wy,Vi),X(this,Hy,null),X(this,Vy,null),X(this,qy,null),X(this,jy,"0x"),X(this,Gy,Vi),X(this,Ky,Vi),X(this,Yy,null),X(this,Qy,null),X(this,Pm,null),X(this,gh,null),X(this,Ql,null),X(this,yh,null),X(this,Zy,null)}get type(){return N(this,qc)}set type(e){switch(e){case null:X(this,qc,null);break;case 0:case"legacy":X(this,qc,0);break;case 1:case"berlin":case"eip-2930":X(this,qc,1);break;case 2:case"london":case"eip-1559":X(this,qc,2);break;case 3:case"cancun":case"eip-4844":X(this,qc,3);break;case 4:case"pectra":case"eip-7702":X(this,qc,4);break;default:ie(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=N(this,Fy);return e==null&&this.type===3?er:e}set to(e){X(this,Fy,e==null?null:nr(e))}get nonce(){return N(this,zy)}set nonce(e){X(this,zy,wn(e,"value"))}get gasLimit(){return N(this,Wy)}set gasLimit(e){X(this,Wy,Ct(e))}get gasPrice(){const e=N(this,Hy);return e==null&&(this.type===0||this.type===1)?Vi:e}set gasPrice(e){X(this,Hy,e==null?null:Ct(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=N(this,Vy);return e??(this.type===2||this.type===3?Vi:null)}set maxPriorityFeePerGas(e){X(this,Vy,e==null?null:Ct(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=N(this,qy);return e??(this.type===2||this.type===3?Vi:null)}set maxFeePerGas(e){X(this,qy,e==null?null:Ct(e,"maxFeePerGas"))}get data(){return N(this,jy)}set data(e){X(this,jy,ut(e))}get value(){return N(this,Gy)}set value(e){X(this,Gy,Ct(e,"value"))}get chainId(){return N(this,Ky)}set chainId(e){X(this,Ky,Ct(e))}get signature(){return N(this,Yy)||null}set signature(e){X(this,Yy,e==null?null:Ho.from(e))}get accessList(){const e=N(this,Qy)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){X(this,Qy,e==null?null:Zg(e))}get authorizationList(){const e=N(this,Zy)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){X(this,Zy,e==null?null:e.map(n=>_Y(n)))}get maxFeePerBlobGas(){const e=N(this,Pm);return e==null&&this.type===3?Vi:e}set maxFeePerBlobGas(e){X(this,Pm,e==null?null:Ct(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=N(this,gh);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){ie(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)ie(Dr(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}X(this,gh,e)}get blobs(){return N(this,yh)==null?null:N(this,yh).map(e=>Object.assign({},e))}set blobs(e){if(e==null){X(this,yh,null);return}const n=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(G8(s)){De(N(this,Ql),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=En(s);if(ie(o.length<=nN,"blob is too large",`blobs[${i}]`,s),o.length!==nN){const u=new Uint8Array(nN);u.set(o),o=u}const a=N(this,Ql).blobToKzgCommitment(o),c=ut(N(this,Ql).computeBlobKzgProof(o,a));n.push({data:ut(o),commitment:ut(a),proof:c}),r.push(gF(1,a))}else{const o=ut(s.commitment);n.push({data:ut(s.data),commitment:o,proof:ut(s.proof)}),r.push(gF(1,o))}}X(this,yh,n),X(this,gh,r)}get kzg(){return N(this,Ql)}set kzg(e){e==null?X(this,Ql,null):X(this,Ql,lPe(e))}get hash(){return this.signature==null?null:Ci(xe(this,Jy,zA).call(this,!0,!1))}get unsignedHash(){return Ci(this.unsignedSerialized)}get from(){return this.signature==null?null:rPe(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:X2.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return xe(this,Jy,zA).call(this,!0,!0)}get unsignedSerialized(){return xe(this,Jy,zA).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=N(this,Pm)!=null||N(this,gh);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&De(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),De(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),De(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):n?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Gl.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Gl;if(typeof e=="string"){const r=En(e);if(r[0]>=127)return Gl.from(hPe(r));switch(r[0]){case 1:return Gl.from(yPe(r));case 2:return Gl.from(mPe(r));case 3:return Gl.from(bPe(r));case 4:return Gl.from(CPe(r))}De(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Gl;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Ho.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(ie(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),ie(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(ie(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),ie(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};qc=new WeakMap,Fy=new WeakMap,jy=new WeakMap,zy=new WeakMap,Wy=new WeakMap,Hy=new WeakMap,Vy=new WeakMap,qy=new WeakMap,Gy=new WeakMap,Ky=new WeakMap,Yy=new WeakMap,Qy=new WeakMap,Pm=new WeakMap,gh=new WeakMap,Ql=new WeakMap,yh=new WeakMap,Zy=new WeakMap,Jy=new WeakSet,zA=function(e,n){De(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return pPe(this,r);case 1:return wPe(this,r);case 2:return gPe(this,r);case 3:return vPe(this,r,n?this.blobs:null);case 4:return xPe(this,r)}De(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let w5=Gl;function Tg(t){return Ci(Md(t))}var EPe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const yF=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),wF=4;function APe(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let S=1;S<r;S++)s.push(i+=n());let o=n(),a=e;e+=o;let c=0,u=0;function f(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}const h=31,p=2**h,g=p>>>1,w=g>>1,y=p-1;let b=0;for(let S=0;S<h;S++)b=b<<1|f();let C=[],x=0,E=p;for(;;){let S=Math.floor(((b-x+1)*i-1)/E),T=0,R=r;for(;R-T>1;){let M=T+R>>>1;S<s[M]?R=M:T=M}if(T==0)break;C.push(T);let O=x+Math.floor(E*s[T]/i),k=x+Math.floor(E*s[T+1]/i)-1;for(;((O^k)&g)==0;)b=b<<1&y|f(),O=O<<1&y,k=k<<1&y|1;for(;O&~k&w;)b=b&g|b<<1&y>>>1|f(),O=O<<1^g,k=(k^g)<<1|g|1;x=O,E=1+k-O}let I=r-4;return C.map(S=>{switch(S-I){case 3:return I+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return I+256+(t[a++]<<8|t[a++]);case 1:return I+t[a++];default:return S-1}})}function SPe(t){let e=0;return()=>t[e++]}function TY(t){return SPe(APe(_Pe(t)))}function _Pe(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function TPe(t){return t&1?~t>>1:t>>1}function IPe(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=TPe(e());return n}function eC(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function IY(t){return tC(()=>{let e=eC(t);if(e.length)return e})}function NY(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(NPe(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(PPe(n,t))}return e.flat()}function tC(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function PY(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)IPe(t,n).forEach((s,o)=>r[o].push(s));return r}function NPe(t,e){let n=1+e(),r=e(),i=tC(e);return PY(i.length,1+t,e).flatMap((o,a)=>{let[c,...u]=o;return Array(i[a]).fill().map((f,h)=>{let p=h*r;return[c+h*n,u.map(g=>g+p)]})})}function PPe(t,e){let n=1+e();return PY(n,1+t,e).map(i=>[i[0],i.slice(1)])}function kPe(t){let e=[],n=eC(t);return i(r([]),[]),e;function r(s){let o=t(),a=tC(()=>{let c=eC(t).map(u=>n[u]);if(c.length)return r(c)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,c){if(!(s&4&&c===a[a.length-1])){s&2&&(c=a[a.length-1]),s&1&&e.push(a);for(let u of o)for(let f of u.Q)i(u,[...a,f],c)}}}function RPe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function kY(t){return`{${RPe(t)}}`}function OPe(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function ab(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function $Pe(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var DPe="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const nC=44032,b5=4352,v5=4449,C5=4519,RY=19,OY=21,cb=28,x5=OY*cb,LPe=RY*x5,MPe=nC+LPe,BPe=b5+RY,UPe=v5+OY,FPe=C5+cb;function t1(t){return t>>24&255}function $Y(t){return t&16777215}let ik,bF,sk,WA;function jPe(){let t=TY(DPe);ik=new Map(IY(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),bF=new Set(eC(t)),sk=new Map,WA=new Map;for(let[e,n]of NY(t)){if(!bF.has(e)&&n.length==2){let[r,i]=n,s=WA.get(r);s||(s=new Map,WA.set(r,s)),s.set(i,e)}sk.set(e,n.reverse())}}function DY(t){return t>=nC&&t<MPe}function zPe(t,e){if(t>=b5&&t<BPe&&e>=v5&&e<UPe)return nC+(t-b5)*x5+(e-v5)*cb;if(DY(t)&&e>C5&&e<FPe&&(t-nC)%cb==0)return t+(e-C5);{let n=WA.get(t);return n&&(n=n.get(e),n)?n:-1}}function LY(t){ik||jPe();let e=[],n=[],r=!1;function i(s){let o=ik.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(DY(s)){let o=s-nC,a=o/x5|0,c=o%x5/cb|0,u=o%cb;i(b5+a),i(v5+c),u>0&&i(C5+u)}else{let o=sk.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=t1(e[0]);for(let o=1;o<e.length;o++){let a=t1(e[o]);if(a==0||s<=a){s=a;continue}let c=o-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(s=t1(e[--c]),s<=a))break}s=t1(e[o])}}return e}function WPe(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=t1(s),a=$Y(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let c=zPe(r,a);c>=0?r=c:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function MY(t){return LY(t).map($Y)}function HPe(t){return WPe(LY(t))}const vF=45,BY=".",UY=65039,FY=1,E5=t=>Array.from(t);function rC(t,e){return t.P.has(e)||t.Q.has(e)}class VPe extends Array{get is_emoji(){return!0}}let ok,jY,gm,ak,zY,Ty,rN,sy,Yp,CF,ck;function rO(){if(ok)return;let t=TY(EPe);const e=()=>eC(t),n=()=>new Set(e()),r=(f,h)=>h.forEach(p=>f.add(p));ok=new Map(NY(t)),jY=n(),gm=e(),ak=new Set(e().map(f=>gm[f])),gm=new Set(gm),zY=n(),n();let i=IY(t),s=t();const o=()=>{let f=new Set;return e().forEach(h=>r(f,i[h])),r(f,e()),f};Ty=tC(f=>{let h=tC(t).map(p=>p+96);if(h.length){let p=f>=s;h[0]-=32,h=ab(h),p&&(h=`Restricted[${h}]`);let g=o(),w=o(),y=!t();return{N:h,P:g,Q:w,M:y,R:p}}}),rN=n(),sy=new Map;let a=e().concat(E5(rN)).sort((f,h)=>f-h);a.forEach((f,h)=>{let p=t(),g=a[h]=p?a[h-p]:{V:[],M:new Map};g.V.push(f),rN.has(f)||sy.set(f,g)});for(let{V:f,M:h}of new Set(sy.values())){let p=[];for(let w of f){let y=Ty.filter(C=>rC(C,w)),b=p.find(({G:C})=>y.some(x=>C.has(x)));b||(b={G:new Set,V:[]},p.push(b)),b.V.push(w),r(b.G,y)}let g=p.flatMap(w=>E5(w.G));for(let{G:w,V:y}of p){let b=new Set(g.filter(C=>!w.has(C)));for(let C of y)h.set(C,b)}}Yp=new Set;let c=new Set;const u=f=>Yp.has(f)?c.add(f):Yp.add(f);for(let f of Ty){for(let h of f.P)u(h);for(let h of f.Q)u(h)}for(let f of Yp)!sy.has(f)&&!c.has(f)&&sy.set(f,FY);r(Yp,MY(Yp)),CF=kPe(t).map(f=>VPe.from(f)).sort($Pe),ck=new Map;for(let f of CF){let h=[ck];for(let p of f){let g=h.map(w=>{let y=w.get(p);return y||(y=new Map,w.set(p,y)),y});p===UY?h.push(...g):h=g}for(let p of h)p.V=f}}function iO(t){return(WY(t)?"":`${sO(n_([t]))} `)+kY(t)}function sO(t){return`"${t}"`}function qPe(t){if(t.length>=4&&t[2]==vF&&t[3]==vF)throw new Error(`invalid label extension: "${ab(t.slice(0,4))}"`)}function GPe(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function KPe(t){let e=t[0],n=yF.get(e);if(n)throw I1(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=yF.get(e);if(o){if(i==s)throw I1(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw I1(`trailing ${n}`)}function n_(t,e=1/0,n=kY){let r=[];YPe(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];WY(a)&&(r.push(ab(t.slice(i,o))),r.push(n(a)),i=o+1)}return r.push(ab(t.slice(i,s))),r.join("")}function YPe(t){return rO(),gm.has(t)}function WY(t){return rO(),zY.has(t)}function QPe(t){return eke(ZPe(t,HPe,rke))}function ZPe(t,e,n){if(!t)return[];rO();let r=0;return t.split(BY).map(i=>{let s=OPe(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=nke(s,e,n),c=a.length,u;if(!c)throw new Error("empty label");let f=o.output=a.flat();if(GPe(f),!(o.emoji=c>1||a[0].is_emoji)&&f.every(p=>p<128))qPe(f),u="ASCII";else{let p=a.flatMap(g=>g.is_emoji?[]:g);if(!p.length)u="Emoji";else{if(gm.has(f[0]))throw I1("leading combining mark");for(let y=1;y<c;y++){let b=a[y];if(!b.is_emoji&&gm.has(b[0]))throw I1(`emoji + combining mark: "${ab(a[y-1])} + ${n_([b[0]])}"`)}KPe(f);let g=E5(new Set(p)),[w]=XPe(g);tke(w,p),JPe(w,g),u=w.N}}o.type=u}catch(a){o.error=a}return o})}function JPe(t,e){let n,r=[];for(let i of e){let s=sy.get(i);if(s===FY)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):E5(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>rC(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function XPe(t){let e=Ty;for(let n of t){let r=e.filter(i=>rC(i,n));if(!r.length)throw Ty.some(i=>rC(i,n))?VY(e[0],n):HY(n);if(e=r,r.length==1)break}return e}function eke(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${sO(n_(e,63))}: ${i}`)}return ab(r)}).join(BY)}function HY(t){return new Error(`disallowed character: ${iO(t)}`)}function VY(t,e){let n=iO(e),r=Ty.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function I1(t){return new Error(`illegal placement: ${t}`)}function tke(t,e){for(let n of e)if(!rC(t,n))throw VY(t,n);if(t.M){let n=MY(e);for(let r=1,i=n.length;r<i;r++)if(ak.has(n[r])){let s=r+1;for(let o;s<i&&ak.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${iO(o)}`);if(s-r>wF)throw new Error(`excessive non-spacing marks: ${sO(n_(n.slice(r-1,s)))} (${s-r}/${wF})`);r=s}}}function nke(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=ike(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(Yp.has(o))i.push(o);else{let a=ok.get(o);if(a)i.push(...a);else if(!jY.has(o))throw HY(o)}}}return i.length&&r.push(e(i)),r}function rke(t){return t.filter(e=>e!=UY)}function ike(t,e){let n=ck,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,t.length=i)}return r}const qY=new Uint8Array(32);qY.fill(0);function xF(t){return ie(t.length!==0,"invalid ENS name; empty component","comp",t),t}function GY(t){const e=Md(ske(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(xF(e.slice(r,i))),r=i+1);return ie(r<e.length,"invalid ENS name; empty component","name",t),n.push(xF(e.slice(r))),n}function ske(t){try{if(t.length===0)throw new Error("empty label");return QPe(t)}catch(e){ie(!1,`invalid ENS name (${e.message})`,"name",t)}}function lk(t){ie(typeof t=="string","invalid ENS name; not a string","name",t),ie(t.length,"invalid ENS name (empty label)","name",t);let e=qY;const n=GY(t);for(;n.length;)e=Ci(ri([e,Ci(n.pop())]));return ut(e)}function oke(t,e){const n=e;return ie(n<=255,"DNS encoded label cannot exceed 255","length",n),ut(ri(GY(t).map(r=>{ie(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const KY=new Uint8Array(32);KY.fill(0);const ake=BigInt(-1),YY=BigInt(0),QY=BigInt(1),cke=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function lke(t){const e=En(t),n=e.length%32;return n?ri([e,KY.slice(n)]):ut(e)}const uke=dp(QY,32),dke=dp(YY,32),EF={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},iN=["name","version","chainId","verifyingContract","salt"];function AF(t){return function(e){return ie(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const fke={name:AF("name"),version:AF("version"),chainId:function(t){const e=Ct(t,"domain.chainId");return ie(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Zc(e)},verifyingContract:function(t){try{return nr(t).toLowerCase()}catch{}ie(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=En(t,"domain.salt");return ie(e.length===32,'invalid domain value "salt"',"domain.salt",t),ut(e)}};function sN(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);ie(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=pm(cke,n?r-1:r),s=n?(i+QY)*ake:YY;return function(o){const a=Ct(o,"value");return ie(a>=s&&a<=i,`value out-of-bounds for ${t}`,"value",a),dp(n?DK(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return ie(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=En(r);return ie(i.length===n,`invalid length for ${t}`,"value",r),lke(r)}}}switch(t){case"address":return function(e){return nf(nr(e),32)};case"bool":return function(e){return e?uke:dke};case"bytes":return function(e){return Ci(e)};case"string":return function(e){return Tg(e)}}return null}function SF(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function pA(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var wC,gd,Xy,U5,ZY;const Qa=class Qa{constructor(e){ae(this,U5);he(this,"primaryType");ae(this,wC);ae(this,gd);ae(this,Xy);X(this,gd,new Map),X(this,Xy,new Map);const n=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(c=>{s[c]=e[c].map(({name:u,type:f})=>{let{base:h,index:p}=pA(f);return h==="int"&&!e.int&&(h="int256"),h==="uint"&&!e.uint&&(h="uint256"),{name:u,type:h+(p||"")}}),n.set(c,new Set),r.set(c,[]),i.set(c,new Set)}),X(this,wC,JSON.stringify(s));for(const c in s){const u=new Set;for(const f of s[c]){ie(!u.has(f.name),`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(c)}`,"types",e),u.add(f.name);const h=pA(f.type).base;ie(h!==c,`circular type reference to ${JSON.stringify(h)}`,"types",e),!sN(h)&&(ie(r.has(h),`unknown type ${JSON.stringify(h)}`,"types",e),r.get(h).push(c),n.get(c).add(h))}}const o=Array.from(r.keys()).filter(c=>r.get(c).length===0);ie(o.length!==0,"missing primary type","types",e),ie(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Zt(this,{primaryType:o[0]});function a(c,u){ie(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const f of n.get(c))if(r.has(f)){a(f,u);for(const h of u)i.get(h).add(f)}u.delete(c)}a(this.primaryType,new Set);for(const[c,u]of i){const f=Array.from(u);f.sort(),N(this,gd).set(c,SF(c,s[c])+f.map(h=>SF(h,s[h])).join(""))}}get types(){return JSON.parse(N(this,wC))}getEncoder(e){let n=N(this,Xy).get(e);return n||(n=xe(this,U5,ZY).call(this,e),N(this,Xy).set(e,n)),n}encodeType(e){const n=N(this,gd).get(e);return ie(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Ci(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(sN(e))return r(e,n);const i=pA(e).array;if(i)return ie(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(o=>this._visit(i.prefix,o,r));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,n[a],r),o),{});ie(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Qa(e)}static getPrimaryType(e){return Qa.from(e).primaryType}static hashStruct(e,n,r){return Qa.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=EF[r];ie(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>iN.indexOf(r.name)-iN.indexOf(i.name)),Qa.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return ri(["0x1901",Qa.hashDomain(e),Qa.from(n).hash(r)])}static hash(e,n,r){return Ci(Qa.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!Dr(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Qa.from(n);o.visit(r,(a,c)=>(a==="address"&&!Dr(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:r}}static getPayload(e,n,r){Qa.hashDomain(e);const i={},s=[];iN.forEach(c=>{const u=e[c];u!=null&&(i[c]=fke[c](u),s.push({name:c,type:EF[c]}))});const o=Qa.from(n);n=o.types;const a=Object.assign({},n);return ie(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(c,u)=>{if(c.match(/^bytes(\d*)/))return ut(En(u));if(c.match(/^u?int/))return Ct(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return ie(typeof u=="string","invalid string","value",u),u}ie(!1,"unsupported type","type",c)})}}};wC=new WeakMap,gd=new WeakMap,Xy=new WeakMap,U5=new WeakSet,ZY=function(e){{const i=sN(e);if(i)return i}const n=pA(e).array;if(n){const i=n.prefix,s=this.getEncoder(i);return o=>{ie(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(s);return N(this,gd).has(i)&&(a=a.map(Ci)),Ci(ri(a))}}const r=this.types[e];if(r){const i=Tg(N(this,gd).get(e));return s=>{const o=r.map(({name:a,type:c})=>{const u=this.getEncoder(c)(s[a]);return N(this,gd).has(c)?Ci(u):u});return o.unshift(i),ri(o)}}ie(!1,`unknown type: ${e}`,"type",e)};let A5=Qa;function no(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const hke="external public payable override",pke=no(hke.split(" ")),JY="constant external internal payable private public pure view override",mke=no(JY.split(" ")),XY="constructor error event fallback function receive struct",eQ=no(XY.split(" ")),tQ="calldata memory storage payable indexed",gke=no(tQ.split(" ")),yke="tuple returns",wke=[XY,tQ,yke,JY].join(" "),bke=no(wke.split(" ")),vke={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Cke=new RegExp("^(\\s*)"),xke=new RegExp("^([0-9]+)"),Eke=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),nQ=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),rQ=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var os,Gc,bC,uk;const F5=class F5{constructor(e){ae(this,bC);ae(this,os);ae(this,Gc);X(this,os,0),X(this,Gc,e.slice())}get offset(){return N(this,os)}get length(){return N(this,Gc).length-N(this,os)}clone(){return new F5(N(this,Gc))}reset(){X(this,os,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=xe(this,bC,uk).call(this,N(this,os)+1,e.match+1);return X(this,os,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;N(this,os)<e.match-1;){const r=this.peek().linkNext;n.push(xe(this,bC,uk).call(this,N(this,os)+1,r)),X(this,os,r)}return X(this,os,e.match+1),n}peek(){if(N(this,os)>=N(this,Gc).length)throw new Error("out-of-bounds");return N(this,Gc)[N(this,os)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return kf(this,os)._++,e}toString(){const e=[];for(let n=N(this,os);n<N(this,Gc).length;n++){const r=N(this,Gc)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};os=new WeakMap,Gc=new WeakMap,bC=new WeakSet,uk=function(e=0,n=0){return new F5(N(this,Gc).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let ml=F5;function bp(t){const e=[],n=o=>{const a=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`)};let r=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(Cke);a&&(s+=a[1].length,o=t.substring(s));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(c);let u=vke[o[0]]||"";if(u){if(c.type=u,c.text=o[0],s++,u==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(u=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let f=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const h=e.pop().text;f=h+f,e[e.length-1].value=wn(h)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=f}continue}if(a=o.match(Eke),a){if(c.text=a[1],s+=c.text.length,bke.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(rQ)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(xke),a){c.text=a[1],c.type="NUMBER",s+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new ml(e.map(o=>Object.freeze(o)))}function _F(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function r_(t,e){if(e.peekKeyword(eQ)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function sf(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function iQ(t){let e=sf(t,mke);return _F(e,no("constant payable nonpayable".split(" "))),_F(e,no("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Bd(t,e){return t.popParams().map(n=>fs.from(n,e))}function sQ(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Ct(t.pop().text);throw new Error("invalid gas")}return null}function Ig(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const Ake=new RegExp(/^(.*)\[([0-9]*)\]$/);function TF(t){const e=t.match(rQ);if(ie(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);ie(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);ie(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const Jr={},Ko=Symbol.for("_ethers_internal"),IF="_ParamTypeInternal",NF="_ErrorInternal",PF="_EventInternal",kF="_ConstructorInternal",RF="_FallbackInternal",OF="_FunctionInternal",$F="_StructInternal";var ew,HA;const Za=class Za{constructor(e,n,r,i,s,o,a,c){ae(this,ew);he(this,"name");he(this,"type");he(this,"baseType");he(this,"indexed");he(this,"components");he(this,"arrayLength");he(this,"arrayChildren");if(yx(e,Jr,"ParamType"),Object.defineProperty(this,Ko,{value:IF}),o&&(o=Object.freeze(o.slice())),i==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Zt(this,{name:n,type:r,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],i=[e];return xe(this,ew,HA).call(this,r,e,n,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(Za.isParamType(e))return e;if(typeof e=="string")try{return Za.from(bp(e),n)}catch{ie(!1,"invalid param type","obj",e)}else if(e instanceof ml){let a="",c="",u=null;sf(e,no(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(y=>Za.from(y)),a=`tuple(${u.map(y=>y.format()).join(",")})`):(a=TF(e.popType("TYPE")),c=a);let f=null,h=null;for(;e.length&&e.peekType("BRACKET");){const y=e.pop();f=new Za(Jr,"",a,c,null,u,h,f),h=y.value,a+=y.text,c="array",u=null}let p=null;if(sf(e,gke).has("indexed")){if(!n)throw new Error("");p=!0}const w=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Za(Jr,w,a,c,p,u,h,f)}const r=e.name;ie(!r||typeof r=="string"&&r.match(nQ),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(ie(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,o=s.match(Ake);if(o){const a=parseInt(o[2]||"-1"),c=Za.from({type:o[1],components:e.components});return new Za(Jr,r||"",s,"array",i,null,a,c)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(u=>Za.from(u)):null;return new Za(Jr,r||"",s,"tuple",i,a,null,null)}return s=TF(e.type),new Za(Jr,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[Ko]===IF}};ew=new WeakSet,HA=function(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((c,u)=>{var f;xe(f=o,ew,HA).call(f,e,c,r,h=>{a[u]=h})}),i(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in n))throw new Error(`missing value for component ${c.name}`);return n[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,u)=>{var f;xe(f=o[u],ew,HA).call(f,e,c,r,h=>{a[u]=h})}),i(a);return}const s=r(this.type,n);s.then?e.push(async function(){i(await s)}()):i(s)};let fs=Za;class Ng{constructor(e,n,r){he(this,"type");he(this,"inputs");yx(e,Jr,"Fragment"),r=Object.freeze(r.slice()),Zt(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{Ng.from(JSON.parse(e))}catch{}return Ng.from(bp(e))}if(e instanceof ml)switch(e.peekKeyword(eQ)){case"constructor":return Nd.from(e);case"error":return Uo.from(e);case"event":return lu.from(e);case"fallback":case"receive":return dd.from(e);case"function":return uu.from(e);case"struct":return Xm.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Nd.from(e);case"error":return Uo.from(e);case"event":return lu.from(e);case"fallback":case"receive":return dd.from(e);case"function":return uu.from(e);case"struct":return Xm.from(e)}De(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}ie(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Nd.isFragment(e)}static isError(e){return Uo.isFragment(e)}static isEvent(e){return lu.isFragment(e)}static isFunction(e){return uu.isFragment(e)}static isStruct(e){return Xm.isFragment(e)}}class i_ extends Ng{constructor(n,r,i,s){super(n,r,s);he(this,"name");ie(typeof i=="string"&&i.match(nQ),"invalid identifier","name",i),s=Object.freeze(s.slice()),Zt(this,{name:i})}}function iC(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Uo extends i_{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Ko,{value:NF})}get selector(){return Tg(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+iC(e,this.inputs)),n.join(" ")}static from(e){if(Uo.isFragment(e))return e;if(typeof e=="string")return Uo.from(bp(e));if(e instanceof ml){const n=r_("error",e),r=Bd(e);return Ig(e),new Uo(Jr,n,r)}return new Uo(Jr,e.name,e.inputs?e.inputs.map(fs.from):[])}static isFragment(e){return e&&e[Ko]===NF}}class lu extends i_{constructor(n,r,i,s){super(n,"event",r,i);he(this,"anonymous");Object.defineProperty(this,Ko,{value:PF}),Zt(this,{anonymous:s})}get topicHash(){return Tg(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+iC(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(s=>fs.from(s)),new lu(Jr,n,r,!1).topicHash}static from(n){if(lu.isFragment(n))return n;if(typeof n=="string")try{return lu.from(bp(n))}catch{ie(!1,"invalid event fragment","obj",n)}else if(n instanceof ml){const r=r_("event",n),i=Bd(n,!0),s=!!sf(n,no(["anonymous"])).has("anonymous");return Ig(n),new lu(Jr,r,i,s)}return new lu(Jr,n.name,n.inputs?n.inputs.map(r=>fs.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[Ko]===PF}}class Nd extends Ng{constructor(n,r,i,s,o){super(n,r,i);he(this,"payable");he(this,"gas");Object.defineProperty(this,Ko,{value:kF}),Zt(this,{payable:s,gas:o})}format(n){if(De(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[`constructor${iC(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(Nd.isFragment(n))return n;if(typeof n=="string")try{return Nd.from(bp(n))}catch{ie(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof ml){sf(n,no(["constructor"]));const r=Bd(n),i=!!sf(n,pke).has("payable"),s=sQ(n);return Ig(n),new Nd(Jr,"constructor",r,i,s)}return new Nd(Jr,"constructor",n.inputs?n.inputs.map(fs.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Ko]===kF}}class dd extends Ng{constructor(n,r,i){super(n,"fallback",r);he(this,"payable");Object.defineProperty(this,Ko,{value:RF}),Zt(this,{payable:i})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(n){if(dd.isFragment(n))return n;if(typeof n=="string")try{return dd.from(bp(n))}catch{ie(!1,"invalid fallback fragment","obj",n)}else if(n instanceof ml){const r=n.toString(),i=n.peekKeyword(no(["fallback","receive"]));if(ie(i,"type must be fallback or receive","obj",r),n.popKeyword(no(["fallback","receive"]))==="receive"){const c=Bd(n);return ie(c.length===0,"receive cannot have arguments","obj.inputs",c),sf(n,no(["payable"])),Ig(n),new dd(Jr,[],!0)}let o=Bd(n);o.length?ie(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[fs.from("bytes")];const a=iQ(n);if(ie(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),sf(n,no(["returns"])).has("returns")){const c=Bd(n);ie(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(u=>u.format("minimal")).join(", "))}return Ig(n),new dd(Jr,o,a==="payable")}if(n.type==="receive")return new dd(Jr,[],!0);if(n.type==="fallback"){const r=[fs.from("bytes")],i=n.stateMutability==="payable";return new dd(Jr,r,i)}ie(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[Ko]===RF}}class uu extends i_{constructor(n,r,i,s,o,a){super(n,"function",r,s);he(this,"constant");he(this,"outputs");he(this,"stateMutability");he(this,"payable");he(this,"gas");Object.defineProperty(this,Ko,{value:OF}),o=Object.freeze(o.slice()),Zt(this,{constant:i==="view"||i==="pure",gas:a,outputs:o,payable:i==="payable",stateMutability:i})}get selector(){return Tg(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n))),outputs:this.outputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+iC(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(iC(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(s=>fs.from(s)),new uu(Jr,n,"view",r,[],null).selector}static from(n){if(uu.isFragment(n))return n;if(typeof n=="string")try{return uu.from(bp(n))}catch{ie(!1,"invalid function fragment","obj",n)}else if(n instanceof ml){const i=r_("function",n),s=Bd(n),o=iQ(n);let a=[];sf(n,no(["returns"])).has("returns")&&(a=Bd(n));const c=sQ(n);return Ig(n),new uu(Jr,i,o,s,a,c)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new uu(Jr,n.name,r,n.inputs?n.inputs.map(fs.from):[],n.outputs?n.outputs.map(fs.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Ko]===OF}}class Xm extends i_{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Ko,{value:$F})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Xm.from(bp(e))}catch{ie(!1,"invalid struct fragment","obj",e)}else if(e instanceof ml){const n=r_("struct",e),r=Bd(e);return Ig(e),new Xm(Jr,n,r)}return new Xm(Jr,e.name,e.inputs?e.inputs.map(fs.from):[])}static isFragment(e){return e&&e[Ko]===$F}}const _l=new Map;_l.set(0,"GENERIC_PANIC");_l.set(1,"ASSERT_FALSE");_l.set(17,"OVERFLOW");_l.set(18,"DIVIDE_BY_ZERO");_l.set(33,"ENUM_RANGE_ERROR");_l.set(34,"BAD_STORAGE_DATA");_l.set(49,"STACK_UNDERFLOW");_l.set(50,"ARRAY_RANGE_ERROR");_l.set(65,"OUT_OF_MEMORY");_l.set(81,"UNINITIALIZED_FUNCTION_CALL");const Ske=new RegExp(/^bytes([0-9]*)$/),_ke=new RegExp(/^(u?int)([0-9]*)$/);let oN=null,DF=1024;function Tke(t,e,n,r){let i="missing revert data",s=null;const o=null;let a=null;if(n){i="execution reverted";const u=En(n);if(n=ut(n),u.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(u.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(ut(u.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],u.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(ut(u.slice(0,4))==="0x4e487b71")try{const f=Number(r.decode(["uint256"],u.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[f]},s=`Panic due to ${_l.get(f)||"UNKNOWN"}(${f})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const c={to:e.to?nr(e.to):null,data:e.data||"0x"};return e.from&&(c.from=nr(e.from)),Vr(i,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:c,invocation:o,revert:a})}var wh,oy;const j5=class j5{constructor(){ae(this,wh)}getDefaultValue(e){const n=e.map(i=>xe(this,wh,oy).call(this,fs.from(i)));return new hA(n,"_").defaultValue()}encode(e,n){RK(n.length,e.length,"types/values length mismatch");const r=e.map(o=>xe(this,wh,oy).call(this,fs.from(o))),i=new hA(r,"_"),s=new QP;return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(o=>xe(this,wh,oy).call(this,fs.from(o)));return new hA(i,"_").decode(new ZP(n,r,DF))}static _setDefaultMaxInflation(e){ie(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),DF=e}static defaultAbiCoder(){return oN==null&&(oN=new j5),oN}static getBuiltinCallException(e,n,r){return Tke(e,n,r,j5.defaultAbiCoder())}};wh=new WeakSet,oy=function(e){if(e.isArray())return new V4e(xe(this,wh,oy).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new hA(e.components.map(r=>xe(this,wh,oy).call(this,r)),e.name);switch(e.baseType){case"address":return new W4e(e.name);case"bool":return new q4e(e.name);case"string":return new tPe(e.name);case"bytes":return new G4e(e.name);case"":return new Q4e(e.name)}let n=e.type.match(_ke);if(n){let r=parseInt(n[2]||"256");return ie(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new ePe(r/8,n[1]==="int",e.name)}if(n=e.type.match(Ske),n){let r=parseInt(n[1]);return ie(r!==0&&r<=32,"invalid bytes length","param",e),new K4e(r,e.name)}ie(!1,"invalid type","type",e.type)};let sC=j5;class Ike{constructor(e,n,r){he(this,"fragment");he(this,"name");he(this,"signature");he(this,"topic");he(this,"args");const i=e.name,s=e.format();Zt(this,{fragment:e,name:i,signature:s,topic:n,args:r})}}class Nke{constructor(e,n,r,i){he(this,"fragment");he(this,"name");he(this,"args");he(this,"signature");he(this,"selector");he(this,"value");const s=e.name,o=e.format();Zt(this,{fragment:e,name:s,args:r,signature:o,selector:n,value:i})}}class Pke{constructor(e,n,r){he(this,"fragment");he(this,"name");he(this,"args");he(this,"signature");he(this,"selector");const i=e.name,s=e.format();Zt(this,{fragment:e,name:i,args:r,signature:s,selector:n})}}class LF{constructor(e){he(this,"hash");he(this,"_isIndexed");Zt(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const MF={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},BF={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&MF[t.toString()]&&(e=MF[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Zl,Jl,Xl,Ns,bu,VA,qA;const rm=class rm{constructor(e){ae(this,bu);he(this,"fragments");he(this,"deploy");he(this,"fallback");he(this,"receive");ae(this,Zl);ae(this,Jl);ae(this,Xl);ae(this,Ns);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,X(this,Xl,new Map),X(this,Zl,new Map),X(this,Jl,new Map);const r=[];for(const o of n)try{r.push(Ng.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}Zt(this,{fragments:Object.freeze(r)});let i=null,s=!1;X(this,Ns,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Zt(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(ie(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,o),i=o,s=i.payable);return;case"function":c=N(this,Xl);break;case"event":c=N(this,Jl);break;case"error":c=N(this,Zl);break;default:return}const u=o.format();c.has(u)||c.set(u,o)}),this.deploy||Zt(this,{deploy:Nd.from("constructor()")}),Zt(this,{fallback:i,receive:s})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return sC.defaultAbiCoder()}getFunctionName(e){const n=xe(this,bu,VA).call(this,e,null,!1);return ie(n,"no matching function","key",e),n.name}hasFunction(e){return!!xe(this,bu,VA).call(this,e,null,!1)}getFunction(e,n){return xe(this,bu,VA).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(N(this,Xl).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(N(this,Xl).get(i),r)}}getEventName(e){const n=xe(this,bu,qA).call(this,e,null,!1);return ie(n,"no matching event","key",e),n.name}hasEvent(e){return!!xe(this,bu,qA).call(this,e,null,!1)}getEvent(e,n){return xe(this,bu,qA).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(N(this,Jl).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(N(this,Jl).get(i),r)}}getError(e,n){if(Dr(e)){const i=e.toLowerCase();if(BF[i])return Uo.from(BF[i].signature);for(const s of N(this,Zl).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,o]of N(this,Zl))s.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?Uo.from("error Error(string)"):e==="Panic"?Uo.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");ie(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Uo.from(e).format(),e==="Error(string)")return Uo.from("error Error(string)");if(e==="Panic(uint256)")return Uo.from("error Panic(uint256)");const r=N(this,Zl).get(e);return r||null}forEachError(e){const n=Array.from(N(this,Zl).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(N(this,Zl).get(i),r)}}_decodeParams(e,n){return N(this,Ns).decode(e,n)}_encodeParams(e,n){return N(this,Ns).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ie(r,"unknown error","fragment",e),e=r}return ie(ni(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,ni(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ie(r,"unknown error","fragment",e),e=r}return ri([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ie(r,"unknown function","fragment",e),e=r}return ie(ni(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,ni(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ie(r,"unknown function","fragment",e),e=r}return ri([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);ie(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=Xs(n);if(i.length%32===0)try{return N(this,Ns).decode(e.outputs,i)}catch{r="could not decode result data"}De(!1,r,"BAD_DATA",{value:ut(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=En(e,"data"),i=sC.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=ut(r.slice(0,4)),c=this.getError(a);if(c)try{const u=N(this,Ns).decode(c.inputs,r.slice(4));i.revert={name:c.name,signature:c.format(),args:u},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);ie(r,"unknown function","fragment",e),e=r}return ut(N(this,Ns).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const s=this.getEvent(e);ie(s,"unknown event","eventFragment",e),e=s}De(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,o)=>s.type==="string"?Tg(o):s.type==="bytes"?Ci(ut(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=dp(o):s.type.match(/^bytes/)?o=KIe(o,32):s.type==="address"&&N(this,Ns).encode(["address"],[o]),nf(ut(o),32));for(n.forEach((s,o)=>{const a=e.inputs[o];if(!a.indexed){ie(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?ie(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(c=>i(a,c))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);ie(o,"unknown event","eventFragment",e),e=o}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),ie(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const c=n[a];if(o.indexed)if(o.type==="string")r.push(Tg(c));else if(o.type==="bytes")r.push(Ci(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(N(this,Ns).encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:N(this,Ns).encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const g=this.getEvent(e);ie(g,"unknown event","eventFragment",e),e=g}if(r!=null&&!e.anonymous){const g=e.topicHash;ie(Dr(r[0],32)&&r[0].toLowerCase()===g,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],o=[];e.inputs.forEach((g,w)=>{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(i.push(fs.from({type:"bytes32",name:g.name})),o.push(!0)):(i.push(g),o.push(!1)):(s.push(g),o.push(!1))});const a=r!=null?N(this,Ns).decode(i,ri(r)):null,c=N(this,Ns).decode(s,n,!0),u=[],f=[];let h=0,p=0;return e.inputs.forEach((g,w)=>{let y=null;if(g.indexed)if(a==null)y=new LF(null);else if(o[w])y=new LF(a[p++]);else try{y=a[p++]}catch(b){y=b}else try{y=c[h++]}catch(b){y=b}u.push(y),f.push(g.name||null)}),nb.fromItems(u,f)}parseTransaction(e){const n=En(e.data,"tx.data"),r=Ct(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(ut(n.slice(0,4)));if(!i)return null;const s=N(this,Ns).decode(i.inputs,n.slice(4));return new Nke(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new Ike(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=ut(e),r=this.getError(ni(n,0,4));if(!r)return null;const i=N(this,Ns).decode(r.inputs,ni(n,4));return new Pke(r,r.selector,i)}static from(e){return e instanceof rm?e:typeof e=="string"?new rm(JSON.parse(e)):typeof e.formatJson=="function"?new rm(e.formatJson()):typeof e.format=="function"?new rm(e.format("json")):new rm(e)}};Zl=new WeakMap,Jl=new WeakMap,Xl=new WeakMap,Ns=new WeakMap,bu=new WeakSet,VA=function(e,n,r){if(Dr(e)){const s=e.toLowerCase();for(const o of N(this,Xl).values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of N(this,Xl))o.split("(")[0]===e&&s.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,c=!0;Os.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let u=s.length-1;u>=0;u--){const f=s[u].inputs.length;f!==a&&(!c||f!==a-1)&&s.splice(u,1)}for(let u=s.length-1;u>=0;u--){const f=s[u].inputs;for(let h=0;h<n.length;h++)if(Os.isTyped(n[h])){if(h>=f.length){if(n[h].type==="overrides")continue;s.splice(u,1);break}if(n[h].type!==f[h].baseType){s.splice(u,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");ie(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return s[0]}const i=N(this,Xl).get(uu.from(e).format());return i||null},qA=function(e,n,r){if(Dr(e)){const s=e.toLowerCase();for(const o of N(this,Jl).values())if(s===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of N(this,Jl))o.split("(")[0]===e&&s.push(a);if(n){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<n.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const a=s[o].inputs;for(let c=0;c<n.length;c++)if(Os.isTyped(n[c])&&n[c].type!==a[c].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");ie(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return s[0]}const i=N(this,Jl).get(lu.from(e).format());return i||null};let dk=rm;const oQ=BigInt(0);function Iy(t){return t??null}function li(t){return t==null?null:t.toString()}class UF{constructor(e,n,r){he(this,"gasPrice");he(this,"maxFeePerGas");he(this,"maxPriorityFeePerGas");Zt(this,{gasPrice:Iy(e),maxFeePerGas:Iy(n),maxPriorityFeePerGas:Iy(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:li(e),maxFeePerGas:li(n),maxPriorityFeePerGas:li(r)}}}function S5(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=ut(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=Ct(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=wn(t[i],`request.${i}`));return t.accessList&&(e.accessList=Zg(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>G8(i)?ut(i):Object.assign({},i))),e}var yd;class kke{constructor(e,n){he(this,"provider");he(this,"number");he(this,"hash");he(this,"timestamp");he(this,"parentHash");he(this,"parentBeaconBlockRoot");he(this,"nonce");he(this,"difficulty");he(this,"gasLimit");he(this,"gasUsed");he(this,"stateRoot");he(this,"receiptsRoot");he(this,"blobGasUsed");he(this,"excessBlobGas");he(this,"miner");he(this,"prevRandao");he(this,"extraData");he(this,"baseFeePerGas");ae(this,yd);X(this,yd,e.transactions.map(r=>typeof r!="string"?new oC(r,n):r)),Zt(this,{provider:n,hash:Iy(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Iy(e.prevRandao),extraData:e.extraData,baseFeePerGas:Iy(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return N(this,yd).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=N(this,yd).slice();return e.length===0?[]:(De(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:s,hash:o,miner:a,prevRandao:c,nonce:u,number:f,parentHash:h,parentBeaconBlockRoot:p,stateRoot:g,receiptsRoot:w,timestamp:y,transactions:b}=this;return{_type:"Block",baseFeePerGas:li(e),difficulty:li(n),extraData:r,gasLimit:li(i),gasUsed:li(s),blobGasUsed:li(this.blobGasUsed),excessBlobGas:li(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:u,number:f,parentHash:h,timestamp:y,parentBeaconBlockRoot:p,stateRoot:g,receiptsRoot:w,transactions:b}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return N(this,yd).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=N(this,yd)[e];else{const r=e.toLowerCase();for(const i of N(this,yd))if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;ie(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Rke(this)}}yd=new WeakMap;class vx{constructor(e,n){he(this,"provider");he(this,"transactionHash");he(this,"blockHash");he(this,"blockNumber");he(this,"removed");he(this,"address");he(this,"data");he(this,"topics");he(this,"index");he(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());Zt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:c,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return De(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return De(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return De(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return Oke(this)}}var vC;class aQ{constructor(e,n){he(this,"provider");he(this,"to");he(this,"from");he(this,"contractAddress");he(this,"hash");he(this,"index");he(this,"blockHash");he(this,"blockNumber");he(this,"logsBloom");he(this,"gasUsed");he(this,"blobGasUsed");he(this,"cumulativeGasUsed");he(this,"gasPrice");he(this,"blobGasPrice");he(this,"type");he(this,"status");he(this,"root");ae(this,vC);X(this,vC,Object.freeze(e.logs.map(i=>new vx(i,n))));let r=oQ;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Zt(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return N(this,vC)}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:s,blockHash:o,blockNumber:a,logsBloom:c,logs:u,status:f,root:h}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:li(this.cumulativeGasUsed),from:n,gasPrice:li(this.gasPrice),blobGasUsed:li(this.blobGasUsed),blobGasPrice:li(this.blobGasPrice),gasUsed:li(this.gasUsed),hash:i,index:s,logs:u,logsBloom:c,root:h,status:f,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return lQ(this)}reorderedEvent(e){return De(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),cQ(this,e)}}vC=new WeakMap;var bh;const _O=class _O{constructor(e,n){he(this,"provider");he(this,"blockNumber");he(this,"blockHash");he(this,"index");he(this,"hash");he(this,"type");he(this,"to");he(this,"from");he(this,"nonce");he(this,"gasLimit");he(this,"gasPrice");he(this,"maxPriorityFeePerGas");he(this,"maxFeePerGas");he(this,"maxFeePerBlobGas");he(this,"data");he(this,"value");he(this,"chainId");he(this,"signature");he(this,"accessList");he(this,"blobVersionedHashes");he(this,"authorizationList");ae(this,bh);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,X(this,bh,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:s,to:o,from:a,nonce:c,data:u,signature:f,accessList:h,blobVersionedHashes:p}=this;return{_type:"TransactionResponse",accessList:h,blockNumber:e,blockHash:n,blobVersionedHashes:p,chainId:li(this.chainId),data:u,from:a,gasLimit:li(this.gasLimit),gasPrice:li(this.gasPrice),hash:i,maxFeePerGas:li(this.maxFeePerGas),maxPriorityFeePerGas:li(this.maxPriorityFeePerGas),maxFeePerBlobGas:li(this.maxFeePerBlobGas),nonce:c,signature:f,to:o,index:r,type:s,value:li(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await Qs({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let s=N(this,bh),o=-1,a=s===-1;const c=async()=>{if(a)return null;const{blockNumber:p,nonce:g}=await Qs({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(g<this.nonce){s=p;return}if(a)return null;const w=await this.getTransaction();if(!(w&&w.blockNumber!=null))for(o===-1&&(o=s-3,o<N(this,bh)&&(o=N(this,bh)));o<=p;){if(a)return null;const y=await this.provider.getBlock(o,!0);if(y==null)return;for(const b of y)if(b===this.hash)return;for(let b=0;b<y.length;b++){const C=await y.getTransaction(b);if(C.from===this.from&&C.nonce===this.nonce){if(a)return null;const x=await this.provider.getTransactionReceipt(C.hash);if(x==null||p-x.blockNumber+1<r)return;let E="replaced";C.data===this.data&&C.to===this.to&&C.value===this.value?E="repriced":C.data==="0x"&&C.from===C.to&&C.value===oQ&&(E="cancelled"),De(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:E==="replaced"||E==="cancelled",reason:E,replacement:C.replaceableTransaction(s),hash:C.hash,receipt:x})}}o++}},u=p=>{if(p==null||p.status!==0)return p;De(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:p.to,from:p.from,data:""},receipt:p})},f=await this.provider.getTransactionReceipt(this.hash);if(r===0)return u(f);if(f){if(r===1||await f.confirmations()>=r)return u(f)}else if(await c(),r===0)return null;return await new Promise((p,g)=>{const w=[],y=()=>{w.forEach(C=>C())};if(w.push(()=>{a=!0}),i>0){const C=setTimeout(()=>{y(),g(Vr("wait for transaction timeout","TIMEOUT"))},i);w.push(()=>{clearTimeout(C)})}const b=async C=>{if(await C.confirmations()>=r){y();try{p(u(C))}catch(x){g(x)}}};if(w.push(()=>{this.provider.off(this.hash,b)}),this.provider.on(this.hash,b),s>=0){const C=async()=>{try{await c()}catch(x){if(ds(x,"TRANSACTION_REPLACED")){y(),g(x);return}}a||this.provider.once("block",C)};w.push(()=>{this.provider.off("block",C)}),this.provider.once("block",C)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return De(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),lQ(this)}reorderedEvent(e){return De(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),De(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),cQ(this,e)}replaceableTransaction(e){ie(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new _O(this,this.provider);return X(n,bh,e),n}};bh=new WeakMap;let oC=_O;function Rke(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function cQ(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function lQ(t){return{orphan:"drop-transaction",tx:t}}function Oke(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class oO extends vx{constructor(n,r,i){super(n,n.provider);he(this,"interface");he(this,"fragment");he(this,"args");const s=r.decodeEventLog(i,n.data,n.topics);Zt(this,{args:s,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class uQ extends vx{constructor(n,r){super(n,n.provider);he(this,"error");Zt(this,{error:r})}}var tw;class $ke extends aQ{constructor(n,r,i){super(i,r);ae(this,tw);X(this,tw,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?N(this,tw).getEvent(n.topics[0]):null;if(r)try{return new oO(n,N(this,tw),r)}catch(i){return new uQ(n,i)}return n})}}tw=new WeakMap;var CC;class aO extends oC{constructor(n,r,i){super(i,r);ae(this,CC);X(this,CC,n)}async wait(n,r){const i=await super.wait(n,r);return i==null?null:new $ke(N(this,CC),this.provider,i)}}CC=new WeakMap;class dQ extends LK{constructor(n,r,i,s){super(n,r,i);he(this,"log");Zt(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Dke extends dQ{constructor(e,n,r,i,s){super(e,n,r,new oO(s,e.interface,i));const o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Zt(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const FF=BigInt(0);function fQ(t){return t&&typeof t.call=="function"}function hQ(t){return t&&typeof t.estimateGas=="function"}function s_(t){return t&&typeof t.resolveName=="function"}function pQ(t){return t&&typeof t.sendTransaction=="function"}function mQ(t){if(t!=null){if(s_(t))return t;if(t.provider)return t.provider}}var xC;class Lke{constructor(e,n,r){ae(this,xC);he(this,"fragment");if(Zt(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=Pg(e.runner,"resolveName"),s=s_(i)?i:null;X(this,xC,async function(){const o=await Promise.all(n.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(f,h)=>f==="address"?Array.isArray(h)?Promise.all(h.map(p=>to(p,s))):to(h,s):h)));return e.interface.encodeFilterTopics(n,o)}())}getTopicFilter(){return N(this,xC)}}xC=new WeakMap;function Pg(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function ym(t){return t==null?null:t.provider||null}async function gQ(t,e){const n=Os.dereference(t,"overrides");ie(typeof n=="object","invalid overrides parameter","overrides",t);const r=S5(n);return ie(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),ie(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function Mke(t,e,n){const r=Pg(t,"resolveName"),i=s_(r)?r:null;return await Promise.all(e.map((s,o)=>s.walkAsync(n[o],(a,c)=>(c=Os.dereference(c,a),a==="address"?to(c,i):c))))}function Bke(t){const e=async function(o){const a=await gQ(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await to(a.from,mQ(t.runner)));const c=t.interface,u=Ct(a.value||FF,"overrides.value")===FF,f=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!f&&!u&&ie(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),ie(c.fallback||f,"cannot send data to receive-only contract","overrides.data",a.data);const h=c.receive||c.fallback&&c.fallback.payable;return ie(h||u,"cannot send value to non-payable fallback","overrides.value",a.value),ie(c.fallback||f,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=Pg(t.runner,"call");De(fQ(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(o);try{return await a.call(c)}catch(u){throw q8(u)&&u.data?t.interface.makeError(u.data,c):u}},r=async function(o){const a=t.runner;De(pQ(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(o)),u=ym(t.runner);return new aO(t.interface,u,c)},i=async function(o){const a=Pg(t.runner,"estimateGas");return De(hQ(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},s=async o=>await r(o);return Zt(s,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),s}function Uke(t,e){const n=function(...u){const f=t.interface.getFunction(e,u);return De(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),f},r=async function(...u){const f=n(...u);let h={};if(f.inputs.length+1===u.length&&(h=await gQ(u.pop()),h.from&&(h.from=await to(h.from,mQ(t.runner)))),f.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const p=await Mke(t.runner,f.inputs,u);return Object.assign({},h,await Qs({to:t.getAddress(),data:t.interface.encodeFunctionData(f,p)}))},i=async function(...u){const f=await a(...u);return f.length===1?f[0]:f},s=async function(...u){const f=t.runner;De(pQ(f),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const h=await f.sendTransaction(await r(...u)),p=ym(t.runner);return new aO(t.interface,p,h)},o=async function(...u){const f=Pg(t.runner,"estimateGas");return De(hQ(f),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await f.estimateGas(await r(...u))},a=async function(...u){const f=Pg(t.runner,"call");De(fQ(f),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const h=await r(...u);let p="0x";try{p=await f.call(h)}catch(w){throw q8(w)&&w.data?t.interface.makeError(w.data,h):w}const g=n(...u);return t.interface.decodeFunctionResult(g,p)},c=async(...u)=>n(...u).constant?await i(...u):await s(...u);return Zt(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return De(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),c}function Fke(t,e){const n=function(...i){const s=t.interface.getEvent(e,i);return De(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new Lke(t,n(...i),i)};return Zt(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return De(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const _5=Symbol.for("_ethersInternal_contract"),yQ=new WeakMap;function jke(t,e){yQ.set(t[_5],e)}function ca(t){return yQ.get(t[_5])}function zke(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function cO(t,e){let n,r=null;if(Array.isArray(e)){const s=function(o){if(Dr(o,32))return o;const a=t.interface.getEvent(o);return ie(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o))}else e==="*"?n=[null]:typeof e=="string"?Dr(e,32)?n=[e]:(r=t.interface.getEvent(e),ie(r,"unknown fragment","event",e),n=[r.topicHash]):zke(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):ie(!1,"unknown event name","event",e);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){const o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return s.toLowerCase()});const i=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:n}}async function n1(t,e){const{subs:n}=ca(t);return n.get((await cO(t,e)).tag)||null}async function jF(t,e,n){const r=ym(t.runner);De(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await cO(t,n),{addr:a,subs:c}=ca(t);let u=c.get(s);if(!u){const h={address:a||t,topics:o},p=b=>{let C=i;if(C==null)try{C=t.interface.getEvent(b.topics[0])}catch{}if(C){const x=C,E=i?t.interface.decodeEventLog(i,b.data,b.topics):[];hk(t,n,E,I=>new Dke(t,I,n,x,b))}else hk(t,n,[],x=>new dQ(t,x,n,b))};let g=[];u={tag:s,listeners:[],start:()=>{g.length||g.push(r.on(h,p))},stop:async()=>{if(g.length==0)return;let b=g;g=[],await Promise.all(b),r.off(h,p)}},c.set(s,u)}return u}let fk=Promise.resolve();async function Wke(t,e,n,r){await fk;const i=await n1(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:a})=>{const c=Array.from(n);r&&c.push(r(a?null:o));try{o.call(t,...c)}catch{}return!a}),i.listeners.length===0&&(i.stop(),ca(t).subs.delete(i.tag)),s>0}async function hk(t,e,n,r){try{await fk}catch{}const i=Wke(t,e,n,r);return fk=i,await i}const mA=["then"];var Lj;Lj=_5;const k1=class k1{constructor(e,n,r,i){he(this,"target");he(this,"interface");he(this,"runner");he(this,"filters");he(this,Lj);he(this,"fallback");ie(typeof e=="string"||xY(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=dk.from(n);Zt(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,_5,{value:{}});let o,a=null,c=null;if(i){const h=ym(r);c=new aO(this.interface,h,i)}let u=new Map;if(typeof e=="string")if(Dr(e))a=e,o=Promise.resolve(e);else{const h=Pg(r,"resolveName");if(!s_(h))throw Vr("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=h.resolveName(e).then(p=>{if(p==null)throw Vr("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return ca(this).addr=p,p})}else o=e.getAddress().then(h=>{if(h==null)throw new Error("TODO");return ca(this).addr=h,h});jke(this,{addrPromise:o,addr:a,deployTx:c,subs:u});const f=new Proxy({},{get:(h,p,g)=>{if(typeof p=="symbol"||mA.indexOf(p)>=0)return Reflect.get(h,p,g);try{return this.getEvent(p)}catch(w){if(!ds(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(h,p)=>mA.indexOf(p)>=0?Reflect.has(h,p):Reflect.has(h,p)||this.interface.hasEvent(String(p))});return Zt(this,{filters:f}),Zt(this,{fallback:s.receive||s.fallback?Bke(this):null}),new Proxy(this,{get:(h,p,g)=>{if(typeof p=="symbol"||p in h||mA.indexOf(p)>=0)return Reflect.get(h,p,g);try{return h.getFunction(p)}catch(w){if(!ds(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(h,p)=>typeof p=="symbol"||p in h||mA.indexOf(p)>=0?Reflect.has(h,p):h.interface.hasFunction(p)})}connect(e){return new k1(this.target,this.interface,e)}attach(e){return new k1(e,this.interface,this.runner)}async getAddress(){return await ca(this).addrPromise}async getDeployedCode(){const e=ym(this.runner);De(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=ym(this.runner);return De(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",o)}catch(a){s(a)}};o()})}deploymentTransaction(){return ca(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),Uke(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Fke(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=ca(this),o=i||await s,{fragment:a,topics:c}=await cO(this,e),u={address:o,topics:c,fromBlock:n,toBlock:r},f=ym(this.runner);return De(f,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await f.getLogs(u)).map(h=>{let p=a;if(p==null)try{p=this.interface.getEvent(h.topics[0])}catch{}if(p)try{return new oO(h,this.interface,p)}catch(g){return new uQ(h,g)}return new vx(h,f)})}async on(e,n){const r=await jF(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await jF(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await hk(this,e,n,null)}async listenerCount(e){if(e){const i=await n1(this,e);return i?i.listeners.length:0}const{subs:n}=ca(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await n1(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:n}=ca(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,n){const r=await n1(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),ca(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await n1(this,e);if(!n)return this;n.stop(),ca(this).subs.delete(n.tag)}else{const{subs:n}=ca(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends k1{constructor(i,s=null){super(i,e,s)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let pk=k1;function Hke(){return pk}class un extends Hke(){}function aN(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ie(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class Vke{constructor(e){he(this,"name");Zt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const wQ=new RegExp("^(ipfs)://(.*)$","i"),zF=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),wQ,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var vh,km,Ch,ay,z5,bQ;const wy=class wy{constructor(e,n,r){ae(this,Ch);he(this,"provider");he(this,"address");he(this,"name");ae(this,vh);ae(this,km);Zt(this,{provider:e,address:n,name:r}),X(this,vh,null),X(this,km,new un(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return N(this,vh)==null&&X(this,vh,(async()=>{try{return await N(this,km).supportsInterface("0x9061b923")}catch(e){if(ds(e,"CALL_EXCEPTION"))return!1;throw X(this,vh,null),e}})()),await N(this,vh)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await xe(this,Ch,ay).call(this,"addr(bytes32)");return s==null||s===er?null:s}catch(s){if(ds(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const o=await xe(this,Ch,ay).call(this,"addr(bytes32,uint)",[s]);if(Dr(o,20))return nr(o)}let n=null;for(const s of this.provider.plugins)if(s instanceof Vke&&s.supportsCoinType(e)){n=s;break}if(n==null)return null;const r=await xe(this,Ch,ay).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;De(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await xe(this,Ch,ay).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await xe(this,Ch,ay).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${i}://${QIe("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;De(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<zF.length;r++){const i=n.match(zF[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=aN(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(i[2]||"").split("/");if(c.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const u=c[1],f=new un(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const y=await f.ownerOf(u);if(a!==y)return e.push({type:"!owner",value:y}),{url:null,linkage:e};e.push({type:"owner",value:y})}else if(s==="erc1155"){const y=await f.balanceOf(a,u);if(!y)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:y.toString()})}let h=await f[o](u);if(h==null||h==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:h}),s==="erc1155"&&(h=h.replace("{id}",dp(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:h})),h.match(/^ipfs:/i)&&(h=aN(h)),e.push({type:"metadata-url",value:h});let p={};const g=await new rf(h).send();g.assertOk();try{p=g.bodyJson}catch{try{e.push({type:"!metadata",value:g.bodyText})}catch{const C=g.body;return C&&e.push({type:"!metadata",value:ut(C)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!p)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(p)});let w=p.image;if(typeof w!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!w.match(/^(https:\/\/|data:)/i)){if(w.match(wQ)==null)return e.push({type:"!imageUrl-ipfs",value:w}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:w}),w=aN(w)}return e.push({type:"url",value:w}),{linkage:e,url:w}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return De(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var i;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const s=await xe(i=wy,z5,bQ).call(i,e,r);if(s!=null){const o=new wy(e,s,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};vh=new WeakMap,km=new WeakMap,Ch=new WeakSet,ay=async function(e,n){n=(n||[]).slice();const r=N(this,km).interface;n.unshift(lk(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),De(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[oke(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const s=await N(this,km)[e](...n);return i?r.decodeFunctionResult(i,s)[0]:s}catch(s){if(!ds(s,"CALL_EXCEPTION"))throw s}return null},z5=new WeakSet,bQ=async function(e,n){const r=await wy.getEnsAddress(e);try{const s=await new un(r,["function resolver(bytes32) view returns (address)"],e).resolver(lk(n),{enableCcipRead:!0});return s===er?null:s}catch(i){throw i}return null},ae(wy,z5);let T5=wy;const WF=BigInt(0);function Rn(t,e){return function(n){return n==null?e:t(n)}}function aC(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function Cx(t,e){return n=>{const r={};for(const i in t){let s=i;if(e&&i in e&&!(s in n)){for(const o of e[i])if(o in n){s=o;break}}try{const o=t[i](n[s]);o!==void 0&&(r[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";De(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r}}function qke(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}ie(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function lb(t){return ie(Dr(t,!0),"invalid data","value",t),t}function ls(t){return ie(Dr(t,32),"invalid hash","value",t),t}const Gke=Cx({address:nr,blockHash:ls,blockNumber:wn,data:lb,index:wn,removed:Rn(qke,!1),topics:aC(ls),transactionHash:ls,transactionIndex:wn},{index:["logIndex"]});function Kke(t){return Gke(t)}const Yke=Cx({hash:Rn(ls),parentHash:ls,parentBeaconBlockRoot:Rn(ls,null),number:wn,timestamp:wn,nonce:Rn(lb),difficulty:Ct,gasLimit:Ct,gasUsed:Ct,stateRoot:Rn(ls,null),receiptsRoot:Rn(ls,null),blobGasUsed:Rn(Ct,null),excessBlobGas:Rn(Ct,null),miner:Rn(nr),prevRandao:Rn(ls,null),extraData:lb,baseFeePerGas:Rn(Ct)},{prevRandao:["mixHash"]});function Qke(t){const e=Yke(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:vQ(n)),e}const Zke=Cx({transactionIndex:wn,blockNumber:wn,transactionHash:ls,address:nr,topics:aC(ls),data:lb,index:wn,blockHash:ls},{index:["logIndex"]});function Jke(t){return Zke(t)}const Xke=Cx({to:Rn(nr,null),from:Rn(nr,null),contractAddress:Rn(nr,null),index:wn,root:Rn(ut),gasUsed:Ct,blobGasUsed:Rn(Ct,null),logsBloom:Rn(lb),blockHash:ls,hash:ls,logs:aC(Jke),blockNumber:wn,cumulativeGasUsed:Ct,effectiveGasPrice:Rn(Ct),blobGasPrice:Rn(Ct,null),status:Rn(wn),type:Rn(wn,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function eRe(t){return Xke(t)}function vQ(t){t.to&&Ct(t.to)===WF&&(t.to="0x0000000000000000000000000000000000000000");const e=Cx({hash:ls,index:Rn(wn,void 0),type:n=>n==="0x"||n==null?0:wn(n),accessList:Rn(Zg,null),blobVersionedHashes:Rn(aC(ls,!0),null),authorizationList:Rn(aC(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:nr(n.address),chainId:Ct(n.chainId),nonce:Ct(n.nonce),signature:Ho.from(r)}},!1),null),blockHash:Rn(ls,null),blockNumber:Rn(wn,null),transactionIndex:Rn(wn,null),from:nr,gasPrice:Rn(Ct),maxPriorityFeePerGas:Rn(Ct),maxFeePerGas:Rn(Ct),maxFeePerBlobGas:Rn(Ct,null),gasLimit:Ct,to:Rn(nr,null),value:Ct,nonce:wn,data:lb,creates:Rn(nr,null),chainId:Rn(Ct,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=z4e(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Ho.from(t.signature):e.signature=Ho.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&Ct(e.blockHash)===WF&&(e.blockHash=null),e}const tRe="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class xx{constructor(e){he(this,"name");Zt(this,{name:e})}clone(){return new xx(this.name)}}class o_ extends xx{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);he(this,"effectiveBlock");he(this,"txBase");he(this,"txCreate");he(this,"txDataZero");he(this,"txDataNonzero");he(this,"txAccessListStorageKey");he(this,"txAccessListAddress");const i={effectiveBlock:n};function s(o,a){let c=(r||{})[o];c==null&&(c=a),ie(typeof c=="number",`invalud value for ${o}`,"costs",r),i[o]=c}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),Zt(this,i)}clone(){return new o_(this.effectiveBlock,this)}}class a_ extends xx{constructor(n,r){super("org.ethers.plugins.network.Ens");he(this,"address");he(this,"targetNetwork");Zt(this,{address:n||tRe,targetNetwork:r??1})}clone(){return new a_(this.address,this.targetNetwork)}}var EC,AC;class nRe extends xx{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");ae(this,EC);ae(this,AC);X(this,EC,n),X(this,AC,r)}get url(){return N(this,EC)}get processFunc(){return N(this,AC)}clone(){return this}}EC=new WeakMap,AC=new WeakMap;const cN=new Map;var nw,rw,xh;const by=class by{constructor(e,n){ae(this,nw);ae(this,rw);ae(this,xh);X(this,nw,e),X(this,rw,Ct(n)),X(this,xh,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return N(this,nw)}set name(e){X(this,nw,e)}get chainId(){return N(this,rw)}set chainId(e){X(this,rw,Ct(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Ct(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Ct(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Ct(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(N(this,xh).values())}attachPlugin(e){if(N(this,xh).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return N(this,xh).set(e.name,e.clone()),this}getPlugin(e){return N(this,xh).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new by(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new o_;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=Zg(e.accessList);for(const s in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[s].storageKeys.length}return r}static from(e){if(rRe(),e==null)return by.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=cN.get(e);if(n)return n();if(typeof e=="bigint")return new by("unknown",e);ie(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){ie(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new by(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new a_(e.ensAddress,e.ensNetwork)),n}ie(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=cN.get(e);r&&ie(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),cN.set(e,n)}};nw=new WeakMap,rw=new WeakMap,xh=new WeakMap;let mu=by;function HF(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function VF(t){return new nRe(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[s,o]=await Promise.all([r.send(),e()]);i=s;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:HF(a.maxFee,9),maxPriorityFeePerGas:HF(a.maxPriorityFee,9)}}catch(s){De(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:s})}})}let qF=!1;function rRe(){if(qF)return;qF=!0;function t(e,n,r){const i=function(){const s=new mu(e,n);return r.ensNetwork!=null&&s.attachPlugin(new a_(null,r.ensNetwork)),s.attachPlugin(new o_),(r.plugins||[]).forEach(o=>{s.attachPlugin(o)}),s};mu.register(e,i),mu.register(n,i),r.altNames&&r.altNames.forEach(s=>{mu.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[VF("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[VF("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function mk(t){return JSON.parse(JSON.stringify(t))}var wd,Ja,Eh,eu,iw,GA;class iRe{constructor(e){ae(this,iw);ae(this,wd);ae(this,Ja);ae(this,Eh);ae(this,eu);X(this,wd,e),X(this,Ja,null),X(this,Eh,4e3),X(this,eu,-2)}get pollingInterval(){return N(this,Eh)}set pollingInterval(e){X(this,Eh,e)}start(){N(this,Ja)||(X(this,Ja,N(this,wd)._setTimeout(xe(this,iw,GA).bind(this),N(this,Eh))),xe(this,iw,GA).call(this))}stop(){N(this,Ja)&&(N(this,wd)._clearTimeout(N(this,Ja)),X(this,Ja,null))}pause(e){this.stop(),e&&X(this,eu,-2)}resume(){this.start()}}wd=new WeakMap,Ja=new WeakMap,Eh=new WeakMap,eu=new WeakMap,iw=new WeakSet,GA=async function(){try{const e=await N(this,wd).getBlockNumber();if(N(this,eu)===-2){X(this,eu,e);return}if(e!==N(this,eu)){for(let n=N(this,eu)+1;n<=e;n++){if(N(this,Ja)==null)return;await N(this,wd).emit("block",n)}X(this,eu,e)}}catch{}N(this,Ja)!=null&&X(this,Ja,N(this,wd)._setTimeout(xe(this,iw,GA).bind(this),N(this,Eh)))};var Rm,Om,Ah;class lO{constructor(e){ae(this,Rm);ae(this,Om);ae(this,Ah);X(this,Rm,e),X(this,Ah,!1),X(this,Om,n=>{this._poll(n,N(this,Rm))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){N(this,Ah)||(X(this,Ah,!0),N(this,Om).call(this,-2),N(this,Rm).on("block",N(this,Om)))}stop(){N(this,Ah)&&(X(this,Ah,!1),N(this,Rm).off("block",N(this,Om)))}pause(e){this.stop()}resume(){this.start()}}Rm=new WeakMap,Om=new WeakMap,Ah=new WeakMap;var sw,bd;class sRe extends lO{constructor(n,r){super(n);ae(this,sw);ae(this,bd);X(this,sw,r),X(this,bd,-2)}pause(n){n&&X(this,bd,-2),super.pause(n)}async _poll(n,r){const i=await r.getBlock(N(this,sw));i!=null&&(N(this,bd)===-2?X(this,bd,i.number):i.number>N(this,bd)&&(r.emit(N(this,sw),i.number),X(this,bd,i.number)))}}sw=new WeakMap,bd=new WeakMap;var W5;class oRe extends lO{constructor(n,r){super(n);ae(this,W5);X(this,W5,mk(r))}async _poll(n,r){throw new Error("@TODO")}}W5=new WeakMap;var ow;class aRe extends lO{constructor(n,r){super(n);ae(this,ow);X(this,ow,r)}async _poll(n,r){const i=await r.getTransactionReceipt(N(this,ow));i&&r.emit(N(this,ow),i)}}ow=new WeakMap;var vd,aw,cw,Sh,Xa,H5,CQ;class uO{constructor(e,n){ae(this,H5);ae(this,vd);ae(this,aw);ae(this,cw);ae(this,Sh);ae(this,Xa);X(this,vd,e),X(this,aw,mk(n)),X(this,cw,xe(this,H5,CQ).bind(this)),X(this,Sh,!1),X(this,Xa,-2)}start(){N(this,Sh)||(X(this,Sh,!0),N(this,Xa)===-2&&N(this,vd).getBlockNumber().then(e=>{X(this,Xa,e)}),N(this,vd).on("block",N(this,cw)))}stop(){N(this,Sh)&&(X(this,Sh,!1),N(this,vd).off("block",N(this,cw)))}pause(e){this.stop(),e&&X(this,Xa,-2)}resume(){this.start()}}vd=new WeakMap,aw=new WeakMap,cw=new WeakMap,Sh=new WeakMap,Xa=new WeakMap,H5=new WeakSet,CQ=async function(e){if(N(this,Xa)===-2)return;const n=mk(N(this,aw));n.fromBlock=N(this,Xa)+1,n.toBlock=e;const r=await N(this,vd).getLogs(n);if(r.length===0){N(this,Xa)<e-60&&X(this,Xa,e-60);return}for(const i of r)N(this,vd).emit(N(this,aw),i),X(this,Xa,i.blockNumber)};const cRe=BigInt(2),lRe=10;function gA(t){return t&&typeof t.then=="function"}function KA(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,o)=>(s[o]=r[o],s),{})}return r})}class xQ{constructor(e){he(this,"name");Zt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function uRe(t){return JSON.parse(JSON.stringify(t))}function gk(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function lN(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Dr(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:KA("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:KA("orphan",n),filter:uRe(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?gk(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],s=[],o=a=>{Dr(a)?i.push(a):s.push((async()=>{i.push(await to(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),s.length&&await Promise.all(s),r.address=gk(i.map(a=>a.toLowerCase()))}return{filter:r,tag:KA("event",r),type:"event"}}ie(!1,"unknown ProviderEvent","event",t)}function uN(){return new Date().getTime()}const dRe={cacheTimeout:250,pollingInterval:4e3};var Ps,_h,ks,lw,fa,$m,Th,Cd,SC,ec,uw,dw,_n,oa,yk,wk,r1,bk,i1,YA;class fRe{constructor(e,n){ae(this,_n);ae(this,Ps);ae(this,_h);ae(this,ks);ae(this,lw);ae(this,fa);ae(this,$m);ae(this,Th);ae(this,Cd);ae(this,SC);ae(this,ec);ae(this,uw);ae(this,dw);if(X(this,dw,Object.assign({},dRe,n||{})),e==="any")X(this,$m,!0),X(this,fa,null);else if(e){const r=mu.from(e);X(this,$m,!1),X(this,fa,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else X(this,$m,!1),X(this,fa,null);X(this,Cd,-1),X(this,Th,new Map),X(this,Ps,new Map),X(this,_h,new Map),X(this,ks,null),X(this,lw,!1),X(this,SC,1),X(this,ec,new Map),X(this,uw,!1)}get pollingInterval(){return N(this,dw).pollingInterval}get provider(){return this}get plugins(){return Array.from(N(this,_h).values())}attachPlugin(e){if(N(this,_h).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return N(this,_h).set(e.name,e.connect(this)),this}getPlugin(e){return N(this,_h).get(e)||null}get disableCcipRead(){return N(this,uw)}set disableCcipRead(e){X(this,uw,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const c=r[a],u=c.replace("{sender}",i).replace("{data}",s),f=new rf(u);c.indexOf("{data}")===-1&&(f.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:f,index:a,urls:r});let h="unknown error",p;try{p=await f.send()}catch(g){o.push(g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:{error:g}});continue}try{const g=p.bodyJson;if(g.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:f,result:g}),g.data;g.message&&(h=g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:g})}catch{}De(p.statusCode<400||p.statusCode>=500,`response not found during CCIP fetch: ${h}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:h}}),o.push(h)}De(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new kke(Qke(e),this)}_wrapLog(e,n){return new vx(Kke(e),this)}_wrapTransactionReceipt(e,n){return new aQ(eRe(e),this)}_wrapTransactionResponse(e,n){return new oC(vQ(e),this)}_detectNetwork(){De(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){De(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=wn(await xe(this,_n,oa).call(this,{method:"getBlockNumber"}),"%response");return N(this,Cd)>=0&&X(this,Cd,e),e}_getAddress(e){return to(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Dr(e))return Dr(e,32)?e:Zc(e);if(typeof e=="bigint"&&(e=wn(e,"blockTag")),typeof e=="number")return e>=0?Zc(e):N(this,Cd)>=0?Zc(N(this,Cd)+e):this.getBlockNumber().then(n=>Zc(n+e));ie(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?gk(c.map(u=>u.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(c,u,f)=>{let h;switch(c.length){case 0:break;case 1:h=c[0];break;default:c.sort(),h=c}if(r&&(u!=null||f!=null))throw new Error("invalid filter");const p={};return h&&(p.address=h),n.length&&(p.topics=n),u&&(p.fromBlock=u),f&&(p.toBlock=f),r&&(p.blockHash=r),p};let s=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)s.push(this._getAddress(c));else s.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(c=>i(c[0],c[1],c[2])):i(s,o,a)}_getTransactionRequest(e){const n=S5(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const s=to(n[i],this);gA(s)?r.push(async function(){n[i]=await s}()):n[i]=s}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);gA(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(N(this,fa)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw N(this,fa)===i&&X(this,fa,null),s}})();return X(this,fa,i),(await i).clone()}const e=N(this,fa),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(N(this,$m)?(this.emit("network",r,n),N(this,fa)===e&&X(this,fa,Promise.resolve(r))):De(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:s,priorityFee:o}=await Qs({_block:xe(this,_n,bk).call(this,"latest",!1),gasPrice:(async()=>{try{const f=await xe(this,_n,oa).call(this,{method:"getGasPrice"});return Ct(f,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const f=await xe(this,_n,oa).call(this,{method:"getPriorityFee"});return Ct(f,"%response")}catch{}return null})()});let a=null,c=null;const u=this._wrapBlock(i,e);return u&&u.baseFeePerGas&&(c=o??BigInt("1000000000"),a=u.baseFeePerGas*cRe+c),new UF(s,a,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new rf(r.url),s=await r.processFunc(n,this,i);return new UF(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return gA(n)&&(n=await n),Ct(await xe(this,_n,oa).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await Qs({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await xe(this,_n,wk).call(this,xe(this,_n,yk).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return Ct(await xe(this,_n,r1).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return wn(await xe(this,_n,r1).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return ut(await xe(this,_n,r1).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const i=Ct(n,"position");return ut(await xe(this,_n,r1).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await Qs({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=w5.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:i}=await Qs({network:this.getNetwork(),params:xe(this,_n,bk).call(this,e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await Qs({network:this.getNetwork(),params:xe(this,_n,oa).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await Qs({network:this.getNetwork(),params:xe(this,_n,oa).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await xe(this,_n,oa).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await Qs({network:this.getNetwork(),result:xe(this,_n,oa).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:ut(n)}async getLogs(e){let n=this._getFilter(e);gA(n)&&(n=await n);const{network:r,params:i}=await Qs({network:this.getNetwork(),params:xe(this,_n,oa).call(this,{method:"getLogs",filter:n})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){De(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await T5.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=nr(e);const n=lk(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await T5.getEnsAddress(this),s=await new un(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===er)return null;const a=await new un(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(ds(r,"BAD_DATA")&&r.value==="0x"||ds(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,o)=>{let a=null;const c=async u=>{try{const f=await this.getTransactionReceipt(e);if(f!=null&&u-f.blockNumber+1>=i){s(f),a&&(clearTimeout(a),a=null);return}}catch(f){console.log("EEE",f)}this.once("block",c)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(Vr("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(e){De(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=N(this,ec).get(e);n&&(n.timer&&clearTimeout(n.timer),N(this,ec).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=kf(this,SC)._++,i=()=>{N(this,ec).delete(r),e()};if(this.paused)N(this,ec).set(r,{timer:null,func:i,time:n});else{const s=setTimeout(i,n);N(this,ec).set(r,{timer:s,func:i,time:uN()})}return r}_forEachSubscriber(e){for(const n of N(this,Ps).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new xQ(e.type);case"block":{const n=new iRe(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new sRe(this,e.type);case"event":return new uO(this,e.filter);case"transaction":return new aRe(this,e.hash);case"orphan":return new oRe(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of N(this,Ps).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),N(this,ks)!=null&&n.pause(N(this,ks));break}}async on(e,n){const r=await xe(this,_n,YA).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,N(this,ks)!=null&&r.subscriber.pause(N(this,ks))),this}async once(e,n){const r=await xe(this,_n,YA).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,N(this,ks)!=null&&r.subscriber.pause(N(this,ks))),this}async emit(e,...n){const r=await xe(this,_n,i1).call(this,e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:s,once:o})=>{const a=new LK(this,o?null:s,e);try{s.call(this,...n,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),N(this,Ps).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await xe(this,_n,i1).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of N(this,Ps).values())n+=r.length;return n}async listeners(e){if(e){const r=await xe(this,_n,i1).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of N(this,Ps).values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await xe(this,_n,i1).call(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),N(this,Ps).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await xe(this,_n,YA).call(this,e);r&&i.stop(),N(this,Ps).delete(n)}else for(const[n,{started:r,subscriber:i}]of N(this,Ps))r&&i.stop(),N(this,Ps).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return N(this,lw)}destroy(){this.removeAllListeners();for(const e of N(this,ec).keys())this._clearTimeout(e);X(this,lw,!0)}get paused(){return N(this,ks)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(X(this,Cd,-1),N(this,ks)!=null){if(N(this,ks)==!!e)return;De(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),X(this,ks,!!e);for(const n of N(this,ec).values())n.timer&&clearTimeout(n.timer),n.time=uN()-n.time}resume(){if(N(this,ks)!=null){this._forEachSubscriber(e=>e.resume()),X(this,ks,null);for(const e of N(this,ec).values()){let n=e.time;n<0&&(n=0),e.time=uN(),setTimeout(e.func,n)}}}}Ps=new WeakMap,_h=new WeakMap,ks=new WeakMap,lw=new WeakMap,fa=new WeakMap,$m=new WeakMap,Th=new WeakMap,Cd=new WeakMap,SC=new WeakMap,ec=new WeakMap,uw=new WeakMap,dw=new WeakMap,_n=new WeakSet,oa=async function(e){const n=N(this,dw).cacheTimeout;if(n<0)return await this._perform(e);const r=KA(e.method,e);let i=N(this,Th).get(r);return i||(i=this._perform(e),N(this,Th).set(r,i),setTimeout(()=>{N(this,Th).get(r)===i&&N(this,Th).delete(r)},n)),await i},yk=async function(e,n,r){De(r<lRe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=S5(e);try{return ut(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(s){if(!this.disableCcipRead&&q8(s)&&s.data&&r>=0&&n==="latest"&&i.to!=null&&ni(s.data,0,4)==="0x556f1830"){const o=s.data,a=await to(i.to,this);let c;try{c=yRe(ni(s.data,4))}catch(h){De(!1,h.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}De(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const u=await this.ccipReadFetch(i,c.calldata,c.urls);De(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:c.errorArgs}});const f={to:a,data:ri([c.selector,gRe([u,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:f});try{const h=await xe(this,_n,yk).call(this,f,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},f),result:h}),h}catch(h){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},f),error:h}),h}}throw s}},wk=async function(e){const{value:n}=await Qs({network:this.getNetwork(),value:e});return n},r1=async function(e,n,r){let i=this._getAddress(n),s=this._getBlockTag(r);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await xe(this,_n,wk).call(this,xe(this,_n,oa).call(this,Object.assign(e,{address:i,blockTag:s})))},bk=async function(e,n){if(Dr(e,32))return await xe(this,_n,oa).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await xe(this,_n,oa).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},i1=async function(e,n){let r=await lN(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await lN({orphan:"drop-log",log:n[0]},this)),N(this,Ps).get(r.tag)||null},YA=async function(e){const n=await lN(e,this),r=n.tag;let i=N(this,Ps).get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},N(this,Ps).set(r,i)),i};function hRe(t,e){try{const n=vk(t,e);if(n)return m5(n)}catch{}return null}function vk(t,e){if(t==="0x")return null;try{const n=wn(ni(t,e,e+32)),r=wn(ni(t,n,n+32));return ni(t,n+32,n+32+r)}catch{}return null}function GF(t){const e=Ri(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function pRe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const mRe=new Uint8Array([]);function gRe(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(mRe),n+=32;for(let r=0;r<t.length;r++){const i=En(t[r]);e[r]=GF(n),e.push(GF(i.length)),e.push(pRe(i)),n+=32+Math.ceil(i.length/32)*32}return ri(e)}const KF="0x0000000000000000000000000000000000000000000000000000000000000000";function yRe(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};De(Sy(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=ni(t,0,32);De(ni(n,0,12)===ni(KF,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=ni(n,12);try{const r=[],i=wn(ni(t,32,64)),s=wn(ni(t,i,i+32)),o=ni(t,i+32);for(let a=0;a<s;a++){const c=hRe(o,a*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{De(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=vk(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{De(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}De(ni(t,100,128)===ni(KF,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=ni(t,96,100);try{const r=vk(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{De(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Vp(t,e){if(t.provider)return t.provider;De(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function YF(t,e){let n=S5(e);if(n.to!=null&&(n.to=to(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),to(r,t)]).then(([i,s])=>(ie(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else n.from=t.getAddress();return await Qs(n)}class wRe{constructor(e){he(this,"provider");Zt(this,{provider:e||null})}async getNonce(e){return Vp(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await YF(this,e)}async populateTransaction(e){const n=Vp(this,"populateTransaction"),r=await YF(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const o=Ct(r.chainId);ie(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?ie(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&ie(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();De(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(De(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):De(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Qs(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await Vp(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return Vp(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Vp(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Vp(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Vp(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=w5.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){De(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function bRe(t){return JSON.parse(JSON.stringify(t))}var Vs,tu,Dm,Ih,Lm,fw,hp,Ck,xk;class EQ{constructor(e){ae(this,hp);ae(this,Vs);ae(this,tu);ae(this,Dm);ae(this,Ih);ae(this,Lm);ae(this,fw);X(this,Vs,e),X(this,tu,null),X(this,Dm,xe(this,hp,Ck).bind(this)),X(this,Ih,!1),X(this,Lm,null),X(this,fw,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){N(this,Ih)||(X(this,Ih,!0),xe(this,hp,Ck).call(this,-2))}stop(){N(this,Ih)&&(X(this,Ih,!1),X(this,fw,!0),xe(this,hp,xk).call(this),N(this,Vs).off("block",N(this,Dm)))}pause(e){e&&xe(this,hp,xk).call(this),N(this,Vs).off("block",N(this,Dm))}resume(){this.start()}}Vs=new WeakMap,tu=new WeakMap,Dm=new WeakMap,Ih=new WeakMap,Lm=new WeakMap,fw=new WeakMap,hp=new WeakSet,Ck=async function(e){try{N(this,tu)==null&&X(this,tu,this._subscribe(N(this,Vs)));let n=null;try{n=await N(this,tu)}catch(s){if(!ds(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(n==null){X(this,tu,null),N(this,Vs)._recoverSubscriber(this,this._recover(N(this,Vs)));return}const r=await N(this,Vs).getNetwork();if(N(this,Lm)||X(this,Lm,r),N(this,Lm).chainId!==r.chainId)throw new Error("chaid changed");if(N(this,fw))return;const i=await N(this,Vs).send("eth_getFilterChanges",[n]);await this._emitResults(N(this,Vs),i)}catch(n){console.log("@TODO",n)}N(this,Vs).once("block",N(this,Dm))},xk=function(){const e=N(this,tu);e&&(X(this,tu,null),e.then(n=>{N(this,Vs).destroyed||N(this,Vs).send("eth_uninstallFilter",[n])}))};var Mm;class vRe extends EQ{constructor(n,r){super(n);ae(this,Mm);X(this,Mm,bRe(r))}_recover(n){return new uO(n,N(this,Mm))}async _subscribe(n){return await n.send("eth_newFilter",[N(this,Mm)])}async _emitResults(n,r){for(const i of r)n.emit(N(this,Mm),n._wrapLog(i,n._network))}}Mm=new WeakMap;class CRe extends EQ{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const xRe="bigint,boolean,function,number,string,symbol".split(/,/g);function QA(t){if(t==null||xRe.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(QA);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function ERe(t){return new Promise(e=>{setTimeout(e,t)})}function ty(t){return t&&t.toLowerCase()}function QF(t){return t&&typeof t.pollingInterval=="number"}const AQ={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class dN extends wRe{constructor(n,r){super(n);he(this,"address");r=nr(r),Zt(this,{address:r})}connect(n){De(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=QA(n),i=[];if(r.from){const o=r.from;i.push((async()=>{const a=await to(o,this.provider);ie(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;i.push((async()=>{r.to=await to(o,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(n);return await new Promise((s,o)=>{const a=[1e3,100];let c=0;const u=async()=>{try{const f=await this.provider.getTransaction(i);if(f!=null){s(f.replaceableTransaction(r));return}}catch(f){if(ds(f,"CANCELLED")||ds(f,"BAD_DATA")||ds(f,"NETWORK_ERROR")||ds(f,"UNSUPPORTED_OPERATION")){f.info==null&&(f.info={}),f.info.sendTransactionHash=i,o(f);return}if(ds(f,"INVALID_ARGUMENT")&&(c++,f.info==null&&(f.info={}),f.info.sendTransactionHash=i,c>10)){o(f);return}this.provider.emit("error",Vr("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:f}))}this.provider._setTimeout(()=>{u()},a.pop()||4e3)};u()})}async signTransaction(n){const r=QA(n);if(r.from){const s=await to(r.from,this.provider);ie(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=s}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(n){const r=typeof n=="string"?Md(n):n;return await this.provider.send("personal_sign",[ut(r),this.address.toLowerCase()])}async signTypedData(n,r,i){const s=QA(i),o=await A5.resolveNames(n,r,s,async a=>{const c=await to(a);return ie(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(A5.getPayload(o.domain,r,o.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?Md(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ut(r)])}}var Bm,hw,xd,nu,Kc,tc,ko,_C,Ek;class ARe extends fRe{constructor(n,r){super(n,r);ae(this,_C);ae(this,Bm);ae(this,hw);ae(this,xd);ae(this,nu);ae(this,Kc);ae(this,tc);ae(this,ko);X(this,hw,1),X(this,Bm,Object.assign({},AQ,r||{})),X(this,xd,[]),X(this,nu,null),X(this,tc,null),X(this,ko,null);{let s=null;const o=new Promise(a=>{s=a});X(this,Kc,{promise:o,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(ie(!i||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),i&&n!=null&&X(this,tc,mu.from(n))):i&&(ie(n==null||i.matches(n),"staticNetwork MUST match network object","options",r),X(this,tc,i))}_getOption(n){return N(this,Bm)[n]}get _network(){return De(N(this,tc),"network is not available yet","NETWORK_ERROR"),N(this,tc)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let i=n.transaction;if(i&&i.type!=null&&Ct(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(N(this,tc))return N(this,tc)}else return n;return N(this,ko)?await N(this,ko):this.ready?(X(this,ko,(async()=>{try{const r=mu.from(Ct(await this.send("eth_chainId",[])));return X(this,ko,null),r}catch(r){throw X(this,ko,null),r}})()),await N(this,ko)):(X(this,ko,(async()=>{const r={id:kf(this,hw)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0],X(this,ko,null)}catch(s){throw X(this,ko,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return mu.from(Ct(i.result));throw this.getRpcError(r,i)})()),await N(this,ko))}_start(){N(this,Kc)==null||N(this,Kc).resolve==null||(N(this,Kc).resolve(),X(this,Kc,null),(async()=>{for(;N(this,tc)==null&&!this.destroyed;)try{X(this,tc,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Vr("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await ERe(1e3)}xe(this,_C,Ek).call(this)})())}async _waitUntilReady(){if(N(this,Kc)!=null)return await N(this,Kc).promise}_getSubscriber(n){return n.type==="pending"?new CRe(this):n.type==="event"?this._getOption("polling")?new uO(this,n.filter):new vRe(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new xQ("orphan"):super._getSubscriber(n)}get ready(){return N(this,Kc)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(n[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),r[s]=Zc(Ct(n[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{n[i]!=null&&(r[i]=ut(n[i]))}),n.accessList&&(r.accessList=Zg(n.accessList)),n.blobVersionedHashes&&(r.blobVersionedHashes=n.blobVersionedHashes.map(i=>i.toLowerCase())),n.authorizationList&&(r.authorizationList=n.authorizationList.map(i=>{const s=_Y(i);return{address:s.address,nonce:Zc(s.nonce),chainId:Zc(s.chainId),yParity:Zc(s.signature.yParity),r:Zc(s.signature.r),s:Zc(s.signature.s)}})),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[ty(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[ty(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[ty(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[ty(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(ty):n.filter.address=ty(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:i}=n,{error:s}=r;if(i==="eth_estimateGas"&&s.message){const c=s.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return Vr("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:s}});if(c.match(/nonce/i)&&c.match(/too low/i))return Vr("nonce has already been used","NONCE_EXPIRED",{transaction:n.params[0],info:{payload:n,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const c=Ak(s),u=sC.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",n.params[0],c?c.data:null);return u.info={error:s,payload:n},u}const o=JSON.stringify(SRe(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Vr("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:n,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const c=n.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Vr("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return Vr("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Vr("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:s}});if(o.match(/only replay-protected/i))return Vr("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:c,info:{error:s}}})}let a=!!o.match(/the method .* does not exist/i);return a||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(a=!0),a?Vr("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:s,payload:n}}):Vr("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(Vr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const i=kf(this,hw)._++,s=new Promise((o,a)=>{N(this,xd).push({resolve:o,reject:a,payload:{method:n,params:r,id:i,jsonrpc:"2.0"}})});return xe(this,_C,Ek).call(this),s}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const s=await r;if(n>=s.length)throw new Error("no such account");return new dN(this,s[n])}const{accounts:i}=await Qs({network:this.getNetwork(),accounts:r});n=nr(n);for(const s of i)if(nr(s)===n)return new dN(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new dN(this,r))}destroy(){N(this,nu)&&(clearTimeout(N(this,nu)),X(this,nu,null));for(const{payload:n,reject:r}of N(this,xd))r(Vr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));X(this,xd,[]),super.destroy()}}Bm=new WeakMap,hw=new WeakMap,xd=new WeakMap,nu=new WeakMap,Kc=new WeakMap,tc=new WeakMap,ko=new WeakMap,_C=new WeakSet,Ek=function(){if(N(this,nu))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");X(this,nu,setTimeout(()=>{X(this,nu,null);const r=N(this,xd);for(X(this,xd,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==N(this,Bm).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(o=>o.payload)).length>N(this,Bm).batchMaxSize){r.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const o=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:c,payload:u}of i){if(this.destroyed){c(Vr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const f=o.filter(h=>h.id===u.id)[0];if(f==null){const h=Vr("missing response for request","BAD_DATA",{value:o,info:{payload:u}});this.emit("error",h),c(h);continue}if("error"in f){c(this.getRpcError(u,f));continue}a(f.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of i)a(o)}})()}},n))};var Nh;class SQ extends ARe{constructor(n,r){super(n,r);ae(this,Nh);let i=this._getOption("pollingInterval");i==null&&(i=AQ.pollingInterval),X(this,Nh,i)}_getSubscriber(n){const r=super._getSubscriber(n);return QF(r)&&(r.pollingInterval=N(this,Nh)),r}get pollingInterval(){return N(this,Nh)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");X(this,Nh,n),this._forEachSubscriber(r=>{QF(r)&&(r.pollingInterval=N(this,Nh))})}}Nh=new WeakMap;var pw;class _Q extends SQ{constructor(n,r,i){n==null&&(n="http://localhost:8545");super(r,i);ae(this,pw);typeof n=="string"?X(this,pw,new rf(n)):X(this,pw,n.clone())}_getConnection(){return N(this,pw).clone()}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){const r=this._getConnection();r.body=JSON.stringify(n),r.setHeader("content-type","application/json");const i=await r.send();i.assertOk();let s=i.bodyJson;return Array.isArray(s)||(s=[s]),s}}pw=new WeakMap;function Ak(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Dr(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=Ak(t[e]);if(n)return n}return null}if(typeof t=="string")try{return Ak(JSON.parse(t))}catch{}return null}function Sk(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)Sk(t[n],e);if(typeof t=="string")try{return Sk(JSON.parse(t),e)}catch{}}}function SRe(t){const e=[];return Sk(t,e),e}var mw,gw;const im=class im extends SQ{constructor(n,r,i){const s=Object.assign({},i??{},{batchMaxCount:1});ie(n&&n.request,"invalid EIP-1193 provider","ethereum",n);super(r,s);ae(this,mw);ae(this,gw);X(this,gw,null),i&&i.providerInfo&&X(this,gw,i.providerInfo),X(this,mw,async(o,a)=>{const c={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const u=await n.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const f=new Error(u.message);throw f.code=u.code,f.data=u.data,f.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:f}),f}})}get providerInfo(){return N(this,gw)}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){ie(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const r=await N(this,mw).call(this,n.method,n.params||[]);return[{id:n.id,result:r}]}catch(r){return[{id:n.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(n,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(n,r)}async hasSigner(n){n==null&&(n=0);const r=await this.send("eth_accounts",[]);return typeof n=="number"?r.length>n:(n=n.toLowerCase(),r.filter(i=>i.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await N(this,mw).call(this,"eth_requestAccounts",[])}catch(r){const i=r.payload;throw this.getRpcError(i,{id:i.id,error:r})}return await super.getSigner(n)}static async discover(n){if(n==null&&(n={}),n.provider)return new im(n.provider);const r=n.window?n.window:typeof window<"u"?window:null;if(r==null)return null;const i=n.anyProvider;if(i&&r.ethereum)return new im(r.ethereum);if(!("addEventListener"in r&&"dispatchEvent"in r&&"removeEventListener"in r))return null;const s=n.timeout?n.timeout:300;return s===0?null:await new Promise((o,a)=>{let c=[];const u=p=>{c.push(p.detail),i&&f()},f=()=>{if(clearTimeout(h),c.length)if(n&&n.filter){const p=n.filter(c.map(g=>Object.assign({},g.info)));if(p==null)o(null);else if(p instanceof im)o(p);else{let g=null;if(p.uuid&&(g=c.filter(y=>p.uuid===y.info.uuid)[0]),g){const{provider:w,info:y}=g;o(new im(w,void 0,{providerInfo:y}))}else a(Vr("filter returned unknown info","UNSUPPORTED_OPERATION",{value:p}))}}else{const{provider:p,info:g}=c[0];o(new im(p,void 0,{providerInfo:g}))}else o(null);r.removeEventListener("eip6963:announceProvider",u)},h=setTimeout(()=>{f()},s);r.addEventListener("eip6963:announceProvider",u),r.dispatchEvent(new Event("eip6963:requestProvider"))})}};mw=new WeakMap,gw=new WeakMap;let _k=im;const I5="/assets/pls1-BbdmYk96.png",_Re="/assets/bnb-DT1aIq12.png",TRe="/assets/matic-token-icon-CifXq2C8.png",dO="data:image/svg+xml,%3csvg%20width='200'%20height='200'%20viewBox='0%200%20200%20200'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='200.002'%20height='200'%20rx='100'%20fill='%23141416'/%3e%3cpath%20d='M117.857%20121.228C84.784%20131.15%2057.4252%20145.623%2040.2996%20162.58L39.5435%20163.333C44.0975%20167.638%2049.091%20171.488%2054.4889%20174.76L55.6494%20173.343C60.3264%20167.638%2065.3375%20162.125%2070.5596%20156.928C84.573%20142.98%20100.609%20130.905%20117.875%20121.21L117.857%20121.228Z'%20fill='%23F5F5F5'/%3e%3cpath%20d='M12.5012%20106.528C13.8199%20124.22%2020.3959%20140.443%2030.717%20153.638L31.1917%20153.165C41.7941%20142.718%2055.5966%20133.215%2072.2475%20124.938C86.8412%20117.675%20103.598%20111.445%20121.655%20106.528H12.5012Z'%20fill='%23F5F5F5'/%3e%3cpath%20d='M79.8081%2033.815C109.4%2063.2675%20146.64%2082.745%20187.485%2090.13C182.562%2046.4675%20145.357%2012.5%20100.151%2012.5C88.2126%2012.5%2076.8366%2014.88%2066.4452%2019.1675C70.665%2024.2425%2075.1662%2029.1775%2079.8081%2033.815Z'%20fill='%23F5F5F5'/%3e%3cpath%20d='M40.2996%2037.4201C57.4252%2054.3951%2084.784%2068.8501%20117.857%2078.7901C100.591%2069.0776%2084.5554%2057.0201%2070.542%2043.0726C65.3375%2037.8926%2060.3264%2032.3801%2055.6318%2026.6576L54.4713%2025.2401C49.0734%2028.5126%2044.0799%2032.3626%2039.5435%2036.6676L40.2996%2037.4201Z'%20fill='%23F5F5F5'/%3e%3cpath%20d='M79.8081%20166.185C75.1486%20170.822%2070.6475%20175.758%2066.4452%20180.833C76.819%20185.12%2088.2126%20187.5%20100.151%20187.5C145.357%20187.5%20182.562%20153.533%20187.503%20109.852C146.658%20117.237%20109.417%20136.715%2079.8257%20166.168L79.8081%20166.185Z'%20fill='%23F5F5F5'/%3e%3cpath%20d='M72.2475%2075.0625C55.5966%2066.785%2041.7941%2057.2825%2031.1917%2046.835L30.717%2046.3625C20.3959%2059.5575%2013.8199%2075.78%2012.5012%2093.4725H121.638C103.58%2088.555%2086.8412%2082.325%2072.2299%2075.045L72.2475%2075.0625Z'%20fill='%23F5F5F5'/%3e%3c/svg%3e";let s1=null,fN=null;const ZA={network:{chainId:369,explorerUrl:"https://scan.pulsechain.com"},contracts:{core:{SWAP_V3:{address:"0x0aa148D71361CAE3689bfe7897ef18979b3689C5"},STATE_V3:{address:"0x8a1e26C63017cE03e7618e6DEDFA58CA2317AA1a"},DAV_V3:{address:"0x03843b39d27dA897fD3896f8E2BDF0f2f1b6CBcd"}},support:{SwapLens:{address:"0x04566b9F4852d8b0D3911aB1f2C7d0C0955f6Af0"},AuctionMetrics:{address:"0xa309168C3Ea046305cCf453B1b8470319DF70780"},BuyAndBurnController:{address:"0x50167F148fC386c6e3bEbEaD7B0A7A5D0bd74438"}},stages:{AirdropDistributor:{address:"0x767048b336F3d90C385Ede970c9894b6d11436Ac"},AuctionAdmin:{address:"0xD27f73077C87eD5485269aACF324cC6f587d9E3b"}},utilities:{LPHelper:{address:"0xea5412ECcD8b4b7Ad27EE366dA84F3464Ac3D347"}}},dex:{router:{address:"0x98bf93ebf5c380C0e6Ae8e192A7e2AE08edAcc02"},factory:{address:"0x1715a3E4A142d8b698131108995174F37aEBA10D"},baseToken:{address:"0xA1077a294dDE1B09bB078844df40758a5D0f9a27",symbol:"WPLS",decimals:18}}};async function IRe(){return s1||(fN||(fN=fetch("/deployments/config.json",{cache:"no-store"}).then(t=>t.ok?t.json():ZA).catch(()=>ZA).then(t=>(s1=t||ZA,s1))),fN)}function Jc(){return s1||ZA}function Ya(t,e){const n=Jc();try{const r=t.split(".");let i=n;for(const o of r)i=i==null?void 0:i[o];return(i==null?void 0:i.address)||i||e}catch{return e}}const cl={PULSECHAIN:369,POLYGON:137,SONIC:146,MAINNET:1,PULSECHAIN_TESTNET:943},ZF={[cl.PULSECHAIN]:{DAV_TOKEN:Ya("contracts.core.DAV_V3","0x03843b39d27dA897fD3896f8E2BDF0f2f1b6CBcd"),STATE_TOKEN:Ya("contracts.core.STATE_V3","0x8a1e26C63017cE03e7618e6DEDFA58CA2317AA1a"),AUCTION:Ya("contracts.core.SWAP_V3","0x0aa148D71361CAE3689bfe7897ef18979b3689C5"),LP_HELPER:Ya("contracts.utilities.LPHelper","0xea5412ECcD8b4b7Ad27EE366dA84F3464Ac3D347"),LIQUIDITY_MANAGER:Ya("contracts.utilities.LiquidityManager",""),BUY_BURN_CONTROLLER:Ya("contracts.support.BuyAndBurnController","0x50167F148fC386c6e3bEbEaD7B0A7A5D0bd74438"),AUCTION_METRICS:Ya("contracts.support.AuctionMetrics","0xa309168C3Ea046305cCf453B1b8470319DF70780"),SWAP_LENS:Ya("contracts.support.SwapLens","0x04566b9F4852d8b0D3911aB1f2C7d0C0955f6Af0"),AIRDROP_DISTRIBUTOR:Ya("contracts.stages.AirdropDistributor","0x767048b336F3d90C385Ede970c9894b6d11436Ac"),AUCTION_ADMIN:Ya("contracts.stages.AuctionAdmin","0xD27f73077C87eD5485269aACF324cC6f587d9E3b")},[cl.POLYGON]:{DAV_TOKEN:"",STATE_TOKEN:"",AUCTION:"",LP_HELPER:"",LIQUIDITY_MANAGER:"",BUY_BURN_CONTROLLER:"",AUCTION_METRICS:""},[cl.MAINNET]:{DAV_TOKEN:"",STATE_TOKEN:"",AUCTION:"",LP_HELPER:"",LIQUIDITY_MANAGER:"",BUY_BURN_CONTROLLER:"",AUCTION_METRICS:""}},TQ=t=>ZF[t]||ZF[cl.PULSECHAIN],ub=(t,e)=>TQ(t)[e],fO=t=>ub(t,"DAV_TOKEN")||ub(cl.PULSECHAIN,"DAV_TOKEN"),Ny=t=>ub(t,"STATE_TOKEN")||ub(cl.PULSECHAIN,"STATE_TOKEN"),IQ=t=>ub(t,"AUCTION")||ub(cl.PULSECHAIN,"AUCTION");var Mj,Bj;const NRe={1:"https://etherscan.io/address/",137:"https://polygonscan.com/address/",10:"https://optimistic.etherscan.io/address/",369:(((Bj=(Mj=Jc())==null?void 0:Mj.network)==null?void 0:Bj.explorerUrl)||"https://scan.pulsechain.com")+"/address/"};let PRe={data:""},kRe=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||PRe,RRe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ORe=/\/\*[^]*?\*\/|  +/g,JF=/\n+/g,fh=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?fh(o,s):s+"{"+fh(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=fh(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,a):a?a+" "+c:c)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=fh.p?fh.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ed={},NQ=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+NQ(t[n]);return e}return t},$Re=(t,e,n,r,i)=>{let s=NQ(t),o=ed[s]||(ed[s]=(c=>{let u=0,f=11;for(;u<c.length;)f=101*f+c.charCodeAt(u++)>>>0;return"go"+f})(s));if(!ed[o]){let c=s!==t?t:(u=>{let f,h,p=[{}];for(;f=RRe.exec(u.replace(ORe,""));)f[4]?p.shift():f[3]?(h=f[3].replace(JF," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][f[1]]=f[2].replace(JF," ").trim();return p[0]})(t);ed[o]=fh(i?{["@keyframes "+o]:c}:c,n?"":"."+o)}let a=n&&ed.g?ed.g:null;return n&&(ed.g=ed[o]),((c,u,f,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=f?c+u.data:u.data+c)})(ed[o],e,r,a),o},DRe=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),c=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=c?"."+c:a&&typeof a=="object"?a.props?"":fh(a,""):a===!1?"":a}return r+i+(o??"")},"");function c_(t){let e=this||{},n=t.call?t(e.p):t;return $Re(n.unshift?n.raw?DRe(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,kRe(e.target),e.g,e.o,e.k)}let PQ,Tk,Ik;c_.bind({g:1});let of=c_.bind({k:1});function LRe(t,e,n,r){fh.p=e,PQ=t,Tk=n,Ik=r}function vp(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),c=a.className||i.className;n.p=Object.assign({theme:Tk&&Tk()},a),n.o=/ *go\d+/.test(c),a.className=c_.apply(n,r)+(c?" "+c:"");let u=t;return t[0]&&(u=a.as||t,delete a.as),Ik&&u[0]&&Ik(a),PQ(u,a)}return i}}var MRe=t=>typeof t=="function",N5=(t,e)=>MRe(t)?t(e):t,BRe=(()=>{let t=0;return()=>(++t).toString()})(),kQ=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),URe=20,RQ=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,URe)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return RQ(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},JA=[],wm={toasts:[],pausedAt:void 0},Xg=t=>{wm=RQ(wm,t),JA.forEach(e=>{e(wm)})},FRe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jRe=(t={})=>{let[e,n]=U.useState(wm),r=U.useRef(wm);U.useEffect(()=>(r.current!==wm&&n(wm),JA.push(n),()=>{let s=JA.indexOf(n);s>-1&&JA.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||FRe[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:i}},zRe=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||BRe()}),Ex=t=>(e,n)=>{let r=zRe(e,t,n);return Xg({type:2,toast:r}),r.id},Js=(t,e)=>Ex("blank")(t,e);Js.error=Ex("error");Js.success=Ex("success");Js.loading=Ex("loading");Js.custom=Ex("custom");Js.dismiss=t=>{Xg({type:3,toastId:t})};Js.remove=t=>Xg({type:4,toastId:t});Js.promise=(t,e,n)=>{let r=Js.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?N5(e.success,i):void 0;return s?Js.success(s,{id:r,...n,...n==null?void 0:n.success}):Js.dismiss(r),i}).catch(i=>{let s=e.error?N5(e.error,i):void 0;s?Js.error(s,{id:r,...n,...n==null?void 0:n.error}):Js.dismiss(r)}),t};var WRe=(t,e)=>{Xg({type:1,toast:{id:t,height:e}})},HRe=()=>{Xg({type:5,time:Date.now()})},N1=new Map,VRe=1e3,qRe=(t,e=VRe)=>{if(N1.has(t))return;let n=setTimeout(()=>{N1.delete(t),Xg({type:4,toastId:t})},e);N1.set(t,n)},GRe=t=>{let{toasts:e,pausedAt:n}=jRe(t);U.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let c=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(c<0){a.visible&&Js.dismiss(a.id);return}return setTimeout(()=>Js.dismiss(a.id),c)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=U.useCallback(()=>{n&&Xg({type:6,time:Date.now()})},[n]),i=U.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:c=8,defaultPosition:u}=o||{},f=e.filter(g=>(g.position||u)===(s.position||u)&&g.height),h=f.findIndex(g=>g.id===s.id),p=f.filter((g,w)=>w<h&&g.visible).length;return f.filter(g=>g.visible).slice(...a?[p+1]:[0,p]).reduce((g,w)=>g+(w.height||0)+c,0)},[e]);return U.useEffect(()=>{e.forEach(s=>{if(s.dismissed)qRe(s.id,s.removeDelay);else{let o=N1.get(s.id);o&&(clearTimeout(o),N1.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:WRe,startPause:HRe,endPause:r,calculateOffset:i}}},KRe=of`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,YRe=of`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,QRe=of`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ZRe=vp("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${KRe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${YRe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${QRe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,JRe=of`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,XRe=vp("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${JRe} 1s linear infinite;
`,e8e=of`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,t8e=of`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,n8e=vp("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${e8e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${t8e} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,r8e=vp("div")`
  position: absolute;
`,i8e=vp("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,s8e=of`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,o8e=vp("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${s8e} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,a8e=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?U.createElement(o8e,null,e):e:n==="blank"?null:U.createElement(i8e,null,U.createElement(XRe,{...r}),n!=="loading"&&U.createElement(r8e,null,n==="error"?U.createElement(ZRe,{...r}):U.createElement(n8e,{...r})))},c8e=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,l8e=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,u8e="0%{opacity:0;} 100%{opacity:1;}",d8e="0%{opacity:1;} 100%{opacity:0;}",f8e=vp("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,h8e=vp("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,p8e=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=kQ()?[u8e,d8e]:[c8e(n),l8e(n)];return{animation:e?`${of(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${of(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},m8e=U.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?p8e(t.position||e||"top-center",t.visible):{opacity:0},s=U.createElement(a8e,{toast:t}),o=U.createElement(h8e,{...t.ariaProps},N5(t.message,t));return U.createElement(f8e,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):U.createElement(U.Fragment,null,s,o))});LRe(U.createElement);var g8e=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=U.useCallback(o=>{if(o){let a=()=>{let c=o.getBoundingClientRect().height;r(t,c)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return U.createElement("div",{ref:s,className:e,style:n},i)},y8e=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:kQ()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},w8e=c_`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,yA=16,b8e=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:c}=GRe(n);return U.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:yA,left:yA,right:yA,bottom:yA,pointerEvents:"none",...s},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},a.map(u=>{let f=u.position||e,h=c.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),p=y8e(f,h);return U.createElement(g8e,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?w8e:"",style:p},u.type==="custom"?N5(u.message,u):i?i(u):U.createElement(m8e,{toast:u,position:f}))}))},vr=Js;const OQ=JSON.parse('[{"type":"constructor","inputs":[{"name":"_liquidityWallet","type":"address","internalType":"address"},{"name":"_stateToken","type":"address","internalType":"address"},{"name":"_gov","type":"address","internalType":"address"},{"name":"tokenName","type":"string","internalType":"string"},{"name":"tokenSymbol","type":"string","internalType":"string"}],"stateMutability":"nonpayable"},{"type":"fallback","stateMutability":"payable"},{"type":"receive","stateMutability":"payable"},{"type":"function","name":"BASIS_POINTS","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"CYCLE_ALLOCATION_COUNT","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"DAV_TOKEN_EXPIRE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"DEVELOPMENT_SHARE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"HOLDER_SHARE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"INITIAL_GOV_MINT","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"LIQUIDITY_SHARE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MAX_HOLDERS","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MAX_SUPPLY","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MAX_TOKEN_PER_USER","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"REFERRAL_BONUS","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"STATE_TOKEN","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"StateToken","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IERC20"}],"stateMutability":"view"},{"type":"function","name":"TOKEN_COST","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"allowance","inputs":[{"name":"owner","type":"address","internalType":"address"},{"name":"spender","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"approve","inputs":[{"name":"spender","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"function","name":"balanceOf","inputs":[{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"claimReward","inputs":[],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"cleanupZeroAmountBatches","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"maxRemovals","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"removed","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"confirmDevelopmentWallet","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"confirmGovernance","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"confirmLiquidityWallet","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"decimals","inputs":[],"outputs":[{"name":"","type":"uint8","internalType":"uint8"}],"stateMutability":"view"},{"type":"function","name":"developmentWallet","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"earned","inputs":[{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getActiveBalance","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getActiveMintedBalance","inputs":[{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getActiveStatus","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"activeBalance","type":"uint256","internalType":"uint256"},{"name":"totalBalance","type":"uint256","internalType":"uint256"},{"name":"expiredAmount","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getDAVHoldersCount","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getExpireTime","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"getExpiredTokenCount","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getInitialGovMint","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"getMaxSupply","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"getMintBatches","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"amounts","type":"uint256[]","internalType":"uint256[]"},{"name":"timestamps","type":"uint256[]","internalType":"uint256[]"}],"stateMutability":"view"},{"type":"function","name":"getMintTimestamps","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"mintTimes","type":"uint256[]","internalType":"uint256[]"},{"name":"expireTimes","type":"uint256[]","internalType":"uint256[]"},{"name":"amounts","type":"uint256[]","internalType":"uint256[]"},{"name":"fromGovernance","type":"bool[]","internalType":"bool[]"},{"name":"isExpired","type":"bool[]","internalType":"bool[]"}],"stateMutability":"view"},{"type":"function","name":"getMintedForDay","inputs":[{"name":"ts","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getShares","inputs":[],"outputs":[{"name":"liq","type":"uint256","internalType":"uint256"},{"name":"holders","type":"uint256","internalType":"uint256"},{"name":"devv","type":"uint256","internalType":"uint256"},{"name":"ref","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"getTokenCost","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"getTotalActiveSupply","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getTotalsAllocated","inputs":[],"outputs":[{"name":"liqAlloc","type":"uint256","internalType":"uint256"},{"name":"devAlloc","type":"uint256","internalType":"uint256"},{"name":"refPaid","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getUserReferralCode","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"function","name":"governance","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"isActiveNow","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"liquidityWallet","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"mintBatches","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"timestamp","type":"uint256","internalType":"uint256"},{"name":"fromGovernance","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"mintDAV","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"referralCode","type":"string","internalType":"string"}],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"mintedByDayIndex","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"mintedSupply","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"name","inputs":[],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"pause","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"paused","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"pendingDevelopmentWallet","inputs":[],"outputs":[{"name":"newWallet","type":"address","internalType":"address"},{"name":"proposedAt","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"pendingGovernance","inputs":[],"outputs":[{"name":"newGovernance","type":"address","internalType":"address"},{"name":"proposedAt","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"pendingLiquidityWallet","inputs":[],"outputs":[{"name":"newWallet","type":"address","internalType":"address"},{"name":"proposedAt","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"proposeDevelopmentWallet","inputs":[{"name":"_newDevelopmentWallet","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"proposeGovernance","inputs":[{"name":"newGovernance","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"proposeLiquidityWallet","inputs":[{"name":"_newLiquidityWallet","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"referralRewards","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"refreshHolderStatuses","inputs":[{"name":"accounts","type":"address[]","internalType":"address[]"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"renounceOwnership","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setStateToken","inputs":[{"name":"_stateToken","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setSwapContract","inputs":[{"name":"_swapContract","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setTransfersEnabled","inputs":[{"name":"_enabled","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"swapContract","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"symbol","inputs":[],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"function","name":"totalDevelopmentAllocated","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"totalLiquidityAllocated","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"totalReferralRewardsDistributed","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"totalSupply","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"transfer","inputs":[{"name":"recipient","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"function","name":"transferFrom","inputs":[{"name":"sender","type":"address","internalType":"address"},{"name":"recipient","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"function","name":"transferGovernanceImmediate","inputs":[{"name":"newGovernance","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transfersPaused","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"unpause","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"Approval","inputs":[{"name":"owner","type":"address","indexed":true,"internalType":"address"},{"name":"spender","type":"address","indexed":true,"internalType":"address"},{"name":"value","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ContractPaused","inputs":[{"name":"by","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"ContractUnpaused","inputs":[{"name":"by","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"DevelopmentWalletUpdated","inputs":[{"name":"newWallet","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"DistributionEvent","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"amountMinted","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"amountPaid","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"referrer","type":"address","indexed":true,"internalType":"address"},{"name":"referralShare","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"liquidityShare","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"developmentShare","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"holderShare","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"timestamp","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"GovernanceUpdated","inputs":[{"name":"oldGovernance","type":"address","indexed":false,"internalType":"address"},{"name":"newGovernance","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"HolderAdded","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"HolderRemoved","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"HolderShareDistributed","inputs":[{"name":"totalHolderShare","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"totalDistributed","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"dust","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"holderCount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"LiquidityWalletUpdated","inputs":[{"name":"newWallet","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"ReferralCodeGenerated","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"referralCode","type":"string","indexed":false,"internalType":"string"}],"anonymous":false},{"type":"event","name":"ReferralCodeGenerated","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"code","type":"string","indexed":false,"internalType":"string"}],"anonymous":false},{"type":"event","name":"ReferralPayoutSkipped","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"referrer","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"reason","type":"string","indexed":false,"internalType":"string"}],"anonymous":false},{"type":"event","name":"RewardsClaimed","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Transfer","inputs":[{"name":"from","type":"address","indexed":true,"internalType":"address"},{"name":"to","type":"address","indexed":true,"internalType":"address"},{"name":"value","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"ERC20InsufficientAllowance","inputs":[{"name":"spender","type":"address","internalType":"address"},{"name":"allowance","type":"uint256","internalType":"uint256"},{"name":"needed","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"ERC20InsufficientBalance","inputs":[{"name":"sender","type":"address","internalType":"address"},{"name":"balance","type":"uint256","internalType":"uint256"},{"name":"needed","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"ERC20InvalidApprover","inputs":[{"name":"approver","type":"address","internalType":"address"}]},{"type":"error","name":"ERC20InvalidReceiver","inputs":[{"name":"receiver","type":"address","internalType":"address"}]},{"type":"error","name":"ERC20InvalidSender","inputs":[{"name":"sender","type":"address","internalType":"address"}]},{"type":"error","name":"ERC20InvalidSpender","inputs":[{"name":"spender","type":"address","internalType":"address"}]},{"type":"error","name":"OwnableInvalidOwner","inputs":[{"name":"owner","type":"address","internalType":"address"}]},{"type":"error","name":"OwnableUnauthorizedAccount","inputs":[{"name":"account","type":"address","internalType":"address"}]},{"type":"error","name":"ReentrancyGuardReentrantCall","inputs":[]}]'),$Q=[{type:"constructor",inputs:[{name:"tokenName",type:"string",internalType:"string"},{name:"tokenSymbol",type:"string",internalType:"string"},{name:"recipientFivePercent",type:"address",internalType:"address"},{name:"recipientNinetyFivePercent",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"FIVE_PERCENT_ALLOCATION",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"NINETY_FIVE_PERCENT_ALLOCATION",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"verifyAllocations",inputs:[],outputs:[{name:"ok",type:"bool",internalType:"bool"},{name:"total",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"InitialAllocation",inputs:[{name:"fivePercentRecipient",type:"address",indexed:!0,internalType:"address"},{name:"ninetyFivePercentRecipient",type:"address",indexed:!0,internalType:"address"},{name:"fivePercentAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"ninetyFivePercentAmount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"ERC20InsufficientAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"allowance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ERC20InsufficientBalance",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ERC20InvalidApprover",inputs:[{name:"approver",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidReceiver",inputs:[{name:"receiver",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidSender",inputs:[{name:"sender",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidSpender",inputs:[{name:"spender",type:"address",internalType:"address"}]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]}],v8e=JSON.parse('[{"type":"error","name":"NotGovernance","inputs":[]},{"type":"error","name":"Unauthorized","inputs":[]},{"type":"error","name":"PausedErr","inputs":[]},{"type":"error","name":"UnsupportedToken","inputs":[]},{"type":"error","name":"ZeroAddr","inputs":[]},{"type":"error","name":"AlreadySet","inputs":[]},{"type":"error","name":"ScheduleNotSet","inputs":[]},{"type":"error","name":"NotStarted","inputs":[]},{"type":"error","name":"NotToday","inputs":[]},{"type":"error","name":"Ended","inputs":[]},{"type":"error","name":"AlreadySwapped","inputs":[]},{"type":"error","name":"AlreadyReverse","inputs":[]},{"type":"error","name":"StateNotSet","inputs":[]},{"type":"error","name":"DavInsufficient","inputs":[]},{"type":"error","name":"InvalidParam","inputs":[]},{"type":"error","name":"PairInvalid","inputs":[]},{"type":"error","name":"PairUsed","inputs":[]},{"type":"error","name":"TokenExists","inputs":[]},{"type":"error","name":"NoDAV","inputs":[]},{"type":"error","name":"InvalidReserves","inputs":[]},{"type":"error","name":"ReserveFetchFail","inputs":[]},{"type":"error","name":"InsufficientVault","inputs":[]},{"type":"error","name":"AmountZero","inputs":[]},{"type":"error","name":"TimelockNotExpired","inputs":[]},{"type":"error","name":"NoPendingGov","inputs":[]},{"type":"error","name":"BadTreasury","inputs":[]},{"type":"error","name":"ReverseDayLPOonly","inputs":[]},{"type":"error","name":"ParticipantCapReached","inputs":[]},{"type":"error","name":"InsufficientBalance","inputs":[]},{"type":"error","name":"InsufficientAllowance","inputs":[]},{"type":"error","name":"Step1NotCompleted","inputs":[]},{"type":"error","name":"Step2NotCompleted","inputs":[]},{"type":"error","name":"UserNotEligible","inputs":[]},{"type":"constructor","inputs":[{"name":"_gov","type":"address","internalType":"address"},{"name":"_dev","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"CLAIM_INTERVAL","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"DevAddress","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"GOVERNANCE_UPDATE_DELAY","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MAX_SUPPLY","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MAX_TOTAL_AUCTIONS","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"NORMAL_BURN_BPS","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"PROTOCOL_FEE_BPS","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"TotalBurnedStates","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"_registerDeployedToken","inputs":[{"name":"tokenAddress","type":"address","internalType":"address"},{"name":"name","type":"string","internalType":"string"},{"name":"deployer","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"_setDexAddresses","inputs":[{"name":"_router","type":"address","internalType":"address"},{"name":"_factory","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"_setGovernance","inputs":[{"name":"newGov","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"_setMaxAuctionParticipants","inputs":[{"name":"newMax","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"_setPaused","inputs":[{"name":"_paused","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"_setPendingGovernance","inputs":[{"name":"pending","type":"address","internalType":"address"},{"name":"timestamp","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"airdropDistributor","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"auctionAdmin","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IAuctionAdmin"}],"stateMutability":"view"},{"type":"function","name":"auctionSchedule","inputs":[],"outputs":[{"name":"tokenCount","type":"uint256","internalType":"uint256"},{"name":"scheduleSet","type":"bool","internalType":"bool"},{"name":"scheduleStart","type":"uint256","internalType":"uint256"},{"name":"auctionDaysLimit","type":"uint256","internalType":"uint256"},{"name":"scheduleSize","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"autoRegisteredTokens","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"autoScheduleLocked","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"batchDistributeFromVault","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"recipients","type":"address[]","internalType":"address[]"},{"name":"amounts","type":"uint256[]","internalType":"uint256[]"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"burnStateForTokens","inputs":[{"name":"stateToBurn","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"burnTokensForState","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"calculateReverseStep2Output","inputs":[{"name":"auctionToken","type":"address","internalType":"address"},{"name":"stateToBurn","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"canParticipateInAuction","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"auctionToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"createPoolOneClick","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"tokenAmount","type":"uint256","internalType":"uint256"},{"name":"stateAmount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"pair","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"currentDayStart","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"dailyStateReleased","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"dailyStateReleasedNormal","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"dailyStateReleasedReverse","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"dailySwapsCount","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"dailyUniqueSwappersCount","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"dav","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IDAV"}],"stateMutability":"view"},{"type":"function","name":"davToken","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"deployTokenOneClick","inputs":[{"name":"name","type":"string","internalType":"string"},{"name":"symbol","type":"string","internalType":"string"}],"outputs":[{"name":"tokenAddress","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"distributeFromVault","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"recipient","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getAuctionTimeLeft","inputs":[{"name":"inputToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getAvailableDavForAuction","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"auctionToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getCurrentAuctionCycle","inputs":[{"name":"inputToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getCurrentDayIndex","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getDavTokensUsed","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"auctionToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getEligibilityInfo","inputs":[],"outputs":[{"name":"totalEligible","type":"uint256","internalType":"uint256"},{"name":"maxAllowed","type":"uint256","internalType":"uint256"},{"name":"remaining","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPairAddress","inputs":[{"name":"token","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"getRatioPrice","inputs":[{"name":"inputToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getReverseStateBalance","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"auctionToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getTodayToken","inputs":[],"outputs":[{"name":"tokenOfDay","type":"address","internalType":"address"},{"name":"active","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"getTokensBurnedByUser","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"auctionToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getTotalTokensBurned","inputs":[{"name":"token","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getUserAuctionStatus","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"auctionToken","type":"address","internalType":"address"}],"outputs":[{"name":"step1","type":"bool","internalType":"bool"},{"name":"step2","type":"bool","internalType":"bool"},{"name":"step3","type":"bool","internalType":"bool"},{"name":"stateBalance","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getUserHasReverseSwapped","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"inputToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"getUserHasSwapped","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"inputToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"getUserStateBalance","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"auctionToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"governanceAddress","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"governanceUpdateTimestamp","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"hasCompletedStep1","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"auctionToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"hasCompletedStep2","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"auctionToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"hasCompletedStep3","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"auctionToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"hasUserBurnedForToken","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"auctionToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"hasUserCompletedReverseStep1","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"auctionToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"hasUserCompletedReverseStep2","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"auctionToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"initializeCompleteSystem","inputs":[{"name":"_stateToken","type":"address","internalType":"address"},{"name":"_davToken","type":"address","internalType":"address"},{"name":"_lpHelper","type":"address","internalType":"address"},{"name":"_airdropDistributor","type":"address","internalType":"address"},{"name":"_auctionAdmin","type":"address","internalType":"address"},{"name":"_buyBurnController","type":"address","internalType":"address"},{"name":"_pulseXRouter","type":"address","internalType":"address"},{"name":"_pulseXFactory","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"isAuctionActive","inputs":[{"name":"inputToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isAutoRegistered","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isRegisteredForAuctions","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isReverseAuctionActive","inputs":[{"name":"inputToken","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isTokenSupported","inputs":[{"name":"token","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isUserEligible","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"lpHelper","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"maxAuctionParticipants","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"pause","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"paused","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"pendingGovernance","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"percentage","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"pulseXFactory","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"pulseXRouter","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"registerUserForAuctions","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"renounceOwnership","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"reverseSwapTokensForState","inputs":[{"name":"tokenAmount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setAirdropDistributor","inputs":[{"name":"_airdropDistributor","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setAuctionSchedule","inputs":[{"name":"tokens","type":"address[]","internalType":"address[]"},{"name":"startAt","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setMaxAuctionParticipants","inputs":[{"name":"newMax","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setPairAddress","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"pair","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setVaultAllowance","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"spender","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setVaultAllowances","inputs":[{"name":"tokens","type":"address[]","internalType":"address[]"},{"name":"spender","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setupTokenAllowancesForAirdrop","inputs":[{"name":"tokens","type":"address[]","internalType":"address[]"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"startAuctionWithAutoTokens","inputs":[{"name":"startAt","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"stateReleasedByDayIndex","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"stateReleasedNormalByDayIndex","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"stateReleasedReverseByDayIndex","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"stateToken","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"swapTokens","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"swapsCountByDayIndex","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"tokenCount","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"totalAuctionsCompleted","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"totalRegisteredUsers","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"treasury","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"uniqueSwappersCountByDayIndex","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"unpause","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"AirdropDistributorSet","inputs":[{"name":"airdropDistributor","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"AuctionAdminSet","inputs":[{"name":"admin","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"AuctionDaysLimitUpdated","inputs":[{"name":"newLimit","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"AuctionScheduleSet","inputs":[{"name":"startAt","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"count","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"AuctionStarted","inputs":[{"name":"startTime","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"endTime","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"inputToken","type":"address","indexed":false,"internalType":"address"},{"name":"stateToken","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"BurnAccrued","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ContractPaused","inputs":[{"name":"by","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"ContractUnpaused","inputs":[{"name":"by","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"DailyStateReleaseRolled","inputs":[{"name":"dayIndex","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"newDayStart","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"DavTokenAddressSet","inputs":[{"name":"davToken","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"DexAddressesUpdated","inputs":[{"name":"router","type":"address","indexed":false,"internalType":"address"},{"name":"factory","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"GovernanceUpdateProposed","inputs":[{"name":"newGov","type":"address","indexed":false,"internalType":"address"},{"name":"timestamp","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"GovernanceUpdated","inputs":[{"name":"newGov","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"LPTokensBurned","inputs":[{"name":"pair","type":"address","indexed":true,"internalType":"address"},{"name":"liquidity","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"burnAddress","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"LiquidityAdded","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"address"},{"name":"pair","type":"address","indexed":true,"internalType":"address"},{"name":"amountState","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"amountToken","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"liquidity","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"MaxParticipantsUpdated","inputs":[{"name":"oldMax","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"newMax","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"NewDayStarted","inputs":[{"name":"newDayStart","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"PoolCreated","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"address"},{"name":"pair","type":"address","indexed":true,"internalType":"address"},{"name":"tokenAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"stateAmount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ProtocolFeeAccrued","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ProtocolGovernanceTransferCompleted","inputs":[{"name":"newGovernance","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"ProtocolGovernanceTransferInitiated","inputs":[{"name":"newGovernance","type":"address","indexed":true,"internalType":"address"},{"name":"timestamp","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"RegistrationCapReached","inputs":[{"name":"maxParticipants","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"RewardDistributed","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SystemInitialized","inputs":[{"name":"stateToken","type":"address","indexed":true,"internalType":"address"},{"name":"davToken","type":"address","indexed":true,"internalType":"address"},{"name":"lpHelper","type":"address","indexed":false,"internalType":"address"},{"name":"airdropDistributor","type":"address","indexed":false,"internalType":"address"},{"name":"auctionAdmin","type":"address","indexed":false,"internalType":"address"},{"name":"buyBurnController","type":"address","indexed":false,"internalType":"address"},{"name":"pulseXRouter","type":"address","indexed":false,"internalType":"address"},{"name":"pulseXFactory","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"TokenAdded","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"address"},{"name":"pairAddress","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"TokenDeployed","inputs":[{"name":"name","type":"string","indexed":false,"internalType":"string"},{"name":"tokenAddress","type":"address","indexed":false,"internalType":"address"},{"name":"tokenNo","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"TokensDeposited","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"TokensSwapped","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"inputToken","type":"address","indexed":true,"internalType":"address"},{"name":"stateToken","type":"address","indexed":true,"internalType":"address"},{"name":"amountIn","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"amountOut","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"TreasuryUpdated","inputs":[{"name":"oldTreasury","type":"address","indexed":true,"internalType":"address"},{"name":"newTreasury","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"UserAutoRegistered","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"timestamp","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"VaultDistribution","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"address"},{"name":"recipient","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"AlreadyReverse","inputs":[]},{"type":"error","name":"AlreadySet","inputs":[]},{"type":"error","name":"AlreadySwapped","inputs":[]},{"type":"error","name":"AmountZero","inputs":[]},{"type":"error","name":"AmountZero","inputs":[]},{"type":"error","name":"AmountZero","inputs":[]},{"type":"error","name":"BadTreasury","inputs":[]},{"type":"error","name":"DavInsufficient","inputs":[]},{"type":"error","name":"DeadlineExpired","inputs":[]},{"type":"error","name":"Ended","inputs":[]},{"type":"error","name":"InsufficientAllowance","inputs":[]},{"type":"error","name":"InsufficientBalance","inputs":[]},{"type":"error","name":"InsufficientVault","inputs":[]},{"type":"error","name":"InvalidParam","inputs":[]},{"type":"error","name":"InvalidReserves","inputs":[]},{"type":"error","name":"InvalidReserves","inputs":[]},{"type":"error","name":"InvalidReserves","inputs":[]},{"type":"error","name":"NoDAV","inputs":[]},{"type":"error","name":"NoPendingGov","inputs":[]},{"type":"error","name":"NotGovernance","inputs":[]},{"type":"error","name":"NotStarted","inputs":[]},{"type":"error","name":"NotToday","inputs":[]},{"type":"error","name":"OwnableInvalidOwner","inputs":[{"name":"owner","type":"address","internalType":"address"}]},{"type":"error","name":"OwnableUnauthorizedAccount","inputs":[{"name":"account","type":"address","internalType":"address"}]},{"type":"error","name":"PairInvalid","inputs":[]},{"type":"error","name":"PairInvalid","inputs":[]},{"type":"error","name":"PairInvalid","inputs":[]},{"type":"error","name":"PairUsed","inputs":[]},{"type":"error","name":"ParticipantCapReached","inputs":[]},{"type":"error","name":"PausedErr","inputs":[]},{"type":"error","name":"ReentrancyGuardReentrantCall","inputs":[]},{"type":"error","name":"ReserveFetchFail","inputs":[]},{"type":"error","name":"ReverseDayLPOonly","inputs":[]},{"type":"error","name":"SafeERC20FailedDecreaseAllowance","inputs":[{"name":"spender","type":"address","internalType":"address"},{"name":"currentAllowance","type":"uint256","internalType":"uint256"},{"name":"requestedDecrease","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"SafeERC20FailedOperation","inputs":[{"name":"token","type":"address","internalType":"address"}]},{"type":"error","name":"ScheduleNotSet","inputs":[]},{"type":"error","name":"SlippageExceeded","inputs":[]},{"type":"error","name":"StateNotSet","inputs":[]},{"type":"error","name":"Step1NotCompleted","inputs":[]},{"type":"error","name":"Step2NotCompleted","inputs":[]},{"type":"error","name":"TimelockNotExpired","inputs":[]},{"type":"error","name":"TokenExists","inputs":[]},{"type":"error","name":"Unauthorized","inputs":[]},{"type":"error","name":"UnsupportedToken","inputs":[]},{"type":"error","name":"UserNotEligible","inputs":[]},{"type":"error","name":"ZeroAddr","inputs":[]}]'),DQ=JSON.parse('[{"type":"constructor","inputs":[{"name":"_swap","type":"address","internalType":"contract SWAP_V3"},{"name":"_dav","type":"address","internalType":"contract DAV_V3"},{"name":"_stateToken","type":"address","internalType":"address"},{"name":"_owner","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"AIRDROP_PER_DAV","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"airdropAmountByDayIndex","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"airdropAmountByTokenDayIndex","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"airdropUnitsByDayIndex","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"airdropUnitsByTokenDayIndex","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"approveConsumer","inputs":[{"name":"consumer","type":"address","internalType":"address"},{"name":"maxDavUnits","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"claim","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"consumeFromBoost","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"user","type":"address","internalType":"address"},{"name":"davUnits","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"consumedDavUnits","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"consumedDavUnitsByCycle","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"consumerAllowances","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"dav","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract DAV_V3"}],"stateMutability":"view"},{"type":"function","name":"emergencyRemoveConsumer","inputs":[{"name":"consumer","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getAirdropStatsForDay","inputs":[{"name":"dayIndex","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"units","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getAirdropStatsForTokenDay","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"dayIndex","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"units","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getClaimable","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"davUnitsAvailable","type":"uint256","internalType":"uint256"},{"name":"newUnits","type":"uint256","internalType":"uint256"},{"name":"amount","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getConsumedDavUnitsByCycle","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"user","type":"address","internalType":"address"},{"name":"cycle","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getConsumedDavUnitsCurrentCycle","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"isConsumer","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"pause","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"paused","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"renounceOwnership","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"revokeConsumer","inputs":[{"name":"consumer","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setConsumer","inputs":[{"name":"consumer","type":"address","internalType":"address"},{"name":"allowed","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"stateToken","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"swap","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract SWAP_V3"}],"stateMutability":"view"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"unpause","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"Airdropped","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"token","type":"address","indexed":true,"internalType":"address"},{"name":"davUnitsConsumed","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"BoostConsumed","inputs":[{"name":"consumer","type":"address","indexed":true,"internalType":"address"},{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"token","type":"address","indexed":true,"internalType":"address"},{"name":"davUnits","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ConsumerApproved","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"consumer","type":"address","indexed":true,"internalType":"address"},{"name":"maxDavUnits","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ConsumerEmergencyRemoved","inputs":[{"name":"consumer","type":"address","indexed":true,"internalType":"address"},{"name":"at","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ConsumerSet","inputs":[{"name":"consumer","type":"address","indexed":true,"internalType":"address"},{"name":"allowed","type":"bool","indexed":false,"internalType":"bool"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"error","name":"OwnableInvalidOwner","inputs":[{"name":"owner","type":"address","internalType":"address"}]},{"type":"error","name":"OwnableUnauthorizedAccount","inputs":[{"name":"account","type":"address","internalType":"address"}]},{"type":"error","name":"ReentrancyGuardReentrantCall","inputs":[]},{"type":"error","name":"SafeERC20FailedOperation","inputs":[{"name":"token","type":"address","internalType":"address"}]}]'),C8e=Object.freeze(Object.defineProperty({__proto__:null,default:DQ},Symbol.toStringTag,{value:"Module"})),x8e=[{type:"function",name:"getDailyStateReleaseBreakdown",inputs:[{name:"s",type:"address",internalType:"contract ISWAP_V3"}],outputs:[{name:"dayIndex",type:"uint256",internalType:"uint256"},{name:"total",type:"uint256",internalType:"uint256"},{name:"normal",type:"uint256",internalType:"uint256"},{name:"reverse",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getScheduleConfig",inputs:[{name:"s",type:"address",internalType:"contract ISWAP_V3"}],outputs:[{name:"isSet",type:"bool",internalType:"bool"},{name:"start",type:"uint256",internalType:"uint256"},{name:"daysLimit",type:"uint256",internalType:"uint256"},{name:"scheduledCount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getScheduledTokens",inputs:[{name:"s",type:"address",internalType:"contract ISWAP_V3"}],outputs:[{name:"list",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"getScheduledTokensPaginated",inputs:[{name:"s",type:"address",internalType:"contract ISWAP_V3"},{name:"start",type:"uint256",internalType:"uint256"},{name:"limit",type:"uint256",internalType:"uint256"}],outputs:[{name:"list",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"getStateReleasedByDay",inputs:[{name:"s",type:"address",internalType:"contract ISWAP_V3"},{name:"dayIndex",type:"uint256",internalType:"uint256"}],outputs:[{name:"total",type:"uint256",internalType:"uint256"},{name:"normal",type:"uint256",internalType:"uint256"},{name:"reverse",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTodayDashboard",inputs:[{name:"s",type:"address",internalType:"contract ISWAP_V3"},{name:"user",type:"address",internalType:"address"}],outputs:[{name:"tokenOfDay",type:"address",internalType:"address"},{name:"active",type:"bool",internalType:"bool"},{name:"isReverse",type:"bool",internalType:"bool"},{name:"secondsLeft",type:"uint256",internalType:"uint256"},{name:"appearance",type:"uint256",internalType:"uint256"},{name:"userHasSwapped",type:"bool",internalType:"bool"},{name:"userHasReverseSwapped",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"getTodayStatus",inputs:[{name:"s",type:"address",internalType:"contract ISWAP_V3"}],outputs:[{name:"ts",type:"tuple",internalType:"struct SwapLens.TodayStatus",components:[{name:"tokenOfDay",type:"address",internalType:"address"},{name:"activeWindow",type:"bool",internalType:"bool"},{name:"isReverse",type:"bool",internalType:"bool"},{name:"appearanceCount",type:"uint256",internalType:"uint256"},{name:"secondsLeft",type:"uint256",internalType:"uint256"}]}],stateMutability:"view"},{type:"function",name:"getTokenScheduleInfo",inputs:[{name:"s",type:"address",internalType:"contract ISWAP_V3"},{name:"token",type:"address",internalType:"address"}],outputs:[{name:"isScheduled",type:"bool",internalType:"bool"},{name:"index",type:"uint256",internalType:"uint256"},{name:"appearancesToDate",type:"uint256",internalType:"uint256"},{name:"isReverseToday",type:"bool",internalType:"bool"},{name:"currentDay",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getUserSwapStatus",inputs:[{name:"s",type:"address",internalType:"contract ISWAP_V3"},{name:"user",type:"address",internalType:"address"},{name:"inputToken",type:"address",internalType:"address"}],outputs:[{name:"hasSwapped",type:"bool",internalType:"bool"},{name:"hasReverseSwapped",type:"bool",internalType:"bool"},{name:"cycle",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"error",name:"InvalidContract",inputs:[]}],E8e=[{type:"constructor",inputs:[{name:"_swapVault",type:"address",internalType:"address"},{name:"_stateToken",type:"address",internalType:"address"},{name:"_router",type:"address",internalType:"address"},{name:"_factory",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"addLiquidityToExistingPool",inputs:[{name:"token",type:"address",internalType:"address"},{name:"tokenAmount",type:"uint256",internalType:"uint256"},{name:"stateAmount",type:"uint256",internalType:"uint256"}],outputs:[{name:"liquidity",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"factory",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"rescuePLS",inputs:[{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"rescueTokens",inputs:[{name:"token",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"router",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"stateToken",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"swapVault",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"LiquidityAdded",inputs:[{name:"pool",type:"address",indexed:!0,internalType:"address"},{name:"token",type:"address",indexed:!0,internalType:"address"},{name:"tokenUsed",type:"uint256",indexed:!1,internalType:"uint256"},{name:"stateUsed",type:"uint256",indexed:!1,internalType:"uint256"},{name:"liquidityBurned",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"ReentrancyGuardReentrantCall",inputs:[]},{type:"error",name:"SafeERC20FailedOperation",inputs:[{name:"token",type:"address",internalType:"address"}]}],A8e=[{type:"function",name:"getTodayStatus",inputs:[{name:"swap",type:"address"}],outputs:[{components:[{name:"tokenOfDay",type:"address"},{name:"activeWindow",type:"bool"},{name:"isReverse",type:"bool"},{name:"appearanceCount",type:"uint256"},{name:"secondsLeft",type:"uint256"}],type:"tuple"}],stateMutability:"view"},{type:"function",name:"getDailyStateReleaseBreakdown",inputs:[{name:"swap",type:"address"}],outputs:[{name:"dayIndex",type:"uint256"},{name:"total",type:"uint256"},{name:"normal",type:"uint256"},{name:"reverse",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getScheduleConfig",inputs:[{name:"swap",type:"address"}],outputs:[{name:"isSet",type:"bool"},{name:"start",type:"uint256"},{name:"daysLimit",type:"uint256"},{name:"scheduledCount",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getScheduledTokens",inputs:[{name:"swap",type:"address"}],outputs:[{name:"list",type:"address[]"}],stateMutability:"view"}],S8e=[{type:"function",name:"useMainnet",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setRouterFactory",inputs:[{name:"router",type:"address"},{name:"factory",type:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setSwap",inputs:[{name:"swap",type:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"enableTimelock",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"proposeRouterFactory",inputs:[{name:"router",type:"address"},{name:"factory",type:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"executeRouterFactory",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"proposeSwap",inputs:[{name:"swap",type:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"executeSwap",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setMaxSlippageBps",inputs:[{name:"bps",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setMinDeadlineDelay",inputs:[{name:"secondsDelay",type:"uint32"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"router",inputs:[],outputs:[{type:"address"}],stateMutability:"view"},{type:"function",name:"factory",inputs:[],outputs:[{type:"address"}],stateMutability:"view"},{type:"function",name:"swap",inputs:[],outputs:[{type:"address"}],stateMutability:"view"},{type:"function",name:"maxSlippageBps",inputs:[],outputs:[{type:"uint256"}],stateMutability:"view"},{type:"function",name:"minDeadlineDelay",inputs:[],outputs:[{type:"uint32"}],stateMutability:"view"},{type:"function",name:"createLPAndRegister",inputs:[{name:"token",type:"address"},{name:"tokenOwner",type:"address"},{name:"amountStateDesired",type:"uint256"},{name:"amountTokenDesired",type:"uint256"},{name:"amountStateMin",type:"uint256"},{name:"amountTokenMin",type:"uint256"},{name:"deadline",type:"uint256"}],outputs:[],stateMutability:"nonpayable"}],_8e=[{type:"function",name:"setRouter",inputs:[{name:"router",type:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setRatio",inputs:[{name:"base",type:"address"},{name:"baseUnit",type:"uint256"},{name:"stateUnit",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setPolicy",inputs:[{name:"num",type:"uint256"},{name:"den",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setExecutor",inputs:[{name:"account",type:"address"},{name:"allowed",type:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"executeBuyAndBurn",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"executeFullBuyAndBurn",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"convertPLSToWPLS",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setStateWplsPool",inputs:[{name:"poolAddress",type:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setupSwapVaultAllowance",inputs:[{name:"amount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"createPoolOneClick",inputs:[{name:"stateAmount",type:"uint256"},{name:"wplsAmount",type:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"stateWplsPool",inputs:[],outputs:[{type:"address"}],stateMutability:"view"},{type:"function",name:"getControllerStatus",inputs:[],outputs:[{name:"plsBalance",type:"uint256"},{name:"wplsBalance",type:"uint256"},{name:"stateBalance",type:"uint256"},{name:"poolAddress",type:"address"},{name:"poolStateReserve",type:"uint256"},{name:"poolWplsReserve",type:"uint256"}],stateMutability:"view"},{type:"function",name:"STATE",inputs:[],outputs:[{type:"address"}],stateMutability:"view"},{type:"function",name:"WPLS",inputs:[],outputs:[{type:"address"}],stateMutability:"view"},{type:"function",name:"ROUTER",inputs:[],outputs:[{type:"address"}],stateMutability:"view"},{type:"function",name:"FACTORY",inputs:[],outputs:[{type:"address"}],stateMutability:"view"},{type:"function",name:"SWAP_VAULT",inputs:[],outputs:[{type:"address"}],stateMutability:"view"},{type:"function",name:"SWAP",inputs:[],outputs:[{type:"address"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{type:"address"}],stateMutability:"view"}],T8e=[{type:"function",name:"finalize",inputs:[{name:"auctionId",type:"uint256"},{name:"tokenIn",type:"address"},{name:"amountIn",type:"uint256"},{name:"amountInPLS",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setEnforceSequential",inputs:[{name:"enabled",type:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setEnforceValidToken",inputs:[{name:"enabled",type:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setValidAuctionToken",inputs:[{name:"token",type:"address"},{name:"allowed",type:"bool"}],outputs:[],stateMutability:"nonpayable"}],I8e=[{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getDailyCapInfo",inputs:[],outputs:[{name:"windowStart",type:"uint256"},{name:"usedUnits",type:"uint256"},{name:"capUnits",type:"uint256"}],stateMutability:"view"}],N8e=[{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"}],P8e=[{type:"function",name:"addLiquidityToExistingPool",inputs:[{name:"token",type:"address"},{name:"tokenAmount",type:"uint256"},{name:"stateAmount",type:"uint256"}],outputs:[{name:"liquidity",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"swapVault",inputs:[],outputs:[{name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"stateToken",inputs:[],outputs:[{name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"router",inputs:[],outputs:[{name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"factory",inputs:[],outputs:[{name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address"}],stateMutability:"view"},{type:"event",name:"LiquidityAdded",inputs:[{name:"pool",type:"address",indexed:!0},{name:"token",type:"address",indexed:!0},{name:"tokenUsed",type:"uint256",indexed:!1},{name:"stateUsed",type:"uint256",indexed:!1},{name:"liquidityBurned",type:"uint256",indexed:!1}],anonymous:!1}];let LQ=cl.PULSECHAIN;const XF=t=>{LQ=t},k8e=()=>{const t=TQ(LQ);return{davContract:{address:t.DAV_TOKEN,abi:OQ},AuctionContract:{address:t.AUCTION,abi:v8e},stateContract:{address:t.STATE_TOKEN,abi:$Q},swapLens:{address:t.SWAP_LENS,abi:x8e||A8e},lpHelper:{address:t.LP_HELPER,abi:S8e},liquidityManager:{address:t.LIQUIDITY_MANAGER,abi:E8e||P8e},buyBurnController:{address:t.BUY_BURN_CONTROLLER,abi:_8e},auctionMetrics:{address:t.AUCTION_METRICS,abi:T8e},airdropDistributor:{address:t.AIRDROP_DISTRIBUTOR,abi:DQ},boostedRedemption:{address:t.BOOSTED_REDEMPTION,abi:I8e},reverseBurnRedemption:{address:t.REVERSE_BURN_REDEMPTION,abi:N8e}}},R8e=t=>Object.values(cl).includes(t),O8e="2.19.0",$8e=()=>`@wagmi/core@${O8e}`;var MQ=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},P5,BQ;let Ax=class Nk extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return $8e()}constructor(e,n={}){var s;super(),P5.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof Nk?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,i=n.cause instanceof Nk&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return MQ(this,P5,"m",BQ).call(this,this,e)}};P5=new WeakSet,BQ=function t(e,n){return n!=null&&n(e)?e:e.cause?MQ(this,P5,"m",t).call(this,e.cause,n):e};let D8e=class extends Ax{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}},L8e=class extends Ax{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}},M8e=class extends Ax{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}},B8e=class extends Ax{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}};async function U8e(t,e={}){let n;if(e.connector){const{connector:u}=e;if(t.state.status==="reconnecting"&&!u.getAccounts&&!u.getChainId)throw new B8e({connector:u});const[f,h]=await Promise.all([u.getAccounts().catch(p=>{if(e.account===null)return[];throw p}),u.getChainId()]);n={accounts:f,chainId:h,connector:u}}else n=t.state.connections.get(t.state.current);if(!n)throw new D8e;const r=e.chainId??n.chainId,i=await n.connector.getChainId();if(i!==n.chainId)throw new M8e({connectionChainId:n.chainId,connectorChainId:i});const s=n.connector;if(s.getClient)return s.getClient({chainId:r});const o=Yi(e.account??n.accounts[0]);if(o&&(o.address=Id(o.address)),e.account&&!n.accounts.some(u=>u.toLowerCase()===o.address.toLowerCase()))throw new L8e({address:o.address,connector:s});const a=t.chains.find(u=>u.id===r),c=await n.connector.getProvider({chainId:r});return SR({account:o,chain:a,name:"Connector Client",transport:u=>iH(c)({...u,retryCount:0})})}function UQ(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,i=r==null?void 0:r[0],s=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:i,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:i,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:i,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}function ej(t){return t.state.chainId}function k5(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!k5(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(s&&!k5(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}async function F8e(t,e={}){return(await U8e(t,e)).extend($oe)}let hN=!1;async function j8e(t,e={}){var u,f;if(hN)return[];hN=!0,t.setState(h=>({...h,status:h.current?"reconnecting":"connecting"}));const n=[];if((u=e.connectors)!=null&&u.length)for(const h of e.connectors){let p;typeof h=="function"?p=t._internal.connectors.setup(h):p=h,n.push(p)}else n.push(...t.connectors);let r;try{r=await((f=t.storage)==null?void 0:f.getItem("recentConnectorId"))}catch{}const i={};for(const[,h]of t.state.connections)i[h.connector.id]=1;r&&(i[r]=0);const s=Object.keys(i).length>0?[...n].sort((h,p)=>(i[h.id]??10)-(i[p.id]??10)):n;let o=!1;const a=[],c=[];for(const h of s){const p=await h.getProvider().catch(()=>{});if(!p||c.some(y=>y===p)||!await h.isAuthorized())continue;const w=await h.connect({isReconnecting:!0}).catch(()=>null);w&&(h.emitter.off("connect",t._internal.events.connect),h.emitter.on("change",t._internal.events.change),h.emitter.on("disconnect",t._internal.events.disconnect),t.setState(y=>{const b=new Map(o?y.connections:new Map).set(h.uid,{accounts:w.accounts,chainId:w.chainId,connector:h});return{...y,current:o?y.current:h.uid,connections:b}}),a.push({accounts:w.accounts,chainId:w.chainId,connector:h}),c.push(p),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(h=>({...h,status:"connected"})):t.setState(h=>({...h,connections:new Map,current:null,status:"disconnected"}))),hN=!1,a}function z8e(t,e){const{onChange:n}=e;return t.subscribe(()=>UQ(t),n,{equalityFn(r,i){const{connector:s,...o}=r,{connector:a,...c}=i;return k5(o,c)&&(s==null?void 0:s.id)===(a==null?void 0:a.id)&&(s==null?void 0:s.uid)===(a==null?void 0:a.uid)}})}function W8e(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function H8e(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function V8e(){const t=new Set;let e=[];const n=()=>H8e(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}var pN={exports:{}},tj;function q8e(){return tj||(tj=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,h||c,p),w=n?n+u:u;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],g]:c._events[w].push(g):(c._events[w]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)e.call(f,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,w=new Array(g);p<g;p++)w[p]=h[p].fn;return w},a.prototype.listenerCount=function(u){var f=n?n+u:u,h=this._events[f];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,f,h,p,g,w){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],C=arguments.length,x,E;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),C){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,p),!0;case 5:return b.fn.call(b.context,f,h,p,g),!0;case 6:return b.fn.call(b.context,f,h,p,g,w),!0}for(E=1,x=new Array(C-1);E<C;E++)x[E-1]=arguments[E];b.fn.apply(b.context,x)}else{var I=b.length,S;for(E=0;E<I;E++)switch(b[E].once&&this.removeListener(u,b[E].fn,void 0,!0),C){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,f);break;case 3:b[E].fn.call(b[E].context,f,h);break;case 4:b[E].fn.call(b[E].context,f,h,p);break;default:if(!x)for(S=1,x=new Array(C-1);S<C;S++)x[S-1]=arguments[S];b[E].fn.apply(b[E].context,x)}}return!0},a.prototype.on=function(u,f,h){return s(this,u,f,h,!1)},a.prototype.once=function(u,f,h){return s(this,u,f,h,!0)},a.prototype.removeListener=function(u,f,h,p){var g=n?n+u:u;if(!this._events[g])return this;if(!f)return o(this,g),this;var w=this._events[g];if(w.fn)w.fn===f&&(!p||w.once)&&(!h||w.context===h)&&o(this,g);else{for(var y=0,b=[],C=w.length;y<C;y++)(w[y].fn!==f||p&&!w[y].once||h&&w[y].context!==h)&&b.push(w[y]);b.length?this._events[g]=b.length===1?b[0]:b:o(this,g)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(pN)),pN.exports}var G8e=q8e();const K8e=gc(G8e);function Y8e(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(i=>i.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{var c;const s=new Set;for(const u of i??[])if(u.rdns){const f=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const h of f)s.add(h)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const u of a){if(s.has(u.info.rdns))continue;const f=t._internal.connectors.providerDetailToConnector(u),h=t._internal.connectors.setup(f);o.push(h)}return[...i,...o]})),r?j8e(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function Q8e(t){const{children:e,config:n,initialState:r,reconnectOnMount:i=!0}=t,{onMount:s}=Y8e(n,{initialState:r,reconnectOnMount:i});n._internal.ssr||s();const o=U.useRef(!0);return U.useEffect(()=>{if(o.current&&n._internal.ssr)return s(),()=>{o.current=!1}},[]),e}const FQ=U.createContext(void 0);function Z8e(t){const{children:e,config:n}=t,r={value:n};return U.createElement(Q8e,t,U.createElement(FQ.Provider,r,e))}const J8e="2.16.4",X8e=()=>`wagmi@${J8e}`;let eOe=class extends Ax{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return X8e()}};class tOe extends eOe{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function hO(t={}){const e=t.config??U.useContext(FQ);if(!e)throw new tOe;return e}var mN={exports:{}},gN={},yN={exports:{}},wN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nj;function nOe(){if(nj)return wN;nj=1;var t=kC();function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(h,p){var g=p(),w=r({inst:{value:g,getSnapshot:p}}),y=w[0].inst,b=w[1];return s(function(){y.value=g,y.getSnapshot=p,c(y)&&b({inst:y})},[h,g,p]),i(function(){return c(y)&&b({inst:y}),h(function(){c(y)&&b({inst:y})})},[h]),o(g),g}function c(h){var p=h.getSnapshot;h=h.value;try{var g=p();return!n(h,g)}catch{return!0}}function u(h,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return wN.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,wN}var rj;function rOe(){return rj||(rj=1,yN.exports=nOe()),yN.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ij;function iOe(){if(ij)return gN;ij=1;var t=kC(),e=rOe();function n(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,c=t.useDebugValue;return gN.useSyncExternalStoreWithSelector=function(u,f,h,p,g){var w=s(null);if(w.current===null){var y={hasValue:!1,value:null};w.current=y}else y=w.current;w=a(function(){function C(T){if(!x){if(x=!0,E=T,T=p(T),g!==void 0&&y.hasValue){var R=y.value;if(g(R,T))return I=R}return I=T}if(R=I,r(E,T))return R;var O=p(T);return g!==void 0&&g(R,O)?(E=T,R):(E=T,I=O)}var x=!1,E,I,S=h===void 0?null:h;return[function(){return C(f())},S===null?void 0:function(){return C(S())}]},[f,h,p,g]);var b=i(u,w[0],w[1]);return o(function(){y.hasValue=!0,y.value=b},[b]),c(b),b},gN}var sj;function sOe(){return sj||(sj=1,mN.exports=iOe()),mN.exports}var oOe=sOe();const bN=t=>typeof t=="object"&&!Array.isArray(t);function aOe(t,e,n=e,r=k5){const i=U.useRef([]),s=oOe.useSyncExternalStoreWithSelector(t,e,n,o=>o,(o,a)=>{if(bN(o)&&bN(a)&&i.current.length){for(const c of i.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return U.useMemo(()=>{if(bN(s)){const o={...s};let a={};for(const[c,u]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(c)||i.current.push(c),u)}};return Object.defineProperties(o,a),o}return s},[s])}function Sc(t={}){const e=hO(t);return aOe(n=>z8e(e,{onChange:n}),()=>UQ(e))}var Sx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kg=typeof window>"u"||"Deno"in globalThis;function $o(){}function cOe(t,e){return typeof t=="function"?t(e):t}function Pk(t){return typeof t=="number"&&t>=0&&t!==1/0}function jQ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Vh(t,e){return typeof t=="function"?t(e):t}function ac(t,e){return typeof t=="function"?t(e):t}function oj(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==pO(o,e.options))return!1}else if(!lC(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function aj(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(cC(e.options.mutationKey)!==cC(s))return!1}else if(!lC(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function pO(t,e){return((e==null?void 0:e.queryKeyHashFn)||cC)(t)}function cC(t){return JSON.stringify(t,(e,n)=>Rk(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function lC(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>lC(t[n],e[n])):!1}function zQ(t,e){if(t===e)return t;const n=cj(t)&&cj(e);if(n||Rk(t)&&Rk(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{},c=new Set(r);let u=0;for(let f=0;f<o;f++){const h=n?f:s[f];(!n&&c.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=zQ(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return i===o&&u===i?t:a}return e}function kk(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function cj(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Rk(t){if(!lj(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!lj(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lj(t){return Object.prototype.toString.call(t)==="[object Object]"}function lOe(t){return new Promise(e=>{setTimeout(e,t)})}function Ok(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?zQ(t,e):e}function uOe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function dOe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var mO=Symbol();function WQ(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===mO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function fOe(t,e){return typeof t=="function"?t(...e):!!t}var Um,Ph,yw,Uj,hOe=(Uj=class extends Sx{constructor(){super();ae(this,Um);ae(this,Ph);ae(this,yw);X(this,yw,e=>{if(!kg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){N(this,Ph)||this.setEventListener(N(this,yw))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,Ph))==null||e.call(this),X(this,Ph,void 0))}setEventListener(e){var n;X(this,yw,e),(n=N(this,Ph))==null||n.call(this),X(this,Ph,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){N(this,Um)!==e&&(X(this,Um,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof N(this,Um)=="boolean"?N(this,Um):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Um=new WeakMap,Ph=new WeakMap,yw=new WeakMap,Uj),gO=new hOe,ww,kh,bw,Fj,pOe=(Fj=class extends Sx{constructor(){super();ae(this,ww,!0);ae(this,kh);ae(this,bw);X(this,bw,e=>{if(!kg&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){N(this,kh)||this.setEventListener(N(this,bw))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,kh))==null||e.call(this),X(this,kh,void 0))}setEventListener(e){var n;X(this,bw,e),(n=N(this,kh))==null||n.call(this),X(this,kh,e(this.setOnline.bind(this)))}setOnline(e){N(this,ww)!==e&&(X(this,ww,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return N(this,ww)}},ww=new WeakMap,kh=new WeakMap,bw=new WeakMap,Fj),R5=new pOe;function $k(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function mOe(t){return Math.min(1e3*2**t,3e4)}function HQ(t){return(t??"online")==="online"?R5.isOnline():!0}var VQ=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function qQ(t){let e=!1,n=0,r;const i=$k(),s=()=>i.status!=="pending",o=y=>{var b;s()||(p(new VQ(y)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>gO.isFocused()&&(t.networkMode==="always"||R5.isOnline())&&t.canRun(),f=()=>HQ(t.networkMode)&&t.canRun(),h=y=>{s()||(r==null||r(),i.resolve(y))},p=y=>{s()||(r==null||r(),i.reject(y))},g=()=>new Promise(y=>{var b;r=C=>{(s()||u())&&y(C)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;r=void 0,s()||(y=t.onContinue)==null||y.call(t)}),w=()=>{if(s())return;let y;const b=n===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(C){y=Promise.reject(C)}Promise.resolve(y).then(h).catch(C=>{var T;if(s())return;const x=t.retry??(kg?0:3),E=t.retryDelay??mOe,I=typeof E=="function"?E(n,C):E,S=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,C);if(e||!S){p(C);return}n++,(T=t.onFail)==null||T.call(t,n,C),lOe(I).then(()=>u()?void 0:g()).then(()=>{e?p(C):w()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?w():g().then(w),i)}}var gOe=t=>setTimeout(t,0);function yOe(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=gOe;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{s(()=>{a(...c)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var us=yOe(),Fm,jj,GQ=(jj=class{constructor(){ae(this,Fm)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pk(this.gcTime)&&X(this,Fm,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(kg?1/0:300*1e3))}clearGcTimeout(){N(this,Fm)&&(clearTimeout(N(this,Fm)),X(this,Fm,void 0))}},Fm=new WeakMap,jj),vw,Cw,nc,jm,Hi,TC,zm,Yc,sd,zj,wOe=(zj=class extends GQ{constructor(e){super();ae(this,Yc);ae(this,vw);ae(this,Cw);ae(this,nc);ae(this,jm);ae(this,Hi);ae(this,TC);ae(this,zm);X(this,zm,!1),X(this,TC,e.defaultOptions),this.setOptions(e.options),this.observers=[],X(this,jm,e.client),X(this,nc,N(this,jm).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,X(this,vw,bOe(this.options)),this.state=e.state??N(this,vw),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=N(this,Hi))==null?void 0:e.promise}setOptions(e){this.options={...N(this,TC),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,nc).remove(this)}setData(e,n){const r=Ok(this.state.data,e,this.options);return xe(this,Yc,sd).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){xe(this,Yc,sd).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=N(this,Hi))==null?void 0:r.promise;return(i=N(this,Hi))==null||i.cancel(e),n?n.then($o).catch($o):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,vw))}isActive(){return this.observers.some(e=>ac(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Vh(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!jQ(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=N(this,Hi))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=N(this,Hi))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),N(this,nc).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(N(this,Hi)&&(N(this,zm)?N(this,Hi).cancel({revert:!0}):N(this,Hi).cancelRetry()),this.scheduleGc()),N(this,nc).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xe(this,Yc,sd).call(this,{type:"invalidate"})}async fetch(e,n){var c,u,f,h,p,g,w,y,b,C,x,E;if(this.state.fetchStatus!=="idle"&&((c=N(this,Hi))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(N(this,Hi))return N(this,Hi).continueRetry(),N(this,Hi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const I=this.observers.find(S=>S.options.queryFn);I&&this.setOptions(I.options)}const r=new AbortController,i=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(X(this,zm,!0),r.signal)})},s=()=>{const I=WQ(this.options,n),T=(()=>{const R={client:N(this,jm),queryKey:this.queryKey,meta:this.meta};return i(R),R})();return X(this,zm,!1),this.options.persister?this.options.persister(I,T,this):I(T)},a=(()=>{const I={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:N(this,jm),state:this.state,fetchFn:s};return i(I),I})();(u=this.options.behavior)==null||u.onFetch(a,this),X(this,Cw,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&xe(this,Yc,sd).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),X(this,Hi,qQ({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onFail:(I,S)=>{xe(this,Yc,sd).call(this,{type:"failed",failureCount:I,error:S})},onPause:()=>{xe(this,Yc,sd).call(this,{type:"pause"})},onContinue:()=>{xe(this,Yc,sd).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const I=await N(this,Hi).start();if(I===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(I),(g=(p=N(this,nc).config).onSuccess)==null||g.call(p,I,this),(y=(w=N(this,nc).config).onSettled)==null||y.call(w,I,this.state.error,this),I}catch(I){if(I instanceof VQ){if(I.silent)return N(this,Hi).promise;if(I.revert){if(this.setState({...N(this,Cw),fetchStatus:"idle"}),this.state.data===void 0)throw I;return this.state.data}}throw xe(this,Yc,sd).call(this,{type:"error",error:I}),(C=(b=N(this,nc).config).onError)==null||C.call(b,I,this),(E=(x=N(this,nc).config).onSettled)==null||E.call(x,this.state.data,I,this),I}finally{this.scheduleGc()}}},vw=new WeakMap,Cw=new WeakMap,nc=new WeakMap,jm=new WeakMap,Hi=new WeakMap,TC=new WeakMap,zm=new WeakMap,Yc=new WeakSet,sd=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...KQ(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return X(this,Cw,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),us.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),N(this,nc).notify({query:this,type:"updated",action:e})})},zj);function KQ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:HQ(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function bOe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ru,Wj,vOe=(Wj=class extends Sx{constructor(e={}){super();ae(this,ru);this.config=e,X(this,ru,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??pO(i,n);let o=this.get(s);return o||(o=new wOe({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){N(this,ru).has(e.queryHash)||(N(this,ru).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=N(this,ru).get(e.queryHash);n&&(e.destroy(),n===e&&N(this,ru).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){us.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return N(this,ru).get(e)}getAll(){return[...N(this,ru).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>oj(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>oj(e,r)):n}notify(e){us.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){us.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){us.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ru=new WeakMap,Wj),iu,qs,Wm,su,eh,Hj,COe=(Hj=class extends GQ{constructor(e){super();ae(this,su);ae(this,iu);ae(this,qs);ae(this,Wm);this.mutationId=e.mutationId,X(this,qs,e.mutationCache),X(this,iu,[]),this.state=e.state||xOe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){N(this,iu).includes(e)||(N(this,iu).push(e),this.clearGcTimeout(),N(this,qs).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){X(this,iu,N(this,iu).filter(n=>n!==e)),this.scheduleGc(),N(this,qs).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){N(this,iu).length||(this.state.status==="pending"?this.scheduleGc():N(this,qs).remove(this))}continue(){var e;return((e=N(this,Wm))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,a,c,u,f,h,p,g,w,y,b,C,x,E,I,S,T,R,O;const n=()=>{xe(this,su,eh).call(this,{type:"continue"})};X(this,Wm,qQ({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(k,M)=>{xe(this,su,eh).call(this,{type:"failed",failureCount:k,error:M})},onPause:()=>{xe(this,su,eh).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,qs).canRun(this)}));const r=this.state.status==="pending",i=!N(this,Wm).canStart();try{if(r)n();else{xe(this,su,eh).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(s=N(this,qs).config).onMutate)==null?void 0:o.call(s,e,this));const M=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));M!==this.state.context&&xe(this,su,eh).call(this,{type:"pending",context:M,variables:e,isPaused:i})}const k=await N(this,Wm).start();return await((f=(u=N(this,qs).config).onSuccess)==null?void 0:f.call(u,k,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,k,e,this.state.context)),await((w=(g=N(this,qs).config).onSettled)==null?void 0:w.call(g,k,null,this.state.variables,this.state.context,this)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,k,null,e,this.state.context)),xe(this,su,eh).call(this,{type:"success",data:k}),k}catch(k){try{throw await((x=(C=N(this,qs).config).onError)==null?void 0:x.call(C,k,e,this.state.context,this)),await((I=(E=this.options).onError)==null?void 0:I.call(E,k,e,this.state.context)),await((T=(S=N(this,qs).config).onSettled)==null?void 0:T.call(S,void 0,k,this.state.variables,this.state.context,this)),await((O=(R=this.options).onSettled)==null?void 0:O.call(R,void 0,k,e,this.state.context)),k}finally{xe(this,su,eh).call(this,{type:"error",error:k})}}finally{N(this,qs).runNext(this)}}},iu=new WeakMap,qs=new WeakMap,Wm=new WeakMap,su=new WeakSet,eh=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),us.batch(()=>{N(this,iu).forEach(r=>{r.onMutationUpdate(e)}),N(this,qs).notify({mutation:this,type:"updated",action:e})})},Hj);function xOe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ed,Qc,IC,Vj,EOe=(Vj=class extends Sx{constructor(e={}){super();ae(this,Ed);ae(this,Qc);ae(this,IC);this.config=e,X(this,Ed,new Set),X(this,Qc,new Map),X(this,IC,0)}build(e,n,r){const i=new COe({mutationCache:this,mutationId:++kf(this,IC)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){N(this,Ed).add(e);const n=wA(e);if(typeof n=="string"){const r=N(this,Qc).get(n);r?r.push(e):N(this,Qc).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(N(this,Ed).delete(e)){const n=wA(e);if(typeof n=="string"){const r=N(this,Qc).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&N(this,Qc).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=wA(e);if(typeof n=="string"){const r=N(this,Qc).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=wA(e);if(typeof n=="string"){const i=(r=N(this,Qc).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){us.batch(()=>{N(this,Ed).forEach(e=>{this.notify({type:"removed",mutation:e})}),N(this,Ed).clear(),N(this,Qc).clear()})}getAll(){return Array.from(N(this,Ed))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>aj(n,r))}findAll(e={}){return this.getAll().filter(n=>aj(e,n))}notify(e){us.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return us.batch(()=>Promise.all(e.map(n=>n.continue().catch($o))))}},Ed=new WeakMap,Qc=new WeakMap,IC=new WeakMap,Vj);function wA(t){var e;return(e=t.options.scope)==null?void 0:e.id}function uj(t){return{onFetch:(e,n)=>{var f,h,p,g,w;const r=e.options,i=(p=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const b=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},C=WQ(e.options,e.fetchOptions),x=async(E,I,S)=>{if(y)return Promise.reject();if(I==null&&E.pages.length)return Promise.resolve(E);const R=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:I,direction:S?"backward":"forward",meta:e.options.meta};return b(L),L})(),O=await C(R),{maxPages:k}=e.options,M=S?dOe:uOe;return{pages:M(E.pages,O,k),pageParams:M(E.pageParams,I,k)}};if(i&&s.length){const E=i==="backward",I=E?AOe:dj,S={pages:s,pageParams:o},T=I(r,S);a=await x(S,T,E)}else{const E=t??s.length;do{const I=c===0?o[0]??r.initialPageParam:dj(r,a);if(c>0&&I==null)break;a=await x(a,I),c++}while(c<E)}return a};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function dj(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function AOe(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ti,Rh,Oh,xw,Ew,$h,Aw,Sw,qj,SOe=(qj=class{constructor(t={}){ae(this,ti);ae(this,Rh);ae(this,Oh);ae(this,xw);ae(this,Ew);ae(this,$h);ae(this,Aw);ae(this,Sw);X(this,ti,t.queryCache||new vOe),X(this,Rh,t.mutationCache||new EOe),X(this,Oh,t.defaultOptions||{}),X(this,xw,new Map),X(this,Ew,new Map),X(this,$h,0)}mount(){kf(this,$h)._++,N(this,$h)===1&&(X(this,Aw,gO.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,ti).onFocus())})),X(this,Sw,R5.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,ti).onOnline())})))}unmount(){var t,e;kf(this,$h)._--,N(this,$h)===0&&((t=N(this,Aw))==null||t.call(this),X(this,Aw,void 0),(e=N(this,Sw))==null||e.call(this),X(this,Sw,void 0))}isFetching(t){return N(this,ti).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return N(this,Rh).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=N(this,ti).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=N(this,ti).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Vh(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return N(this,ti).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=N(this,ti).get(r.queryHash),s=i==null?void 0:i.state.data,o=cOe(e,s);if(o!==void 0)return N(this,ti).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return us.batch(()=>N(this,ti).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=N(this,ti).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=N(this,ti);us.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=N(this,ti);return us.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=us.batch(()=>N(this,ti).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then($o).catch($o)}invalidateQueries(t,e={}){return us.batch(()=>(N(this,ti).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=us.batch(()=>N(this,ti).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch($o)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then($o)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=N(this,ti).build(this,e);return n.isStaleByTime(Vh(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then($o).catch($o)}fetchInfiniteQuery(t){return t.behavior=uj(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then($o).catch($o)}ensureInfiniteQueryData(t){return t.behavior=uj(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return R5.isOnline()?N(this,Rh).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,ti)}getMutationCache(){return N(this,Rh)}getDefaultOptions(){return N(this,Oh)}setDefaultOptions(t){X(this,Oh,t)}setQueryDefaults(t,e){N(this,xw).set(cC(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...N(this,xw).values()],n={};return e.forEach(r=>{lC(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){N(this,Ew).set(cC(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...N(this,Ew).values()],n={};return e.forEach(r=>{lC(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...N(this,Oh).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=pO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===mO&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...N(this,Oh).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){N(this,ti).clear(),N(this,Rh).clear()}},ti=new WeakMap,Rh=new WeakMap,Oh=new WeakMap,xw=new WeakMap,Ew=new WeakMap,$h=new WeakMap,Aw=new WeakMap,Sw=new WeakMap,qj),Ro,kn,NC,Gs,Hm,_w,Ad,Dh,PC,Tw,Iw,Vm,qm,Lh,Nw,lr,o1,Dk,Lk,Mk,Bk,Uk,Fk,jk,YQ,Gj,_Oe=(Gj=class extends Sx{constructor(e,n){super();ae(this,lr);ae(this,Ro);ae(this,kn);ae(this,NC);ae(this,Gs);ae(this,Hm);ae(this,_w);ae(this,Ad);ae(this,Dh);ae(this,PC);ae(this,Tw);ae(this,Iw);ae(this,Vm);ae(this,qm);ae(this,Lh);ae(this,Nw,new Set);this.options=n,X(this,Ro,e),X(this,Dh,null),X(this,Ad,$k()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,kn).addObserver(this),fj(N(this,kn),this.options)?xe(this,lr,o1).call(this):this.updateResult(),xe(this,lr,Bk).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zk(N(this,kn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zk(N(this,kn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,xe(this,lr,Uk).call(this),xe(this,lr,Fk).call(this),N(this,kn).removeObserver(this)}setOptions(e){const n=this.options,r=N(this,kn);if(this.options=N(this,Ro).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ac(this.options.enabled,N(this,kn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");xe(this,lr,jk).call(this),N(this,kn).setOptions(this.options),n._defaulted&&!kk(this.options,n)&&N(this,Ro).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,kn),observer:this});const i=this.hasListeners();i&&hj(N(this,kn),r,this.options,n)&&xe(this,lr,o1).call(this),this.updateResult(),i&&(N(this,kn)!==r||ac(this.options.enabled,N(this,kn))!==ac(n.enabled,N(this,kn))||Vh(this.options.staleTime,N(this,kn))!==Vh(n.staleTime,N(this,kn)))&&xe(this,lr,Dk).call(this);const s=xe(this,lr,Lk).call(this);i&&(N(this,kn)!==r||ac(this.options.enabled,N(this,kn))!==ac(n.enabled,N(this,kn))||s!==N(this,Lh))&&xe(this,lr,Mk).call(this,s)}getOptimisticResult(e){const n=N(this,Ro).getQueryCache().build(N(this,Ro),e),r=this.createResult(n,e);return IOe(this,r)&&(X(this,Gs,r),X(this,_w,this.options),X(this,Hm,N(this,kn).state)),r}getCurrentResult(){return N(this,Gs)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&!this.options.experimental_prefetchInRender&&N(this,Ad).status==="pending"&&N(this,Ad).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,i))})}trackProp(e){N(this,Nw).add(e)}getCurrentQuery(){return N(this,kn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=N(this,Ro).defaultQueryOptions(e),r=N(this,Ro).getQueryCache().build(N(this,Ro),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return xe(this,lr,o1).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,Gs)))}createResult(e,n){var k;const r=N(this,kn),i=this.options,s=N(this,Gs),o=N(this,Hm),a=N(this,_w),u=e!==r?e.state:N(this,NC),{state:f}=e;let h={...f},p=!1,g;if(n._optimisticResults){const M=this.hasListeners(),L=!M&&fj(e,n),j=M&&hj(e,r,n,i);(L||j)&&(h={...h,...KQ(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:y,status:b}=h;g=h.data;let C=!1;if(n.placeholderData!==void 0&&g===void 0&&b==="pending"){let M;s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(M=s.data,C=!0):M=typeof n.placeholderData=="function"?n.placeholderData((k=N(this,Iw))==null?void 0:k.state.data,N(this,Iw)):n.placeholderData,M!==void 0&&(b="success",g=Ok(s==null?void 0:s.data,M,n),p=!0)}if(n.select&&g!==void 0&&!C)if(s&&g===(o==null?void 0:o.data)&&n.select===N(this,PC))g=N(this,Tw);else try{X(this,PC,n.select),g=n.select(g),g=Ok(s==null?void 0:s.data,g,n),X(this,Tw,g),X(this,Dh,null)}catch(M){X(this,Dh,M)}N(this,Dh)&&(w=N(this,Dh),g=N(this,Tw),y=Date.now(),b="error");const x=h.fetchStatus==="fetching",E=b==="pending",I=b==="error",S=E&&x,T=g!==void 0,O={status:b,fetchStatus:h.fetchStatus,isPending:E,isSuccess:b==="success",isError:I,isInitialLoading:S,isLoading:S,data:g,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!E,isLoadingError:I&&!T,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:I&&T,isStale:yO(e,n),refetch:this.refetch,promise:N(this,Ad),isEnabled:ac(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const M=Q=>{O.status==="error"?Q.reject(O.error):O.data!==void 0&&Q.resolve(O.data)},L=()=>{const Q=X(this,Ad,O.promise=$k());M(Q)},j=N(this,Ad);switch(j.status){case"pending":e.queryHash===r.queryHash&&M(j);break;case"fulfilled":(O.status==="error"||O.data!==j.value)&&L();break;case"rejected":(O.status!=="error"||O.error!==j.reason)&&L();break}}return O}updateResult(){const e=N(this,Gs),n=this.createResult(N(this,kn),this.options);if(X(this,Hm,N(this,kn).state),X(this,_w,this.options),N(this,Hm).data!==void 0&&X(this,Iw,N(this,kn)),kk(n,e))return;X(this,Gs,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!N(this,Nw).size)return!0;const o=new Set(s??N(this,Nw));return this.options.throwOnError&&o.add("error"),Object.keys(N(this,Gs)).some(a=>{const c=a;return N(this,Gs)[c]!==e[c]&&o.has(c)})};xe(this,lr,YQ).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&xe(this,lr,Bk).call(this)}},Ro=new WeakMap,kn=new WeakMap,NC=new WeakMap,Gs=new WeakMap,Hm=new WeakMap,_w=new WeakMap,Ad=new WeakMap,Dh=new WeakMap,PC=new WeakMap,Tw=new WeakMap,Iw=new WeakMap,Vm=new WeakMap,qm=new WeakMap,Lh=new WeakMap,Nw=new WeakMap,lr=new WeakSet,o1=function(e){xe(this,lr,jk).call(this);let n=N(this,kn).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch($o)),n},Dk=function(){xe(this,lr,Uk).call(this);const e=Vh(this.options.staleTime,N(this,kn));if(kg||N(this,Gs).isStale||!Pk(e))return;const r=jQ(N(this,Gs).dataUpdatedAt,e)+1;X(this,Vm,setTimeout(()=>{N(this,Gs).isStale||this.updateResult()},r))},Lk=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,kn)):this.options.refetchInterval)??!1},Mk=function(e){xe(this,lr,Fk).call(this),X(this,Lh,e),!(kg||ac(this.options.enabled,N(this,kn))===!1||!Pk(N(this,Lh))||N(this,Lh)===0)&&X(this,qm,setInterval(()=>{(this.options.refetchIntervalInBackground||gO.isFocused())&&xe(this,lr,o1).call(this)},N(this,Lh)))},Bk=function(){xe(this,lr,Dk).call(this),xe(this,lr,Mk).call(this,xe(this,lr,Lk).call(this))},Uk=function(){N(this,Vm)&&(clearTimeout(N(this,Vm)),X(this,Vm,void 0))},Fk=function(){N(this,qm)&&(clearInterval(N(this,qm)),X(this,qm,void 0))},jk=function(){const e=N(this,Ro).getQueryCache().build(N(this,Ro),this.options);if(e===N(this,kn))return;const n=N(this,kn);X(this,kn,e),X(this,NC,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},YQ=function(e){us.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(N(this,Gs))}),N(this,Ro).getQueryCache().notify({query:N(this,kn),type:"observerResultsUpdated"})})},Gj);function TOe(t,e){return ac(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function fj(t,e){return TOe(t,e)||t.state.data!==void 0&&zk(t,e,e.refetchOnMount)}function zk(t,e,n){if(ac(e.enabled,t)!==!1&&Vh(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&yO(t,e)}return!1}function hj(t,e,n,r){return(t!==e||ac(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&yO(t,n)}function yO(t,e){return ac(e.enabled,t)!==!1&&t.isStaleByTime(Vh(e.staleTime,t))}function IOe(t,e){return!kk(t.getCurrentResult(),e)}function NOe(t){return JSON.stringify(t,(e,n)=>POe(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):typeof n=="bigint"?n.toString():n)}function POe(t){if(!pj(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!pj(n)||!n.hasOwnProperty("isPrototypeOf"))}function pj(t){return Object.prototype.toString.call(t)==="[object Object]"}function kOe(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:i,initialDataUpdatedAt:s,maxPages:o,meta:a,networkMode:c,queryFn:u,queryHash:f,queryKey:h,queryKeyHashFn:p,retry:g,retryDelay:w,structuralSharing:y,getPreviousPageParam:b,getNextPageParam:C,initialPageParam:x,_optimisticResults:E,enabled:I,notifyOnChangeProps:S,placeholderData:T,refetchInterval:R,refetchIntervalInBackground:O,refetchOnMount:k,refetchOnReconnect:M,refetchOnWindowFocus:L,retryOnMount:j,select:Q,staleTime:J,suspense:$,throwOnError:D,config:H,connector:z,query:Y,...K}=t;return K}function ROe(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=e,{connectorUid:i,scopeKey:s,...o}=n[1];return F8e(t,{...o,connector:r})},queryKey:OOe(e)}}function OOe(t={}){const{connector:e,...n}=t;return["walletClient",{...kOe(n),connectorUid:e==null?void 0:e.uid}]}var QQ=U.createContext(void 0),ZQ=t=>{const e=U.useContext(QQ);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},$Oe=({client:t,children:e})=>(U.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),_.jsx(QQ.Provider,{value:t,children:e})),JQ=U.createContext(!1),DOe=()=>U.useContext(JQ);JQ.Provider;function LOe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var MOe=U.createContext(LOe()),BOe=()=>U.useContext(MOe),UOe=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},FOe=t=>{U.useEffect(()=>{t.clearReset()},[t])},jOe=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||fOe(n,[t.error,r])),zOe=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},WOe=(t,e)=>t.isLoading&&t.isFetching&&!e,HOe=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,mj=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function VOe(t,e,n){var h,p,g,w,y;const r=DOe(),i=BOe(),s=ZQ(),o=s.defaultQueryOptions(t);(p=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",zOe(o),UOe(o,i),FOe(i);const a=!s.getQueryCache().get(o.queryHash),[c]=U.useState(()=>new e(s,o)),u=c.getOptimisticResult(o),f=!r&&t.subscribed!==!1;if(U.useSyncExternalStore(U.useCallback(b=>{const C=f?c.subscribe(us.batchCalls(b)):$o;return c.updateResult(),C},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),U.useEffect(()=>{c.setOptions(o)},[o,c]),HOe(o,u))throw mj(o,c,i);if(jOe({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(g=s.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||w.call(g,o,u),o.experimental_prefetchInRender&&!kg&&WOe(u,r)){const b=a?mj(o,c,i):(y=s.getQueryCache().get(o.queryHash))==null?void 0:y.promise;b==null||b.catch($o).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function qOe(t,e){return VOe(t,_Oe)}function GOe(t){const e=qOe({...t,queryKeyHashFn:NOe});return e.queryKey=t.queryKey,e}function Na(t={}){const e=hO(t);return U.useSyncExternalStore(n=>W8e(e,{onChange:n}),()=>ej(e),()=>ej(e))}function XQ(t={}){const{query:e={},...n}=t,r=hO(n),i=ZQ(),{address:s,connector:o,status:a}=Sc({config:r}),c=Na({config:r}),u=t.connector??o,{queryKey:f,...h}=ROe(r,{...t,chainId:t.chainId??c,connector:t.connector??o}),p=!!((a==="connected"||a==="reconnecting"&&(u!=null&&u.getProvider))&&(e.enabled??!0)),g=U.useRef(s);return U.useEffect(()=>{const w=g.current;!s&&w?(i.removeQueries({queryKey:f}),g.current=void 0):s!==w&&(i.invalidateQueries({queryKey:f}),g.current=s)},[s,i]),GOe({...e,...h,queryKey:f,enabled:p,staleTime:Number.POSITIVE_INFINITY})}const Pa=U.createContext(null),eZ=({children:t})=>{var C,x,E;eZ.propTypes={children:Bt.node.isRequired};const{isConnected:e,address:n}=Sc(),r=Na(),{data:i}=XQ(),[s,o]=U.useState(!0),[a,c]=U.useState(null),[u,f]=U.useState(null),[h,p]=U.useState(null),[g,w]=U.useState({});U.useEffect(()=>{!e||!n||!r||!i||(R8e(r)?XF(r):(console.warn(`Connected chain ${r} is not supported. Using default chain.`),XF(cl.PULSECHAIN)),y())},[e,n,r,i]);const y=async()=>{var I,S,T,R;try{if(o(!0),!i)throw new Error("Wallet client not available");const O=new _k(i.transport),k=await O.getSigner(),M=await k.getAddress(),L=Object.fromEntries(Object.entries(k8e()).map(([j,{address:Q,abi:J}])=>{if(!Q)return[j,null];try{return[j,new un(Q,J,k)]}catch{return console.warn(`Contract init failed for ${j} at ${Q}`),[j,null]}}));try{const j=L.AuctionContract;if(j){const[Q,J,$]=await Promise.all([(I=j.dav)==null?void 0:I.call(j).catch(()=>null),(S=j.stateToken)==null?void 0:S.call(j).catch(()=>null),(T=j.airdropDistributor)==null?void 0:T.call(j).catch(()=>null)]);Q&&T1(Q)&&(L.davContract=new un(Q,OQ,k),L._davAddress=Q),J&&T1(J)&&(L.stateContract=new un(J,$Q,k),L._stateAddress=J),$&&T1($)&&(L.airdropDistributor=new un($,(await Oe(async()=>{const{default:D}=await Promise.resolve().then(()=>C8e);return{default:D}},void 0)).default,k),L._airdropDistributorAddress=$)}}catch(j){console.warn("Failed to resolve on-chain DAV/STATE addresses from Auction contract",j)}console.log("Detected providers:",(R=window.ethereum)==null?void 0:R.providers),c(O),f(k),p(M),w(L)}catch(O){console.error("Failed to initialize contracts:",O)}finally{o(!1)}},b={state:g.stateContract,dav:g.davContract,Fluxin:g.FluxinContract,Xerion:g.XerionContract,auction:g.AuctionContract,swapLens:g.swapLens,lpHelper:g.lpHelper,liquidityManager:g.liquidityManager,buyBurnController:g.buyBurnController,auctionMetrics:g.auctionMetrics,airdropDistributor:g.airdropDistributor,boostedRedemption:g.boostedRedemption,reverseBurnRedemption:g.reverseBurnRedemption,addresses:{dav:(g==null?void 0:g._davAddress)||((C=g==null?void 0:g.davContract)==null?void 0:C.target),state:(g==null?void 0:g._stateAddress)||((x=g==null?void 0:g.stateContract)==null?void 0:x.target),airdropDistributor:(g==null?void 0:g._airdropDistributorAddress)||((E=g==null?void 0:g.airdropDistributor)==null?void 0:E.target)}};return _.jsx(Pa.Provider,{value:{loading:s,provider:a,signer:u,account:h,AllContracts:g,contracts:b},children:t})},qh=Ya("dex.router","0x98bf93ebf5c380C0e6Ae8e192A7e2AE08edAcc02"),gj=Ya("dex.baseToken","0xA1077a294dDE1B09bB078844df40758a5D0f9a27"),uC=["function factory() external view returns (address)","function getAmountsOut(uint amountIn, address[] calldata path) external view returns (uint[] memory amounts)","function swapExactTokensForTokens(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline) external returns (uint[] memory amounts)","function swapExactETHForTokens(uint amountOutMin, address[] calldata path, address to, uint deadline) external payable returns (uint[] memory amounts)","function swapExactTokensForETH(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline) external returns (uint[] memory amounts)","function swapExactTokensForTokensSupportingFeeOnTransferTokens (uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline) external returns (uint[] memory amounts)"],KOe=["function getPair(address tokenA, address tokenB) external view returns (address pair)"],O5=["function allowance(address owner, address spender) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)"],ot=t=>{vr.error(t,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},Fo=t=>{vr.success(t,{position:"top-center",autoClose:12e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},l_=t=>typeof t=="string"&&(t.includes("mypinata.cloud/ipfs/")||t.startsWith("data:image/"));function uc(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}const XA="2.18.0",YOe=()=>`@wagmi/core@${XA}`;var tZ=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},$5,nZ;class gl extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return YOe()}constructor(e,n={}){var s;super(),$5.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof gl?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,i=n.cause instanceof gl&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return tZ(this,$5,"m",nZ).call(this,this,e)}}$5=new WeakSet,nZ=function t(e,n){return n!=null&&n(e)?e:e.cause?tZ(this,$5,"m",t).call(this,e.cause,n):e};class dC extends gl{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class QOe extends gl{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class ZOe extends gl{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class JOe extends gl{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class XOe extends gl{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class e9e extends gl{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function vN(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new QOe;try{t.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:i,...s}=e,o=await n.connect(s),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(i){throw t.setState(s=>({...s,status:s.current?"connected":"disconnected"})),i}}async function u_(t,e={}){let n;if(e.connector){const{connector:u}=e;if(t.state.status==="reconnecting"&&!u.getAccounts&&!u.getChainId)throw new e9e({connector:u});const[f,h]=await Promise.all([u.getAccounts().catch(p=>{if(e.account===null)return[];throw p}),u.getChainId()]);n={accounts:f,chainId:h,connector:u}}else n=t.state.connections.get(t.state.current);if(!n)throw new ZOe;const r=e.chainId??n.chainId,i=await n.connector.getChainId();if(i!==n.chainId)throw new XOe({connectionChainId:n.chainId,connectorChainId:i});const s=n.connector;if(s.getClient)return s.getClient({chainId:r});const o=Yi(e.account??n.accounts[0]);if(o&&(o.address=Id(o.address)),e.account&&!n.accounts.some(u=>u.toLowerCase()===o.address.toLowerCase()))throw new JOe({address:o.address,connector:s});const a=t.chains.find(u=>u.id===r),c=await n.connector.getProvider({chainId:r});return SR({account:o,chain:a,name:"Connector Client",transport:u=>iH(c)({...u,retryCount:0})})}async function yj(t,e={}){var i,s;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(i=t.state.connections.get(o))==null?void 0:i.connector;if(!a)return;await((s=t.storage)==null?void 0:s.setItem("recentConnectorId",a.id))}}async function t9e(t,e){const{chainId:n,connector:r,...i}=e;let s;e.account?s=e.account:s=(await u_(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return uc(o,DW,"estimateGas")({...i,account:s})}function rZ(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(die[t])}function P1(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,i=r==null?void 0:r[0],s=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:i,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:i,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:i,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function n9e(t,e){const{allowFailure:n=!0,chainId:r,contracts:i,...s}=e,o=t.getClient({chainId:r});return uc(o,yoe,"multicall")({allowFailure:n,contracts:i,...s})}function r9e(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return uc(i,KW,"readContract")(r)}async function i9e(t,e){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:i,...s}=e,o=e.contracts;try{const c={};for(const[p,g]of o.entries()){const w=g.chainId??t.state.chainId;c[w]||(c[w]=[]),(a=c[w])==null||a.push({contract:g,index:p})}const u=()=>Object.entries(c).map(([p,g])=>n9e(t,{...s,allowFailure:n,blockNumber:r,blockTag:i,chainId:Number.parseInt(p),contracts:g.map(({contract:w})=>w)})),f=(await Promise.all(u())).flat(),h=Object.values(c).flatMap(p=>p.map(({index:g})=>g));return f.reduce((p,g,w)=>(p&&(p[h[w]]=g),p),[])}catch(c){if(c instanceof wW)throw c;const u=()=>o.map(f=>r9e(t,{...f,blockNumber:r,blockTag:i}));return n?(await Promise.allSettled(u())).map(f=>f.status==="fulfilled"?{result:f.value,status:"success"}:{error:f.reason,result:void 0,status:"failure"}):await Promise.all(u())}}async function s9e(t,e){const{address:n,blockNumber:r,blockTag:i,chainId:s,token:o,unit:a="ether"}=e;if(o)try{return await wj(t,{balanceAddress:n,chainId:s,symbolType:"string",tokenAddress:o})}catch(p){if(p.name==="ContractFunctionExecutionError"){const g=await wj(t,{balanceAddress:n,chainId:s,symbolType:"bytes32",tokenAddress:o}),w=Yz(kd(g.symbol,{dir:"right"}));return{...g,symbol:w}}throw p}const c=t.getClient({chainId:s}),f=await uc(c,$W,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:i}),h=t.chains.find(p=>p.id===s)??c.chain;return{decimals:h.nativeCurrency.decimals,formatted:yb(f,rZ(a)),symbol:h.nativeCurrency.symbol,value:f}}async function wj(t,e){const{balanceAddress:n,chainId:r,symbolType:i,tokenAddress:s,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]}],address:s},[c,u,f]=await i9e(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),h=yb(c??"0",rZ(o??u));return{decimals:u,formatted:h,symbol:f,value:c}}function fC(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!fC(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(s&&!fC(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}let bA=[];function od(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||fC(bA,e)?bA:(bA=e,e)}async function o9e(t,e){const{account:n,chainId:r,...i}=e,s=n??P1(t).address,o=t.getClient({chainId:r});return uc(o,rS,"prepareTransactionRequest")({...i,...s?{account:s}:{}})}let CN=!1;async function bj(t,e={}){var u,f;if(CN)return[];CN=!0,t.setState(h=>({...h,status:h.current?"reconnecting":"connecting"}));const n=[];if((u=e.connectors)!=null&&u.length)for(const h of e.connectors){let p;typeof h=="function"?p=t._internal.connectors.setup(h):p=h,n.push(p)}else n.push(...t.connectors);let r;try{r=await((f=t.storage)==null?void 0:f.getItem("recentConnectorId"))}catch{}const i={};for(const[,h]of t.state.connections)i[h.connector.id]=1;r&&(i[r]=0);const s=Object.keys(i).length>0?[...n].sort((h,p)=>(i[h.id]??10)-(i[p.id]??10)):n;let o=!1;const a=[],c=[];for(const h of s){const p=await h.getProvider().catch(()=>{});if(!p||c.some(y=>y===p)||!await h.isAuthorized())continue;const w=await h.connect({isReconnecting:!0}).catch(()=>null);w&&(h.emitter.off("connect",t._internal.events.connect),h.emitter.on("change",t._internal.events.change),h.emitter.on("disconnect",t._internal.events.disconnect),t.setState(y=>{const b=new Map(o?y.connections:new Map).set(h.uid,{accounts:w.accounts,chainId:w.chainId,connector:h});return{...y,current:o?y.current:h.uid,connections:b}}),a.push({accounts:w.accounts,chainId:w.chainId,connector:h}),c.push(p),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(h=>({...h,status:"connected"})):t.setState(h=>({...h,connections:new Map,current:null,status:"disconnected"}))),CN=!1,a}async function a9e(t,e){const{account:n,chainId:r,connector:i,...s}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await u_(t,{account:n??void 0,chainId:r,connector:i}),await uc(o,zC,"sendTransaction")({...s,...n?{account:n}:{},chain:r?{id:r}:null,gas:s.gas??void 0})}async function c9e(t,e){const{account:n,connector:r,...i}=e;let s;return typeof n=="object"&&n.type==="local"?s=t.getClient():s=await u_(t,{account:n,connector:r}),uc(s,cH,"signMessage")({...i,...n?{account:n}:{}})}class ah extends gl{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class l9e extends gl{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function vj(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,i=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(i){const a=i.connector;if(!a.switchChain)throw new l9e({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const s=t.chains.find(a=>a.id===r);if(!s)throw new dC;return t.setState(a=>({...a,chainId:r})),s}function u9e(t,e){const{onChange:n}=e;return t.subscribe(()=>P1(t),n,{equalityFn(r,i){const{connector:s,...o}=r,{connector:a,...c}=i;return fC(o,c)&&(s==null?void 0:s.id)===(a==null?void 0:a.id)&&(s==null?void 0:s.uid)===(a==null?void 0:a.uid)}})}function d9e(t,e){const{onChange:n}=e;return t.subscribe(()=>od(t),n,{equalityFn:fC})}function f9e(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,i)=>{n(Object.values(r),i)})}function h9e(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let i;const s=c=>{i&&i();const u=t.getClient({chainId:c});return i=uc(u,voe,"watchPendingTransactions")(r),i},o=s(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>s(c))),()=>{o==null||o(),a==null||a()}}async function p9e(t,e){const{chainId:n,timeout:r=0,...i}=e,s=t.getClient({chainId:n}),a=await uc(s,boe,"waitForTransactionReceipt")({...i,timeout:r});if(a.status==="reverted"){const u=await uc(s,oH,"getTransaction")({hash:a.transactionHash}),h=await uc(s,GW,"call")({...u,data:u.input,gasPrice:u.type!=="eip1559"?u.gasPrice:void 0,maxFeePerGas:u.type==="eip1559"?u.maxFeePerGas:void 0,maxPriorityFeePerGas:u.type==="eip1559"?u.maxPriorityFeePerGas:void 0}),p=h!=null&&h.data?Yz(`0x${h.data.substring(138)}`):"unknown reason";throw new Error(p)}return{...a,chainId:s.chain.id}}async function m9e(t,e){const{account:n,chainId:r,connector:i,...s}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await u_(t,{account:n??void 0,chainId:r,connector:i}),await uc(o,JW,"writeContract")({...s,...n?{account:n}:{},chain:r?{id:r}:null})}function QMe(t){return t}d_.type="injected";function d_(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...g9e[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let i,s,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:d_.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&t.target&&(o||(o=this.onConnect.bind(this),u.on("connect",o)),i||(i=this.onAccountsChanged.bind(this),u.on("accountsChanged",i)))},async connect({chainId:u,isReconnecting:f}={}){var g,w,y,b,C,x;const h=await this.getProvider();if(!h)throw new ah;let p=[];if(f)p=await this.getAccounts().catch(()=>[]);else if(e)try{p=(b=(y=(w=(g=(await h.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:g.caveats)==null?void 0:w[0])==null?void 0:y.value)==null?void 0:b.map(I=>Id(I)),p.length>0&&(p=await this.getAccounts())}catch(E){const I=E;if(I.code===wi.code)throw new wi(I);if(I.code===Uh.code)throw I}try{!(p!=null&&p.length)&&!f&&(p=(await h.request({method:"eth_requestAccounts"})).map(S=>Id(S))),o&&(h.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),h.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),h.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a));let E=await this.getChainId();if(u&&E!==u){const I=await this.switchChain({chainId:u}).catch(S=>{if(S.code===wi.code)throw S;return{id:E}});E=(I==null?void 0:I.id)??E}return e&&await((C=c.storage)==null?void 0:C.removeItem(`${this.id}.disconnected`)),t.target||await((x=c.storage)==null?void 0:x.setItem("injected.connected",!0)),{accounts:p,chainId:E}}catch(E){const I=E;throw I.code===wi.code?new wi(I):I.code===Uh.code?new Uh(I):I}},async disconnect(){var f,h;const u=await this.getProvider();if(!u)throw new ah;s&&(u.removeListener("chainChanged",s),s=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o));try{await sH(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((f=c.storage)==null?void 0:f.setItem(`${this.id}.disconnected`,!0)),t.target||await((h=c.storage)==null?void 0:h.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new ah;return(await u.request({method:"eth_accounts"})).map(h=>Id(h))},async getChainId(){const u=await this.getProvider();if(!u)throw new ah;const f=await u.request({method:"eth_chainId"});return Number(f)},async getProvider(){if(typeof window>"u")return;let u;const f=r();return typeof f.provider=="function"?u=f.provider(window):typeof f.provider=="string"?u=e3(window,f.provider):u=f.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,f;try{if(e&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!t.target&&!await((f=c.storage)==null?void 0:f.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const w=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",w),!!await this.getProvider()),y=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(C=>window.addEventListener("ethereum#initialized",()=>C(w()),{once:!0}))]:[],new Promise(C=>setTimeout(()=>C(w()),y))]))return!0}throw new ah}return!!(await t2(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:f}){var w,y,b,C;const h=await this.getProvider();if(!h)throw new ah;const p=c.chains.find(x=>x.id===f);if(!p)throw new Cu(new dC);const g=new Promise(x=>{const E=I=>{"chainId"in I&&I.chainId===f&&(c.emitter.off("change",E),x())};c.emitter.on("change",E)});try{return await Promise.all([h.request({method:"wallet_switchEthereumChain",params:[{chainId:cn(f)}]}).then(async()=>{await this.getChainId()===f&&c.emitter.emit("change",{chainId:f})}),g]),p}catch(x){const E=x;if(E.code===4902||((y=(w=E==null?void 0:E.data)==null?void 0:w.originalError)==null?void 0:y.code)===4902)try{const{default:I,...S}=p.blockExplorers??{};let T;u!=null&&u.blockExplorerUrls?T=u.blockExplorerUrls:I&&(T=[I.url,...Object.values(S).map(k=>k.url)]);let R;(b=u==null?void 0:u.rpcUrls)!=null&&b.length?R=u.rpcUrls:R=[((C=p.rpcUrls.default)==null?void 0:C.http[0])??""];const O={blockExplorerUrls:T,chainId:cn(f),chainName:(u==null?void 0:u.chainName)??p.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??p.nativeCurrency,rpcUrls:R};return await Promise.all([h.request({method:"wallet_addEthereumChain",params:[O]}).then(async()=>{if(await this.getChainId()===f)c.emitter.emit("change",{chainId:f});else throw new wi(new Error("User rejected switch after adding network."))}),g]),p}catch(I){throw new wi(I)}throw E.code===wi.code?new wi(E):new Cu(E)}},async onAccountsChanged(u){var f;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await((f=c.storage)==null?void 0:f.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(h=>Id(h))})},onChainChanged(u){const f=Number(u);c.emitter.emit("change",{chainId:f})},async onConnect(u){const f=await this.getAccounts();if(f.length===0)return;const h=Number(u.chainId);c.emitter.emit("connect",{accounts:f,chainId:h});const p=await this.getProvider();p&&(o&&(p.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),p.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),p.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),p.on("disconnect",a)))},async onDisconnect(u){const f=await this.getProvider();u&&u.code===1013&&f&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),f&&(s&&(f.removeListener("chainChanged",s),s=void 0),a&&(f.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o))))}})}const g9e={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:e3(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return e3(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:e3(t,"isPhantom")}}};function e3(t,e){function n(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(i=>n(i));if(r&&n(r))return r}const y9e=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,c)=>{let u=o;if(a){const f=(c==null?void 0:c.equalityFn)||Object.is;let h=o(r.getState());u=p=>{const g=o(p);if(!f(h,g)){const w=h;a(h=g,w)}},c!=null&&c.fireImmediately&&a(h,h)}return i(u)},t(e,n,r)},w9e=y9e;function b9e(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Wk=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Wk(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Wk(r)(n)}}}},v9e=(t,e)=>(n,r,i)=>{let s={storage:b9e(()=>localStorage),partialize:y=>y,version:0,merge:(y,b)=>({...b,...y}),...e},o=!1;const a=new Set,c=new Set;let u=s.storage;if(!u)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...y)},r,i);const f=()=>{const y=s.partialize({...r()});return u.setItem(s.name,{state:y,version:s.version})},h=i.setState;i.setState=(y,b)=>{h(y,b),f()};const p=t((...y)=>{n(...y),f()},r,i);i.getInitialState=()=>p;let g;const w=()=>{var y,b;if(!u)return;o=!1,a.forEach(x=>{var E;return x((E=r())!=null?E:p)});const C=((b=s.onRehydrateStorage)==null?void 0:b.call(s,(y=r())!=null?y:p))||void 0;return Wk(u.getItem.bind(u))(s.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==s.version){if(s.migrate)return[!0,s.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var E;const[I,S]=x;if(g=s.merge(S,(E=r())!=null?E:p),n(g,!0),I)return f()}).then(()=>{C==null||C(g,void 0),g=r(),o=!0,c.forEach(x=>x(g))}).catch(x=>{C==null||C(void 0,x)})};return i.persist={setOptions:y=>{s={...s,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},s.skipHydration||w(),g||p},C9e=v9e,Cj=t=>{let e;const n=new Set,r=(u,f)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const p=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(g=>g(e,p))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=e=t(r,i,a);return a},xN=t=>t?Cj(t):Cj;class x9e{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new K8e})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function E9e(t){return new x9e(t)}function A9e(t,e){return JSON.parse(t,(n,r)=>{let i=r;return(i==null?void 0:i.__type)==="bigint"&&(i=BigInt(i.value)),(i==null?void 0:i.__type)==="Map"&&(i=new Map(i.value)),(e==null?void 0:e(n,i))??i})}function xj(t,e){return t.slice(0,e).join(".")||"."}function Ej(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function S9e(t,e){const n=typeof t=="function",r=typeof e=="function",i=[],s=[];return function(a,c){if(typeof c=="object")if(i.length){const u=Ej(i,this);u===0?i[i.length]=this:(i.splice(u),s.splice(u)),s[s.length]=a;const f=Ej(i,c);if(f!==0)return r?e.call(this,a,c,xj(s,f)):`[ref=${xj(s,f)}]`}else i[0]=c,s[0]=a;return n?t.call(this,a,c):c}}function _9e(t,e,n,r){return JSON.stringify(t,S9e((i,s)=>{let o=s;return typeof o=="bigint"&&(o={__type:"bigint",value:s.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(s.entries())}),(e==null?void 0:e(i,o))??o},r),n??void 0)}function T9e(t){const{deserialize:e=A9e,key:n="wagmi",serialize:r=_9e,storage:i=iZ}=t;function s(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...i,key:n,async getItem(o,a){const c=i.getItem(`${n}.${o}`),u=await s(c);return u?e(u)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await s(i.removeItem(c)):await s(i.setItem(c,r(a)))},async removeItem(o){await s(i.removeItem(`${n}.${o}`))}}}const iZ={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function I9e(){const t=typeof window<"u"&&window.localStorage?window.localStorage:iZ;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const Hk=256;let vA=Hk,CA;function N9e(t=11){if(!CA||vA+t>Hk*2){CA="",vA=0;for(let e=0;e<Hk;e++)CA+=(256+Math.random()*256|0).toString(16).substring(1)}return CA.substring(vA,vA+++t)}function P9e(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=T9e({storage:I9e()}),syncConnectedChain:r=!0,ssr:i=!1,...s}=t,o=typeof window<"u"&&e?V8e():void 0,a=xN(()=>s.chains),c=xN(()=>{const S=[],T=new Set;for(const R of s.connectors??[]){const O=u(R);if(S.push(O),!i&&O.rdns){const k=typeof O.rdns=="string"?[O.rdns]:O.rdns;for(const M of k)T.add(M)}}if(!i&&o){const R=o.getProviders();for(const O of R)T.has(O.info.rdns)||S.push(u(f(O)))}return S});function u(S){var O;const T=E9e(N9e()),R={...S({emitter:T,chains:a.getState(),storage:n,transports:s.transports}),emitter:T,uid:T.uid};return T.on("connect",E),(O=R.setup)==null||O.call(R),R}function f(S){const{info:T}=S,R=S.provider;return d_({target:{...T,id:T.rdns,provider:R}})}const h=new Map;function p(S={}){const T=S.chainId??b.getState().chainId,R=a.getState().find(k=>k.id===T);if(S.chainId&&!R)throw new dC;{const k=h.get(b.getState().chainId);if(k&&!R)return k;if(!R)throw new dC}{const k=h.get(T);if(k)return k}let O;if(s.client)O=s.client({chain:R});else{const k=R.id,M=a.getState().map(Q=>Q.id),L={},j=Object.entries(s);for(const[Q,J]of j)if(!(Q==="chains"||Q==="client"||Q==="connectors"||Q==="transports"))if(typeof J=="object")if(k in J)L[Q]=J[k];else{if(M.some(D=>D in J))continue;L[Q]=J}else L[Q]=J;O=SR({...L,chain:R,batch:L.batch??{multicall:!0},transport:Q=>s.transports[k]({...Q,connectors:c})})}return h.set(T,O),O}function g(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let w;const y="0.0.0-canary-";XA.startsWith(y)?w=Number.parseInt(XA.replace(y,"")):w=Number.parseInt(XA.split(".")[0]??"0");const b=xN(w9e(n?C9e(g,{migrate(S,T){if(T===w)return S;const R=g(),O=C(S,R.chainId);return{...R,chainId:O}},name:"store",partialize(S){return{connections:{__type:"Map",value:Array.from(S.connections.entries()).map(([T,R])=>{const{id:O,name:k,type:M,uid:L}=R.connector;return[T,{...R,connector:{id:O,name:k,type:M,uid:L}}]})},chainId:S.chainId,current:S.current}},merge(S,T){typeof S=="object"&&S&&"status"in S&&delete S.status;const R=C(S,T.chainId);return{...T,...S,chainId:R}},skipHydration:i,storage:n,version:w}):g));b.setState(g());function C(S,T){return S&&typeof S=="object"&&"chainId"in S&&typeof S.chainId=="number"&&a.getState().some(R=>R.id===S.chainId)?S.chainId:T}r&&b.subscribe(({connections:S,current:T})=>{var R;return T?(R=S.get(T))==null?void 0:R.chainId:void 0},S=>{if(a.getState().some(R=>R.id===S))return b.setState(R=>({...R,chainId:S??R.chainId}))}),o==null||o.subscribe(S=>{const T=new Set,R=new Set;for(const k of c.getState())if(T.add(k.id),k.rdns){const M=typeof k.rdns=="string"?[k.rdns]:k.rdns;for(const L of M)R.add(L)}const O=[];for(const k of S){if(R.has(k.info.rdns))continue;const M=u(f(k));T.has(M.id)||O.push(M)}n&&!b.persist.hasHydrated()||c.setState(k=>[...k,...O],!0)});function x(S){b.setState(T=>{const R=T.connections.get(S.uid);return R?{...T,connections:new Map(T.connections).set(S.uid,{accounts:S.accounts??R.accounts,chainId:S.chainId??R.chainId,connector:R.connector})}:T})}function E(S){b.getState().status==="connecting"||b.getState().status==="reconnecting"||b.setState(T=>{const R=c.getState().find(O=>O.uid===S.uid);return R?(R.emitter.listenerCount("connect")&&R.emitter.off("connect",x),R.emitter.listenerCount("change")||R.emitter.on("change",x),R.emitter.listenerCount("disconnect")||R.emitter.on("disconnect",I),{...T,connections:new Map(T.connections).set(S.uid,{accounts:S.accounts,chainId:S.chainId,connector:R}),current:S.uid,status:"connected"}):T})}function I(S){b.setState(T=>{const R=T.connections.get(S.uid);if(R){const k=R.connector;k.emitter.listenerCount("change")&&R.connector.emitter.off("change",x),k.emitter.listenerCount("disconnect")&&R.connector.emitter.off("disconnect",I),k.emitter.listenerCount("connect")||R.connector.emitter.on("connect",E)}if(T.connections.delete(S.uid),T.connections.size===0)return{...T,connections:new Map,current:null,status:"disconnected"};const O=T.connections.values().next().value;return{...T,connections:new Map(T.connections),current:O.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:p,get state(){return b.getState()},setState(S){let T;typeof S=="function"?T=S(b.getState()):T=S;const R=g();typeof T!="object"&&(T=R),Object.keys(R).some(k=>!(k in T))&&(T=R),b.setState(T,!0)},subscribe(S,T,R){return b.subscribe(S,T,R?{...R,fireImmediately:R.emitImmediately}:void 0)},_internal:{mipd:o,store:b,ssr:!!i,syncConnectedChain:r,transports:s.transports,chains:{setState(S){const T=typeof S=="function"?S(a.getState()):S;if(T.length!==0)return a.setState(T,!0)},subscribe(S){return a.subscribe(S)}},connectors:{providerDetailToConnector:f,setup:u,setState(S){return c.setState(typeof S=="function"?S(c.getState()):S,!0)},subscribe(S){return c.subscribe(S)}},events:{change:x,connect:E,disconnect:I}}}}function k9e(t){let e=[],n,r;function i(a){return $1.parseEvmChainId(a)||1}function s(){var a;return n||(n=Ym.getInstance({projectId:t.options.projectId,chainId:(a=Td())==null?void 0:a.caipNetworkId,enableLogger:t.options.enableAuthLogger,onTimeout:c=>{c==="iframe_load_failed"?Or.open(qr.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?Or.open(qr.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&Or.open(qr.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:qr.EmbeddedWalletAbortController,getActiveCaipNetwork:c=>Td(c),getCaipNetworks:c=>F.getCaipNetworks(c)})),n}async function o(a={}){var y;const c=s();let u=a.chainId;if(a.isReconnecting){const b=$1.parseEvmChainId(c.getLastUsedChainId()||""),C=(y=t.chains)==null?void 0:y[0].id;if(u=b||C,!u)throw new Error("ChainId not found in provider")}const f=ii("eip155"),{address:h,chainId:p,accounts:g}=await Bo.authConnectorAuthenticate({authConnector:c,chainId:u,preferredAccountType:f,socialUri:a.socialUri,chainNamespace:oe.CHAIN.EVM});e=(g==null?void 0:g.map(b=>b.address))||[h];const w=i(p);return{accounts:e,account:h,chainId:w,chain:{id:w,unsuported:!1}}}return a=>({id:oe.CONNECTOR_ID.AUTH,name:oe.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:oe.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(f=>{f(o(c))}));const u=await r;return r=void 0,u},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){var c;return this.provider||(this.provider=Ym.getInstance({projectId:t.options.projectId,chainId:(c=Td())==null?void 0:c.caipNetworkId,enableLogger:t.options.enableAuthLogger,abortController:qr.EmbeddedWalletAbortController,onTimeout:u=>{u==="iframe_load_failed"?Or.open(qr.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):u==="iframe_request_timeout"?Or.open(qr.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):u==="unverified_domain"&&Or.open(qr.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:u=>Td(u),getCaipNetworks:u=>F.getCaipNetworks(u)})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:u}=await c.getChainId();return i(u)},async isAuthorized(){const u=F.state.activeChain===oe.CHAIN.EVM;if(oe.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(p=>pe.getConnectorId(p)===oe.CONNECTOR_ID.AUTH)&&!u)return!1;const h=await this.getProvider();return Promise.resolve(h.getLoginEmailUsed())},async switchChain({chainId:c}){var u;try{const f=a.chains.find(w=>w.id===c);if(!f)throw new Cu(new Error("chain not found on connector."));const h=await this.getProvider(),p=ii("eip155"),g=await h.connect({chainId:c,preferredAccountType:p});return e=((u=g==null?void 0:g.accounts)==null?void 0:u.map(w=>w.address))||[g.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),f}catch(f){throw f instanceof Error?new Cu(f):f}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(Id)})},onChainChanged(c){const u=Number(c);a.emitter.emit("change",{chainId:u})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}wO.type="walletConnect";function wO(t,e){const n=t.isNewChainsStale??!0;let r,i,s,o,a,c,u;return f=>({id:"walletConnect",name:"WalletConnect",type:wO.type,async setup(){const h=await this.getProvider().catch(()=>null);h&&(o||(o=this.onConnect.bind(this),h.on("connect",o)),c||(c=this.onSessionDelete.bind(this),h.on("session_delete",c)))},async connect({...h}={}){var p,g,w;try{const y=F.getCaipNetworks(),b=await this.getProvider();if(!b)throw new ah;a||(a=this.onDisplayUri,b.on("display_uri",a));const C=await this.isChainsStale();b.session&&C&&await b.disconnect();const x=ce.state.universalProviderConfigOverride;if(!b.session||C){const k=Ld.createNamespaces(y,x);await b.connect({optionalNamespaces:k,..."pairingTopic"in h?{pairingTopic:h.pairingTopic}:{}}),this.setRequestedChainsIds(y.map(M=>Number(M.id)))}const E=await this.getAccounts(),I=await this.getChainId(),S=(w=(g=(p=b.session)==null?void 0:p.namespaces)==null?void 0:g.eip155)==null?void 0:w.chains,T=S==null?void 0:S.some(k=>Number(k.split(":")[1])===I);let R=1;T?R=I:S!=null&&S[0]&&(R=Number(S[0].split(":")[1])),a&&(b.removeListener("display_uri",a),a=void 0),o&&(b.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),b.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),b.on("chainChanged",s)),u||(u=this.onDisconnect.bind(this),b.on("disconnect",u)),c||(c=this.onSessionDelete.bind(this),b.on("session_delete",c));const O=x==null?void 0:x.defaultChain;return b.setDefaultChain(O??`eip155:${R}`),{accounts:E,chainId:R}}catch(y){throw/(user rejected|connection request reset)/i.test(y==null?void 0:y.message)?new wi(y):y}},async disconnect(){const h=await this.getProvider();try{await(h==null?void 0:h.disconnect())}catch(p){if(!/No matching key/i.test(p.message))throw p}finally{s&&(h==null||h.removeListener("chainChanged",s),s=void 0),u&&(h==null||h.removeListener("disconnect",u),u=void 0),o||(o=this.onConnect.bind(this),h==null||h.on("connect",o)),i&&(h==null||h.removeListener("accountsChanged",i),i=void 0),c&&(h==null||h.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var b,C,x;const h=await this.getProvider();if(!((b=h==null?void 0:h.session)!=null&&b.namespaces))return[];const p=(x=(C=h==null?void 0:h.session)==null?void 0:C.namespaces[oe.CHAIN.EVM])==null?void 0:x.accounts,g=(p==null?void 0:p.map(E=>E.split(":")[2]))??[],w=new Set;return g.filter(E=>{const I=E==null?void 0:E.toLowerCase();return w.has(I)?!1:(w.add(I),!0)})},async getProvider({chainId:h}={}){var w,y;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const p=Ne.getActiveNamespace(),g=(w=e.getCaipNetwork())==null?void 0:w.id;if(h&&g!==h&&p){const b=Ne.getStoredActiveCaipNetworkId(),C=p?e.getCaipNetworks(p):[],x=C==null?void 0:C.find(E=>E.id===b);x&&x.chainNamespace===oe.CHAIN.EVM&&await((y=this.switchChain)==null?void 0:y.call(this,{chainId:Number(x.id)}))}return r},async getChainId(){var y,b,C,x;const h=(y=e.getCaipNetwork(oe.CHAIN.EVM))==null?void 0:y.id;if(h)return h;const g=(x=(C=(b=(await this.getProvider()).session)==null?void 0:b.namespaces[oe.CHAIN.EVM])==null?void 0:C.chains)==null?void 0:x[0],w=F.getCaipNetworks().find(E=>E.id===g);return w==null?void 0:w.id},async isAuthorized(){try{const[h,p]=await Promise.all([this.getAccounts(),this.getProvider()]);return h.length?await this.isChainsStale()&&p.session?(await p.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:h,chainId:p}){var y,b,C,x;const g=await this.getProvider();if(!g)throw new ah;const w=F.getCaipNetworks().find(E=>E.id===p);if(!w)throw new Cu(new dC);try{await g.request({method:"wallet_switchEthereumChain",params:[{chainId:cn(p)}]}),w!=null&&w.caipNetworkId&&g.setDefaultChain(w==null?void 0:w.caipNetworkId),f.emitter.emit("change",{chainId:Number(p)});const E=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...E,p]),{...w,id:w.id}}catch(E){const I=E;if(/(?:user rejected)/iu.test(I.message))throw new wi(I);try{let S;h!=null&&h.blockExplorerUrls?S=h.blockExplorerUrls:S=(y=w.blockExplorers)!=null&&y.default.url?[(b=w.blockExplorers)==null?void 0:b.default.url]:[];const T=((x=(C=w.rpcUrls)==null?void 0:C.chainDefault)==null?void 0:x.http)||[],R={blockExplorerUrls:S,chainId:cn(p),chainName:w.name,iconUrls:h==null?void 0:h.iconUrls,nativeCurrency:w.nativeCurrency,rpcUrls:T};await g.request({method:"wallet_addEthereumChain",params:[R]});const O=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...O,p]),{...w,id:w.id}}catch(S){throw new wi(S)}}},onAccountsChanged(h){h.length===0?this.onDisconnect():f.emitter.emit("change",{accounts:h.map(p=>Id(p))})},onChainChanged(h){const p=Number(h);f.emitter.emit("change",{chainId:p})},onConnect(h){this.setRequestedChainsIds(F.getCaipNetworks().map(p=>Number(p.id)))},async onDisconnect(h){this.setRequestedChainsIds([]),f.emitter.emit("disconnect");const p=await this.getProvider();i&&(p.removeListener("accountsChanged",i),i=void 0),s&&(p.removeListener("chainChanged",s),s=void 0),u&&(p.removeListener("disconnect",u),u=void 0),c&&(p.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),p.on("connect",o))},onDisplayUri(h){f.emitter.emit("message",{type:"display_uri",data:h})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var g,w,y;if(!((g=r==null?void 0:r.session)!=null&&g.namespaces))return[];const h=(y=(w=r==null?void 0:r.session)==null?void 0:w.namespaces[oe.CHAIN.EVM])==null?void 0:y.accounts;return(h==null?void 0:h.map(b=>Number.parseInt(b.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var p;const h=await((p=f.storage)==null?void 0:p.getItem(this.requestedChainsStorageKey))??[];return[...new Set(h)]},async isChainsStale(){if(!n)return!1;const h=f.chains.map(w=>w.id),p=this.getNamespaceChainsIds();if(p.length&&!p.some(w=>h.includes(w)))return!1;const g=await this.getRequestedChainsIds();return!h.every(w=>g.includes(Number(w)))},async setRequestedChainsIds(h){var p;await((p=f.storage)==null?void 0:p.setItem(this.requestedChainsStorageKey,h))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const Vv=gr({pendingTransactions:0}),Aj={state:Vv,subscribeKey(t,e){return Oi(Vv,t,e)},increase(t){Vv[t]+=1},decrease(t){Vv[t]-=1},reset(t){Vv[t]=0}};async function R9e(t){if(be.isSafeApp()){const{safe:e}=await Oe(async()=>{const{safe:n}=await import("./index-9J9uZQk7.js");return{safe:n}},[]);if(e&&!t.some(n=>n.type==="safe"))return e()}return null}async function O9e(t){try{const{coinbaseWallet:e}=await Oe(async()=>{const{coinbaseWallet:n}=await import("./index-9J9uZQk7.js");return{coinbaseWallet:n}},[]);if(e&&!t.some(n=>n.id==="coinbaseWalletSDK"))return e()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}const $9e={enable:!1,pollingInterval:3e4};class D9e extends wG{constructor(e){const n=el.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=oe.CHAIN.EVM,this.adapterType=oe.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...$9e,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===oe.CONNECTOR_ID.AUTH){const s=await n.getProvider();if(!(s!=null&&s.user))return{accounts:[]};const{address:o,accounts:a}=s.user;return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>be.createAccount("eip155",c.address,c.type))})}const{addresses:r,address:i}=P1(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[i])].map(s=>be.createAccount("eip155",s||"","eoa"))})}checkChainId(){const{chainId:e}=P1(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(i=>i.chainNamespace===oe.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(i=>{var a,c;const s=(a=e.transports)==null?void 0:a[i.id],o=el.getCaipNetworkId(i);s?n[i.id]=el.extendWagmiTransports(i,e.projectId,s):n[i.id]=el.getViemTransport(i,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=P9e({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=h9e(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),Aj.increase("pendingTransactions")}});const e=Aj.subscribeKey("pendingTransactions",n=>{var r;n>=oe.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){d9e(this.wagmiConfig,{onChange:e=>{this.clearConnections(),this.addConnection(...e.map(n=>{const r=this.getCaipNetworks().find(s=>s.id===n.chainId),i=n.connector.id===oe.CONNECTOR_ID.AUTH;return{accounts:n.accounts.map(s=>({address:this.toChecksummedAddress(s)})),caipNetwork:r,connectorId:n.connector.id,auth:i?{name:Ne.getConnectedSocialProvider(),username:Ne.getConnectedSocialUsername()}:void 0}}))}}),u9e(this.wagmiConfig,{onChange:(e,n)=>{var r;if(e.status==="disconnected"&&n.address&&this.emit("disconnect"),e!=null&&e.chainId&&(e==null?void 0:e.chainId)!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{chainId:e.chainId}),e.status==="connected"){const i=e.address!==(n==null?void 0:n.address),s=e.connector.id!==((r=n.connector)==null?void 0:r.id),o=n.status!=="connected";(i||s||o)&&(this.setupWatchPendingTransactions(),this.handleAccountChanged({address:e.address,chainId:e.chainId,connector:e.connector}))}}})}async addThirdPartyConnectors(e){const n=[];if(e.enableCoinbase!==!1){const i=await O9e(this.wagmiConfig.connectors);i&&n.push(i)}const r=await R9e(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(i=>{const s=this.wagmiConfig._internal.connectors.setup(i);return this.wagmiConfig._internal.connectors.setState(o=>[...o,s]),this.addWagmiConnector(s,e)}))}addWagmiConnectors(e,n){var o,a,c,u;const r=[];e.enableWalletConnect!==!1&&r.push(wO(e,n)),e.enableEIP6963!==!1&&r.push(d_({shimDisconnect:!0}));const i=((o=n==null?void 0:n.remoteFeatures)==null?void 0:o.email)??!0,s=Array.isArray((a=n==null?void 0:n.remoteFeatures)==null?void 0:a.socials)&&((u=(c=n==null?void 0:n.remoteFeatures)==null?void 0:c.socials)==null?void 0:u.length)>0;(i||s)&&r.push(k9e({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(f=>{const h=this.wagmiConfig._internal.connectors.setup(f);this.wagmiConfig._internal.connectors.setState(p=>[...p,h])})}async handleAccountChanged({address:e,chainId:n,connector:r}){if(!this.namespace)throw new Error("WagmiAdapter:handleAccountChanged - namespace is required");const i=await r.getProvider().catch(()=>{});this.emit("accountChanged",{address:this.toChecksummedAddress(e),chainId:n,connector:{id:r.id,name:pa.ConnectorNamesMap[r.id]??r.name,imageId:pa.ConnectorImageIds[r.id],type:pa.ConnectorTypesMap[r.type]??"EXTERNAL",info:r.id===oe.CONNECTOR_ID.INJECTED?void 0:{rdns:r.id},provider:i,chain:this.namespace,chains:[]}})}async signMessage(e){try{return{signature:await c9e(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=P1(this.wagmiConfig),i={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await o9e(this.wagmiConfig,i);const s=await a9e(this.wagmiConfig,i);return await p9e(this.wagmiConfig,{hash:s,timeout:25e3}),{hash:s}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,i=Number($1.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await m9e(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[i],chainId:i,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await t9e(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return goe(e.value,e.decimals)}formatUnits(e){return yb(e.value,e.decimals)}async addWagmiConnector(e,n){var i;if(!this.namespace)throw new Error("WagmiAdapter:addWagmiConnector - namespace is required");if(e.type===oe.CONNECTOR_ID.INJECTED&&n.enableEIP6963===!1||e.id===oe.CONNECTOR_ID.AUTH||e.id===oe.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:pa.ConnectorExplorerIds[e.id],imageUrl:((i=n==null?void 0:n.connectorImages)==null?void 0:i[e.id])??e.icon,name:pa.ConnectorNamesMap[e.id]??e.name,imageId:pa.ConnectorImageIds[e.id],type:pa.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===oe.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){f9e(this.wagmiConfig,{onChange:r=>{r.forEach(i=>this.addWagmiConnector(i,e))}}),this.addWagmiConnectors(e,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addThirdPartyConnectors(e)}async syncConnections(){return Promise.resolve()}async syncConnection(e){var u,f;const{id:n,chainId:r}=e,s=od(this.wagmiConfig).find(h=>h.connector.id===n),o=this.getWagmiConnector(n),a=await(o==null?void 0:o.getProvider());if(be.isSafeApp()&&n===oe.CONNECTOR_ID.SAFE&&!(s!=null&&s.accounts.length)){const h=this.getWagmiConnector("safe");if(h){const p=await vN(this.wagmiConfig,{connector:h,chainId:Number(r)}),g=await h.getProvider();return{chainId:Number(r),address:this.toChecksummedAddress(p.accounts[0]),provider:g,type:(u=s==null?void 0:s.connector.type)==null?void 0:u.toUpperCase(),id:s==null?void 0:s.connector.id}}}return{chainId:Number(s==null?void 0:s.chainId),address:this.toChecksummedAddress(s==null?void 0:s.accounts[0]),provider:a,type:(f=s==null?void 0:s.connector.type)==null?void 0:f.toUpperCase(),id:s==null?void 0:s.connector.id}}async connectWalletConnect(e){try{const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const i=await vN(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return i.chainId!==Number(e)&&await vj(this.wagmiConfig,{chainId:i.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}catch(n){throw n instanceof wi?new Error(n.shortMessage):n}}async connect(e){var p,g,w,y,b;const{id:n,address:r,provider:i,type:s,info:o,chainId:a,socialUri:c}=e,u=this.getWagmiConnector(n);if(!u)throw new Error("connectionControllerClient:connectExternal - connector is undefined");i&&o&&u.id===oe.CONNECTOR_ID.EIP6963&&((p=u.setEip6963Wallet)==null||p.call(u,{provider:i,info:o}));const f=(w=(g=this.wagmiConfig.state)==null?void 0:g.connections)==null?void 0:w.get(u.uid);if(f){await((y=this.wagmiConfig.storage)==null?void 0:y.setItem("recentConnectorId",u.id));const C=[...f.accounts].sort((x,E)=>ar.isLowerCaseMatch(x,r)?-1:ar.isLowerCaseMatch(E,r)?1:0);return(b=this.wagmiConfig)==null||b.setState(x=>({...x,connections:new Map(x.connections).set(u.uid,{accounts:C,chainId:f.chainId,connector:f.connector}),current:u.uid,status:"connected"})),{address:this.toChecksummedAddress(C[0]),chainId:f.chainId,provider:i,type:s,id:n}}const h=await vN(this.wagmiConfig,{connector:u,chainId:a?Number(a):void 0,socialUri:c});return{address:this.toChecksummedAddress(h.accounts[0]),chainId:h.chainId,provider:i,type:s,id:n}}get connections(){return Array.from(this.wagmiConfig.state.connections.values()).map(e=>({accounts:e.accounts.map(n=>({address:this.toChecksummedAddress(n)})),connectorId:e.connector.id}))}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await bj(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(i=>i.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const i=`${r.caipNetworkId}:${e.address}`,s=this.balancePromises[i];if(s)return s;const o=Ne.getNativeBalanceCacheForCaipAddress(i);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[i]=new Promise(async a=>{var c,u;try{const f=Number(e.chainId),h=await s9e(this.wagmiConfig,{address:e.address,chainId:f,token:(u=(c=e.tokens)==null?void 0:c[r.caipNetworkId])==null?void 0:u.address});Ne.updateNativeBalanceCache({caipAddress:i,balance:h.formatted,symbol:h.symbol,timestamp:Date.now()}),a({balance:h.formatted,symbol:h.symbol})}catch(f){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",f),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[i]}),this.balancePromises[i]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(e){if(e.id){const n=this.getWagmiConnector(e.id),i=od(this.wagmiConfig).find(s=>ar.isLowerCaseMatch(s.connector.id,e.id));return await yj(this.wagmiConfig,{connector:n}),ce.state.enableReconnect===!1&&this.deleteConnection(e.id),i?{connections:[{accounts:i.accounts.map(s=>({address:this.toChecksummedAddress(s)})),connectorId:i.connector.id}]}:{connections:[]}}return this.disconnectAll()}async disconnectAll(){const e=od(this.wagmiConfig),n=await Promise.allSettled(e.map(async r=>{const i=this.getWagmiConnector(r.connector.id);return i&&await yj(this.wagmiConfig,{connector:i}),r}));return this.wagmiConfig.state.connections.clear(),{connections:n.filter(r=>r.status==="fulfilled").map(({value:r})=>({accounts:r.accounts.map(i=>({address:this.toChecksummedAddress(i)})),connectorId:r.connector.id}))}}async switchNetwork(e){var i,s,o,a,c,u,f,h,p,g;const{caipNetwork:n}=e,r=this.wagmiConfig.chains.find(w=>w.id.toString()===n.id.toString());await vj(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:(r==null?void 0:r.name)??n.name,nativeCurrency:(r==null?void 0:r.nativeCurrency)??n.nativeCurrency,rpcUrls:[((o=(s=(i=n.rpcUrls)==null?void 0:i.chainDefault)==null?void 0:s.http)==null?void 0:o[0])??((u=(c=(a=r==null?void 0:r.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:u[0])??""],blockExplorerUrls:[((h=(f=r==null?void 0:r.blockExplorers)==null?void 0:f.default)==null?void 0:h.url)??((g=(p=n.blockExplorers)==null?void 0:p.default)==null?void 0:g.url)??""]}}),await super.switchNetwork(e)}async getCapabilities(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=od(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");return await s.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=od(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return s.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=od(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return s.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=od(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return s.request({method:"wallet_getAssets",params:[e]})}setAuthProvider(e){if(!this.namespace)throw new Error("WagmiAdapter:setAuthProvider - namespace is required");this.addConnector({id:oe.CONNECTOR_ID.AUTH,type:"AUTH",name:oe.CONNECTOR_NAMES.AUTH,provider:e,imageId:pa.ConnectorImageIds[oe.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}async setUniversalProvider(e){return e.on("connect",()=>{const n=od(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");if(r&&!n.find(i=>i.connector.id===r.id)){if(F.state.activeChain==="eip155")return;bj(this.wagmiConfig,{connectors:[r]})}}),this.addConnector(new d8({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"})),Promise.resolve()}toChecksummedAddress(e){return gb(e.toLowerCase())}}const L9e=new SOe({defaultOptions:{queries:{staleTime:1/0,cacheTime:1e3*60*60*24,refetchOnWindowFocus:!1}}}),sZ="7aeb0b1e4f909129e60fbdb7a7b3f608",oZ=[eP,J4,j3,X4,tP],aZ=new D9e({networks:oZ,projectId:sZ,ssr:!1});try{wTe({adapters:[aZ],networks:oZ,defaultNetwork:j3,projectId:sZ,chainImages:{369:"/pulse-chain.png",146:"/S_token.svg"},features:{socials:!1,email:!1}})}catch(t){console.error("Failed to initialize AppKit:",t)}const bO={[J4.id]:J4.nativeCurrency.symbol,[X4.id]:X4.nativeCurrency.symbol,[tP.id]:tP.nativeCurrency.symbol,[j3.id]:j3.nativeCurrency.symbol,[eP.id]:eP.nativeCurrency.symbol};function M9e(t){const e=Number(t)||0;if(e<=0)return"0h 0m 0s";const n=Math.floor(e%86400/3600),r=Math.floor(e%3600/60),i=Math.floor(e%60);return`${n}h ${r}m ${i}s`}const Sj=t=>{try{const e=typeof t=="object"&&"toNumber"in t?t.toNumber():Number(t);return new Date(e*1e3).toLocaleString()}catch(e){return console.error("Error formatting timestamp:",e),"Invalid Date"}},pr=t=>{if(t==null)return"";const e=t.toString(),[n,r]=e.split("."),i=n.replace(/\B(?=(\d{3})+(?!\d))/g,",");return r?`${i}.${r}`:i},_j=(t,e)=>{const[n,r=""]=t.toString().split(".");return r.length>e?`${n}.${r.slice(0,e)}`:t.toString()},B9e=t=>/^\d*\.?\d{0,18}$/.test(t);function U9e(t,e,n,r){if(t.tokenName==="DAV"||t.tokenName==="STATE")return"-----";const i=e[t.tokenName],s=t.ratio,o=parseFloat(n||0);if(i===void 0||!s||o<=0)return"Loading...";const c=parseFloat(i)*parseFloat(s)*o;return`${pr(c.toFixed(0))} ${bO[r]||"PLS"}`}function cZ(t,e,n){if(t.tokenName==="DAV"||t.tokenName==="STATE")return 0;const r=e[t.tokenName],i=t.ratio,s=parseFloat(n||0);return!i||i==="not started"||i==="not listed"||r===void 0||!i||s<=0?0:parseFloat(r)*parseFloat(i)*s}const lZ=U.createContext(),uZ=({children:t})=>{const{AllContracts:e,signer:n}=U.useContext(Pa),{address:r,isConnected:i}=Sc(),s=Na(),[o,a]=U.useState({}),c=()=>fO(s),u=()=>Ny(s),f=()=>IQ(s),[h,p]=U.useState(!0),[g,w]=U.useState(!1),[y,b]=U.useState(!1),[C,x]=U.useState([]),[E,I]=U.useState([]),[S,T]=U.useState([]),[R,O]=U.useState([]),[k,M]=U.useState([]),[L,j]=U.useState(null),[Q,J]=U.useState(null),[$,D]=U.useState(!1),[H,z]=U.useState({Supply:"0.0",stateHolding:"0.0",ReferralCodeOfUser:"0.0",ReferralAMount:"0.0",totalStateBurned:"0.0",TokenProcessing:"0.0",DavMintFee:"0.0",pendingToken:"0.0",claimableAmount:"0.0",currentBurnCycle:"0.0",userBurnedAmountInCycle:"0.0",usableTreasury:"0.0",tokenEntries:null,expectedClaim:"0.0",CanClaimNow:"false",claimableAmountForBurn:"0.0",UserPercentage:"0.0",TimeUntilNextClaim:"0.0",AllUserPercentage:"0.0",stateHoldingOfSwapContract:"0.0",ContractPls:"0.0",davHolds:"0.0",davExpireHolds:"0.0",totalInvestedPls:"0.0"}),Y=async(st,Te,Qe=!0,at=2,Jt="number")=>{var An,In,en;try{const Ft=await Te();let xn;if(Jt==="boolean")xn=Ft?"true":"false";else if(st==="UserPercentage"){const Me=Number(Ft)/100;xn=_j(Me,at)}else if(st==="DavMintFee")xn=parseFloat(vi(Ft,18)).toString();else{const Me=Qe?parseFloat(vi(Ft,18)):Ft;xn=Qe?_j(Me,at):Me.toString()}z(Me=>({...Me,[st]:xn}))}catch(Ft){if((An=Ft==null?void 0:Ft.reason)!=null&&An.includes("No previous cycle exists")||(en=(In=Ft==null?void 0:Ft.data)==null?void 0:In.message)!=null&&en.includes("No previous cycle exists")){console.log(`Suppressed error for ${st}: No previous cycle exists`);return}console.error(`Error fetching ${st}:`,Ft)}},K=U.useCallback(async()=>{if(!(!(e!=null&&e.davContract)||!r)){console.log(" Fetching contract data for chain:",s),console.log(" DAV Contract address:",c()),console.log(" User address:",r),p(!0);try{if(!(e!=null&&e.davContract)||!(e!=null&&e.stateContract)){console.warn("Contracts not initialized yet, skipping data fetch"),p(!1);return}if(!r||r==="0x0000000000000000000000000000000000000000"){console.warn("No valid wallet address, skipping data fetch"),p(!1);return}let st=0;try{const Te=await e.davContract.getCurrentClaimCycle();st=parseInt(Te.toString())}catch(Te){console.warn("getCurrentClaimCycle not available yet; continuing",(Te==null?void 0:Te.reason)||(Te==null?void 0:Te.message)||Te)}z(Te=>({...Te,currentBurnCycle:st.toString()})),await Promise.allSettled([Y("Supply",()=>e.davContract.totalSupply()),Y("claimableAmount",()=>e.davContract.earned(r)),Y("DavMintFee",()=>(console.log(" Fetching TOKEN_COST from contract..."),e.davContract.TOKEN_COST())),Y("davHolds",()=>e.davContract.getActiveBalance(r)),Y("davGovernanceHolds",()=>e.davContract.balanceOf(r)),Y("stateHolding",()=>e.stateContract.balanceOf(r)),Y("stateHoldingOfSwapContract",()=>e.stateContract.balanceOf(f())),Y("ReferralCodeOfUser",()=>e.davContract.getUserReferralCode(r),!1),Y("ReferralAMount",()=>e.davContract.referralRewards(r))]),await V()}catch(st){console.error("Error fetching contract data:",st)}finally{p(!1)}}},[e,r,s]),q=async()=>{await Y("stateHolding",()=>e.stateContract.balanceOf(r))},V=async()=>{try{const st=await e.davContract.balanceOf(r),Te=await e.davContract.TOKEN_COST(),Qe=parseFloat(vi(st,18)),at=parseFloat(vi(Te,18)),Jt=(Qe*at).toFixed(2);z(An=>({...An,totalInvestedPls:parseFloat(Jt).toFixed(0)})),console.log("Total invested PLS:",Jt)}catch(st){console.error("Error calculating total invested PLS:",st),z(Te=>({...Te,totalInvestedPls:"0.0"}))}},ue=async()=>{try{console.warn("fetchAndStoreTokenEntries: Function disabled - use autoRegisteredTokens instead")}catch(st){console.error("Error fetching token entries:",st)}},le=async()=>{if(!(!E||E.length===0||!(e!=null&&e.AuctionContract)))try{const st=await Promise.all(E.map(async Te=>{var Qe,at;try{const Jt=Number(await((at=(Qe=e.AuctionContract).tokenCount)==null?void 0:at.call(Qe).catch(()=>0)));for(let An=0;An<Jt;An++)try{const In=await e.AuctionContract.autoRegisteredTokens(An);if(!In||In===er)continue;if((await new un(In,["function name() view returns (string)"],provider).name().catch(()=>"")).toLowerCase()===Te.toLowerCase())return!0}catch{}return!1}catch(Jt){return console.error(`Error checking deployment for ${Te}:`,Jt),!1}}));M(st)}catch(st){console.error("Error in isTokenDeployed:",st)}};U.useEffect(()=>{r&&(e!=null&&e.davContract)&&K()},[r,e==null?void 0:e.davContract,K]),U.useEffect(()=>{E&&E.length>0&&(e!=null&&e.AuctionContract)&&le()},[E,e==null?void 0:e.AuctionContract]);const ge=U.useCallback(async()=>{if(!(!(e!=null&&e.davContract)||!r))try{await Promise.allSettled([Y("davExpireHolds",()=>e.davContract.getExpiredTokenCount(r),!0),Y("davHolds",()=>e.davContract.getActiveBalance(r))])}catch(st){console.error("Error fetching DAV balances:",st)}},[e,r]);U.useEffect(()=>{if(!(e!=null&&e.davContract)||!r)return;const st=setInterval(()=>{ge(),ue()},1e3);return()=>clearInterval(st)},[ge,e==null?void 0:e.davContract,r]),U.useEffect(()=>{if(!(e!=null&&e.AuctionContract)||!E||E.length===0)return;const st=setInterval(()=>{le()},1e4);return()=>clearInterval(st)},[E,e==null?void 0:e.AuctionContract]),U.useEffect(()=>{H.TimeUntilNextClaim===0&&K()},[H.TimeUntilNextClaim,K]),U.useEffect(()=>{i&&(e!=null&&e.davContract)&&K()},[i,e,K]);const[ve,Pe]=U.useState(""),Ie=async(st,Te="")=>{var en,Ft,xn,Me,sn,tn,Fn,Lr,pn;if(!(e!=null&&e.davContract)){ot("Contract not initialized");return}try{const mn=await((en=n==null?void 0:n.getAddress)==null?void 0:en.call(n)),Er=(sn=(Me=await((xn=(Ft=e==null?void 0:e.AuctionContract)==null?void 0:Ft.governanceAddress)==null?void 0:xn.call(Ft)))==null?void 0:Me.toLowerCase)==null?void 0:sn.call(Me);if(mn&&Er&&mn.toLowerCase()===Er)throw ot("Governance cannot mint DAV"),new Error("Governance cannot mint DAV")}catch{}try{if(!n){if(typeof window<"u"&&((tn=window.ethereum)!=null&&tn.request))try{await window.ethereum.request({method:"eth_requestAccounts"})}catch{}throw new Error("Wallet not connected")}const mn="0x"+Number(s).toString(16);try{await((Lr=(Fn=n.provider)==null?void 0:Fn.send)==null?void 0:Lr.call(Fn,"wallet_switchEthereumChain",[{chainId:mn}]))}catch{}}catch(mn){throw ot("Connect wallet on the correct chain"),mn}if(st==null||st==="")throw ot("Enter amount"),new Error("No amount provided");if(!/^[0-9]+$/.test(String(st)))throw ot("Amount must be whole number"),new Error("Non whole number");if(BigInt(st)===0n)throw ot("Amount must be greater than zero"),new Error("Zero amount");const at=Xp(st.toString()),Jt=parseFloat(H.DavMintFee),An=Xp((st*Jt).toString());console.log(" Minting Debug:",{amount:st,davMintFee:H.DavMintFee,davMintFeeNumber:Jt,calculatedCost:(st*Jt).toString(),chainId:s});const In=Te.trim()||"0x0000000000000000000000000000000000000000";try{Pe("initiated");const mn=await e.davContract.mintDAV(at,In,{value:An});return Pe("pending"),await mn.wait(),Pe("confirmed"),Fo(`${st} token minted successfully!`),await K(),mn}catch(mn){Pe("error"),console.error("Minting error raw:",mn);let Er="Mint failed";const pi=((mn==null?void 0:mn.message)||"").toLowerCase();throw mn!=null&&mn.reason?Er=mn.reason:(pn=mn==null?void 0:mn.data)!=null&&pn.message?Er=mn.data.message:pi.includes("pool not ready")?Er="Pool not ready - refresh later":pi.includes("incorrect pls amount")?Er="Incorrect PLS value sent":pi.includes("max holders")?Er="Maximum holders reached":pi.includes("max supply")?Er="Max supply reached":pi.includes("governance cannot mint")?Er="Governance wallet cannot mint":pi.includes("rejected")?Er="User rejected transaction":pi.includes("whole number")&&(Er="Amount must be whole number"),ot(Er),mn}finally{Pe("")}},ke=async(st,Te,Qe=!1)=>{var Jt,An,In;if(!(e!=null&&e.davContract))return;let at=null;try{if(!await(async()=>{var xn,Me,sn,tn,Fn,Lr,pn,mn,Er,pi,on,_c,jn,$i,ys,ka,Ra,Fs;try{if(!n){if(typeof window<"u"&&((xn=window.ethereum)!=null&&xn.request))try{await window.ethereum.request({method:"eth_requestAccounts"})}catch{}throw new Error("Wallet not connected")}try{await((sn=(Me=n.provider)==null?void 0:Me.send)==null?void 0:sn.call(Me,"eth_requestAccounts",[]))}catch{}const js="0x"+Number(s).toString(16);try{await((Fn=(tn=n.provider)==null?void 0:tn.send)==null?void 0:Fn.call(tn,"wallet_switchEthereumChain",[{chainId:js}]))}catch(ws){const Ei=(ws==null?void 0:ws.code)??((pn=(Lr=ws==null?void 0:ws.data)==null?void 0:Lr.originalError)==null?void 0:pn.code);if(Ei===4902||Ei==="4902")try{const ur=Jc==null?void 0:Jc();await((Fs=(mn=n.provider)==null?void 0:mn.send)==null?void 0:Fs.call(mn,"wallet_addEthereumChain",[{chainId:js,chainName:((Er=ur==null?void 0:ur.network)==null?void 0:Er.name)||`Chain ${s}`,nativeCurrency:{name:((on=(pi=ur==null?void 0:ur.dex)==null?void 0:pi.baseToken)==null?void 0:on.symbol)||"PLS",symbol:((jn=(_c=ur==null?void 0:ur.dex)==null?void 0:_c.baseToken)==null?void 0:jn.symbol)||"PLS",decimals:((ys=($i=ur==null?void 0:ur.dex)==null?void 0:$i.baseToken)==null?void 0:ys.decimals)||18},rpcUrls:[(ka=ur==null?void 0:ur.network)==null?void 0:ka.rpcUrl].filter(Boolean),blockExplorerUrls:[(Ra=ur==null?void 0:ur.network)==null?void 0:Ra.explorerUrl].filter(Boolean)}]))}catch{}}return await n.getAddress(),!0}catch{return ot("Connect wallet to proceed"),!1}})())return;D(!0);const Ft=await e.davContract.processYourToken(st,Te);return at=vr.loading(`Processing token: ${st}`,{position:"top-center"}),await Ft.wait(),vr.dismiss(at),vr.success(`Token listed: ${st}`,{position:"top-center",autoClose:5e3}),await K(),Ft}catch(en){console.error("Token listing error:",en,{reason:en.reason,data:en.data,message:en.message});let Ft="Transaction failed";const xn=(en==null?void 0:en.code)??((An=(Jt=en==null?void 0:en.data)==null?void 0:Jt.originalError)==null?void 0:An.code),Me=((en==null?void 0:en.message)||"").toLowerCase();throw xn===4001||xn==="ACTION_REJECTED"||Me.includes("user rejected")||Me.includes("rejected")?Ft="Transaction rejected by user":en.reason?Ft=en.reason:(In=en.data)!=null&&In.message&&(Ft=en.data.message),alert(`Error: ${Ft}`),vr.dismiss(at),ot(at?` Error: ${Ft}`:` ${Ft}`),en}finally{D(!1)}},it=async()=>{var st;if(e!=null&&e.davContract)try{J(!0),await(await e.davContract.claimReward()).wait(),await Y("claimableAmount",()=>e.davContract.earned(r)),J(!1)}catch(Te){console.error("Claim error:",Te);let Qe="An unknown error occurred while claiming reward.";J(!1),(st=Te==null?void 0:Te.error)!=null&&st.message?Qe=Te.error.message:Te!=null&&Te.reason?Qe=Te.reason:Te!=null&&Te.message&&(Qe=Te.message),alert(`Claim failed: ${Qe}`)}finally{J(!1)}},Xt=async(st,Te)=>{var Qe,at,Jt,An,In,en,Ft,xn,Me,sn,tn,Fn,Lr,pn,mn,Er,pi,on,_c;if(e!=null&&e.AuctionContract)try{try{if(!n){if(typeof window<"u"&&((Qe=window.ethereum)!=null&&Qe.request))try{await window.ethereum.request({method:"eth_requestAccounts"})}catch{}throw new Error("Wallet not connected")}try{await((Jt=(at=n.provider)==null?void 0:at.send)==null?void 0:Jt.call(at,"eth_requestAccounts",[]))}catch{}const ws="0x"+Number(s).toString(16);try{await((In=(An=n.provider)==null?void 0:An.send)==null?void 0:In.call(An,"wallet_switchEthereumChain",[{chainId:ws}]))}catch(Ei){const ur=(Ei==null?void 0:Ei.code)??((Ft=(en=Ei==null?void 0:Ei.data)==null?void 0:en.originalError)==null?void 0:Ft.code);if(ur===4902||ur==="4902")try{const Ir=Jc==null?void 0:Jc();await((on=(xn=n.provider)==null?void 0:xn.send)==null?void 0:on.call(xn,"wallet_addEthereumChain",[{chainId:ws,chainName:((Me=Ir==null?void 0:Ir.network)==null?void 0:Me.name)||`Chain ${s}`,nativeCurrency:{name:((tn=(sn=Ir==null?void 0:Ir.dex)==null?void 0:sn.baseToken)==null?void 0:tn.symbol)||"PLS",symbol:((Lr=(Fn=Ir==null?void 0:Ir.dex)==null?void 0:Fn.baseToken)==null?void 0:Lr.symbol)||"PLS",decimals:((mn=(pn=Ir==null?void 0:Ir.dex)==null?void 0:pn.baseToken)==null?void 0:mn.decimals)||18},rpcUrls:[(Er=Ir==null?void 0:Ir.network)==null?void 0:Er.rpcUrl].filter(Boolean),blockExplorerUrls:[(pi=Ir==null?void 0:Ir.network)==null?void 0:pi.explorerUrl].filter(Boolean)}]))}catch{}}await n.getAddress()}catch{ot("Connect wallet to proceed");return}const jn=(st||"").trim(),$i=(Te||"").trim();if(!jn||!$i){ot("Enter token name and symbol");return}const ys=(await e.AuctionContract.governanceAddress()).toLowerCase();if((await n.getAddress()).toLowerCase()!==ys){ot("Only governance wallet can deploy tokens");return}const Ra=await e.AuctionContract.treasury(),Fs=await n.getAddress();j(st),await(await e.AuctionContract.deployUserToken(jn,$i,ys,Ra,Fs)).wait(),await K(),await le()}catch(jn){console.error("Deploy error:",jn);let $i="Transaction failed";const ys=((jn==null?void 0:jn.message)||"").toLowerCase();jn!=null&&jn.reason?$i=jn.reason:ys.includes("onlygovernance")||ys.includes("notgovernance")?$i="Only governance can deploy tokens":(_c=jn==null?void 0:jn.data)!=null&&_c.message&&($i=jn.data.message),ot($i)}finally{j(null)}},dn=async()=>{var st,Te;if(e!=null&&e.davContract)try{b(!0),await(await e.davContract.claimPLS()).wait(),await K(),Fo("Claimed PLS!")}catch(Qe){console.error("Burn claim error:",Qe);let at="Transaction failed";Qe.reason?at=Qe.reason:(st=Qe.error)!=null&&st.message?at=Qe.error.message:(Te=Qe.data)!=null&&Te.message?at=Qe.data.message:Qe.message&&(at=Qe.message),ot(at)}finally{b(!1)}},hn=async st=>{try{const Te=new un(u(),O5,n),Qe=pu("500000000",18);await(await Te.approve(f(),Qe)).wait(),await(await e.AuctionContract.depositStateForTokenOwner(st)).wait(),await K(),Fo("Deposited State tokens")}catch(Te){console.error("Deposit  error:",Te)}},rr=async st=>{var Te;if(e!=null&&e.davContract)try{a("initiated"),w(!0);const Qe=pu(st.toString(),18),at=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Jt=new un(u(),O5,n),An=await Jt.allowance(r,c());BigInt(An)<BigInt(Qe)&&(a("Approving"),await(await Jt.approve(c(),at)).wait()),a("Pending"),await(await e.davContract.burnState(Qe)).wait(),a("confirmed"),w(!1),Fo(`${st} of tokens Burned Successfully`),await K(),await ge()}catch(Qe){console.error("Burn error:",Qe),a("error");let at="An error occurred during burn.";Qe!=null&&Qe.reason?at=Qe.reason:(Te=Qe==null?void 0:Qe.data)!=null&&Te.message?at=Qe.data.message:Qe!=null&&Qe.message&&(at=Qe.message),at.includes("execution reverted (unknown custom error)")&&(at="Check state token balance"),ot(at),w(!1)}finally{a("")}};return uZ.propTypes={children:Bt.node.isRequired},_.jsx(lZ.Provider,{value:{...H,isLoading:h,BurnClicked:g,Claiming:y,mintDAV:Ie,BurnStateTokens:rr,claimAmount:it,isClaiming:Q,claimBurnAmount:dn,AddYourToken:ke,buttonTextStates:o,fetchData:K,fetchStateHolding:q,deployWithMetaMask:Xt,DepositStateBack:hn,users:C,isProcessingToken:$,setProcessToken:D,names:E,Emojies:S,TokenStatus:R,isProcessing:L,txStatus:ve,setTxStatus:Pe,isUsed:k},children:t})},e0=()=>U.useContext(lZ),vO={[cl.PULSECHAIN]:"pulsechain"};function Tj(t,e){const n=vO[t];return!n||!e?null:`https://www.geckoterminal.com/${n}/pools/${e}`}function Ij(t,e){const n=vO[t];return!n||!e?null:`https://api.geckoterminal.com/api/v2/networks/${n}/tokens/${e}`}function F9e(t,e,n=1){const r=vO[t];return!r||!e?null:`https://api.geckoterminal.com/api/v2/networks/${r}/tokens/${e}/pools?page=${n}`}let Io=null,td=null,Vk=0;const D5=3600*1e3;async function j9e(t,e){try{if(Io&&Date.now()-Vk<D5)return Io;const n=await t.getAuctionTimeLeft(e),r=Number(n);if(await t.isAuctionActive(e)&&r>0&&(!Io||r>Io*.95)){Io=r,Vk=Date.now(),console.log(` Detected auction duration: ${r} seconds (${Math.floor(r/60)} minutes)`);try{localStorage.setItem("detected_auction_duration",r.toString()),localStorage.setItem("auction_duration_timestamp",Date.now().toString())}catch(s){console.warn("Could not save auction duration to localStorage:",s)}}if(!Io)try{const s=localStorage.getItem("detected_auction_duration"),o=localStorage.getItem("auction_duration_timestamp");s&&o&&Date.now()-parseInt(o)<D5&&(Io=parseInt(s),console.log(` Loaded auction duration from cache: ${Io} seconds`))}catch(s){console.warn("Could not load auction duration from localStorage:",s)}if(!Io&&r>0){const o=[300,900,1800,3600].reduce((a,c)=>Math.abs(c-r)<Math.abs(a-r)?c:a);Io=o,console.log(` Estimated auction duration: ${o} seconds based on time left`)}return Io||300}catch(n){return console.error("Error detecting auction duration:",n),Io||300}}async function z9e(t){try{if(td&&Date.now()-Vk<D5)return td;try{const e=localStorage.getItem("detected_auction_interval"),n=localStorage.getItem("auction_interval_timestamp");if(e&&n&&Date.now()-parseInt(n)<D5)return td=parseInt(e),console.log(` Loaded auction interval from cache: ${td} seconds`),td}catch(e){console.warn("Could not load auction interval from localStorage:",e)}return Io?(td=Io,console.log(` Using auction duration as interval: ${td} seconds`),td):300}catch(e){return console.error("Error detecting auction interval:",e),td||300}}function Nj(t){if(!t)return"unknown";if(t<60)return`${t} seconds`;if(t<3600){const e=Math.floor(t/60);return`${e} minute${e!==1?"s":""}`}else{const e=Math.floor(t/3600),n=Math.floor(t%3600/60);return n===0?`${e} hour${e!==1?"s":""}`:`${e} hour${e!==1?"s":""} ${n} minute${n!==1?"s":""}`}}async function W9e(t,e=null){try{let n=e;if(!n)try{const[s]=await t.getTodayToken();n=s}catch(s){console.warn("Could not get today's token:",s)}const r=await j9e(t,n),i=await z9e(t);return{duration:r,interval:i,durationFormatted:Nj(r),intervalFormatted:Nj(i)}}catch(n){return console.error("Error getting auction timing:",n),{duration:300,interval:300,durationFormatted:"5 minutes",intervalFormatted:"5 minutes"}}}const dZ=U.createContext(),Cp=()=>U.useContext(dZ),fZ=({children:t})=>{const{fetchStateHolding:e}=e0(),n=Na(),{loading:r,provider:i,signer:s,AllContracts:o}=U.useContext(Pa),{address:a,connector:c}=Sc(),{data:u}=XQ();U.useRef(null),U.useEffect(()=>{var ee,Se;u&&((Se=(ee=u.transport)==null?void 0:ee.on)==null||Se.call(ee,"chainChanged",()=>{window.location.reload()}),c==null||c.getProvider().then(Ue=>{Ue!=null&&Ue.on&&Ue.on("chainChanged",()=>{window.location.reload()})}))},[u,c]);const f=()=>fO(n),h=()=>Ny(n),p=()=>IQ(n),[g,w]=U.useState(!1),[y,b]=U.useState(""),[C,x]=U.useState(""),[E,I]=U.useState(null),[S,T]=U.useState("0.0"),[R,O]=U.useState({}),[k,M]=U.useState("0.0"),[L,j]=U.useState({}),[Q,J]=U.useState({}),[$,D]=U.useState(0),H=U.useRef({}),z=U.useRef(0),[Y,K]=U.useState({}),[q,V]=U.useState({}),[ue,le]=U.useState({}),[ge,ve]=U.useState({}),[Pe,Ie]=U.useState({}),[ke,it]=U.useState({}),[Xt,dn]=U.useState({}),[hn,rr]=U.useState({}),[st,Te]=U.useState({}),[Qe,at]=U.useState(""),[Jt,An]=U.useState({}),[In,en]=U.useState({}),[Ft,xn]=U.useState({}),[Me,sn]=U.useState({}),[tn,Fn]=U.useState([]),[Lr,pn]=U.useState({}),[mn,Er]=U.useState({}),[pi,on]=U.useState({}),[_c,jn]=U.useState({}),[$i,ys]=U.useState({}),[ka,Ra]=U.useState(""),[Fs,js]=U.useState(!1),[ws,Ei]=U.useState(""),[ur,Ir]=U.useState(""),[qe,Je]=U.useState({}),[xt,Lt]=U.useState({}),[ir,jt]=U.useState(null),[zn,sr]=U.useState("0.0"),[Di,bs]=U.useState(null),[Tc,_x]=U.useState(null),t0=async ee=>{if(n==146)I(Xp((ee*100).toString()));else try{if(!(o!=null&&o.davContract)||!ee){I(Xp((ee*500).toString()));return}const Se=await o.davContract.TOKEN_COST(),Ue=parseFloat(vi(Se,18));I(Xp((ee*Ue).toString()))}catch(Se){console.error("Error getting DavMintFee:",Se),I(Xp((ee*500).toString()))}},Li=async()=>{var ee,Se;if(!(o!=null&&o.swapLens)||!(o!=null&&o.AuctionContract))return console.warn("SwapLens or AuctionContract not available"),{};try{const Ue=await((Se=(ee=o.AuctionContract).tokenCount)==null?void 0:Se.call(ee).catch(()=>0)),Ke={};for(let re=0;re<Ue;re++)try{const Re=await o.AuctionContract.autoRegisteredTokens(re);if(Re&&Re!==er){const It=new un(Re,["function name() view returns (string)","function symbol() view returns (string)"],i),[Tt,Ot]=await Promise.all([It.name().catch(()=>`Token${re}`),It.symbol().catch(()=>"TKN")]);Ke[Tt]=Re}}catch(Re){console.warn(`Failed to fetch token at index ${re}:`,Re)}try{const re=await o.swapLens.getUserTokenData(a);re&&typeof re=="object"&&Object.assign(Ke,re)}catch{}return Ke}catch(Ue){return console.error("Error in ReturnfetchUserTokenAddresses:",Ue),{}}},jr=async({contractMethod:ee,setState:Se,formatFn:Ue=It=>It.toString(),includeTestState:Ke=!1,buildArgs:re,useAddressAsKey:Re=!1})=>{var It;try{const Tt={},Ot=await Li(),gt=Ke?{...Ot,state:h()}:Ot;for(const[$e,yt]of Object.entries(gt))try{const Yt=o.AuctionContract;if(!Yt||typeof Yt[ee]!="function")throw new Error(`Method ${ee} not found on contract`);const Jn=re?re(yt,$e):[yt],St=await Yt[ee](...Jn),et=Ue(St),kt=Re?yt:$e;Tt[kt]=et}catch(Yt){const Jn=(Yt==null?void 0:Yt.reason)||(Yt==null?void 0:Yt.shortMessage)||((It=Yt==null?void 0:Yt.error)==null?void 0:It.errorName)||(Yt==null?void 0:Yt.message)||"",St=/unsupported token/i.test(Jn),et=Re?yt:$e;St?Tt[et]="not listed":Tt[et]="not started",console.error(`Error calling ${ee} for ${$e} (${yt}):`,Jn||Yt)}return Se(Tt),Tt}catch(Tt){return console.error("Top-level error in fetchTokenData:",Tt),{}}},Oa=async()=>{await jr({contractMethod:"getAvailableDavForAuction",setState:O,formatFn:ee=>Math.floor(Number(oh(ee))),buildArgs:ee=>[a,ee]})},Tl=async()=>{await jr({contractMethod:"getUserStateBalance",setState:le,formatFn:ee=>Math.floor(Number(oh(ee))),buildArgs:ee=>[a,ee]})},Il=async()=>{try{const ee={},Se=await Li();for(const[Ue,Ke]of Object.entries(Se))try{const re=await o.airdropDistributor.getClaimable(Ke,a),Re=Array.isArray(re)?re[2]||0n:(re==null?void 0:re.amount)||0n;ee[Ue]=Math.floor(Number(oh(Re)))}catch(re){console.warn("getClaimable failed for",Ue,(re==null?void 0:re.message)||re),ee[Ue]=0}return M(ee),ee}catch(ee){return console.error("Error fetching airdrop amounts:",ee),{}}},n0=async()=>{await jr({contractMethod:"getPairAddress",setState:K,formatFn:ee=>ee.toString(),buildArgs:ee=>[ee]})},xp="https://rpc.pulsechain.com",Nl=new _Q(xp);U.useEffect(()=>{let ee,Se,Ue=!0,Ke=null,re=!1;const Re=()=>{},It=async(et=!0)=>{if(!(!(o!=null&&o.AuctionContract)||!Ue))try{et&&console.log(" Fetching auction times...");try{const kt=o.AuctionContract.connect(Nl),[ln,Xn]=await kt.getTodayToken();if(ln&&ln!==er&&Xn){const si=await kt.getAuctionTimeLeft(ln),zr=Math.max(0,Math.floor(Number(si))),ye=re?Ke:Nl,Vt=await new un(ln,["function symbol() view returns (string)"],ye).symbol().catch(()=>"Unknown");let Nt=0;try{const fo=await ye.getBlock("latest");Nt=Number((fo==null?void 0:fo.timestamp)||0)}catch{Nt=0}const Ln=Math.floor(Date.now()/1e3),Nr=(Nt>0?Nt:Ln)+zr;J({[Vt]:Nr}),Nt>0&&D(Nt-Ln),j({[Vt]:zr}),et&&console.log(` Auction time for ${Vt}: ${zr}s (fresh from RPC, endAt=${Nr})`)}else et&&console.log(" No active auction today"),j({}),J({})}catch(kt){console.error(" Error fetching today's auction:",kt),j({})}}catch(kt){console.error(" Error fetching auction times:",kt),j({})}},Tt=()=>{ee&&clearInterval(ee),ee=setInterval(()=>{Ue&&j(et=>{const kt=H.current||{},ln=Object.keys(kt);if(ln.length===0)return et;const Xn=Math.floor(Date.now()/1e3)+(z.current||0),si={};let zr=!1;for(const ye of ln){const ft=Number(kt[ye]||0),Vt=Math.max(0,Math.floor(ft-Xn)),Nt=typeof et[ye]=="number"?et[ye]:void 0;si[ye]=Vt,Nt!==Vt&&(zr=!0);const Ln=300,Ai=60;if(Vt===Ln&&Nt!==Ln){const Nr=Math.floor(Vt/60);console.log(` ${ye} auction ending in ${Nr} minute${Nr!==1?"s":""}!`),mi==null||mi(),Pl==null||Pl()}else if(Vt===Ai&&Nt!==Ai)console.log(` ${ye} auction ending in 1 minute!`);else if(Vt===0&&(Nt||0)>0&&(console.log(` ${ye} auction ended!`),Ue)){It(!1);try{mi(),Pl(),mf()}catch{}}}return zr?si:et})},1e3),console.log(" Countdown timer started")},Ot=()=>{Se&&clearInterval(Se),Se=setInterval(()=>{Ue&&(console.log(" Scheduled resync - fetching fresh auction times..."),It(!1))},3e4),console.log(" Resync interval set to 1.5 minutes")},gt=()=>{document.visibilityState==="visible"&&Ue?(console.log(" Tab became visible, fetching fresh data..."),It()):document.visibilityState==="hidden"&&console.log(" Tab became hidden")},$e=()=>{Ue&&(console.log(" Connection restored, fetching fresh data..."),setTimeout(()=>{Ue&&It()},500))},yt=()=>{console.log(" Connection lost")};document.addEventListener("visibilitychange",gt),window.addEventListener("online",$e),window.addEventListener("offline",yt),console.log(" Initializing auction timer..."),(async()=>{if(o!=null&&o.AuctionContract)try{const et=await W9e(o.AuctionContract);bs(et.duration),_x(et.interval),console.log(` Auction timing detected - Duration: ${et.durationFormatted}, Interval: ${et.intervalFormatted}`)}catch(et){console.error("Error detecting auction timing:",et)}})();const Jn=Re();return H.current=Q,z.current=$,Tt(),j(et=>Object.keys(et).length===0?{loading:!0}:et),(async()=>{try{await It(),j(et=>{const{loading:kt,...ln}=et;return ln})}catch(et){console.error(" Initial fetch failed:",et),j({})}})(),Ot(),()=>{console.log(" Cleaning up auction timer..."),Ue=!1,ee&&clearInterval(ee),Se&&clearInterval(Se),document.removeEventListener("visibilitychange",gt),window.removeEventListener("online",$e),window.removeEventListener("offline",yt);try{Ke&&Ke.destroy}catch(et){console.error("Error closing WebSocket:",et)}try{Jn&&Jn()}catch{}}},[o]),U.useEffect(()=>{H.current=Q},[Q]),U.useEffect(()=>{z.current=$},[$]);const pf=async()=>{await jr({contractMethod:"getCurrentAuctionCycle",setState:V,formatFn:ee=>Math.floor(Number(ee))})},mf=async()=>{await jr({contractMethod:"getRatioPrice",setState:ve,formatFn:ee=>Number(oh(ee))})},Ep=U.useRef({}),dr=U.useCallback(async()=>{const ee=Ep.current,Se={};Object.values(ee).forEach(clearInterval),Ep.current={};const Ue=await Li();for(const[Ke,re]of Object.entries(Ue))try{const It=(await i.getBlock("latest")).timestamp,Tt=await o.AuctionContract.getAuctionTimeLeft(re),Ot=Number(Tt),gt=It+Ot;Se[Ke]=Ot,ee[Ke]=setInterval(async()=>{try{const yt=(await i.getBlock("latest")).timestamp,Yt=Math.max(0,gt-yt);Ie(Jn=>{const St={...Jn};return St[Ke]=Yt,St})}catch($e){console.error(`Error updating claim timer for ${Ke}:`,$e)}},1e3)}catch(Re){console.warn(`Error getting claim time for ${Ke}`,Re),Se[Ke]=0}Ie(Se)},[o,i]);U.useEffect(()=>(dr(),()=>{const ee=Ep.current;Object.values(ee).forEach(clearInterval)}),[dr]);const $u=async()=>{try{jr({contractMethod:"getTotalTokensBurned",setState:it,formatFn:ee=>Math.floor(Number(oh(ee))),includeTestState:!0,buildArgs:ee=>[ee]})}catch(ee){console.error("Error fetching burned amounts:",ee)}},Ic=async()=>{try{const ee={},Ue={...await Li(),state:h()};for(const[Ke,re]of Object.entries(Ue)){const It=await new un(re,$a,Nl).balanceOf(p()),Tt=Math.floor(Number(vi(It,18)));ee[Ke]=Tt}Te(ee)}catch(ee){console.error("Error fetching input amounts:",ee)}},Tx=async()=>{try{const ee=h(),Ue=await new un(ee,$a,Nl).balanceOf(p()),Ke=Math.floor(Number(vi(Ue,18)));at(Re=>({...Re,state:Ke}));const re=Date.now();localStorage.setItem("stateTokenBalance",JSON.stringify({balance:Ke,updatedAt:re}))}catch(ee){console.error("Error fetching state token balance:",ee)}},Pl=async()=>{console.log("[CheckIsReverse] Starting reverse auction check..."),await jr({contractMethod:"isReverseAuctionActive",setState:An}),console.log("[CheckIsReverse] Reverse auction check complete")},m_=async()=>{try{console.log("=== AUCTION DIAGNOSTIC ===");const ee=await o.AuctionContract.getTodayToken(),Se=(ee==null?void 0:ee[0])||(ee==null?void 0:ee.tokenOfDay);if(console.log("Today's Token Address:",Se),!Se||Se===er){console.log(" No active token");return}const Ue=await o.AuctionContract.isAuctionActive(Se);console.log("Is Auction Active:",Ue);const Ke=await o.AuctionContract.isReverseAuctionActive(Se);console.log("Is Reverse Auction:",Ke);const re=await o.AuctionContract.getAuctionTimeLeft(Se);console.log("Time Left (seconds):",re.toString());const Re=await o.AuctionContract.getCurrentAuctionCycle(Se);return console.log("Current Cycle Count:",Re.toString()),console.log("=== END DIAGNOSTIC ==="),{todayAddress:Se,isActive:Ue,isReverse:Ke,timeLeft:re.toString(),cycle:Re.toString()}}catch(ee){throw console.error("Diagnostic error:",ee),ee}};typeof window<"u"&&(window.auctionDiagnostic=m_);const Ix=[{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"}],r0=async(ee,Se)=>{try{await(await new un(ee,Ix,s).renounceOwnership()).wait(),await Bb()}catch(Ue){console.error(`Error renouncing ownership for ${Se}:`,Ue)}},mi=async()=>{try{jr({contractMethod:"isAuctionActive",setState:en})}catch(ee){console.error("Error fetching Auction Active:",ee)}},Bb=async()=>{var ee,Se;try{const Ue={},Ke=await Li(),re=(o==null?void 0:o._davAddress)||((ee=o==null?void 0:o.davContract)==null?void 0:ee.target)||f(),Re=(o==null?void 0:o._stateAddress)||((Se=o==null?void 0:o.stateContract)==null?void 0:Se.target)||h(),It={...Ke,STATE:Re,DAV:re};for(const[Tt,Ot]of Object.entries(It)){let gt=!1;try{Tt==="STATE"?gt=(await o.stateContract.owner()).toLowerCase()==="0x0000000000000000000000000000000000000000":Tt==="DAV"?gt=(await o.davContract.owner()).toLowerCase()==="0x0000000000000000000000000000000000000000":gt=(await new un(Ot,["function owner() view returns (address)"],i).owner()).toLowerCase()==="0x0000000000000000000000000000000000000000"}catch($e){console.warn(`Could not check renounce status for ${Tt}:`,$e),gt=!1}Ue[Tt]=gt}xn(Ue)}catch(Ue){console.error("Error fetching renounce status:",Ue)}},Mi=async()=>{await jr({contractMethod:"getUserHasReverseSwapped",setState:Lt,formatFn:ee=>ee.toString(),buildArgs:ee=>[a,ee]})},Ap=async()=>{await jr({contractMethod:"getUserHasSwapped",setState:ys,formatFn:ee=>ee.toString(),buildArgs:ee=>[a,ee]})},i0=async()=>{await jr({contractMethod:"hasCompletedStep1",setState:Je,formatFn:ee=>ee.toString(),buildArgs:ee=>[a,ee]})},Ub=async()=>{if(!(o!=null&&o.AuctionContract)){console.warn("AuctionContract not found");return}try{const ee=await o.AuctionContract.dav(),Se=await o.AuctionContract.stateToken();Ra(ee),Ir(Se)}catch(ee){console.error("Error fetching addresses:",ee)}},gf=async()=>{try{const ee=await Li();sn(ee)}catch(ee){console.error("Error fetching token data via lens:",ee)}},Sp=async()=>{try{const ee=await Li(),Se=Object.keys(ee);return Fn(Se),Se}catch(ee){return console.error("Failed to fetch token names via lens:",ee),[]}},kl=async()=>{if(!(o!=null&&o.AuctionContract)){console.warn("AuctionContract not found");return}const ee={},Se=await Li();try{for(const[Ue,Ke]of Object.entries(Se)){const re=await o.AuctionContract.isTokenSupported(Ke);typeof re=="boolean"?ee[Ue]=re:re&&re!=="0x0000000000000000000000000000000000000000"?ee[Ue]=!0:ee[Ue]=!1}js(ee)}catch(Ue){console.error("Error fetching token support status:",Ue)}},s0=["function name() view returns (string)"],Nx=async()=>{if(!(o!=null&&o.AuctionContract)||!i){console.warn("AuctionContract or provider not found");return}try{const ee=await o.AuctionContract.tokenCount().catch(()=>0),Se=Number(ee);if(Se===0){Ei([]);return}const Ue=[];for(let Ke=0;Ke<Se;Ke++)try{const re=await o.AuctionContract.autoRegisteredTokens(Ke);if(!re||re===er)continue;const It=await new un(re,s0,i).name().catch(()=>`Token ${Ke+1}`),Tt=await o.AuctionContract.getPairAddress(re).catch(()=>er),Ot=await o.AuctionContract.getAuctionTimeLeft(re).catch(()=>0);Ue.push({address:re,name:It,pairAddress:Tt,nextClaimTime:Number(Ot)})}catch(re){console.error(`Failed to fetch token at index ${Ke}:`,re)}Ei(Ue)}catch(ee){console.error("Error fetching token names or pair addresses:",ee),Ei([])}},o0=async()=>{var ee;if(!(o!=null&&o.AuctionContract)||!i)return console.warn("AuctionContract or provider not found"),{};try{const Se=await Li(),Ue=["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)"],Ke=["function symbol() view returns (string)","function name() view returns (string)"],re="0x000000000000000000000000000000000000dEaD",Re={};for(const[It,Tt]of Object.entries(Se))try{const Ot=await o.AuctionContract.getPairAddress(Tt),gt=new un(Ot,Ue,i),[$e,yt]=await Promise.all([gt.balanceOf(re),gt.decimals()]),Yt=Number(vi($e,yt)),Jn=Math.floor(Number.isFinite(Yt)?Yt:0);let St="";try{St=await new un(Tt,Ke,i).symbol().catch(()=>"")}catch{}const et={pairAddress:Ot,balance:Jn};Re[It]=et,St&&(Re[St]=et),Tt&&(Re[(Tt||"").toLowerCase()]=et)}catch(Ot){const gt=(Ot==null?void 0:Ot.reason)||(Ot==null?void 0:Ot.shortMessage)||((ee=Ot==null?void 0:Ot.error)==null?void 0:ee.errorName)||(Ot==null?void 0:Ot.message)||"";console.error(`Error fetching LP data for ${It}:`,gt||Ot)}try{let It=null;try{o!=null&&o.buyBurnController&&typeof o.buyBurnController.stateWplsPool=="function"&&(It=await o.buyBurnController.stateWplsPool())}catch{}if(!It||It===er){const Jn=Ny(n);It=await o.AuctionContract.getPairAddress(Jn)}const Tt=new un(It,Ue,i),[Ot,gt]=await Promise.all([Tt.balanceOf(re),Tt.decimals()]),$e=Number(vi(Ot,gt)),yt=Math.floor(Number.isFinite($e)?$e:0),Yt={pairAddress:It,balance:yt};Re.STATE=Yt,Re[(Ny(n)||"").toLowerCase()]=Yt}catch(It){console.error("Error fetching STATE LP balance:",It),Re.STATE={pairAddress:"error",balance:"0"}}return dn(Re),Re}catch(Se){return console.error("Error fetching burn LP amounts:",Se),{}}};U.useEffect(()=>{if(!(o!=null&&o.AuctionContract)||!i)return;try{o0()}catch{}const ee=setInterval(()=>{try{o0()}catch{}},6e4);return()=>clearInterval(ee)},[o==null?void 0:o.AuctionContract,i,a,n]);const Fb=async()=>{if(!(!(o!=null&&o.AuctionContract)||!a))try{await(await o.AuctionContract.setTokenAddress(h(),f())).wait(),await Ub()}catch(ee){console.error("Error fetching claimable amount:",ee)}},Px=async ee=>{if(!(o!=null&&o.AuctionContract)||!a||!ee){console.warn("Missing contract, user address, or token address");return}if(!T1(ee)){console.error("Invalid token address:",ee);return}try{jt(ee),await(await o.AuctionContract.giveRewardToTokenOwner(ee)).wait(),await dr()}catch(Se){console.error("Error claiming reward:",Se)}finally{jt(null)}},jb=async(ee,Se,Ue,Ke)=>{if(!(!(o!=null&&o.AuctionContract)||!a)){x("initiated");try{x("Adding"),await(await o.AuctionContract.addToken(ee,Se,Ue)).wait(),x("Status Updating"),(await(await o.davContract.updateTokenStatus(Ue,Ke,1)).wait()).status===1?(x("confirmed"),await mi(),await kl()):(console.error("Transaction failed"),x("error")),x("confirmed")}catch(re){const Re=re.reason||re.message||"Unknown error occurred";console.error("AddTokenIntoSwapContract failed:",re),x(""),alert(`Failed to add token: ${Re}`),console.error("AddTokenIntoSwapContract failed:",(re==null?void 0:re.reason)||re)}finally{x("confirmed")}}};U.useEffect(()=>{if(!o||!a)return;const ee=async()=>{await mi(),await Pl()};ee();const Se=setInterval(()=>{ee()},1e4),Ue=Ke=>{Ke.length===0?console.log("Please connect to MetaMask."):Ke[0]!==a&&(console.log("Account changed, refreshing data..."),ee(),gf(),Oa(),Tl(),o0(),pf(),mf(),$u(),Il(),n0(),Ic(),i0(),Ub(),Bb(),Sp(),kl(),Nx(),Ap(),Mi())};return window.ethereum&&window.ethereum.on("accountsChanged",Ue),()=>{clearInterval(Se),window.ethereum&&window.ethereum.removeListener("accountsChanged",Ue)}},[o,a]),U.useEffect(()=>{const ee=[gf,Oa,Tl,o0,pf,mf,$u,Il,n0,c0,Ic,i0,Ub,Bb,Sp,kl,Nx,Ap,Mi,Ox],Se=async()=>{(await Promise.allSettled(ee.map(re=>re()))).forEach((re,Re)=>{re.status==="rejected"&&console.error(`Function ${ee[Re].name} failed:`,re.reason)})};Se();const Ue=setInterval(()=>{Se()},3e4);return()=>{clearInterval(Ue)}},[o,a]);const $a=["function approve(address spender, uint256 amount) external returns (bool)","function allowance(address owner, address spender) external view returns (uint256)","function balanceOf(address account) external view returns (uint256)","function decimals() view returns (uint8)"],g_=async(ee,Se,Ue)=>{var Ke;try{if(!(o!=null&&o.AuctionContract)||!s){ot("Wallet or contract not ready");return}b("initiated"),on($e=>({...$e,[ee]:!0})),pn($e=>({...$e,[ee]:"Preparing burn..."}));let re=Ue;if(re||(re=Se?Me==null?void 0:Me[Se]:void 0),!re)try{const $e=await Li();if(Se&&($e!=null&&$e[Se]))re=$e[Se];else{try{const yt=await o.AuctionContract.getTodayToken(),Yt=(yt==null?void 0:yt[0])||(yt==null?void 0:yt.tokenOfDay);Yt&&Yt!==er&&(re=Yt)}catch{}!re&&$e&&Object.values($e).length>0&&(re=Object.values($e)[0])}}catch{}if(!re){ot("No token selected and token-of-day unavailable. Please wait for tokens to load or select a token."),on($e=>({...$e,[ee]:!1}));return}try{const[$e,yt]=await Promise.all([o.AuctionContract.isReverseAuctionActive(re).catch(()=>!1),o.AuctionContract.isAuctionActive(re).catch(()=>!1)]);if($e){ot("Reverse auction window is active. Ratio swap is unavailable during reverse auctions."),on(Yt=>({...Yt,[ee]:!1}));return}if(!yt){ot("Auction window not active. Try during the active window."),on(Yt=>({...Yt,[ee]:!1}));return}}catch($e){console.debug("Window check skipped:",($e==null?void 0:$e.message)||$e)}try{if(!await o.AuctionContract.hasCompletedStep1(a,re)){ot("Complete Step 1 (Airdrop claim) first."),on(yt=>({...yt,[ee]:!1}));return}}catch($e){console.debug("hasCompletedStep1 check skipped:",($e==null?void 0:$e.message)||$e)}try{const $e=await o.AuctionContract.getAvailableDavForAuction(a,re);if(BigInt($e)<Xp("1")){ot("Not enough DAV (need at least 1 DAV unit)."),on(yt=>({...yt,[ee]:!1}));return}}catch($e){console.debug("DAV availability check skipped:",($e==null?void 0:$e.message)||$e)}const Re=p(),It=new un(re,$a,s);if(pn($e=>({...$e,[ee]:"Checking allowance..."})),await It.allowance(a,Re)===0n)try{b("Approving");const $e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");await(await It.approve(Re,$e)).wait()}catch($e){console.error("Approval failed:",$e),ot("Approval failed"),on(yt=>({...yt,[ee]:!1})),b("error");return}pn($e=>({...$e,[ee]:"Burning for STATE..."})),b("pending"),(await(await o.AuctionContract.burnTokensForState()).wait()).status===1?(Fo("Ratio swap completed"),b("confirmed"),await Tl(),await $u()):(ot("Burn transaction failed"),b("error"))}catch(re){if(console.error("Ratio swap error:",re),(re==null?void 0:re.code)===4001)b("cancelled"),ot("Transaction cancelled by user.");else{let Re=(re==null?void 0:re.reason)||(re==null?void 0:re.shortMessage)||((Ke=re==null?void 0:re.error)==null?void 0:Ke.errorName)||(re==null?void 0:re.message)||"Burn failed";/NotToday/i.test(Re)&&(Re="Not today's window for this token. Try the active window for the daily token."),/Step1NotCompleted/i.test(Re)&&(Re="Complete Step 1 (Claim) before Ratio Swap."),/DavInsufficient/i.test(Re)&&(Re="Not enough DAV (need >= 1 DAV unit)."),/InsufficientAllowance/i.test(Re)&&(Re="Token allowance is insufficient."),/UnsupportedToken/i.test(Re)&&(Re="This token is not supported in the auction."),ot(Re),b("error")}}finally{on(re=>({...re,[ee]:!1})),pn(re=>({...re,[ee]:"Ratio Swap"})),await mi(),await Ap()}},zb=async(ee,Se,Ue)=>{var Ke,re,Re,It,Tt,Ot,gt,$e,yt,Yt,Jn,St,et,kt,ln,Xn,si,zr;try{if(!(o!=null&&o.AuctionContract)||!s){ot("Wallet or contract not ready");return}b("initiated"),on(Ye=>({...Ye,[ee]:!0})),pn(Ye=>({...Ye,[ee]:"Preparing reverse swap..."}));let ye=Ue;if(ye||(ye=Se?Me==null?void 0:Me[Se]:void 0),!ye)try{const Ye=await Li();if(Se&&(Ye!=null&&Ye[Se]))ye=Ye[Se];else{try{const zt=await o.AuctionContract.getTodayToken(),oi=(zt==null?void 0:zt[0])||(zt==null?void 0:zt.tokenOfDay);oi&&oi!==er&&(ye=oi)}catch{}!ye&&Ye&&Object.values(Ye).length>0&&(ye=Object.values(Ye)[0])}}catch{}if(!ye){ot("No token selected and token-of-day unavailable. Please wait for tokens to load or select a token."),on(Ye=>({...Ye,[ee]:!1}));return}if(!await o.AuctionContract.isReverseAuctionActive(ye).catch(()=>!1)){ot("Normal auction window active. Reverse swap is only available in reverse windows."),on(Ye=>({...Ye,[ee]:!1}));return}try{if(!await o.AuctionContract.isTokenSupported(ye)){ot("This token is not supported in the auction."),on(zt=>({...zt,[ee]:!1}));return}}catch{}try{if(!await o.AuctionContract.canParticipateInAuction(a,ye)){ot("Not enough DAV (need >= 1 DAV unit)."),on(zt=>({...zt,[ee]:!1}));return}}catch{}try{if(await o.AuctionContract.hasUserCompletedReverseStep1(a,ye)){ot("You already completed Reverse Step 1 for this cycle."),on(zt=>({...zt,[ee]:!1}));return}}catch{}try{if(typeof o.AuctionContract.hasCompletedStep2=="function"){const Ye=await o.AuctionContract.hasCompletedStep2(a,ye);console.debug("Preflight hasCompletedStep2:",Ye)}}catch(Ye){console.debug("hasCompletedStep2 preflight check skipped:",(Ye==null?void 0:Ye.message)||Ye)}const Vt=new un(ye,$a,s);let Nt=18;try{Nt=Number(await Vt.decimals())}catch{}const Ln=await Vt.balanceOf(a);if(!Ln||BigInt(Ln)===0n){ot("You have no tokens to swap for reverse auction"),on(Ye=>({...Ye,[ee]:!1}));return}const Ai=Ln;pn(Ye=>({...Ye,[ee]:"Checking allowance..."}));const Nr=p();if(await Vt.allowance(a,Nr)<Ai)try{b("Approving");const Ye=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");await(await Vt.approve(Nr,Ye)).wait()}catch(Ye){console.error("Approval failed:",Ye),ot("Approval failed"),on(zt=>({...zt,[ee]:!1})),b("error");return}try{const Ye=await o.AuctionContract.calculatePoolSwapOutputReverse(ye,Ai);if(!Ye||BigInt(Ye)===0n){ot("Pool returned zero output for this amount."),on(zt=>({...zt,[ee]:!1}));return}}catch{}pn(Ye=>({...Ye,[ee]:"Swapping for STATE..."})),b("pending");let ho;try{o.AuctionContract.interface.getFunction("reverseSwapTokensForState(uint256)"),await o.AuctionContract.getFunction("reverseSwapTokensForState(uint256)").staticCall(Ai),console.log(" Reverse Step 1 simulation passed with: reverseSwapTokensForState(uint256)"),ho={key:"reverseSwapTokensForState(uint256)",args:[Ai]}}catch(Ye){console.error(" Reverse Step 1 simulation failed:",Ye),console.error("Full error object:",JSON.stringify(Ye,null,2));let zt=(Ye==null?void 0:Ye.errorName)||((Ke=Ye==null?void 0:Ye.data)==null?void 0:Ke.errorName)||((re=Ye==null?void 0:Ye.error)==null?void 0:re.errorName)||((Tt=(It=(Re=Ye==null?void 0:Ye.info)==null?void 0:Re.error)==null?void 0:It.data)==null?void 0:Tt.errorName),oi=(Ye==null?void 0:Ye.data)||((gt=(Ot=Ye==null?void 0:Ye.error)==null?void 0:Ot.data)==null?void 0:gt.data)||(($e=Ye==null?void 0:Ye.error)==null?void 0:$e.data)||((Jn=(Yt=(yt=Ye==null?void 0:Ye.info)==null?void 0:yt.error)==null?void 0:Yt.data)==null?void 0:Jn.data)||(typeof((et=(St=Ye==null?void 0:Ye.info)==null?void 0:St.error)==null?void 0:et.data)=="string"?Ye.info.error.data:null);if(console.log("Extracted errorData:",oi),console.log("Initial errName:",zt),!zt&&oi&&typeof oi=="string"&&oi.startsWith("0x")){try{const Ji=o.AuctionContract.interface.parseError(oi);Ji&&(zt=Ji.name,console.log(" Manually decoded error:",zt,Ji.args))}catch(Ji){console.warn("Failed to parse error with interface:",Ji)}if(!zt&&oi.length>=10){const Ji=oi.slice(0,10);console.log("Error selector:",Ji);const l0={"0x82b42900":"Unauthorized","0xd1f28288":"PausedErr","0xf90c0e6d":"UnsupportedToken","0xd92e233d":"ZeroAddr","0xbb960071":"AlreadySet","0x1f160453":"ScheduleNotSet","0xcc72e663":"NotStarted","0xfa3ce4f4":"NotToday","0x136e3cff":"Ended","0x5f0bdd17":"AlreadySwapped","0x5e7e83f6":"AlreadyReverse","0x1a24c079":"StateNotSet","0x2d94f3b9":"DavInsufficient","0xb14e1ab9":"NoDAV","0xf4d678b8":"InsufficientBalance","0x13be252b":"InsufficientAllowance","0x4f2c0c96":"InsufficientVault","0x81b3b602":"AmountZero","0xecd0596b":"ReverseDayLPOonly","0x8a69b83f":"ParticipantCapReached","0x5341e942":"Step1NotCompleted","0x6f312cbd":"Step2NotCompleted"};l0[Ji]&&(zt=l0[Ji],console.log(" Identified error by selector:",zt))}}let Pr=(Ye==null?void 0:Ye.reason)||(Ye==null?void 0:Ye.shortMessage)||(Ye==null?void 0:Ye.message)||(Ye==null?void 0:Ye.toString())||"Reverse swap simulation failed";if(zt==="UnsupportedToken"?Pr="This token is not supported in the auction.":zt==="StateNotSet"?Pr="STATE token is not configured yet.":zt==="NotStarted"?Pr="Reverse window not active yet.":zt==="AlreadySwapped"||zt==="AlreadyReverse"?Pr="You already completed Reverse Step 1 for this cycle.":zt==="DavInsufficient"||zt==="NoDAV"?Pr="Not enough DAV (need >= 1 DAV unit).":zt==="AmountZero"?Pr="Amount must be greater than zero.":zt==="InsufficientBalance"?Pr="Insufficient token balance for reverse swap.":zt==="InsufficientAllowance"?Pr="Token allowance is insufficient.":zt==="InsufficientVault"?Pr="Vault has insufficient STATE for this swap.":zt==="ReverseDayLPOonly"?Pr="Reverse day LP-only restriction active; action unavailable.":zt==="ParticipantCapReached"?Pr="Participant cap reached for auctions.":zt==="ScheduleNotSet"?Pr="Auction schedule is not set.":zt==="Ended"?Pr="Auction period has ended.":zt==="NotToday"?Pr="Not today's window for this token.":zt==="Step1NotCompleted"?Pr="Complete Step 1 (Claim) before Ratio Swap.":zt==="Step2NotCompleted"?Pr="Complete Step 2 (Burn Tokens for STATE) first. Reverse Step 1 requires you to have burned auction tokens in the normal auction first.":zt==="PausedErr"?Pr="Contract is paused.":zt==="Unauthorized"?Pr="Unauthorized action.":zt==="ZeroAddr"&&(Pr="Invalid zero address."),console.log("Final message:",Pr),Pr.includes("unknown custom error")||Pr.includes("execution reverted")){const Ji=(oi==null?void 0:oi.length)>=10?oi.slice(0,10):"none";Pr=`Reverse swap blocked. Error: ${zt||"Unknown"}. Selector: ${Ji}. Check console (F12) for full details.`}ot(Pr),on(Ji=>({...Ji,[ee]:!1})),b("error")}if((await(await o.AuctionContract.getFunction(ho.key)(...ho.args)).wait()).status===1){Fo("Reverse swap completed (Step 1)"),b("confirmed");try{const Ye=await o.AuctionContract.getReverseStateBalance(a,ye);rr(zt=>({...zt,[ye]:Math.floor(Number(vi(Ye,18)))}))}catch{}}else ot("Reverse swap transaction failed"),b("error")}catch(ye){if(console.error("Reverse swap error:",ye),console.error("Full error object:",JSON.stringify(ye,null,2)),(ye==null?void 0:ye.code)===4001)b("cancelled"),ot("Transaction cancelled by user.");else{let ft=(ye==null?void 0:ye.errorName)||((kt=ye==null?void 0:ye.data)==null?void 0:kt.errorName)||((ln=ye==null?void 0:ye.error)==null?void 0:ln.errorName),Vt=(ye==null?void 0:ye.data)||((si=(Xn=ye==null?void 0:ye.error)==null?void 0:Xn.data)==null?void 0:si.data)||((zr=ye==null?void 0:ye.error)==null?void 0:zr.data);if(!ft&&Vt&&typeof Vt=="string"&&Vt.startsWith("0x")){try{const Ln=o.AuctionContract.interface.parseError(Vt);Ln&&(ft=Ln.name,console.log(" Manually decoded error:",ft,Ln.args))}catch(Ln){console.warn("Failed to parse error with interface:",Ln)}if(!ft&&Vt.length>=10){const Ln=Vt.slice(0,10);console.log("Error selector:",Ln);const Ai={"0x82b42900":"Unauthorized","0xd1f28288":"PausedErr","0xf90c0e6d":"UnsupportedToken","0xd92e233d":"ZeroAddr","0xbb960071":"AlreadySet","0x1f160453":"ScheduleNotSet","0xcc72e663":"NotStarted","0xfa3ce4f4":"NotToday","0x136e3cff":"Ended","0x5f0bdd17":"AlreadySwapped","0x5e7e83f6":"AlreadyReverse","0x1a24c079":"StateNotSet","0x2d94f3b9":"DavInsufficient","0xb14e1ab9":"NoDAV","0xf4d678b8":"InsufficientBalance","0x13be252b":"InsufficientAllowance","0x4f2c0c96":"InsufficientVault","0x81b3b602":"AmountZero","0xecd0596b":"ReverseDayLPOonly","0x8a69b83f":"ParticipantCapReached","0x5341e942":"Step1NotCompleted","0x6f312cbd":"Step2NotCompleted"};Ai[Ln]&&(ft=Ai[Ln],console.log(" Identified error by selector:",ft))}}let Nt=(ye==null?void 0:ye.reason)||(ye==null?void 0:ye.shortMessage)||(ye==null?void 0:ye.message)||(ye==null?void 0:ye.toString())||"Reverse swap failed";if(ft==="UnsupportedToken"?Nt="This token is not supported in the auction.":ft==="StateNotSet"?Nt="STATE token is not configured yet.":ft==="NotStarted"?Nt="Reverse window not active yet.":ft==="AlreadySwapped"||ft==="AlreadyReverse"?Nt="You already completed Reverse Step 1 for this cycle.":ft==="DavInsufficient"||ft==="NoDAV"?Nt="Not enough DAV (need >= 1 DAV unit).":ft==="AmountZero"?Nt="Amount must be greater than zero.":ft==="InsufficientBalance"?Nt="Insufficient token balance for reverse swap.":ft==="InsufficientAllowance"?Nt="Token allowance is insufficient.":ft==="InsufficientVault"?Nt="Vault has insufficient STATE for this swap.":ft==="ReverseDayLPOonly"?Nt="Reverse day LP-only restriction active; action unavailable.":ft==="ParticipantCapReached"?Nt="Participant cap reached for auctions.":ft==="ScheduleNotSet"?Nt="Auction schedule is not set.":ft==="Ended"?Nt="Auction period has ended.":ft==="NotToday"?Nt="Not today's window for this token.":ft==="Step1NotCompleted"?Nt="Complete Step 1 (Claim Airdrop) first before burning tokens.":ft==="Step2NotCompleted"?Nt="Complete Step 2 (Burn Tokens for STATE) first. Reverse Step 1 requires you to have burned auction tokens in the normal auction first.":ft==="PausedErr"?Nt="Contract is paused.":ft==="Unauthorized"?Nt="Unauthorized action.":ft==="ZeroAddr"?Nt="Invalid zero address.":/Normal auction active/i.test(Nt)&&(Nt="Normal auction window active. Reverse swap only during reverse window."),Nt.includes("unknown custom error")||Nt.includes("execution reverted")){const Ln=(Vt==null?void 0:Vt.length)>=10?Vt.slice(0,10):"none";Nt=`Reverse swap blocked. Error: ${ft||"Unknown"}. Selector: ${Ln}. Check console (F12) for full details.`}ot(Nt),b("error")}}finally{on(ye=>({...ye,[ee]:!1})),pn(ye=>({...ye,[ee]:"Ratio Swap"})),await Mi()}},Zn=async(ee,Se,Ue)=>{var Ke,re,Re,It,Tt,Ot;try{if(!(o!=null&&o.AuctionContract)||!s){ot("Wallet or contract not ready");return}b("initiated"),on(ye=>({...ye,[ee]:!0})),pn(ye=>({...ye,[ee]:"Preparing burn..."}));let gt=Ue;if(gt||(gt=Se?Me==null?void 0:Me[Se]:void 0),!gt)try{const ye=await Li();if(Se&&(ye!=null&&ye[Se]))gt=ye[Se];else{try{const ft=await o.AuctionContract.getTodayToken(),Vt=(ft==null?void 0:ft[0])||(ft==null?void 0:ft.tokenOfDay);Vt&&Vt!==er&&(gt=Vt)}catch{}!gt&&ye&&Object.values(ye).length>0&&(gt=Object.values(ye)[0])}}catch{}if(!gt){ot("No token selected and token-of-day unavailable. Please wait for tokens to load or select a token."),on(ye=>({...ye,[ee]:!1}));return}if(!await o.AuctionContract.isReverseAuctionActive(gt).catch(()=>!1)){ot("Normal auction window active. Step 2 is only available in reverse windows."),on(ye=>({...ye,[ee]:!1}));return}let yt=0n;try{if(!await o.AuctionContract.hasUserCompletedReverseStep1(a,gt)){ot("Complete Reverse Step 1 first."),on(ft=>({...ft,[ee]:!1}));return}yt=await o.AuctionContract.getReverseStateBalance(a,gt)}catch{}if(!yt||BigInt(yt)===0n){ot("No STATE available from Step 1."),on(ye=>({...ye,[ee]:!1}));return}const Yt=h(),Jn=new un(Yt,$a,s),St=await Jn.balanceOf(a);if(BigInt(St)<BigInt(yt)){ot("Insufficient STATE balance for Step 2."),on(ye=>({...ye,[ee]:!1}));return}pn(ye=>({...ye,[ee]:"Checking allowance..."}));const et=p(),kt=await Jn.allowance(a,et);if(BigInt(kt)<BigInt(yt))try{b("Approving");const ye=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");await(await Jn.approve(et,ye)).wait()}catch(ye){console.error("STATE approval failed:",ye),ot("STATE approval failed"),on(ft=>({...ft,[ee]:!1})),b("error");return}pn(ye=>({...ye,[ee]:"Burning STATE..."})),b("pending");const ln=async()=>{const ye=o.AuctionContract,ft=[{key:"burnStateForTokens(uint256)",args:[yt]}];let Vt=!1,Nt=null;for(const Ln of ft){let Ai;try{ye.interface.getFunction(Ln.key),Ai=ye.getFunction(Ln.key),Vt=!0}catch{continue}try{return await Ai.staticCall(...Ln.args),console.log(` Reverse Step 2 simulation passed with: ${Ln.key}`),{key:Ln.key,args:Ln.args}}catch(Nr){console.warn(` Reverse Step 2 simulation failed for ${Ln.key}:`,(Nr==null?void 0:Nr.shortMessage)||(Nr==null?void 0:Nr.message)||Nr);let fo={...Nr};try{if(Nr!=null&&Nr.data&&typeof Nr.data=="string"&&Nr.data.startsWith("0x"))try{const ho=ye.interface.parseError(Nr.data);ho&&(fo.errorName=ho.name,fo.errorArgs=ho.args,console.log(`Decoded custom error: ${ho.name}`,ho.args))}catch{}}catch{}Nt=fo}}throw Vt?Nt?(console.error("All Reverse Step 2 candidates reverted. Last error:",Nt),Nt):new Error("Reverse step 2 simulation failed unexpectedly."):new Error("Reverse step 2 function not present in ABI. Expected burnStateForTokens(uint256).")};let Xn;try{Xn=await ln()}catch(ye){console.error(" Reverse Step 2 simulation failed:",ye);let ft=(ye==null?void 0:ye.errorName)||((Ke=ye==null?void 0:ye.data)==null?void 0:Ke.errorName)||((re=ye==null?void 0:ye.error)==null?void 0:re.errorName);if(!ft&&(ye!=null&&ye.data)&&typeof ye.data=="string"&&ye.data.startsWith("0x"))try{const Nt=o.AuctionContract.interface.parseError(ye.data);Nt&&(ft=Nt.name,console.log(" Manually decoded error:",ft,Nt.args))}catch{}let Vt=(ye==null?void 0:ye.reason)||(ye==null?void 0:ye.shortMessage)||(ye==null?void 0:ye.message)||(ye==null?void 0:ye.toString())||"Reverse Step 2 simulation failed";if(ft==="UnsupportedToken"?Vt="This token is not supported in the auction.":ft==="StateNotSet"?Vt="STATE token is not configured yet.":ft==="NotStarted"?Vt="Reverse window not active yet.":ft==="AlreadySwapped"||ft==="AlreadyReverse"?Vt="You already completed Reverse Step 2 for this cycle.":ft==="Step1NotCompleted"?Vt="Complete Reverse Step 1 first.":ft==="AmountZero"?Vt="Amount must be greater than zero.":ft==="InsufficientBalance"?Vt="Insufficient STATE balance for reverse burn.":ft==="InsufficientAllowance"?Vt="STATE allowance is insufficient.":ft==="InsufficientVault"?Vt="Vault has insufficient auction tokens for redemption.":ft==="PausedErr"?Vt="Contract is paused.":ft==="Unauthorized"&&(Vt="Unauthorized action."),Vt.includes("unknown custom error")||Vt.includes("execution reverted")){const Nt=(ye==null?void 0:ye.data)||((It=(Re=ye==null?void 0:ye.error)==null?void 0:Re.data)==null?void 0:It.data)||((Tt=ye==null?void 0:ye.error)==null?void 0:Tt.data);Vt=`Reverse Step 2 blocked: ${ft||"Unknown reason"}. Check console for details. ${Nt?`(data: ${Nt.slice(0,18)}...)`:""}`}ot(Vt),on(Nt=>({...Nt,[ee]:!1})),b("error");return}(await(await o.AuctionContract.getFunction(Xn.key)(...Xn.args)).wait()).status===1?(Fo("Reverse Step 2 completed"),b("confirmed"),rr(ye=>({...ye,[gt]:0}))):(ot("Step 2 transaction failed"),b("error"))}catch(gt){if(console.error("Reverse Step 2 error:",gt),(gt==null?void 0:gt.code)===4001)b("cancelled"),ot("Transaction cancelled by user.");else{let $e=(gt==null?void 0:gt.reason)||(gt==null?void 0:gt.shortMessage)||((Ot=gt==null?void 0:gt.error)==null?void 0:Ot.errorName)||(gt==null?void 0:gt.message)||"Reverse Step 2 failed";ot($e),b("error")}}finally{on(gt=>({...gt,[ee]:!1})),pn(gt=>({...gt,[ee]:"Ratio Swap"})),await Mi()}},kx=async(ee,Se,Ue)=>{var Ke;try{b("initiated"),on($e=>({...$e,[ee]:!0})),pn($e=>({...$e,[ee]:"Checking allowance..."}));const re=p(),Re=new un(h(),$a,s);if(await Re.allowance(a,re)===0n){pn($e=>({...$e,[ee]:"Approving STATE..."})),console.log("Insufficient allowance. Sending approval transaction...");try{b("Approving");const $e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");await(await Re.approve(re,$e)).wait(),console.log("Approval successful!")}catch($e){return console.error("Approval transaction failed:",$e),pn(yt=>({...yt,[ee]:"STATE approval failed"})),on(yt=>({...yt,[ee]:!1})),b("error"),!1}}else console.log("STATE allowance present. Proceeding to swap.");pn($e=>({...$e,[ee]:"Swapping..."})),b("pending");let Tt=Ue||(Se?Me[Se]:void 0);if(!Tt)try{const $e=await Li();if(Se&&($e!=null&&$e[Se]))Tt=$e[Se];else{try{const yt=await o.AuctionContract.getTodayToken(),Yt=(yt==null?void 0:yt[0])||(yt==null?void 0:yt.tokenOfDay);Yt&&Yt!==er&&(Tt=Yt)}catch{}!Tt&&$e&&Object.values($e).length>0&&(Tt=Object.values($e)[0])}}catch{}if(!Tt){ot("No token selected and token-of-day unavailable. Please wait for tokens to load or select a token."),b("error"),on($e=>({...$e,[ee]:!1}));return}(await(await o.AuctionContract.swapTokens()).wait()).status===1?(console.log("Swap Complete!"),b("confirmed"),Fo("Swap successful"),e(),pn($e=>({...$e,[ee]:"Swap Complete!"}))):(console.error("Swap transaction failed."),b("error"),pn($e=>({...$e,[ee]:"Swap failed"}))),await mi(),await Ap(),await Mi()}catch(re){if(console.error("Error during token swap:",re),(re==null?void 0:re.code)===4001){b("cancelled"),ot("Transaction cancelled by user."),pn(It=>({...It,[ee]:"Cancelled"}));return}b("error");let Re="An error occurred during swap.";re!=null&&re.reason?Re=re.reason:(Ke=re==null?void 0:re.data)!=null&&Ke.message?Re=re.data.message:re!=null&&re.message&&(Re=re.message),Re.includes("execution reverted (unknown custom error)")&&(Re="Check Token Balance on your account or Make Airdrop"),ot(Re),pn(It=>({...It,[ee]:"Swap failed"}))}finally{b(""),on(re=>({...re,[ee]:!1})),pn(re=>({...re,[ee]:"Swap Completed"})),pn(re=>({...re,[ee]:"Swap"})),await mi(),await Ap(),await Mi()}},Rx=async ee=>{var Se,Ue,Ke;try{if(!(o!=null&&o.AuctionContract)||!(o!=null&&o.airdropDistributor)){ot("Contracts not ready");return}const re=await o.AuctionContract.getTodayToken(),Re=(re==null?void 0:re[0])||(re==null?void 0:re.tokenOfDay)||(re==null?void 0:re.token)||null,It=(re==null?void 0:re[1])??(re==null?void 0:re.active)??void 0;if(!Re||Re===er){ot("No auction token scheduled for today");return}let Tt,Ot,gt;try{if(o!=null&&o.swapLens&&typeof o.swapLens.getTodayDashboard=="function"){const St=o.AuctionContract.target||((Ue=(Se=o.AuctionContract).getAddress)==null?void 0:Ue.call(Se)),et=await o.swapLens.getTodayDashboard(St),kt=(et==null?void 0:et[0])||(et==null?void 0:et.tokenOfDay),ln=(et==null?void 0:et[1])??(et==null?void 0:et.activeWindow),Xn=(et==null?void 0:et[2])??(et==null?void 0:et.isReverse),si=Number((et==null?void 0:et[4])??(et==null?void 0:et.secondsLeft)??0);if(Tt=!!ln,gt=!!Xn,Ot=si,kt&&Re&&kt.toLowerCase()!==Re.toLowerCase()&&console.warn("getTodayDashboard token mismatch with getTodayToken"),gt===!0){ot("Reverse auction window is active; Airdrop claim is only available during normal windows.");return}}}catch(St){console.debug("SwapLens getTodayDashboard check skipped:",(St==null?void 0:St.message)||St)}let $e;try{const St=await o.AuctionContract.isAuctionActive(Re);typeof St=="boolean"&&($e=St)}catch{}if(Tt===void 0||$e===void 0)try{const St=await o.AuctionContract.getAuctionTimeLeft(Re);Ot=Number(St),$e===void 0&&($e=Number(St)>0)}catch{}ee&&ee.toLowerCase()!==Re.toLowerCase()&&console.warn("Selected token is not today's token. Using today's token for claim.");let yt=0;try{const St=await o.airdropDistributor.getClaimable(Re,a),et=Array.isArray(St)?St[2]||0n:(St==null?void 0:St.amount)||0n;if(BigInt(et)===0n){ot("Nothing claimable right now (need >=1 DAV unit or already claimed)");return}yt=Number(oh(et))}catch(St){console.debug("getClaimable check skipped:",(St==null?void 0:St.message)||St)}const Yt=Tt!==void 0?Tt:$e!==void 0?$e:It!==void 0?!!It:typeof Ot=="number"?Ot>0:void 0;try{const St=et=>et?`${et.slice(0,6)}${et.slice(-4)}`:"0x0";vr.dismiss("claim-debug"),vr(et=>`Today: ${St(Re)}  Active: ${Yt??"n/a"}  Rev: ${gt??"n/a"}  tLeft: ${Ot??"n/a"}s  Claimable: ${yt}`,{id:"claim-debug",duration:4e3})}catch{}try{if(await o.AuctionContract.isReverseAuctionActive(Re)){ot("Reverse auction window is active; Claim is available only during normal windows.");return}}catch{}try{if(!await o.AuctionContract.isAuctionActive(Re)){ot("Auction window not active for today's token. Please wait for the next slot.");return}}catch{}let Jn;try{const St=o.airdropDistributor,et=(o==null?void 0:o._airdropDistributorAddress)||(St==null?void 0:St.target),kt=St==null?void 0:St.interface;if(kt)try{kt.getFunction("claim()"),Jn=await St["claim()"]()}catch{try{Jn=await St.claim()}catch(ln){if(!et)throw ln;Jn=await new un(et,["function claim()"],s).claim()}}else{if(!et)throw new Error("AirdropDistributor address unavailable");Jn=await new un(et,["function claim()"],s).claim()}}catch(St){throw ot("Unable to invoke claim on distributor. Please ensure contracts/ABI match deployment."),St}await Jn.wait(),Fo("Airdrop claimed"),await i0(),await Oa(),await Tl(),await $u()}catch(re){console.error("Error claiming tokens:",re);let Re=(re==null?void 0:re.reason)||(re==null?void 0:re.shortMessage)||((Ke=re==null?void 0:re.error)==null?void 0:Ke.errorName)||(re==null?void 0:re.message)||"Claim failed";throw/NotToday/i.test(Re)&&(Re="Auction window not active for today's token (NotToday). Start the window or wait until it opens."),ot(Re),re}},Wb=async(ee,Se,Ue=18)=>{if(!window.ethereum){vr.error("MetaMask is not installed.");return}const Ke={type:"ERC20",options:{address:ee,symbol:Se,decimals:Ue}},re=vr.loading(`Adding ${Se} to wallet...`);try{const Re=await window.ethereum.request({method:"wallet_watchAsset",params:Ke});vr.dismiss(re),Re?vr.success(`${Se} added to wallet!`):vr("Token addition cancelled.")}catch(Re){console.error(Re),vr.dismiss(re),vr.error(`Failed to add ${Se}.`)}},Ox=async()=>{try{const ee=new un(qh,uC,Nl),Se=pu("1",18),Ue=[h(n),gj],Ke=await ee.getAmountsOut(Se,Ue),re=Ke[Ke.length-1],Re=vi(re,18);sr(Re.toString()),console.log("pSTATE to PLS ratio:",Re)}catch(ee){return console.error("Error fetching pSTATE to PLS ratio:",ee),0}};function $x(){const ee=JSON.parse(localStorage.getItem("auctionSwaps")||"{}");if(ee[a]){for(const Se of Object.keys(ee[a])){for(const Ue of Object.keys(ee[a][Se]))(In==null?void 0:In[Ue])===!0||(console.log(`Auction not active  deleting swaps for token = ${Ue}`),delete ee[a][Se][Ue]);Object.keys(ee[a][Se]).length===0&&delete ee[a][Se]}Object.keys(ee[a]).length===0&&delete ee[a],localStorage.setItem("auctionSwaps",JSON.stringify(ee))}}function a0(ee,Se,Ue,Ke){var Re,It,Tt;const re=JSON.parse(localStorage.getItem("auctionSwaps")||"{}");(Tt=(It=(Re=re[ee])==null?void 0:Re[Se])==null?void 0:It[Ue])!=null&&Tt[Ke]&&(delete re[ee][Se][Ue][Ke],Object.keys(re[ee][Se][Ue]).length===0&&delete re[ee][Se][Ue],Object.keys(re[ee][Se]).length===0&&delete re[ee][Se],Object.keys(re[ee]).length===0&&delete re[ee],localStorage.setItem("auctionSwaps",JSON.stringify(re)))}const Hb=async(ee,Se,Ue,Ke,re,Re,It)=>{var Yt,Jn,St,et;b("initiated"),$x(),jn(kt=>({...kt,[ee]:!0})),Er(kt=>({...kt,[ee]:"fetching quote..."}));const Tt=JSON.parse(localStorage.getItem("auctionSwaps")||"{}");if(In[re]=="false"&&(Yt=Tt[Ke])!=null&&Yt[re]){ot("You have already swapped this token in this auction period.");return}if(!Se){ot("Invalid input parameters.");return}let Ot=null;const gt=It;let $e=null,yt=null;try{console.log("chainid from swap fun",n);try{if(n===369){const kt=new un(qh,uC,Ue),ln=pu(Se.toString(),18),Xn=[It,re],si=await kt.getAmountsOut(ln,Xn),zr=si[si.length-1],ye=Math.floor(Date.now()/1e3)+1200;Ot=qh,yt={routerContract:kt,parsedAmount:ln,rawOut:zr,path:Xn,deadline:ye}}else{const kt=pu(Se,18).toString(),ln=new URL(`https://api.sushi.com/swap/v7/${n}`);ln.searchParams.set("tokenIn",gt),ln.searchParams.set("tokenOut",re),ln.searchParams.set("amount",kt),ln.searchParams.set("sender",Ke||"0x0000000000000000000000000000000000000000");const Xn=await fetch(ln);if(!Xn.ok)throw new Error("Quote fetch failed.");$e=await Xn.json(),Ot=$e.to}}catch(kt){console.error("Error fetching quote:",kt),ot("Failed to fetch quote. Try again."),jn(ln=>({...ln,[ee]:!1})),b("error");return}}catch(kt){console.error("Error in main try block:",kt),ot("Unexpected error occurred. Try again."),jn(ln=>({...ln,[ee]:!1})),b("error");return}try{const kt=new un(It,Re,Ue),ln=await kt.allowance(Ke,Ot),Xn=pu(Se||"0",18);if(BigInt(ln)<BigInt(Xn)){Er(zr=>({...zr,[ee]:"Checking allowance..."})),b("Approving");try{const zr=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");await(await kt.approve(Ot,zr)).wait()}catch(zr){console.error("Approval error:",zr),b("error"),ot("Approval failed. Try again.");return}}}catch(kt){console.error("Error checking allowance:",kt),ot("Failed to check allowance. Try again."),jn(ln=>({...ln,[ee]:!1}));return}try{b("pending"),Er(Xn=>({...Xn,[ee]:"Swapping..."}));let kt;if(n===369){const{routerContract:Xn,parsedAmount:si,rawOut:zr,path:ye,deadline:ft}=yt;kt=await Xn.swapExactTokensForTokensSupportingFeeOnTransferTokens(si,zr,ye,Ke,ft)}else kt=await Ue.sendTransaction({to:$e.to,data:$e.data});console.log("Transaction sent:",kt.hash);const ln={...Tt,[Ke]:{...Tt[Ke]||{},[String(q==null?void 0:q[ee])]:{...((Jn=Tt[Ke])==null?void 0:Jn[String(q==null?void 0:q[ee])])||{},[ee]:{...((et=(St=Tt[Ke])==null?void 0:St[String(q==null?void 0:q[ee])])==null?void 0:et[ee])||{},[re]:"pending"}}}};localStorage.setItem("auctionSwaps",JSON.stringify(ln)),kt.wait().then(Xn=>{console.log("Transaction confirmed:",Xn.transactionHash),Fo(`Swap successful with ${ee} token for ${Se}`);const si=JSON.parse(localStorage.getItem("auctionSwaps")||"{}");si[Ke][String(q==null?void 0:q[ee])][ee][re]=!0,localStorage.setItem("auctionSwaps",JSON.stringify(si)),b("confirmed"),e()}).catch(Xn=>{console.error("Swap failed:",Xn),ot("Swap failed"),b("error"),a0(Ke,String(q==null?void 0:q[ee]),ee,re)})}catch(kt){if(b("error"),console.error("Swap failed:",kt),(kt==null?void 0:kt.code)===4001){b("cancelled"),ot("Transaction cancelled by user."),a0(Ke,String(q==null?void 0:q[ee]),ee,re);return}jn(ln=>({...ln,[ee]:!1})),b("error"),a0(Ke,String(q==null?void 0:q[ee]),ee,re)}finally{jn(kt=>({...kt,[ee]:!1}))}},c0=async()=>{var ee,Se,Ue,Ke,re;try{const Re=((Se=(ee=Jc())==null?void 0:ee.network)==null?void 0:Se.chainId)||369,It=((re=(Ke=(Ue=Jc())==null?void 0:Ue.dex)==null?void 0:Ke.baseToken)==null?void 0:re.address)||gj,Tt=F9e(Re,(It||"").toLowerCase(),1),Ot=await fetch(Tt);if(!Ot.ok)throw new Error("Failed to fetch DAI price");const yt=(await Ot.json()).data[0].attributes.price_change_percentage.h24;console.log("DAI 24h price change %:",yt),T(yt)}catch(Re){console.error("Error fetching DAI price:",Re)}};return _.jsx(dZ.Provider,{value:{provider:i,signer:s,loading:r,address:a,handleDexTokenSwap:Hb,performRatioSwap:g_,performReverseSwapStep1:zb,performReverseSwapStep2:Zn,CalculationOfCost:t0,setDexSwappingStates:jn,DexswappingStates:_c,UsersSupportedTokens:ws,TotalCost:E,isAirdropClaimed:i0,setClaiming:w,TokenBalance:st,claiming:g,SwapTokens:kx,setDavAndStateIntoSwap:Fb,handleAddToken:Wb,userHashSwapped:$i,userHasReverseSwapped:xt,isCliamProcessing:ir,isTokenRenounce:Ft,AddTokenIntoSwapContract:jb,isTokenSupporteed:kl,burnedAmount:ke,buttonTextStates:Lr,DexbuttonTextStates:mn,DavAddress:ka,StateAddress:ur,StateBalance:Qe,swappingStates:pi,getStateTokenBalanceAndSave:Tx,TokenPariAddress:Y,AuctionTime:L,txStatusForSwap:y,fetchUserTokenAddresses:gf,AirdropClaimed:qe,isReversed:Jt,InputAmount:R,burnedLPAmount:Xt,DaipriceChange:S,setTxStatusForSwap:b,AirDropAmount:k,reverseStateMap:hn,getAirdropAmount:Il,supportedToken:Fs,OutPutAmount:ue,CurrentCycleCount:q,giveRewardForAirdrop:Px,CheckMintBalance:Rx,getInputAmount:Oa,TokenNames:tn,getOutPutAmount:Tl,txStatusForAdding:C,setTxStatusForAdding:x,TimeLeftClaim:Pe,renounceTokenContract:r0,tokenMap:Me,IsAuctionActive:In,TokenRatio:ge,getTokenRatio:mf,pstateToPlsRatio:zn,auctionDuration:Di,auctionInterval:Tc},children:t})};fZ.propTypes={children:Bt.node.isRequired};const H9e=()=>{var n;const t=U.useContext(Pa),e=((n=t==null?void 0:t.AllContracts)==null?void 0:n.AuctionContract)??null;return U.useMemo(()=>{var r,i,s,o,a,c,u,f,h,p,g,w,y,b;return{...t,AuctionContract:e,BuyAndBurnController:((r=t==null?void 0:t.AllContracts)==null?void 0:r.buyBurnController)??null,LPHelper:((i=t==null?void 0:t.AllContracts)==null?void 0:i.lpHelper)??null,LiquidityManager:((s=t==null?void 0:t.AllContracts)==null?void 0:s.liquidityManager)??null,SwapLens:((o=t==null?void 0:t.AllContracts)==null?void 0:o.swapLens)??null,addresses:{state:((c=(a=t==null?void 0:t.contracts)==null?void 0:a.addresses)==null?void 0:c.state)||((f=(u=t==null?void 0:t.AllContracts)==null?void 0:u.stateContract)==null?void 0:f.target)||null,dav:((p=(h=t==null?void 0:t.contracts)==null?void 0:h.addresses)==null?void 0:p.dav)||((w=(g=t==null?void 0:t.AllContracts)==null?void 0:g.davContract)==null?void 0:w.target)||null,swap:((b=(y=t==null?void 0:t.AllContracts)==null?void 0:y.AuctionContract)==null?void 0:b.target)||null}}},[t,e])};function CO(){const{BuyAndBurnController:t}=H9e(),[e,n]=U.useState(null),[r,i]=U.useState(!1);return U.useEffect(()=>{let s=!1;const o=async()=>{if(!t){n(null);return}i(!0);try{let c=null;try{typeof t.stateWplsPool=="function"&&(c=await t.stateWplsPool())}catch{}if(!c||c===er)try{const u=await t.getControllerStatus();c=u==null?void 0:u[3]}catch{}s||n(c&&T1(c)?c:er)}catch{s||n(er)}finally{s||i(!1)}};o();const a=setInterval(o,3e4);return()=>{s=!0,clearInterval(a)}},[t]),{poolAddress:e,loading:r}}var t3={exports:{}},V9e=t3.exports,Pj;function q9e(){return Pj||(Pj=1,function(t,e){(function(r,i){t.exports=i()})(V9e,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={exports:{},id:s,loaded:!1};return n[s].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}return i.m=n,i.c=r,i.p="",i(0)}([function(n,r,i){const s=i(1),o=i(2),a=new Array(4);function c(y){for(let b=0;b<a.length;b++)a[b]=0;for(let b=0;b<y.length;b++)a[b%4]=(a[b%4]<<5)-a[b%4]+y.charCodeAt(b)}function u(){const y=a[0]^a[0]<<11;return a[0]=a[1],a[1]=a[2],a[2]=a[3],a[3]=a[3]^a[3]>>19^y^y>>8,(a[3]>>>0)/(1<<31>>>0)}function f(){const y=Math.floor(u()*360),b=u()*60+40,C=(u()+u()+u()+u())*25;return[y/360,b/100,C/100]}function h(y){const b=y,C=y,x=Math.ceil(b/2),E=b-x,I=[];for(let S=0;S<C;S++){let T=[];for(let O=0;O<x;O++)T[O]=Math.floor(u()*2.3);const R=T.slice(0,E).reverse();T=T.concat(R);for(let O=0;O<T.length;O++)I.push(T[O])}return I}function p(y,b,C,x,E,I){for(let S=0;S<x;S++)for(let T=0;T<E;T++)y.buffer[y.index(b+S,C+T)]=I}function g(y){if(!y.seed)throw new Error("No seed provided");return c(y.seed),Object.assign({size:8,scale:16,color:f(),bgcolor:f(),spotcolor:f()},y)}function w(y){const b=g({seed:y.toLowerCase()}),C=h(b.size),x=Math.sqrt(C.length),E=new s(b.size*b.scale,b.size*b.scale,3);E.color(...o(...b.bgcolor));const I=E.color(...o(...b.color)),S=E.color(...o(...b.spotcolor));for(let T=0;T<C.length;T++){const R=Math.floor(T/x),O=T%x;if(C[T]){const k=C[T]==1?I:S;p(E,O*b.scale,R*b.scale,b.scale,b.scale,k)}}return`data:image/png;base64,${E.getBase64()}`}n.exports=w},function(n,r){/**
 * A handy class to calculate color values.
 *
 * @version 1.0
 * @author Robert Eisele <robert@xarg.org>
 * @copyright Copyright (c) 2010, Robert Eisele
 * @link http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/
 * @license http://www.opensource.org/licenses/bsd-license.php BSD License
 *
 */n.exports=function(i,s,o){function a(x,E){for(var I=2;I<arguments.length;I++)for(var S=0;S<arguments[I].length;S++)x[E++]=arguments[I].charAt(S)}function c(x){return String.fromCharCode(x>>8&255,x&255)}function u(x){return String.fromCharCode(x>>24&255,x>>16&255,x>>8&255,x&255)}function f(x){return String.fromCharCode(x&255,x>>8&255)}this.width=i,this.height=s,this.depth=o,this.pix_size=s*(i+1),this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4,this.ihdr_offs=0,this.ihdr_size=25,this.plte_offs=this.ihdr_offs+this.ihdr_size,this.plte_size=8+3*o+4,this.trns_offs=this.plte_offs+this.plte_size,this.trns_size=8+o+4,this.idat_offs=this.trns_offs+this.trns_size,this.idat_size=8+this.data_size+4,this.iend_offs=this.idat_offs+this.idat_size,this.iend_size=12,this.buffer_size=this.iend_offs+this.iend_size,this.buffer=new Array,this.palette=new Object,this.pindex=0;for(var h=new Array,p=0;p<this.buffer_size;p++)this.buffer[p]="\0";a(this.buffer,this.ihdr_offs,u(this.ihdr_size-12),"IHDR",u(i),u(s),"\b"),a(this.buffer,this.plte_offs,u(this.plte_size-12),"PLTE"),a(this.buffer,this.trns_offs,u(this.trns_size-12),"tRNS"),a(this.buffer,this.idat_offs,u(this.idat_size-12),"IDAT"),a(this.buffer,this.iend_offs,u(this.iend_size-12),"IEND");var g=30912;g+=31-g%31,a(this.buffer,this.idat_offs+8,c(g));for(var p=0;(p<<16)-1<this.pix_size;p++){var w,y;p+65535<this.pix_size?(w=65535,y="\0"):(w=this.pix_size-(p<<16)-p,y=""),a(this.buffer,this.idat_offs+8+2+(p<<16)+(p<<2),y,f(w),f(~w))}for(var p=0;p<256;p++){for(var b=p,C=0;C<8;C++)b&1?b=-306674912^b>>1&2147483647:b=b>>1&2147483647;h[p]=b}this.index=function(x,E){var I=E*(this.width+1)+x+1,S=this.idat_offs+8+2+5*Math.floor(I/65535+1)+I;return S},this.color=function(x,E,I,S){S=S>=0?S:255;var T=((S<<8|x)<<8|E)<<8|I;if(typeof this.palette[T]>"u"){if(this.pindex==this.depth)return"\0";var R=this.plte_offs+8+3*this.pindex;this.buffer[R+0]=String.fromCharCode(x),this.buffer[R+1]=String.fromCharCode(E),this.buffer[R+2]=String.fromCharCode(I),this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(S),this.palette[T]=String.fromCharCode(this.pindex++)}return this.palette[T]},this.getBase64=function(){var x=this.getDump(),E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",I,S,T,R,O,k,M,L=x.length,j=0,Q="";do I=x.charCodeAt(j),R=I>>2,S=x.charCodeAt(j+1),O=(I&3)<<4|S>>4,T=x.charCodeAt(j+2),L<j+2?k=64:k=(S&15)<<2|T>>6,L<j+3?M=64:M=T&63,Q+=E.charAt(R)+E.charAt(O)+E.charAt(k)+E.charAt(M);while((j+=3)<L);return Q},this.getDump=function(){for(var x=65521,E=5552,I=1,S=0,T=E,R=0;R<this.height;R++)for(var O=-1;O<this.width;O++)I+=this.buffer[this.index(O,R)].charCodeAt(0),S+=I,(T-=1)==0&&(I%=x,S%=x,T=E);I%=x,S%=x,a(this.buffer,this.idat_offs+this.idat_size-8,u(S<<16|I));function k(M,L,j){for(var Q=-1,J=4;J<j-4;J+=1)Q=h[(Q^M[L+J].charCodeAt(0))&255]^Q>>8&16777215;a(M,L+j-4,u(Q^-1))}return k(this.buffer,this.ihdr_offs,this.ihdr_size),k(this.buffer,this.plte_offs,this.plte_size),k(this.buffer,this.trns_offs,this.trns_size),k(this.buffer,this.idat_offs,this.idat_size),k(this.buffer,this.iend_offs,this.iend_size),`PNG\r

`+this.buffer.join("")}}},function(n,r){function i(o,a,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?o+(a-o)*6*c:c<1/2?a:c<2/3?o+(a-o)*(2/3-c)*6:o}function s(o,a,c){let u,f,h;if(a==0)u=f=h=c;else{const p=c<.5?c*(1+a):c+a-c*a,g=2*c-p;u=i(g,p,o+1/3),f=i(g,p,o),h=i(g,p,o-1/3)}return[Math.round(u*255),Math.round(f*255),Math.round(h*255),255]}n.exports=s}])})}(t3)),t3.exports}var G9e=q9e();const K9e=gc(G9e),f_=(t,e=8)=>{if(!t||t==="0x0000000000000000000000000000000000000000")return'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"%3E%3Ccircle cx="12" cy="12" r="10" fill="%23999"/%3E%3Ctext x="12" y="16" font-size="12" text-anchor="middle" fill="%23fff"%3E?%3C/text%3E%3C/svg%3E';try{return K9e(t)}catch(n){return console.error("Error generating identicon:",n),'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"%3E%3Ccircle cx="12" cy="12" r="10" fill="%23999"/%3E%3Ctext x="12" y="16" font-size="12" text-anchor="middle" fill="%23fff"%3E?%3C/text%3E%3C/svg%3E'}},kj=t=>t?`${t.slice(0,6)}...${t.slice(-6)}`:"",h_=()=>{const t=Cp(),{Emojies:e,names:n}=e0(),r=Na(),{AllContracts:i}=U.useContext(Pa),[s,o]=U.useState(!0),[a,c]=U.useState(0),[u,f]=U.useState([]),[h,p]=U.useState({}),{poolAddress:g}=CO(),w=()=>fO(r),y=()=>Ny(r),b=Array.isArray(n)&&Array.isArray(e)&&n.length===e.length?n.reduce((k,M,L)=>(k[M.toLowerCase()]=e[L]||"",k),{}):{},C=[{name:"DAV",key:"DAV",displayName:"DAV",address:w(),price:0},{name:"STATE",key:"state",displayName:"STATE",address:y(),price:0,pairAddress:g}];U.useEffect(()=>{const k=async()=>{var L,j;if(i!=null&&i.AuctionContract)try{const Q=Number(await((j=(L=i.AuctionContract).tokenCount)==null?void 0:j.call(L).catch(()=>0))),J=[];for(let $=0;$<Q;$++)try{const D=await i.AuctionContract.autoRegisteredTokens($);if(!D||D===er)continue;const H=await i.AuctionContract.getPairAddress(D).catch(()=>er);let z=`Token ${$+1}`,Y="TKN";try{const K=new un(D,["function name() view returns (string)","function symbol() view returns (string)","function decimals() view returns (uint8)"],i.AuctionContract.runner||i.AuctionContract.provider);[z,Y]=await Promise.all([K.name(),K.symbol()])}catch(K){console.warn(`Failed to fetch token details for ${D}:`,K)}J.push({address:D,name:z,symbol:Y,pairAddress:H||er,hasPair:H&&H!==er})}catch(D){console.warn(`Error fetching token at index ${$}:`,D)}f(J),console.log(` Fetched ${J.length} deployed tokens from contract:`,J.map($=>$.name))}catch(Q){console.error("Error fetching deployed tokens:",Q)}};k();const M=setInterval(k,3e4);return()=>clearInterval(M)},[i==null?void 0:i.AuctionContract]);const x=Array.from(t.TokenNames||[]).filter(k=>k!=="DAV"&&k!=="STATE").map(k=>{var Q;const M=((Q=t.tokenMap)==null?void 0:Q[k])||er,L=b[k.toLowerCase()],j=l_(L)?L:f_(M);return{name:k,key:k,address:M,price:0,emoji:j}});U.useEffect(()=>{let k=!1;return(async()=>{var M;try{const L=((M=i==null?void 0:i.AuctionContract)==null?void 0:M.runner)||(i==null?void 0:i.provider);if(!L)return;const j=x.map(Q=>(Q.address||"").toLowerCase()).filter(Q=>Q&&Q!==er.toLowerCase());for(const Q of j)if(!h[Q])try{const $=await new un(Q,["function name() view returns (string)"],L).name();!k&&$&&p(D=>({...D,[Q]:$}))}catch{}}catch{}})(),()=>{k=!0}},[i==null?void 0:i.AuctionContract,JSON.stringify(x.map(k=>k.address))]);const E=[...C,...x,...u],I=new Set;let T=E.filter(k=>{const M=(k.address||"").toLowerCase(),L=(k.name||k.key||"").toLowerCase(),j=M?`addr:${M}`:`sym:${L}`;return I.has(j)?!1:(I.add(j),!0)}).map(k=>{var D,H,z,Y,K,q,V,ue,le,ge,ve,Pe,Ie,ke,it,Xt,dn,hn,rr,st,Te,Qe,at,Jt;const M=k.key,L=k.emoji||"",j=k.hasPair!==void 0;if(k.isDeployed||j){const An=(D=t.TokenBalance)==null?void 0:D[k.name],In=(H=t.TokenBalance)==null?void 0:H[k.fullName],en=An||In||k.davVaultBalance||0,Ft=(Y=(z=t.burnedLPAmount)==null?void 0:z[k.name])==null?void 0:Y.balance,xn=(q=(K=t.burnedLPAmount)==null?void 0:K[(k.address||"").toLowerCase()])==null?void 0:q.balance,Me=Math.floor(Number(Ft??xn??0))||0;return{tokenName:k.name,key:kj(k.address),name:k.displayName||k.name,displayName:k.fullName||k.name,Price:k.price||0,ratio:((V=t.TokenRatio)==null?void 0:V[k.name])||"0",emoji:L,isRenounced:((ue=t.isTokenRenounce)==null?void 0:ue[k.name])||!1,DavVault:en,BurnedLp:Me,burned:((le=t.burnedAmount)==null?void 0:le[k.name])||"0",isDeployed:!0,isSupported:!0,TokenAddress:k.address,PairAddress:k.pairAddress||"0x0000000000000000000000000000000000000000",Cycle:(ge=t.CurrentCycleCount)!=null&&ge[k.name]?t.CurrentCycleCount[k.name]==="not started"?"Not Started":t.CurrentCycleCount[k.name]+1:"0/20"}}const Q=((Pe=(ve=t.burnedLPAmount)==null?void 0:ve[k.name])==null?void 0:Pe.balance)??((ke=(Ie=t.burnedLPAmount)==null?void 0:Ie[M])==null?void 0:ke.balance),J=(Xt=(it=t.burnedLPAmount)==null?void 0:it[(k.address||"").toLowerCase()])==null?void 0:Xt.balance,$=Math.floor(Number(Q??J??0))||0;return{tokenName:k.name,key:kj(k.address),name:k.displayName||k.name,displayName:h[(k.address||"").toLowerCase()]||k.displayName||k.name,Price:k.price,ratio:(dn=t.TokenRatio)==null?void 0:dn[M],emoji:L,isRenounced:(hn=t.isTokenRenounce)==null?void 0:hn[k.name],DavVault:(rr=t.TokenBalance)==null?void 0:rr[M],BurnedLp:$,burned:(st=t.burnedAmount)==null?void 0:st[M],isSupported:k.name==="DAV"||k.name==="STATE"?"true":(Te=t.supportedToken)==null?void 0:Te[M],TokenAddress:k.address,PairAddress:((Qe=t.TokenPariAddress)==null?void 0:Qe[M])||"0x0000000000000000000000000000000000000000",Cycle:((at=t.CurrentCycleCount)==null?void 0:at[M])==="not started"?"Not Started":((Jt=t.CurrentCycleCount)==null?void 0:Jt[M])+1}});const R=new Set;T=T.filter(k=>{const M=(k.TokenAddress||"").toLowerCase(),L=(k.tokenName||k.name||"").toLowerCase(),j=M||L;return R.has(j)?!1:(R.add(j),!0)});const O=()=>{o(!0),c(k=>k+1)};return U.useEffect(()=>{var L;if(u.length>0){o(!1);return}if(Array.isArray(T)&&T.length>0){o(!1);return}if((t.TokenNames||[]).length===0){o(!1);return}const M=((L=t.TokenNames)==null?void 0:L.length)>0&&t.tokenMap&&Object.keys(t.tokenMap).length>0&&(e==null?void 0:e.length)>0&&(n==null?void 0:n.length)>0&&t.isTokenRenounce&&t.TokenBalance&&t.burnedAmount&&t.supportedToken&&t.CurrentCycleCount;o(!M)},[T.length,u.length,t.TokenNames,t.tokenMap,e,n,t.isTokenRenounce,t.TokenBalance,t.burnedAmount,t.supportedToken,t.CurrentCycleCount,x.length,a]),{tokens:T,loading:s,refetch:O}},Jf=()=>_.jsxs(_.Fragment,{children:[_.jsx("style",{children:`
          @keyframes blink {
            50% {
              opacity: 0;
            }
          }

          .dot {
            display: inline-block;
            font-size: 24px;
            color: #6c757d; /* Bootstrap's muted text color */
          }

          .animate-blink1 {
            animation: blink 1s infinite;
          }

          .animate-blink2 {
            animation: blink 1s 0.2s infinite; /* delay second dot */
          }

          .animate-blink3 {
            animation: blink 1s 0.4s infinite; /* delay third dot */
          }

          .animate-blink4 {
            animation: blink 1s 0.6s infinite; /* delay fourth dot */
          }
        `}),_.jsx("span",{className:"dot animate-blink1",children:""}),_.jsx("span",{className:"dot animate-blink2",children:""}),_.jsx("span",{className:"dot animate-blink3",children:""}),_.jsx("span",{className:"dot animate-blink4",children:""})]});/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Y9e={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"]},Q9e={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},xO=(t,e)=>{const{address:n}=Sc(),[r,i]=U.useState({});return U.useEffect(()=>{(async()=>{if(!n||!e||!t)return;const o={};for(const a of Object.keys(t))try{const c=t[a];if(!c||!c.address)continue;if(a==="WPLS"){const u=await e.provider.getBalance(n);o[a]=vi(u,18)}else{const f=await new un(c.address,["function balanceOf(address) view returns (uint256)"],e).balanceOf(n);o[a]=vi(f,c.decimals)}}catch(c){console.error(`Error fetching balance for ${a}:`,c),o[a]="0"}i(o)})()},[n,e,t]),r},hC="/assets/statelogo-D0xiEOyz.png";function p_(){const t=Na(),{tokens:e}=h_(),[n,r]=U.useState({});U.useEffect(()=>{let s=!0;async function o(){var a,c,u;try{let f=[];if(t===369){const p=Jc(),g={name:"Wrapped Pulse",symbol:"WPLS",address:((c=(a=p==null?void 0:p.dex)==null?void 0:a.baseToken)==null?void 0:c.address)||"0xA1077a294dDE1B09bB078844df40758a5D0f9a27",decimals:18,image:I5},w={[g.name]:g};s&&r(w);return}else if(t==146){const p={name:"Wrapped Sonic",symbol:"Ws",address:"0x039e2fb66102314ce7b64ce5ce3e5183bc94ad38",decimals:18,image:dO},g={[p.name]:p};s&&r(g);return}else{const p=await fetch("https://ipfs.io/ipns/tokens.uniswap.org");if(!p.ok)throw new Error("Failed to fetch Uniswap tokenlist");f=((u=(await p.json()).tokens)==null?void 0:u.filter(w=>w.chainId===t))||[]}const h={};f.forEach(p=>{h[p.name||p.symbol]={symbol:p.symbol,address:p.address,decimals:p.decimals,image:p.logoURI||null,name:p.name}}),s&&r(h)}catch(f){console.error("fetchApiTokens error:",f),s&&r({})}}return o(),()=>{s=!1}},[t]);const i={};return e.filter(s=>s.tokenName!=="DAV").forEach(s=>{let o=s.image||s.logoURI,a;s.emoji&&(a=s.emoji),s.tokenName==="STATE"&&(o=hC),!o&&typeof a=="string"&&(a.startsWith("data:image/")||a.startsWith("http")||a.startsWith("/"))&&(o=a),o||(o=f_(s.TokenAddress)),i[s.tokenName]={symbol:s.tokenName,address:s.TokenAddress,decimals:s.decimals??18,image:o,displayName:s.displayName||s.name||s.tokenName,...a?{emoji:a}:{}}}),{...i,...n}}const Z9e=()=>{const t=Na(),{tokens:e}=h_(),n=p_(),{signer:r,AllContracts:i,contracts:s}=U.useContext(Pa),o=xO(n,r),{address:a}=Sc(),{mintDAV:c,claimableAmount:u,isLoading:f,claimAmount:h,isClaiming:p,davHolds:g,davExpireHolds:w,ReferralAMount:y,stateHolding:b,DavMintFee:C,ReferralCodeOfUser:x,davGovernanceHolds:E,totalInvestedPls:I}=e0(),{CalculationOfCost:S,TotalCost:T,getAirdropAmount:R,getInputAmount:O,getOutPutAmount:k,pstateToPlsRatio:M,DaipriceChange:L}=Cp(),[j,Q]=U.useState(""),[J,$]=U.useState(""),[D,H]=U.useState(!1),[z,Y]=U.useState(!1),[K,q]=U.useState(""),V="0x9FA004E13e780EF5b50ca225ad5DCD4D0Fe9ed70",[ue,le]=U.useState(!1);U.useEffect(()=>{let Te=!1;return(async()=>{try{if(!(i!=null&&i.AuctionContract)||!a)return;const Qe=(await i.AuctionContract.governanceAddress()).toLowerCase(),at=a.toLowerCase();Te||le(Qe===at)}catch{Te||le((a==null?void 0:a.toLowerCase())===(V==null?void 0:V.toLowerCase()))}})(),()=>{Te=!0}},[i==null?void 0:i.AuctionContract,a,V]);const ge=bO[t]||"PLS",ve=()=>t===369?I5:t===56?_Re:t===137?TRe:t===146?dO:I5,Pe=()=>t===56?{width:"170px",height:"140px"}:t===369?{width:"110px",height:"110px"}:t===137?{width:"110px",height:"110px"}:{width:"110px",height:"140px"},Ie=()=>{if(!j||j.trim()===""){ot("Enter mint amount");return}if(j==="0"){ot("Amount must be greater than zero");return}if(!/^[0-9]+$/.test(j)){ot("Amount must be a whole number");return}if(!C||C==="0"||C==="0.0"){ot("Mint price not loaded yet  please wait a moment");return}if(ue){ot("Governance cannot mint DAV");return}H(!0),setTimeout(async()=>{var Te;try{await c(j,J)&&await Promise.all([R(),O(),k()]),Q(""),$("")}catch(Qe){let at="Minting failed";const Jt=((Qe==null?void 0:Qe.message)||"").toLowerCase();Qe!=null&&Qe.reason?at=Qe.reason:(Te=Qe==null?void 0:Qe.data)!=null&&Te.message?at=Qe.data.message:Jt.includes("pool not ready")?at="Pool not ready - please refresh (governance may still be configuring)":Jt.includes("incorrect pls amount")?at="Incorrect PLS sent  refresh price and retry":Jt.includes("max holders")?at="Max holders reached":Jt.includes("governance cannot mint")?at="Governance wallet cannot mint":Jt.includes("amount must be a whole")?at="Amount must be a whole number":Jt.includes("max supply")?at="Mint cap reached":(Jt.includes("user rejected")||Jt.includes("rejected"))&&(at="Transaction rejected"),console.error("Minting error (decoded):",Qe),ot(at)}finally{H(!1)}},0)},ke=Te=>{/^\d*$/.test(Te.target.value)&&Q(Te.target.value),S(Te.target.value)},it=()=>e.reduce((Te,Qe)=>Te+cZ(Qe,o,M),0),Xt=Te=>{$(Te.target.value)};U.useEffect(()=>{S(j)},[S,j]);const dn=Number(I),hn=Number(it()),rr=dn>0?hn/dn*100:0,st=dn>0?hn/dn*36500:0;return _.jsx("div",{className:"container mt-4",children:_.jsxs("div",{className:"row g-4 d-flex align-items-stretch pb-1",children:[_.jsx("div",{className:"col-md-4 p-0 m-2 cards",children:_.jsxs("div",{className:"card bg-dark text-light border-light p-3 text-center w-100",style:{minHeight:"260px"},children:[_.jsx("div",{className:"mb-2 d-flex justify-content-center align-items-center gap-2",children:_.jsxs("div",{className:"floating-input-container",style:{maxWidth:"300px"},children:[_.jsx("input",{type:"text",id:"affiliateLink",list:"referralSuggestions",className:`form-control text-center fw-bold ${J?"filled":""}`,value:J,onChange:Xt,style:{height:"38px",color:"#ffffff"}}),_.jsx("label",{htmlFor:"affiliateLink",className:"floating-label",children:"Affiliate Link - Optional"}),_.jsx("datalist",{id:"referralSuggestions",children:K&&_.jsx("option",{value:K})})]})}),_.jsx("div",{className:"mt-2 mb-2 d-flex justify-content-center align-items-center",children:_.jsxs("div",{className:"floating-input-container",style:{maxWidth:"300px"},children:[_.jsx("input",{type:"text",id:"mintAmount",className:`form-control text-center fw-bold ${j?"filled":""}`,value:j,onChange:ke,required:!0,style:{height:"38px",color:"#ffffff"}}),_.jsx("label",{htmlFor:"mintAmount",className:"floating-label",children:"Mint DAV Token - Enter Amount"})]})}),_.jsxs("h5",{className:"detailAmount",children:["1 DAV TOKEN = ",pr(C)," ",ge]}),_.jsxs("h5",{className:"detailAmount mb-4",children:[(()=>{const Te=Number(j||0),Qe=parseFloat(C||"0");if(!Te||!Qe)return"0";const at=Te*Qe,Jt=Qe<1?4:2;return`${pr(at.toFixed(Jt))}`})()," ",ge]}),_.jsx("div",{className:"d-flex justify-content-center",children:_.jsx("button",{onClick:()=>{if(ue){ot("Governance cannot mint DAV");return}Ie()},className:"btn btn-primary btn-sm mb-0",style:{width:"200px"},disabled:D||ue,title:ue?"Governance cannot mint DAV":"Mint DAV",children:D?"Minting...":"Mint"})})]})}),_.jsx("div",{className:"col-md-4 p-0 m-2 cards",children:_.jsxs("div",{className:"card bg-dark text-light border-light p-3 d-flex w-100",children:[_.jsx("img",{src:ve(),alt:"native currency Logo",style:{position:"absolute",...Pe(),opacity:.1,top:"25%",left:"80%",transform:"translate(-50%, -50%)",zIndex:0,pointerEvents:"none"}}),_.jsxs("div",{children:[_.jsx("div",{className:"carddetaildiv uppercase d-flex justify-content-between align-items-center",children:_.jsxs("div",{className:"carddetails2",children:[_.jsxs("div",{className:"d-flex align-items-center gap-2",children:[_.jsx("p",{className:"mb-1 detailText",children:"ACTIVE DAV / EXPIRED DAV"}),ue&&_.jsx("span",{className:"badge bg-info text-dark",title:"You are connected with governance",children:"Governance"})]}),_.jsx("div",{className:"d-flex",children:_.jsxs("h5",{children:[ue?_.jsx(_.Fragment,{children:f?_.jsx(Jf,{}):E}):_.jsx(_.Fragment,{children:f?_.jsx(Jf,{}):g})," ","/ ",f?_.jsx(Jf,{}):w]})})]})}),_.jsxs("div",{className:"carddetails2 mt-1",children:[_.jsx("h6",{className:"detailText d-flex",style:{fontSize:"14px",textTransform:"capitalize"},children:t==146?"SONIC - SWAP LEVY":"GAS SWAP LEVY"}),_.jsxs("h5",{children:[pr(u)," ",ge]}),_.jsx("div",{className:"d-flex justify-content-center",children:_.jsx("button",{onClick:async()=>{setTimeout(async()=>{try{await h()}catch(Te){console.error("Error claiming:",Te),alert("Claiming failed! Please try again.")}},100)},className:"btn btn-primary d-flex btn-sm justify-content-center align-items-center mx-5 mt-4",style:{width:"190px"},disabled:Number(u)===0||p,children:p?"Claiming...":"Claim"})})]})]})]})}),_.jsx("div",{className:"col-md-4 p-0 m-2 cards",children:_.jsx("div",{className:"card bg-dark text-light border-light p-3 d-flex w-100",children:_.jsx("div",{children:_.jsx("div",{className:"carddetaildiv uppercase d-flex justify-content-between align-items-center",children:_.jsxs("div",{className:"carddetails2",children:[_.jsxs("p",{className:"mb-1",children:[_.jsxs("span",{className:"detailText",children:["State Token Holding -"," "]}),_.jsx("span",{className:"second-span-fontsize",children:pr(b)})]}),_.jsxs("p",{className:"mb-1",children:[_.jsx("span",{className:"detailText",children:"Affiliate com received - "}),_.jsxs("span",{className:"second-span-fontsize",children:[pr(y)," ",ge]})]}),_.jsxs("p",{className:"mb-1 ",children:[_.jsx("span",{className:"detailText",children:"Your Affiliate Link - "}),_.jsx("span",{className:"second-span-fontsize",style:{textTransform:"none"},children:x}),_.jsx("button",{onClick:()=>{navigator.clipboard.writeText(x),Y(!0),q(x),setTimeout(()=>Y(!1),2e3)},className:"btn btn-outline-light btn-sm py-0 px-2 mx-2",style:{fontSize:"14px"},title:z?"Copied!":"Copy",children:_.jsx(V8,{icon:z?Q9e:Y9e})})]}),_.jsxs("p",{className:"mb-1",children:[_.jsxs("span",{className:"detailText",children:["ROI / ",ge," -"]}),_.jsxs("span",{className:"ms-1 second-span-fontsize",children:[f?_.jsx(Jf,{}):`${pr(I)||"0"}`," / "," ",_.jsxs("span",{style:{color:it()>(I||0)?"#28a745":"#ff4081"},children:[f?_.jsx(Jf,{}):isNaN(it())?"Token Listing Process..":pr(Math.floor(it())||0)," ",ge]})]})]}),_.jsxs("p",{className:"mb-1",children:[_.jsx("span",{className:"detailText",children:"USER ROI % -"}),_.jsxs("span",{className:"ms-1 second-span-fontsize",children:[f?_.jsx(Jf,{}):pr(rr.toFixed(0))," %"]})]}),_.jsxs("p",{className:"mb-1",children:[_.jsx("span",{className:"detailText",children:"USER APR % -"}),_.jsxs("span",{className:"ms-1 second-span-fontsize",children:[f?_.jsx(Jf,{}):pr(st.toFixed(0))," %"]})]}),_.jsxs("p",{className:"mb-1",children:[_.jsxs("span",{className:"detailText",children:[ge," INDEX FUND -"]}),_.jsx("span",{className:"ms-1 second-span-fontsize",children:f?_.jsx(Jf,{}):_.jsxs(_.Fragment,{children:[_.jsxs("span",{style:{color:L>0?"#28a745":L<0?"#ff4081":"#ffffff"},children:["(",L," %)"]})," ",pr(parseFloat(Math.max(it()*L,0)/100).toFixed(2))," ",ge]})})]})]})})})})})]})})},pC=({className:t})=>_.jsx("span",{className:`ios-spinner ${t}`,role:"status","aria-hidden":"true"});pC.propTypes={className:Bt.string};pC.defaultProps={className:""};const J9e=()=>{Na();const{deployWithMetaMask:t,isProcessingToken:e}=e0(),[n,r]=U.useState(""),[i,s]=U.useState(""),o="180px",a=async()=>{try{const p=(n||"").trim(),g=(i||"").trim();if(!p||!g){alert("Please enter token name and symbol.");return}await t(p,g),r(""),s("")}catch(p){console.error("Error processing token:",p)}},c=(p,g=100)=>{setTimeout(async()=>{try{await p()}catch(w){console.error("Async function failed:",w)}},g)},u=p=>{r(p)},f=p=>{s(p)},h=U.useMemo(()=>{const p=(n||"").trim();if(!p)return"";let g=0;for(let R=0;R<p.length;R++)g=g*31+p.charCodeAt(R)>>>0;const w=5,y=20,b=4,C=w*y+b*2,x="#0b0f17",I=`hsl(${g%360},70%,55%)`,S=[];for(let R=0;R<w;R++)for(let O=0;O<Math.ceil(w/2);O++)if(g>>(R*w+O)%31&1){const M=b+O*y,L=b+(w-1-O)*y,j=b+R*y;S.push(`<rect x="${M}" y="${j}" width="${y}" height="${y}"/>`),L!==M&&S.push(`<rect x="${L}" y="${j}" width="${y}" height="${y}"/>`)}const T=`<?xml version='1.0' encoding='UTF-8'?>
<svg xmlns='http://www.w3.org/2000/svg' width='${C}' height='${C}' viewBox='0 0 ${C} ${C}'><rect width='100%' height='100%' fill='${x}'/><g fill='${I}'>${S.join("")}</g></svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(T)}`},[n]);return _.jsx("div",{className:"container mt-4",children:_.jsxs("div",{className:"row g-4 d-flex align-items-stretch pb-1",children:[_.jsx("div",{className:"col-md-4 p-0 m-2 cards",children:_.jsx("div",{className:"card bg-dark text-light border-light p-0 d-flex justify-content-start align-items-center text-center w-100",style:{minHeight:"260px"},children:_.jsxs("div",{className:"p-2 pt-3 pb-2",children:[_.jsx("p",{className:"mb-2 detailText",children:"ADD TOKEN NAME & SYMBOL"}),_.jsxs("div",{className:"mb-2 d-flex align-items-center gap-2",children:[_.jsxs("div",{className:"floating-input-container",style:{maxWidth:"300px"},children:[_.jsx("input",{type:"text",className:`form-control text-center fw-bold ${n?"filled":""}`,style:{"--placeholder-color":"#6c757d"},value:n,maxLength:11,disabled:e,onChange:p=>u(p.target.value.toUpperCase())}),_.jsx("label",{htmlFor:"affiliateLink",className:"floating-label",children:"Enter Token Name"})]}),_.jsxs("div",{className:"floating-input-container",style:{maxWidth:"180px"},children:[_.jsx("input",{type:"text",className:`form-control text-center fw-bold ${i?"filled":""}`,style:{"--placeholder-color":"#6c757d"},value:i,maxLength:6,disabled:e,onChange:p=>f(p.target.value.toUpperCase())}),_.jsx("label",{htmlFor:"tokenSymbol",className:"floating-label",children:"Symbol"})]})]})]})})}),_.jsx("div",{className:"col-md-4 p-0 m-2 cards",children:_.jsx("div",{className:"card bg-dark text-light border-light p-0 d-flex justify-content-center align-items-center text-center w-100",style:{minHeight:"260px"},children:_.jsxs("div",{className:"p-2 pt-3 pb-2",children:[_.jsx("p",{className:"mb-3 detailText",children:"IDENTICON PREVIEW"}),h?_.jsx("img",{src:h,alt:"identicon",style:{width:120,height:120,borderRadius:12,border:"1px solid #222"}}):_.jsx("div",{className:"text-muted",children:"Enter a token name to preview"})]})})}),_.jsx("div",{className:"col-md-4 p-0 m-2 cards",children:_.jsxs("div",{className:"card bg-dark text-light border-light p-0 d-flex justify-content-start align-items-center text-center w-100 ",children:[_.jsxs("div",{className:"p-2 pt-3 pb-2",children:[_.jsx("p",{className:"mb-2 detailText ",children:"DEPLOY"}),_.jsx("h6",{className:"text-center mt-3 text-success",children:"No fee required"}),_.jsx("button",{onClick:()=>c(a),style:{width:o},className:"btn btn-primary mx-5 mt-4 btn-sm d-flex justify-content-center align-items-center",disabled:e,children:e?_.jsxs(_.Fragment,{children:[_.jsx(pC,{className:"me-2"}),"Processing..."]}):"Deploy"})]}),_.jsx("h6",{className:"mt-4 text-muted",children:"A deterministic identicon will be used for the token icon."})]})})]})})},X9e=()=>{const t=Nu(),e=t.pathname==="/auction",n=t.pathname==="/AddToken";return _.jsx(_.Fragment,{children:e?_.jsx(Z9e,{}):n?_.jsx(J9e,{}):_.jsx(_.Fragment,{})})},EO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEIklEQVRIibWVS2xUZRTHf+e738wwj047pQ6PabGBFkksBvERE8AYFxBAE5I2+NioYSO6xWLiI0ZMEGFl4lIIiVEiRlggREyUhQsCiEgIhFJibafFUuxjmJnbO3Pv/Vzcjtw+QGP0bO6X8/if851z/t8F4EDnwlX5nc2a/0j6u5v1gc6FqwBk55PZhMDI6sWq8ESL9ZkSDp6+lb7Utf/KvwDOdRjDS6cHvBd/HvIbDCyQ7nXZLuAwwJJ6YX27JhHhHHAQONT80eCtvwFtBJ4HXilXefS7XpeBcVMzvyDd67KHga6aJhERNrRbtNQLQEWE45k0vXOBjxZY6hueAaL5CcPJXo9yxYRdvtbAirCmXDUcveLyWM7i8WYVVbDF9UBb08FdD3wDxsCZvM+5QQ9jmCkrFHBupjYI8jhy2aVYgUpldvVOFUoVOHrZ5Wx+TnCA8wo4O6cJGCwYvrhY5erI7Oiem4ZDF6sMFuZGnpKzSmT2DcJiV+H76x7FyTu6ohPo7Oq9IkHgjMLQBPh3c8omha0dmmhoBjEFWzs02ZTcC99HaFJAH+DO5bGsUdHZoUlGmdZjH0hGoetBTVujulsCF+jXItJrjPkdWAJQHxfam4TWjGJRUqjVGO50LZlWsPEBixslxW/jPj0jhgn7L8+blkiPAOzbuGDTQ4vVN8vvE7J1gjEwcTtYw5rE50E8FpxtB+zQTESgoS743rxt6BkxXBzyn91xYviYBti+RjdIqJ3FsqFQ9BERRIJAbQnxWOBUrRrsSYOZ4oExBksp0qmgwGydsGapathxAtRUBZ3h5iXjwS2KJY9C0WN4wuCEGFqpGoYnDIWiR7EUcCCVmDXwTgC5vSuXsBTDQCpsLdkwMCrsvdZCxHjsXp0nEzwfjBUMb/+Uo0SE7uX93N9oSMZnDbnsGxZI6YPcFhGOzLT6JmDwvBj0FmIsjDik4neS36jEWFbv4FQgqkHNsUzG8JyuumwO998YqLoGoRYktKUdKiFSRTS0xZ1aBJNOsGXakpmJNutimeszsjI67uG6hlTSoqlRiMfAChGtdrYduDVqKJY8tCU0ZjQyfRTXNHAM2F3TiEC6zmJ0zMVSwTq6Hlz4Q9E3FvCxNaN5eL5PpXonWTptzQQHOK6NUpfE9/uZIlrQAiGZUChLcLMrKbdv4t339/PrwBAAS3JZPn9vG9HeE1j5X0gmFBE9C33IiFzQLR8OkO/OHQdeDRn7kgnr5Pjq19qsRSufFhEy9WmSiWDKllK49a24j2zHW3zpVMP5T3qA9UBruPqWPXm/9qM/AjQD3wIn+yZTPWs/vsoPX87Xemx0V3xevPvN11+eNr6ybfu2Y+9zVeatlXsH3YF32hDHXj6VaMMUJvd8Dmty6qtP1yLyBlAryMeYPU91bfvxn8T/r/In3lug3es91pwAAAAASUVORK5CYII=",hZ=()=>{const{SwapTokens:t,isReversed:e,AuctionTime:n,RatioTargetsofTokens:r,IsAuctionActive:i,userHashSwapped:s,userHasReverseSwapped:o,InputAmount:a,OutPutAmount:c,AirdropClaimed:u,TokenNames:f,tokenMap:h}=Cp(),{Emojies:p,names:g}=e0(),[w,y]=U.useState(!0),[b,C]=U.useState([]),x=U.useRef(null),E=Array.isArray(g)&&Array.isArray(p)&&g.length===p.length?g.reduce((R,O,k)=>(R[O.toLowerCase()]=p[k]||"",R),{}):{},I=Array.from(f||[]).filter(R=>R!=="DAV"&&R!=="STATE"),S={second:()=>{}},T=I.map(R=>{const O=R,k=S[R]||(()=>{}),M=(h==null?void 0:h[R])||"0x0000000000000000000000000000000000000000",L=E[R.toLowerCase()],j=l_(L)?L:f_(M);return{id:O,name:O,emoji:j,ContractName:R,token:M,handleAddToken:k,ratio:`1:${(r==null?void 0:r[R])||0}`,currentRatio:"1:1000",TimeLeft:n==null?void 0:n[R],AirdropClaimedForToken:u==null?void 0:u[R],isReversing:e==null?void 0:e[R],RatioTargetToken:(r==null?void 0:r[R])||0,address:M,AuctionStatus:i==null?void 0:i[R],userHasSwapped:s==null?void 0:s[R],userHasReverse:o==null?void 0:o[R],SwapT:()=>t(O,R),onlyInputAmount:a[R],onlyState:(c==null?void 0:c[R])||0,inputTokenAmount:`${a[R]||0} ${O}`,outputToken:`${(c==null?void 0:c[R])||0} STATE`}});return U.useEffect(()=>{const R=JSON.stringify(T);x.current!==R&&(x.current=R,C(T))},[T]),U.useEffect(()=>{(f==null?void 0:f.length)>0&&n&&h&&e&&i&&s&&o&&a&&c&&u&&(g==null?void 0:g.length)>0&&(p==null?void 0:p.length)>0&&y(!1)},[f,n,h,p,g,e,i,s,o,a,c,u]),{tokens:b,loading:w}},Rj="data:image/svg+xml,%3csvg%20width='104'%20height='105'%20viewBox='0%200%20104%20105'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M72.7535%2012.7C68.5956%205.28093%2060.7657%200.629263%2052.2622%200.485855V0.485855C43.4949%200.337999%2035.306%205.0017%2030.9971%2012.6385L27.6079%2018.6453C25.4524%2022.4655%2022.2873%2025.6189%2018.4592%2027.7603L12.416%2031.1407C4.94515%2035.3196%200.279412%2043.1746%200.183728%2051.7343L0.174533%2052.5569C0.0767894%2061.3009%204.76162%2069.4003%2012.3898%2073.6754L18.1745%2076.9174C22.0155%2079.07%2025.1873%2082.2418%2027.34%2086.0828L30.5819%2091.8675C34.8571%2099.4957%2042.9565%20104.181%2051.7004%20104.083L52.6102%20104.073C61.1232%20103.977%2068.943%2099.3616%2073.1397%2091.9544L76.8634%2085.3822C79.026%2081.5653%2082.1972%2078.4172%2086.0298%2076.2827L91.5028%2073.2346C99.2042%2068.9453%20103.919%2060.765%20103.771%2051.951V51.951C103.627%2043.4482%2098.9768%2035.662%2091.5584%2031.5045L85.3806%2028.0422C81.5396%2025.8895%2078.3678%2022.7177%2076.2152%2018.8767L72.7535%2012.7Z'%20fill='%237556F6'/%3e%3cpath%20d='M72.434%2035.3464C69.3801%2034.4571%2066.2179%2033.1922%2063.0111%2031.9176C62.8262%2031.1085%2062.1154%2030.1004%2060.6745%2028.8644C58.5802%2027.0344%2054.6466%2027.0825%2051.2485%2027.8916C47.4966%2027.0023%2043.7893%2026.6844%2040.2318%2027.5448C11.1408%2035.6193%2027.1881%2056.1735%2016.5061%2075.9728C31.3278%2084.1555%2029.6261%2092.1506%2057.3342%2092.9274C57.3342%2092.9274%2050.4516%2072.5983%2068.7458%2063.1786C83.5845%2055.5407%2094.3048%2041.3566%2072.4308%2035.3432L72.434%2035.3464Z'%20fill='%23B7A2FF'/%3e%3cpath%20d='M82.6151%2051.8587C76.0261%2056.5365%2068.5255%2060.0841%2057.8945%2060.0841C52.9185%2060.0841%2051.908%2054.7578%2048.6183%2057.368C46.9193%2058.7164%2040.9328%2061.7311%2036.1799%2061.5032C31.3856%2061.272%2023.7319%2058.466%2021.5802%2048.2533C21.7016%2058.534%2021.3892%2067.4381%2016.4965%2075.9862C22.2309%2076.7562%2029.9242%2091.7739%2032.9589%2095.3061C41.5044%20105.253%2049.1779%20104.624%2057.6453%20103.52C55.8825%2091.1178%2067.5564%2067.6738%2073.6194%2061.4582C75.9145%2059.1049%2080.3135%2055.2619%2082.6151%2051.8587Z'%20fill='%23B7A2FF'/%3e%3cpath%20d='M50.4665%2027.8765C53.071%2028.9175%2062.5821%2032.0853%2066.6971%2033.3288C62.4956%2026.3573%2056.1285%2026.7596%2050.4665%2027.8765Z'%20fill='%23AC94FF'/%3e%3cpath%20d='M53.2631%2040.0689C53.2631%2044.5957%2049.6195%2048.2621%2045.1281%2048.2621C40.6366%2048.2621%2036.9931%2044.5957%2036.9931%2040.0689C36.9931%2035.542%2040.6366%2031.8788%2045.1281%2031.8788C49.6195%2031.8788%2053.2631%2035.5452%2053.2631%2040.0689Z'%20fill='white'/%3e%3cellipse%20cx='48.557'%20cy='40.0106'%20rx='4.77371'%20ry='6.6832'%20fill='black'/%3e%3cpath%20d='M48.5571%2040.0097L42.8286%2036.1908V43.8287L48.5571%2040.0097Z'%20fill='white'/%3e%3c/svg%3e",e$e="/assets/davlogo-D6U17Xrh.png",pZ=({tokens:t,excludeToken:e,onSelect:n,onClose:r})=>{const[i,s]=U.useState(""),o=U.useRef(null),[a,c]=U.useState({}),{tokens:u}=hZ(),f=U.useMemo(()=>u.filter(y=>y.AuctionStatus==="true"||y.AuctionStatus==="false"&&y.isReversing==="true").map(y=>y.symbol||y.name),[u]);U.useMemo(()=>{const y={};return u.forEach(b=>{if(b.AuctionStatus==="true"||b.AuctionStatus==="false"&&b.isReversing==="true"){const C=b.outputToken.split(" ").reverse();y[b.symbol||b.name]=`Swap
${C.join(`
`)}`}}),y},[u]);const h=U.useMemo(()=>{if(!i.trim())return Object.keys(t).filter(b=>b!==e);const y=i.toLowerCase();return Object.keys(t).filter(b=>{var T,R;if(b===e)return!1;const C=t[b],x=C.symbol.toLowerCase().includes(y),E=C.address.toLowerCase().includes(y),I=(T=C.name)==null?void 0:T.toLowerCase().includes(y),S=(R=C.displayName)==null?void 0:R.toLowerCase().includes(y);return x||E||I||S})},[i,e,t]),p=U.useMemo(()=>[...h].sort((y,b)=>{const C=f.includes(y),x=f.includes(b);return C&&!x?-1:!C&&x?1:0}),[h,f]);U.useEffect(()=>{const y=x=>{switch(x.ctrlKey&&(x.key==="+"||x.key==="-"||x.key==="="||x.key==="0")&&x.preventDefault(),x.key){case"Enter":x.preventDefault();break;case"Escape":r();break}},b=x=>{x.ctrlKey&&x.preventDefault()},C=x=>{x.ctrlKey&&x.preventDefault()};return document.addEventListener("keydown",y,{passive:!1}),document.addEventListener("wheel",b,{passive:!1}),document.addEventListener("gesturestart",C,{passive:!1}),document.addEventListener("gesturechange",C,{passive:!1}),document.addEventListener("gestureend",C,{passive:!1}),()=>{document.removeEventListener("keydown",y),document.removeEventListener("wheel",b),document.removeEventListener("gesturestart",C),document.removeEventListener("gesturechange",C),document.removeEventListener("gestureend",C)}},[r]),U.useEffect(()=>{o.current&&o.current.focus()},[]);const g=y=>{var b,C;return y.symbol==="STATE"?_.jsx("img",{src:hC,alt:"STATE",className:"rounded-circle border border-secondary",style:{width:"32px",height:"32px"}}):y.image&&(y.image.startsWith("http")||y.image.startsWith("/")||y.image.startsWith("data:image/"))?_.jsx("img",{src:y.image,alt:y.symbol,className:"rounded-circle border border-secondary",style:{width:"32px",height:"32px"}}):y.emoji&&(l_(y.emoji)||(C=(b=y.emoji).startsWith)!=null&&C.call(b,"data:image/"))?_.jsx("img",{src:y.emoji,alt:y.symbol,className:"rounded-circle border border-secondary",style:{width:"32px",height:"32px"}}):y.emoji?_.jsx("div",{className:"rounded-circle border border-secondary d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px",fontSize:"16px"},children:y.emoji}):_.jsx("img",{src:"/default.png",alt:y.symbol,className:"rounded-circle border border-secondary",style:{width:"32px",height:"32px"}})},w=y=>{if(!i.trim())return y;const b=new RegExp(`(${i})`,"gi");return y.split(b).map((x,E)=>b.test(x)?_.jsx("mark",{className:"bg-warning text-dark px-1 rounded",children:x},E):x)};return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"modal-backdrop fade show",style:{zIndex:2040}}),_.jsx("div",{className:"modal d-block",tabIndex:"-1",style:{zIndex:2050},children:_.jsx("div",{className:"modal-dialog modal-dialog-centered justify-content-center",children:_.jsx("div",{className:"modal-content bg-dark text-light border border-secondary rounded-4 shadow-lg",children:_.jsxs("div",{className:"modal-body pt-0 py-2 mt-4",children:[_.jsx("div",{className:"mb-1",children:_.jsxs("div",{className:"position-relative",children:[_.jsxs("div",{className:"input-group input-group-sm shadow-sm",children:[_.jsx("span",{className:"input-group-text bg-transparent border-0 text-light",style:{borderRadius:0},children:_.jsx("i",{className:"bi bi-search fs-6"})}),_.jsx("input",{ref:o,type:"text",className:"form-control border-0 bg-secondary text-light fs-6 py-2 rounded-pill",placeholder:"Search by name, symbol, or address...",value:i,onChange:y=>s(y.target.value),style:{borderTopLeftRadius:50,borderBottomLeftRadius:50,borderTopRightRadius:50,borderBottomRightRadius:50}}),_.jsx("button",{type:"button",className:"btn-close btn-close-white",style:{borderRadius:"50%",width:"30px",height:"30px",fontSize:"16px"},"aria-label":"Close",onClick:r})]}),_.jsxs("div",{className:"mt-1 d-flex align-items-center gap-1",children:[_.jsx("i",{className:"bi bi-info-circle text-muted small"}),_.jsx("small",{className:"text-secondary small"})]})]})}),_.jsx("div",{className:"border border-secondary rounded-3 shadow-sm custom-scrollbar mb-3 mx-1",style:{maxHeight:"300px",overflowY:"auto",scrollbarWidth:"thin",scrollbarColor:"#666 transparent",scrollbarGutter:"stable"},children:p.length>0?p.map((y,b)=>{const C=t[y];return _.jsxs("div",{className:`px-3 py-2 d-flex align-items-center justify-content-between cursor-pointer border-bottom border-secondary ${b===p.length-1?"border-bottom-0":""}`,style:{cursor:"pointer",transition:"all 0.2s ease-in-out"},onClick:()=>n(y),onMouseEnter:x=>{x.currentTarget.style.backgroundColor="rgba(131, 110, 255, 0.1)"},onMouseLeave:x=>{x.currentTarget.style.backgroundColor="transparent"},children:[_.jsxs("div",{className:"d-flex align-items-center gap-2",children:[g(C),_.jsxs("div",{className:"d-flex flex-column",children:[_.jsx("div",{className:"d-flex align-items-center gap-1",children:_.jsx("span",{className:"fw-semibold small",children:w(C.displayName||C.name||C.symbol)})}),_.jsx("small",{className:"text-light small font-monospace",children:C.address.slice(0,8)+"..."+C.address.slice(-6)})]})]}),_.jsx("div",{className:"d-flex align-items-center",children:_.jsx("i",{className:"bi bi-chevron-right text-muted small me-2 mx-5"})})]},y)}):_.jsxs("div",{className:"p-3 text-center",children:[_.jsx("i",{className:"bi bi-search display-6 text-muted mb-2 d-block"}),_.jsx("p",{className:"text-muted mb-1 small fw-medium",children:"No tokens found"}),_.jsx("small",{className:"text-muted small",children:"Try searching with a different term or paste a contract address"})]})})]})})})})]})};pZ.propTypes={tokens:Bt.objectOf(Bt.shape({symbol:Bt.string.isRequired,address:Bt.string.isRequired,name:Bt.string,image:Bt.string,emoji:Bt.string})).isRequired,excludeToken:Bt.string,onSelect:Bt.func.isRequired,onClose:Bt.func.isRequired};const t$e=({amountIn:t,tokenIn:e,tokenOut:n,TOKENS:r})=>{const i=Na(),{signer:s}=U.useContext(Pa),{address:o}=Sc(),[a,c]=U.useState(""),[u,f]=U.useState(null),[h,p]=U.useState(null),[g,w]=U.useState({}),[y,b]=U.useState(""),[C,x]=U.useState(""),[E,I]=U.useState(!1),[S,T]=U.useState(""),[R,O]=U.useState(""),k=U.useRef(0),M=D=>{var H;return(H=r[D])==null?void 0:H.address},L=async(D,H)=>{if(!s||!o||!D||!r[D]){H("");return}try{const z=r[D].address,K=await new un(z,["function balanceOf(address) view returns (uint256)"],s).balanceOf(o);H(vi(K,r[D].decimals))}catch(z){console.error("Error fetching balance",z),H("")}},j=async()=>{if(!t||isNaN(t)){c(""),p(null),f(null);return}k.current+=1;const D=k.current;try{I(!0),c("");const H=pu(t,r[e].decimals);let z=M(e),Y=M(n);if(i===369){const K=[z,Y],q=new un(qh,uC,s.provider),V=await q.getAmountsOut(H,K);if(!Array.isArray(V)||V.length===0)throw new Error("Invalid amounts returned from getAmountsOut");const ue=V[V.length-1],le=await q.factory(),ve=await new un(le,KOe,s.provider).getPair(z,Y),Pe={amountIn:H,amountOutRaw:ue,path:K,pairAddress:ve};k.current===D&&(c(Number(vi(ue,r[n].decimals)).toFixed(4)),f(0),p(Pe))}else{console.log("Fetching quote from Sushi API...");const K=new URL(`https://api.sushi.com/swap/v7/${i}`);K.searchParams.set("tokenIn",z),K.searchParams.set("tokenOut",Y),K.searchParams.set("amount",H),K.searchParams.set("sender",o||"0x0000000000000000000000000000000000000000"),console.log("SushiSwap Quote API:",K.toString());const V=await(await fetch(K.toString())).json();console.log("Sushi API quote:",V),k.current===D&&(c(Number(vi(V.assumedAmountOut,r[n].decimals)).toFixed(4)),f(V.estimatedGas||null),p(V))}}catch(H){k.current===D&&(console.error("Error fetching quote:",H),c(""),f(null),p(null))}finally{k.current===D&&I(!1)}},Q=async(D,H,z)=>{var ve,Pe;const Y=new un(qh,uC,s.provider);let K=(ve=r[H])==null?void 0:ve.address,q=(Pe=r[z])==null?void 0:Pe.address;const V=pu(D.toString(),18),ue=[K,q],le=await Y.getAmountsOut(V,ue);return le[le.length-1]},J=async()=>{var D,H,z,Y,K,q,V,ue,le,ge;try{const ve={};if((D=r[e])!=null&&D.address)try{const Ie=await fetch(Ij(i,r[e].address));if(Ie.ok){const ke=await Ie.json();ve[r[e].address.toLowerCase()]=((z=(H=ke.data)==null?void 0:H.attributes)==null?void 0:z.price_usd)||0,console.log(`Price for ${e}:`,(K=(Y=ke.data)==null?void 0:Y.attributes)==null?void 0:K.price_usd)}}catch(Ie){console.error(`Error fetching price for ${e}:`,Ie)}if((q=r[n])!=null&&q.address&&n!==e)try{const Ie=await fetch(Ij(i,r[n].address));if(Ie.ok){const ke=await Ie.json();ve[r[n].address.toLowerCase()]=((ue=(V=ke.data)==null?void 0:V.attributes)==null?void 0:ue.price_usd)||0,console.log(`Price for ${n}:`,(ge=(le=ke.data)==null?void 0:le.attributes)==null?void 0:ge.price_usd)}}catch(Ie){console.error(`Error fetching price for ${n}:`,Ie)}const Pe={};Object.keys(Pe).forEach(Ie=>{ve[Ie.toLowerCase()]||(ve[Ie.toLowerCase()]=Pe[Ie])}),console.log("Final prices object:",ve),w(ve)}catch(ve){console.error("Error fetching token prices:",ve)}},$=()=>{if(!t||isNaN(t)){b(""),x("");return}const D=g[r[e].address.toLowerCase()]||0,H=parseFloat(t)*D;if(b(H>0?`$${H.toFixed(4)}`:""),a&&!isNaN(a)){const z=g[r[n].address.toLowerCase()]||0,Y=parseFloat(a)*z;x(Y>0?`$${Y.toFixed(4)}`:"")}else x("")};return U.useEffect(()=>{j()},[t,e,n]),U.useEffect(()=>{J()},[e,n]),U.useEffect(()=>{$()},[t,a,g,e,n]),U.useEffect(()=>{L(e,T)},[s,o,e,r]),U.useEffect(()=>{L(n,O)},[s,o,n,r]),{amountOut:a,estimatedGas:u,quoteData:h,tokenPrices:g,inputUsdValue:y,outputUsdValue:C,tokenInBalance:S,tokenOutBalance:R,fetchQuote:j,fetchTokenPrices:J,getQuoteDirect:Q,isLoading:E}},n$e=({preselectToken:t})=>{var en,Ft,xn;const{signer:e}=U.useContext(Pa),n=Na(),r=p_(),{address:i}=Sc(),s={1:"Wrapped Ether",137:"Wrapped Matic",146:"Wrapped Sonic",42161:"Arbitrum",10:"Optimism",369:"Wrapped Pulse",56:"BNB Chain"},[o,a]=U.useState("STATE"),[c,u]=U.useState(null),[f,h]=U.useState(null),[p,g]=U.useState(""),[w,y]=U.useState(!1),[b,C]=U.useState(!1),[x,E]=U.useState(null),[I,S]=U.useState(!1),[T,R]=U.useState(!1),[O,k]=U.useState(!1),[M,L]=U.useState(""),[j,Q]=U.useState(""),[J,$]=U.useState(""),[D,H]=U.useState(!1),{amountOut:z,tokenInBalance:Y,quoteData:K,inputUsdValue:q,outputUsdValue:V,isLoading:ue}=t$e({amountIn:p,tokenIn:o,tokenOut:c,TOKENS:r}),{pstateToPlsRatio:le,DaipriceChange:ge}=Cp();h_(),xO(r,e),U.useEffect(()=>{if(p&&Y){const Me=parseFloat(p.replace(/,/g,"")),sn=parseFloat(Y);H(Me>sn)}else H(!1)},[p,Y]);const ve=U.useRef(!1),Pe=U.useRef(t),Ie=U.useRef(!1);U.useEffect(()=>{if(Pe.current!==t&&(Pe.current=t,Ie.current=!1,ve.current=!1),!(Ie.current&&ve.current)&&!ve.current){if(t&&r[t]){h(t),a(t),u("STATE"),ve.current=!0;return}n&&s[n]?u(s[n]):u("STATE"),ve.current=!0}},[n,t,r]);const ke={STATE:hC,pSTATE:hC,"Wrapped Sonic":dO,WPLS:I5},it=async()=>{L("initiated");try{const Me=r[o].address,sn=new un(Me,O5,e);let tn;n==369?tn=qh:tn=K.to;const Fn=await sn.allowance(i,tn),Lr=pu(p||"0",r[o].decimals);R(BigInt(Fn)<BigInt(Lr))}catch(Me){R(!1),console.error("Error checking allowance",Me)}};U.useEffect(()=>{e&&p&&!isNaN(p)?it():R(!1)},[o,p,e]);const Xt=async()=>{k(!0);try{L("Approving");const Me=r[o].address,sn=new un(Me,O5,e),tn=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");let Fn;n==369?Fn=qh:Fn=K.to,await(await sn.approve(Fn,tn)).wait(),R(!1)}catch(Me){ot("Approval failed. Try again."),console.error("Approval error",Me),L("error")}finally{k(!1)}},dn=()=>{try{const Me=o,sn=c;if(!Me||!sn)return;a(sn),u(Me),h(sn!=="STATE"?sn:Me),g(""),H(!1),Ie.current=!0}catch{}},hn=Me=>{var sn,tn;return!Me||!r[Me]?_.jsx("span",{children:"Loading..."}):ke[Me]?_.jsx("img",{src:ke[Me],alt:Me,width:"32",className:"rounded-circle"}):(sn=r[Me])!=null&&sn.image&&(r[Me].image.startsWith("http")||r[Me].image.startsWith("/")||r[Me].image.startsWith("data:image/"))?_.jsx("img",{src:r[Me].image,alt:Me,width:"32",className:"rounded-circle"}):(tn=r[Me])!=null&&tn.emoji?_.jsx("span",{style:{fontSize:"1.1em"},children:r[Me].emoji}):_.jsx("img",{src:"/default.png",alt:Me,width:"32",className:"rounded-circle"})},rr=Me=>{E(Me),C(!0)},st=()=>{C(!1),E(null)},Te=Me=>{x==="in"&&(Me==="STATE"?(a("STATE"),f&&u(f)):(h(Me),a(Me),u("STATE"))),st()},Qe=async()=>{if(!e){ot("Wallet not connected.");return}y(!0),L("initiated");try{if(T&&(console.log("Approval needed, calling handleApprove"),await Xt()),L("pending"),Q(p),$(z),!K)throw new Error("Invalid quoteData: missing required fields");let Me;const sn=Math.floor(Date.now()/1e3)+1200;if(n===369){const tn=new un(qh,uC,e);if(!K.amountIn||!K.amountOutRaw||!K.path)throw new Error("Invalid quoteData for PulseX swap");Me=await tn.swapExactTokensForTokensSupportingFeeOnTransferTokens(K.amountIn,K.amountOutRaw,K.path,i,sn)}else{console.log("Using Sushi API for swap",K.to);const tn={to:K.to,data:K.data};Me=await e.sendTransaction(tn)}if(!Me)throw new Error("Failed to create transaction");console.log("Transaction sent:",Me.hash),await Me.wait(),L("confirmed"),g(""),S(!0)}catch(Me){console.error("Swap failed:",Me),ot(`Swap failed: ${Me.reason||Me.message||"Unknown error"}`),L("error")}finally{y(!1)}};U.useEffect(()=>{I&&(Fo(`${j} ${at(r[o].symbol)}  ${J} ${at(r[c].symbol)} Swap Complete!`),S(!1))},[I]);const at=Me=>{var Fn,Lr;if(!Me)return"";const tn=(((Fn=r[Me])==null?void 0:Fn.displayName)||((Lr=r[Me])==null?void 0:Lr.name)||Me).replace(/\s+/g,"");return tn.length>6?tn.slice(0,6)+"..":tn},Jt=(Me,sn)=>{if(!Me||!sn)return!1;const tn=parseFloat(Me.replace(/,/g,"")),Fn=parseFloat(sn);return tn>Fn},An=Me=>{const sn=Me.replace(/,/g,"");if(B9e(sn)){const tn=Jt(sn,Y);H(tn),g(sn)}},In=()=>Y?Y.toString():"";return _.jsx(_.Fragment,{children:_.jsx("div",{className:"container mt-4",children:_.jsxs("div",{className:"row g-4 d-flex align-items-stretch pb-1",children:[_.jsx("div",{className:"col-md-4 p-0 m-2 cards",children:_.jsxs("div",{className:"card bg-dark text-light border-light p-3 d-flex w-100",style:{minHeight:"260px"},children:[_.jsx("label",{className:"detailText text-center small mb-1 font-weight-normal w-100",children:"YOU PAY"}),_.jsxs("div",{className:"d-flex flex-column align-items-center gap-2",style:{position:"relative"},children:[_.jsxs("div",{className:"position-relative",style:{maxWidth:"80%",width:"100%"},children:[_.jsx("input",{type:"text",className:"form-control pe-5",value:p,onChange:Me=>An(Me.target.value),placeholder:"0.0",style:{boxShadow:"none","--placeholder-color":"#6c757d",backgroundColor:O||w?"#343a40":void 0,borderColor:D?"#dc3545":void 0},disabled:O||w}),_.jsx("button",{className:"btn btn-outline-light rounded-circle position-absolute",style:{width:"25px",height:"25px",top:"50%",right:"10px",transform:"translateY(-50%)",display:"flex",alignItems:"center",justifyContent:"center",padding:0},onClick:dn,disabled:O||w,children:_.jsx("i",{className:"bi bi-arrow-left-right",style:{fontSize:"1rem"}})})]}),q&&_.jsx("small",{className:"text-secondary",style:{alignSelf:"flex-start",marginLeft:"10%",fontSize:"0.7rem"},children:q}),_.jsx("div",{className:"d-flex align-items-center gap-1",children:_.jsxs("button",{className:"d-flex align-items-center justify-content-between gap-2 px-2 token-select-btn",onClick:()=>rr("in"),disabled:O||w,children:[_.jsxs("span",{className:"d-flex align-items-center gap-2",children:[hn(o),_.jsx("span",{style:{fontWeight:500,fontSize:"1rem"},children:at(((en=r[o])==null?void 0:en.symbol)||o)})]}),_.jsx("span",{className:"ms-2 d-flex align-items-center",children:_.jsx("i",{className:"bi bi-chevron-down",style:{fontSize:"1rem"}})})]})})]}),_.jsx("div",{className:"d-flex justify-content-center align-items-center mb-2 mt-1",style:{fontSize:"0.7rem"},children:_.jsxs("span",{className:"text-secondary small fw-normal ms-1",style:{cursor:O||w?"default":"pointer",opacity:O||w?"0.6":"1"},onClick:O||w?void 0:()=>g(In()),children:["Bal: ",Y?`${parseFloat(Y).toFixed(2)}`:"-"]})})]})}),_.jsx("div",{className:"col-md-4 p-0 m-2 cards",children:_.jsxs("div",{className:"card bg-dark text-light border-light p-3 d-flex w-100",children:[_.jsx("label",{className:"detailText text-center small mb-1 font-weight-normal w-100",children:"YOU RECIEVE"}),_.jsxs("div",{className:"d-flex flex-column align-items-center gap-2",style:{position:"relative"},children:[_.jsx("input",{type:"text",className:"form-control font-weight-bold",placeholder:"0.0",value:ue?"Fetching...":z,readOnly:!0,style:{fontSize:"1rem",width:"80%",background:"#343a40","--placeholder-color":"#6c757d"}}),V&&_.jsx("div",{className:"d-flex align-items-start gap-2 mb-2",style:{fontSize:"0.8rem",alignSelf:"flex-start",marginLeft:"10%"},children:_.jsx("small",{className:"text-secondary",children:V})}),_.jsx("div",{className:"d-flex align-items-center gap-1",children:_.jsxs("button",{className:"d-flex align-items-center justify-content-between gap-2 px-2 token-select-btn",disabled:!0,children:[_.jsxs("span",{className:"d-flex align-items-center gap-2",children:[hn(c),_.jsx("span",{style:{fontWeight:500,fontSize:"1rem"},children:at(((Ft=r[c])==null?void 0:Ft.symbol)||c)})]}),_.jsx("span",{className:"ms-2 d-flex align-items-center",children:_.jsx("i",{className:"bi bi-chevron-down",style:{fontSize:"1rem"}})})]})})]}),_.jsx("div",{className:"d-flex justify-content-center align-items-center mt-3",children:_.jsx("div",{className:"position-relative",children:_.jsx("button",{className:"btn btn-primary rounded-pill py-2",onClick:Qe,disabled:!K||w||D,style:{minWidth:"170px",width:"auto",fontSize:"16px",padding:"10px 20px",fontWeight:400,height:"40px",textAlign:"center",whiteSpace:"nowrap"},children:D?`Insufficient ${((xn=r[o])==null?void 0:xn.symbol)||o}`:"SWAP"})})})]})}),_.jsx("div",{className:"col-md-4 p-0 m-2 cards",children:_.jsx("div",{className:"card bg-dark text-light border-light p-3 d-flex w-100",children:_.jsx("div",{className:"carddetaildiv uppercase d-flex justify-content-between align-items-center",children:_.jsxs("div",{className:"carddetails2",children:[_.jsx("h6",{className:"detailText",children:"Details"}),_.jsxs("p",{className:"mb-1",children:[_.jsx("span",{className:"detailText",children:"Route - "}),_.jsxs("span",{className:"second-span-fontsize",children:[n==369?"PulseXRouter02":"SushiSwap API"," "]})]}),_.jsx("div",{className:"d-flex justify-content-start align-items-center ",children:_.jsxs("button",{className:"btn detailText btn-link text-light  p-0",style:{textDecoration:"none",fontSize:"13px",fontWeight:"700"},onClick:()=>{a("STATE"),u(s[n]),g("")},disabled:O||w,title:"Reset to default tokens",children:["Refresh ",_.jsx("i",{className:"bi bi-arrow-clockwise"})]})})]})})})}),b&&_.jsx(pZ,{tokens:r,excludeToken:x==="in"?c:o,onSelect:Te,onClose:st})]})})})},mZ=U.memo(({token:t,tokenBalances:e,pstateToPlsRatio:n,chainId:r,totalStateBurned:i,showDot:s,handleAddToken:o,DavAddress:a,setDavAndStateIntoSwap:c,nativeSymbol:u,explorerUrl:f,combinedDeployedLP:h})=>{const p=U.useCallback(()=>{navigator.clipboard.writeText(t.TokenAddress),Fo(`${t.tokenName} Address copied to clipboard!`)},[t.TokenAddress,t.tokenName]),{StateBalance:g,getStateTokenBalanceAndSave:w}=Cp(),{poolAddress:y}=CO(),b=U.useCallback(()=>{o(t.TokenAddress,t.tokenName==="DAV"?r===137?"mDAV":"pDAV":t.tokenName==="STATE"?r===137?"mSTATE":"pSTATE":t.tokenName)},[o,t.TokenAddress,t.tokenName,r]),C=(()=>{try{const R=localStorage.getItem("stateTokenBalance");return R?JSON.parse(R).balance??null:null}catch{return null}})(),[x,E]=U.useState(!1),[I,S]=U.useState(null),T=U.useMemo(()=>{const R=Number(t.ratio);return Number.isFinite(R)?Math.floor(R):t.ratio??"-"},[t.ratio]);return _.jsxs("tr",{children:[_.jsx("td",{className:"text-center align-middle",children:_.jsxs("div",{className:"d-flex flex-column align-items-center",children:[_.jsx("span",{style:{fontSize:"1rem",lineHeight:"1"},children:t.tokenName==="DAV"?_.jsx("img",{src:e$e,style:{width:"30px",height:"30px",borderRadius:"50%"},alt:"DAV logo"}):t.tokenName==="STATE"?_.jsx("img",{src:hC,style:{width:"30px",height:"30px",borderRadius:"50%"},alt:"STATE logo"}):_.jsx("img",{src:l_(t.emoji)?t.emoji:f_(t.TokenAddress),style:{width:"30px",height:"30px",borderRadius:"50%"},alt:`${t.tokenName} icon`})}),_.jsx("span",{children:t.displayName||t.tokenName})]})}),_.jsx("td",{className:"text-center",children:_.jsx("div",{className:"mx-2",children:t.tokenName==="DAV"||t.tokenName==="STATE"?"------":_.jsx("span",{style:{color:s?"#28a745":"inherit"},children:`1:${pr(T)}`})})}),_.jsx("td",{className:"text-center",children:_.jsx("div",{className:"mx-4",children:t.tokenName==="DAV"||t.tokenName==="STATE"?"-----":`${t.Cycle}/20`})}),_.jsx("td",{className:"text-center",children:_.jsx("div",{className:"mx-4",children:t.tokenName==="DAV"?"-----":t.tokenName==="STATE"?_.jsxs(_.Fragment,{children:[_.jsx("div",{style:{cursor:"pointer"},onClick:async()=>{await w(),Fo("Update - STATE Token Vault Amount")},title:"Click to refresh cached STATE balance",children:pr(t.DavVault)}),C!==null&&_.jsx("div",{style:{color:"#ff4081"},children:pr(C-t.DavVault)})]}):pr(t.DavVault)})}),_.jsx("td",{className:"text-center",children:_.jsx("div",{className:"mx-4",children:t.tokenName==="DAV"?"-----":t.tokenName==="STATE"?Number(t.burned||0)+Number(i)===0?_.jsx("span",{className:"blink-new",children:"NEW"}):pr(Number(t.burned||0)+Number(i)):Number(t.burned||0)===0?_.jsx("span",{className:"blink-new",children:"NEW"}):pr(t.burned||0)})}),_.jsx("td",{className:"text-center",children:_.jsx("div",{className:"mx-4",children:t.tokenName==="DAV"?"-----":t.isDeployed===!0?pr(h):`${pr(t.BurnedLp)}`})}),_.jsx("td",{className:"text-center",children:_.jsxs("div",{className:"d-flex justify-content-center align-items-center gap-3",children:[_.jsx("div",{className:"d-flex flex-column align-items-center",children:t.tokenName==="DAV"?_.jsx("span",{children:"-----"}):t.tokenName==="STATE"?_.jsx("a",{href:Tj(r,y),target:"_blank",rel:"noopener noreferrer",style:{fontSize:"15px",color:"white"},children:_.jsx("img",{src:Rj,alt:"Gecko",style:{width:"20px",height:"20px"}})}):_.jsx("a",{href:Tj(r,t.PairAddress),target:"_blank",rel:"noopener noreferrer",style:{fontSize:"15px",color:"white"},children:_.jsx("img",{src:Rj,alt:"Gecko",style:{width:"20px",height:"20px"}})})}),_.jsx("div",{className:"d-flex flex-column align-items-center",children:_.jsx("a",{href:`${f}${t.TokenAddress}`,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"15px",color:"white"},children:_.jsx("i",{className:"bi bi-box-arrow-up-right"})})}),_.jsx("div",{className:"d-flex flex-column align-items-center",style:{cursor:"pointer"},children:_.jsx("i",{className:"fa-solid fa-copy",onClick:p,title:"Copy Address",style:{fontSize:"15px",color:"white",cursor:"pointer"}})}),_.jsx("div",{className:"d-flex align-items-center",style:{marginRight:"-10px"},children:_.jsx("img",{src:EO,onClick:b,alt:"MetaMask",style:{width:"20px",height:"20px",cursor:"pointer"}})}),_.jsx("div",{className:"d-flex flex-column align-items-center",style:{minWidth:"80px"},children:t.tokenName==="DAV"?t.isRenounced===!0&&_.jsx("span",{children:"Renounced"}):t.tokenName==="STATE"?a==="0x0000000000000000000000000000000000000000"?_.jsx("button",{className:"btn btn-sm swap-btn btn-primary",onClick:()=>c(),children:"Add"}):t.isRenounced===!0?_.jsx("span",{children:"Renounced"}):_.jsx("span",{children:"ADDED"}):t.isRenounced==="true"?_.jsx("span",{children:"Renounced"}):_.jsx("span",{children:"-------"})})]})}),_.jsx("td",{className:"text-center",children:_.jsx("div",{className:"mx-2",children:U9e(t,e,n,r)})}),_.jsx("td",{className:"text-center",children:t.tokenName==="DAV"||t.tokenName==="STATE"?_.jsx("span",{children:"-----"}):_.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>{S(t.tokenName),E(!0)},children:"DEX"})}),x&&_.jsxs("td",{colSpan:"100%",style:{position:"relative"},children:[_.jsx("div",{className:"modal fade show",role:"dialog",style:{display:"block",position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:2050,overflowY:"auto"},children:_.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",style:{maxWidth:"820px"},children:_.jsxs("div",{className:"modal-content bg-dark text-light border-0 rounded-4 shadow-lg",children:[_.jsxs("div",{className:"modal-header border-0 px-4 pt-4",children:[_.jsxs("h5",{className:"modal-title",children:[t.displayName||t.tokenName,"  DEX Swap"]}),_.jsx("button",{type:"button",className:"btn-close btn-close-white","aria-label":"Close",onClick:()=>E(!1)})]}),_.jsx("div",{className:"modal-body px-4 pb-4",children:_.jsx(n$e,{preselectToken:I})})]})})}),_.jsx("div",{className:"modal-backdrop fade show",onClick:()=>E(!1),style:{position:"fixed",inset:0,zIndex:2040}})]})]})});mZ.displayName="TokenRow";const gZ=({selectedToken:t})=>{const{setDavAndStateIntoSwap:e,handleAddToken:n,DavAddress:r,pstateToPlsRatio:i}=Cp(),s=Na(),{totalStateBurned:o}=e0(),[a,c]=U.useState(""),[u,f]=U.useState(!1),{tokens:h,loading:p,refetch:g}=h_(),{signer:w}=U.useContext(Pa),y=p_(),b=xO(y,w),C=U.useMemo(()=>bO[s]||"PLS",[s]),x=U.useMemo(()=>NRe[s]||"https://defaultexplorer.io/address/",[s]),E=U.useMemo(()=>location.pathname==="/info",[]),I=U.useMemo(()=>{try{return h.filter(j=>j&&j.isDeployed===!0).reduce((j,Q)=>j+Number(Q.BurnedLp||0),0)}catch{return 0}},[h]),S=U.useMemo(()=>a.trim()?h.filter(j=>{const Q=a.toLowerCase(),J=j.tokenName.toLowerCase();return["p","pd","pda","pdav"].includes(Q)&&j.tokenName==="DAV"||["p","ps","psta","pstat","pstate"].includes(Q)&&j.tokenName==="STATE"?!0:J.includes(Q)}):h,[h,a]),T=U.useCallback(j=>{const Q={DAV:0,STATE:1},J=j.filter(H=>Q[H.tokenName]!==void 0).sort((H,z)=>(Q[H.tokenName]??99)-(Q[z.tokenName]??99)),$=j.filter(H=>Q[H.tokenName]===void 0&&H.ratio!=null&&H.isSupported).sort((H,z)=>{const Y=H.ratio??-1/0;return(z.ratio??-1/0)-Y}).slice(0,5),D=j.filter(H=>Q[H.tokenName]===void 0&&!$.some(z=>z.tokenName===H.tokenName)&&H.isSupported).sort((H,z)=>{const Y=H.ratio??-1/0;return(z.ratio??-1/0)-Y});return[...J,...$,...D]},[]),R=U.useMemo(()=>{const j=h.filter(Q=>Q.isSupported);return T(a?S:j)},[h,S,a,T]),O=U.useMemo(()=>t?h.find(j=>j.tokenName===t.name):R[0]||null,[t,h,R]),k=U.useMemo(()=>(p?S:h.filter(Q=>Q.isSupported)).filter(Q=>Q.isSupported&&Q.tokenName!=="DAV"&&Q.tokenName!=="STATE"&&Q.ratio!=null).sort((Q,J)=>{const $=Q.ratio??-1/0;return(J.ratio??-1/0)-$}).slice(0,5).map(Q=>Q.tokenName),[p,S,h]),M=U.useMemo(()=>{const j=R.reduce((Q,J)=>Q+cZ(J,b,i),0);return pr(j.toFixed(0))},[R,b]),L=U.useCallback(j=>{c(j.target.value.trim())},[]);return U.useEffect(()=>{document.querySelectorAll(".name-cell").forEach(Q=>{Q.style.cursor="pointer"})},[]),U.useCallback(()=>{g(),Fo("Data refreshed!")},[]),_.jsxs("div",{className:"container mt-3 p-0 pb-4 mb-5",children:[_.jsx("div",{className:"mb-3 d-flex justify-content-center align-items-center gap-3",children:_.jsx("input",{type:"text",className:"form-control text-center",placeholder:"SEARCH",value:a,onChange:L,style:{maxWidth:"300%","--placeholder-color":"#6c757d"}})}),_.jsx("div",{className:`table-responsive ${E?"info-page":""}`,children:O?_.jsxs(_.Fragment,{children:[_.jsxs("table",{className:"table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsxs("th",{className:"text-center",children:["Token ",_.jsx("br",{})," Name"]}),_.jsxs("th",{className:"text-center",children:["Current ",_.jsx("br",{})," Ratio"]}),_.jsx("th",{className:"text-center",children:"Auctions"}),_.jsx("th",{className:"text-center",children:"DAV Vault"}),_.jsx("th",{className:"text-center",children:"Burned"}),_.jsxs("th",{className:"text-center",children:["Burned LP ",_.jsx("br",{}),"(Combined)"]}),_.jsx("th",{className:"text-center",children:"Info"}),_.jsxs("th",{className:"text-center",children:["Your Est. ",C," Value ",_.jsx("br",{}),p?_.jsx(pC,{}):_.jsx(_.Fragment,{children:`${M} ${C}`})]}),_.jsx("th",{className:"text-center",children:"DEX"})]})}),_.jsx("tbody",{children:p?[...Array(1)].map((j,Q)=>_.jsx("tr",{className:"table-skeleton-row",children:_.jsx("td",{colSpan:"9",children:_.jsxs("div",{className:"skeleton-wrapper",children:[_.jsx("div",{className:"skeleton-block",style:{width:"25%",height:"24px"}}),_.jsx("div",{className:"skeleton-block",style:{width:"15%",height:"18px"}}),_.jsx("div",{className:"skeleton-block",style:{width:"35%",height:"22px"}}),_.jsx("div",{className:"skeleton-block",style:{width:"20%",height:"20px"}})]})})},Q)):R.map(j=>_.jsx(mZ,{token:j,tokenBalances:b,pstateToPlsRatio:i,chainId:s,totalStateBurned:o,showDot:k.includes(j.tokenName),handleAddToken:n,DavAddress:r,setDavAndStateIntoSwap:e,nativeSymbol:C,explorerUrl:x,combinedDeployedLP:I},j.tokenName))})]}),p&&S.length>0&&_.jsx("div",{className:"container text-center mt-5",children:_.jsxs("p",{className:"funny-loading-text",children:[_.jsx(pC,{})," Fetching.."]})}),!p&&S.length===0&&_.jsx("div",{className:"alert alert-warning text-center",role:"alert",children:"No tokens found matching the search query."})]}):_.jsx("div",{className:"alert alert-warning text-center",role:"alert",children:"No tokens available to display."})})]})};gZ.propTypes={selectedToken:Bt.object};const r$e=U.memo(gZ),i$e=({headerTitle:t,airdropText:e,ratioText:n,onClaim:r,onRatioSwap:i,onDexSwap:s,busy:o,leftTokenLabel:a,onAddToMetaMask:c,dexText:u})=>_.jsx("div",{className:"row g-4 d-flex align-items-stretch pb-1 justify-content-center",children:_.jsx("div",{className:"col-12 p-0 auction-col mx-auto",children:_.jsxs("div",{className:"auction-frame normal-fixed",children:[_.jsx("div",{className:"auction-header d-flex align-items-center justify-content-between",children:_.jsx("div",{className:"text-start",children:t})}),_.jsx("div",{className:"auction-row-stack",children:_.jsx("div",{className:"auction-row-action",children:_.jsxs("button",{className:"btn btn-primary auction-step-btn",onClick:r,disabled:o,"aria-label":"Claim Airdrop",children:[_.jsx("div",{className:"auction-step-title",children:"Airdrop"}),_.jsx("div",{className:"auction-step-sub detailText",children:e})]})})}),_.jsx("div",{className:"auction-row-stack",children:_.jsx("div",{className:"auction-row-action",children:_.jsxs("button",{"data-testid":"ratio-swap",className:"btn btn-primary auction-step-btn",onClick:i,disabled:o,"aria-label":"Perform Ratio Swap",children:[_.jsx("div",{className:"auction-step-title",children:"Ratio Swap"}),_.jsx("div",{className:"auction-step-sub detailText",children:n})]})})}),_.jsx("div",{className:"auction-row-stack",children:_.jsx("div",{className:"auction-row-action",children:_.jsxs("button",{"data-testid":"swap",className:"btn btn-primary auction-step-btn",onClick:s,disabled:o,"aria-label":"Swap on DEX",children:[_.jsx("div",{className:"auction-step-title",children:"Double Your Stash"}),_.jsx("div",{className:"auction-step-sub detailText",children:u||"Use DEX to swap STATE for TOKEN"})]})})}),_.jsxs("div",{className:"auction-footer d-flex align-items-start justify-content-between",children:[_.jsxs("div",{className:"footer-left text-start",style:{flex:"0 0 auto"},children:[_.jsxs("div",{className:"d-flex align-items-center gap-2",children:[_.jsx("div",{children:a}),_.jsx("button",{className:"btn btn-link text-light p-0",style:{textDecoration:"none"},onClick:c,title:"Add token to MetaMask","aria-label":"Add token to MetaMask",children:_.jsx("img",{src:EO,alt:"MetaMask",style:{width:18,height:18,objectFit:"contain"}})})]}),_.jsx("div",{children:"STATE"})]}),_.jsx("div",{className:"footer-right text-end",style:{flex:"0 0 auto"},children:_.jsx("span",{className:"badge bg-success",style:{fontSize:12},children:"Normal"})})]})]})})}),s$e=({headerTitle:t,ratioText:e,onReverseSwap:n,onReverseStep2:r,reverseState:i,busy:s,leftTokenLabel:o,onAddToMetaMask:a})=>_.jsx("div",{className:"row g-4 d-flex align-items-stretch pb-1 justify-content-center",children:_.jsx("div",{className:"col-12 p-0 auction-col reverse-narrow mx-auto",children:_.jsxs("div",{className:"auction-frame reverse",children:[_.jsx("div",{className:"auction-header d-flex align-items-center justify-content-between",children:_.jsx("div",{className:"text-start",children:t})}),_.jsxs("div",{className:"auction-row-stack",children:[_.jsxs("div",{className:"auction-row small",children:[_.jsx("div",{className:"row-legend",children:"Reverse  Step 1"}),_.jsx("div",{className:"auction-card",children:_.jsx("div",{className:"auction-card-sub detailText",children:e})})]}),_.jsx("div",{className:"auction-row-action",children:_.jsx("button",{"data-testid":"reverse-swap",className:"btn btn-primary btn-sm mb-0",style:{width:"200px"},onClick:n,disabled:s,children:"Execute Step 1"})})]}),_.jsxs("div",{className:"auction-row-stack",children:[_.jsxs("div",{className:"auction-row small",children:[_.jsx("div",{className:"row-legend",children:"Reverse  Step 2"}),_.jsx("div",{className:"auction-card",children:_.jsx("div",{className:"auction-card-sub detailText",children:typeof i=="number"&&i>0?`You have ${i.toLocaleString()} STATE available from Step 1. Burn to receive tokens back at the live ratio.`:"No STATE available from Step 1 yet. Complete Step 1 first."})})]}),_.jsx("div",{className:"auction-row-action",children:_.jsx("button",{"data-testid":"reverse-step2",className:"btn btn-primary btn-sm mb-0",style:{width:"200px"},onClick:r,disabled:s||!(typeof i=="number"&&i>0),children:"Execute Step 2"})})]}),_.jsxs("div",{className:"auction-row-stack","aria-hidden":"true",style:{visibility:"hidden"},children:[_.jsxs("div",{className:"auction-row small",children:[_.jsx("div",{className:"row-legend",children:"Spacer"}),_.jsx("div",{className:"auction-card",children:_.jsx("div",{className:"auction-card-sub detailText",children:"Spacer"})})]}),_.jsx("div",{className:"auction-row-action",children:_.jsx("button",{className:"btn btn-primary btn-sm mb-0",style:{width:"200px"},disabled:!0,children:"Spacer"})})]}),_.jsxs("div",{className:"auction-footer d-flex align-items-start justify-content-between",children:[_.jsxs("div",{className:"footer-left text-start",style:{flex:"0 0 auto"},children:[_.jsxs("div",{className:"d-flex align-items-center gap-2",children:[_.jsx("div",{children:o}),_.jsx("button",{className:"btn btn-link text-light p-0",style:{textDecoration:"none"},onClick:a,title:"Add token to MetaMask","aria-label":"Add token to MetaMask",children:_.jsx("img",{src:EO,alt:"MetaMask",style:{width:18,height:18,objectFit:"contain"}})})]}),_.jsx("div",{children:"STATE"})]}),_.jsx("div",{className:"footer-right text-end",style:{flex:"0 0 auto"},children:_.jsx("span",{className:"badge bg-danger",style:{fontSize:12},children:"Reverse"})})]})]})})}),o$e=()=>{var Ei,ur,Ir;const{isReversed:t={},IsAuctionActive:e={},AirDropAmount:n={},handleDexTokenSwap:r,performRatioSwap:i,performReverseSwapStep1:s,performReverseSwapStep2:o,CheckMintBalance:a,handleAddToken:c,SwapTokens:u,AuctionTime:f,InputAmount:h,getInputAmount:p,TokenRatio:g,getTokenRatio:w,reverseStateMap:y={},tokenMap:b}=Cp(),{davHolds:C="0",davExpireHolds:x="0"}=e0()||{},{tokens:E}=hZ(),{signer:I,AllContracts:S}=U.useContext(Pa),{address:T}=Sc(),R=Na(),O=p_(),[k,M]=U.useState(""),[L,j]=U.useState(""),[Q,J]=U.useState(""),[$,D]=U.useState(18),[H,z]=U.useState(null);U.useEffect(()=>{let qe=!1;return(async()=>{try{if(!(S!=null&&S.AuctionContract))return;const Je=await S.AuctionContract.getTodayToken(),xt=(Je==null?void 0:Je[0])||(Je==null?void 0:Je.tokenOfDay);if(xt&&xt!==er){qe||J(xt);const Lt="https://pulsechain-rpc.publicnode.com",ir=S.AuctionContract.runner||(S==null?void 0:S.provider)||new _Q(Lt),jt=new un(xt,["function name() view returns (string)","function symbol() view returns (string)","function decimals() view returns (uint8)"],ir);let zn="",sr="",Di=18;try{sr=await jt.name()}catch{sr=""}try{zn=await jt.symbol()}catch{zn=""}try{Di=await jt.decimals()}catch{Di=18}qe||M(zn),qe||j(sr),qe||D(Number(Di)||18)}else qe||M(""),qe||J("")}catch{qe||M(""),qe||j(""),qe||J("")}})(),()=>{qe=!0}},[S==null?void 0:S.AuctionContract,JSON.stringify(f)]),U.useEffect(()=>{let qe=!1;return(async()=>{try{if(!(S!=null&&S.AuctionContract)){console.log("[Reverse Detection] No AuctionContract available"),z(null);return}let Je=Q;if(console.log("[Reverse Detection] Initial todayAddress:",Je),!Je)try{const Lt=await S.AuctionContract.getTodayToken();Je=(Lt==null?void 0:Lt[0])||(Lt==null?void 0:Lt.tokenOfDay)||null,console.log("[Reverse Detection] Fetched todayToken from contract:",Je)}catch(Lt){console.log("[Reverse Detection] Error fetching todayToken:",Lt)}if(!Je||Je===er){console.log("[Reverse Detection] No valid token address"),z(null);return}console.log("[Reverse Detection] Checking isReverseAuctionActive for:",Je);const xt=await S.AuctionContract.isReverseAuctionActive(Je);console.log("[Reverse Detection] Result:",xt),qe||z(!!xt)}catch(Je){console.error("[Reverse Detection] Error:",Je),qe||z(null)}})(),()=>{qe=!0}},[S==null?void 0:S.AuctionContract,Q,JSON.stringify(f)]);const Y=U.useMemo(()=>{if(!E||E.length===0)return[];const qe=jt=>Number(jt.TimeLeft)||0,Je=E.filter(jt=>jt.AuctionStatus==="true"||jt.AuctionStatus==="false"&&jt.isReversing==="true"||qe(jt)>0),xt=Je.length>0?Je:E,Lt=xt.filter(jt=>jt.AuctionStatus==="true").sort((jt,zn)=>qe(jt)-qe(zn)),ir=xt.filter(jt=>jt.isReversing==="true");return Lt.length>0?Lt:ir.length>0?ir:xt},[E]),[K,q]=U.useState(0);U.useEffect(()=>{q(0)},[JSON.stringify(Y)]);const V=Y&&Y.length>0?Y[Math.min(K,Y.length-1)]:null,le=U.useMemo(()=>{if(console.log("[Mode Calculation] reverseNow:",H,"selected:",V==null?void 0:V.id),H===!0)return console.log("[Mode Calculation]  reverse (from reverseNow=true)"),"reverse";if(H===!1)return console.log("[Mode Calculation]  normal (from reverseNow=false)"),"normal";if(!V)return console.log("[Mode Calculation]  normal (no selected token)"),"normal";const qe=V.isReversing===!0||V.isReversing==="true";return console.log("[Mode Calculation] revFlag from token:",qe),qe?"reverse":"normal"},[V,H])==="reverse",ge=Ny(R),ve=["function token0() view returns (address)","function token1() view returns (address)","function getReserves() view returns (uint112,uint112,uint32)"];V&&(n==null||n[V.id]),V!=null&&V.onlyState;const Pe=(qe,Je)=>{let xt=qe&&(h==null?void 0:h[qe])!==void 0?h[qe]:void 0;if(xt===void 0&&Je&&(h==null?void 0:h[Je])!==void 0&&(xt=h[Je]),xt===void 0&&Je&&b){for(const[ir,jt]of Object.entries(b))if((jt||"").toLowerCase()===(Je||"").toLowerCase()){(h==null?void 0:h[ir])!==void 0&&(xt=h[ir]);break}}const Lt=Number(xt??0);return Number.isFinite(Lt)?Lt:0},Ie=(V==null?void 0:V.id)||k||"",ke=((Ei=O==null?void 0:O[V==null?void 0:V.id])==null?void 0:Ei.address)||(V==null?void 0:V.address)||Q||"",[it,Xt]=U.useState(null),dn=Pe(Ie,ke);U.useEffect(()=>{let qe=!1;return(async()=>{try{if(!(S!=null&&S.AuctionContract)||!T||!ke)return;if(dn&&dn>0){Xt(null);return}const Je=await S.AuctionContract.getAvailableDavForAuction(T,ke),xt=Math.floor(Number(oh(Je)));qe||Xt(xt)}catch{qe||Xt(0)}})(),()=>{qe=!0}},[S==null?void 0:S.AuctionContract,T,ke,dn]);const hn=dn&&dn>0?dn:(it??0)>0?it:0,st=hn*3e3,[Te,Qe]=U.useState({status:"loading"});CO();const[at,Jt]=U.useState(null),An=(()=>{const qe=Ie?g==null?void 0:g[Ie]:0;if(qe==="not started"||qe==="not listed")return 0;const Je=Number(qe||0);return Number.isFinite(Je)?Je:0})(),In=U.useMemo(()=>{try{if((Te==null?void 0:Te.status)!=="ok")return 0;const qe=BigInt(Te.r0||"0"),Je=BigInt(Te.r1||"0");if(qe===0n||Je===0n)return 0;const xt=(Te.t0||"").toLowerCase(),Lt=(Te.t1||"").toLowerCase(),ir=(ke||"").toLowerCase(),jt=(ge||"").toLowerCase();let zn=0n,sr=0n;if(xt===jt&&Lt===ir)zn=qe,sr=Je;else if(xt===ir&&Lt===jt)zn=Je,sr=qe;else return 0;const Di=Number(vi(zn,18)),bs=Number(vi(sr,18));return!isFinite(Di)||!isFinite(bs)||bs===0?0:Di/bs}catch{return 0}},[Te==null?void 0:Te.status,Te==null?void 0:Te.r0,Te==null?void 0:Te.r1,Te==null?void 0:Te.t0,Te==null?void 0:Te.t1,ke,ge]),en=An>0?An:In,Ft=st>0&&en>0?st*en*2:0,xn=U.useMemo(()=>{var qe,Je;return V?((qe=O==null?void 0:O[V.id])==null?void 0:qe.displayName)||((Je=O==null?void 0:O[V.id])==null?void 0:Je.name)||L||V.name||V.id:L||k||""},[V,O,L,k]);U.useEffect(()=>{let qe=!1;return(async()=>{var Je;try{Qe({status:"loading"}),Jt(null);const xt=ke;if(!(S!=null&&S.AuctionContract)||!xt){qe||Qe({status:"unknown"});return}let Lt=await S.AuctionContract.getPairAddress(xt).catch(()=>er);if(!Lt||Lt===er){qe||Qe({status:"no-pair"});return}const ir=S.AuctionContract.runner||(S==null?void 0:S.provider)||void 0,jt=new un(Lt,ve,ir);let zn,sr,Di;try{zn=await jt.token0()}catch{}try{sr=await jt.token1()}catch{}try{Di=await jt.getReserves()}catch{}const[bs,Tc]=Array.isArray(Di)?[Di[0],Di[1]]:[0n,0n];if(!([zn==null?void 0:zn.toLowerCase(),sr==null?void 0:sr.toLowerCase()].includes((xt||"").toLowerCase())&&[zn==null?void 0:zn.toLowerCase(),sr==null?void 0:sr.toLowerCase()].includes((ge||"").toLowerCase()))){qe||Qe({status:"pair-mismatch",pair:Lt,t0:zn,t1:sr});return}if(bs===0n||Tc===0n){qe||Qe({status:"no-liquidity",pair:Lt,t0:zn,t1:sr});return}qe||Qe({status:"ok",pair:Lt,r0:String(bs),r1:String(Tc),t0:zn,t1:sr});try{const t0=(zn||"").toLowerCase()===(xt||"").toLowerCase(),Li=(zn||"").toLowerCase()===(ge||"").toLowerCase();let jr,Oa;t0&&!Li?(jr=bs,Oa=Tc):!t0&&Li?(jr=Tc,Oa=bs):(jr=bs,Oa=Tc);let Tl=$||18;try{const dr=["function decimals() view returns (uint8)"],$u=new un(xt,dr,ir);Tl=Number(await $u.decimals())}catch{}let Il=0n;try{const dr=["function balanceOf(address) view returns (uint256)"],Ic=await new un(xt,dr,ir).balanceOf(T);Il=BigInt(((Je=Ic.toString)==null?void 0:Je.call(Ic))||Ic)}catch{Il=0n}const xp=(Il>0n?Il:0n)*997n,Nl=xp*BigInt(Oa),pf=BigInt(jr)*1000n+xp,mf=pf>0n?Nl/pf:0n,Ep=Number(vi(mf,18));qe||Jt(Ep)}catch{qe||Jt(null)}}catch(xt){qe||Qe({status:"error",error:(xt==null?void 0:xt.message)||String(xt)})}})(),()=>{qe=!0}},[S==null?void 0:S.AuctionContract,ke,ge,T]);const Me=async()=>{var qe,Je;if(V){await c(((qe=O[V.id])==null?void 0:qe.address)||V.address,V.id,((Je=O[V.id])==null?void 0:Je.decimals)||18);return}if(Q){await c(Q,k||"LIVE",$||18);return}vr.error("No token available to add")},[sn,tn]=U.useState(!1);U.useEffect(()=>{try{p==null||p()}catch{}try{w==null||w()}catch{}},[V==null?void 0:V.id,Q,JSON.stringify(f),T]);const Fn=(V==null?void 0:V.id)||k||"",Lr=((ur=O==null?void 0:O[V==null?void 0:V.id])==null?void 0:ur.address)||(V==null?void 0:V.address)||Q||"",pn=hn,mn=Number(C||0),Er=Number(x||0),pi=1e4;let on="";if(pn>0){const qe=pn*pi,Je=(V!=null&&V.name&&(V==null?void 0:V.name)!==(V==null?void 0:V.id)?V==null?void 0:V.name:null)||((Ir=O==null?void 0:O[V==null?void 0:V.id])==null?void 0:Ir.name)||L||Fn;on=le?"Reverse Auction active  Airdrop unavailable":`Claim Airdrop of ${pr(qe)} ${Je} Tokens`}else mn>0?on=le?"Reverse Auction active  Airdrop unavailable":"All DAV units for this auction are already used":mn===0&&Er>0?on=le?"Reverse Auction active  Airdrop unavailable":"All your DAV units are expired. Mint new DAV to claim again":on=le?"Reverse Auction active  Airdrop unavailable":"No DAV units available. Mint DAV to claim airdrops";U.useEffect(()=>{if(!Q||!Y||Y.length===0)return;const qe=Lt=>{var jt;return(((jt=O==null?void 0:O[Lt==null?void 0:Lt.id])==null?void 0:jt.address)||(Lt==null?void 0:Lt.address)||""||"").toLowerCase()},Je=Q.toLowerCase(),xt=Y.findIndex(Lt=>qe(Lt)===Je);xt>=0&&xt!==K&&q(xt)},[Q,JSON.stringify(Y)]);const _c=async()=>{if(!sn){if(!T){vr.error("Connect your wallet to continue");return}try{if(S!=null&&S.AuctionContract&&(Q||Lr)){const qe=await S.AuctionContract.getTodayToken(),Je=(qe==null?void 0:qe[0])||(qe==null?void 0:qe.tokenOfDay)||Q||Lr;if(await S.AuctionContract.isReverseAuctionActive(Je)){vr.error("Reverse auction window is active; claim is only available during normal windows.");return}}}catch{}tn(!0);try{await a(Lr||Q)}finally{tn(!1)}}},jn=async()=>{var qe;if(!T||sn){T||vr.error("Connect your wallet to continue");return}vr("Starting Ratio Swap"),tn(!0);try{const Je=V?((qe=O[V.id])==null?void 0:qe.address)||V.address:void 0,xt=(V==null?void 0:V.id)||"GLOBAL";await i(xt,V==null?void 0:V.id,Je)}finally{tn(!1)}},$i=async()=>{var qe;if(!T||sn){T||vr.error("Connect your wallet to continue");return}vr("Starting Swap"),tn(!0);try{const Je=V?((qe=O[V.id])==null?void 0:qe.address)||V.address:void 0,xt=(V==null?void 0:V.id)||"GLOBAL";await u(xt,V==null?void 0:V.id,Je)}finally{tn(!1)}},ys=!Y||Y.length===0,ka=V?`${le?"Reverse Auction":"Auction"}  ${xn}`:L?`Auction  ${L}`:k?`Auction  ${k}`:"Auction",Ra=(()=>{if(!Ie)return"No swap token selected";if(hn<=0)return"No active swap  no DAV units available for this auction";if(en<=0)return Te.status==="no-pair"?"Live ratio unavailable  pool not created for this token yet":Te.status==="no-liquidity"?"Live ratio unavailable  pool has no liquidity yet":Te.status==="pair-mismatch"?"Live ratio unavailable  pool mismatch (token/STATE)":Te.status==="error"?"Live ratio unavailable  pool read failed":"Live ratio unavailable  try again shortly";const qe=xn||(V==null?void 0:V.id)||Ie,Je=pr(Math.floor(st));if(en>0&&Ft>0){const xt=Ft>=1?pr(Math.floor(Ft)):Ft.toFixed(6);return`Burn ${Je} ${qe} tokens for ${xt} STATE tokens`}return`Burn ${Je} ${qe} tokens for 2 STATE tokens`})(),Fs=(()=>{var xt,Lt;const qe=xn||(V==null?void 0:V.id)||Ie;V&&((xt=O[V.id])!=null&&xt.address||V.address),(Lt=O[V==null?void 0:V.id])!=null&&Lt.decimals;let Je=`Swap your ${qe} tokens for STATE (Reverse Step 1)`;if(typeof at=="number"&&at>0){const ir=at>=1?pr(Math.floor(at)):at.toFixed(6);Je+=`  est. ${ir} STATE`}return Je})(),js=async()=>{var qe;if(!T||sn){T||vr.error("Connect your wallet to continue");return}vr("Starting Reverse Swap"),tn(!0);try{const Je=V?((qe=O[V.id])==null?void 0:qe.address)||V.address:void 0,xt=H===!0&&Q?Q:Je;H===!0&&Je&&xt&&Je.toLowerCase()!==xt.toLowerCase()&&vr(ir=>"Reverse is active for the live token-of-day. Executing with current token instead of selection.");const Lt=(V==null?void 0:V.id)||"GLOBAL";await s(Lt,V==null?void 0:V.id,xt)}finally{tn(!1)}},ws=(()=>{var ir;if(!V)return"Use DEX to swap STATE for TOKEN";const qe=xn||(V==null?void 0:V.id)||k||"TOKEN",Je=en,xt=V?((ir=O[V.id])==null?void 0:ir.address)||V.address:void 0,Lt=xt&&(y==null?void 0:y[xt])||0;if(Number(Je)>0&&Number(Ft)>0){const jt=Number(Ft)/Number(Je),zn=Number(Ft)>=1?pr(Math.floor(Number(Ft))):Number(Ft).toFixed(6),sr=jt>=1?pr(Math.floor(jt)):jt.toFixed(6);return`Swap ${zn} STATE tokens for ${sr} ${qe} tokens`}if(Number(Je)>0&&Number(Lt)>0){const jt=Number(Lt)/Number(Je),zn=Lt>=1?pr(Math.floor(Lt)):Number(Lt).toFixed(6),sr=jt>=1?pr(Math.floor(jt)):jt.toFixed(6);return`Swap ${zn} STATE tokens for ${sr} ${qe} tokens`}if(Number(Je)>0){const jt=1/Number(Je),zn=jt>=1?pr(Math.floor(jt)):jt.toFixed(6);return`Swap STATE for ${qe} according to the current ratio of pool  1 STATE  ${zn} ${qe}`}return Te.status==="no-pair"?"Pool not created yet for this token":Te.status==="no-liquidity"?"Pool has no liquidity yet":Te.status==="pair-mismatch"?"Pool mismatch (token/STATE)":Te.status==="error"?"Pool read failed":"Use DEX to swap STATE for TOKEN"})();return _.jsxs("div",{className:"auction-boxes",children:[le?_.jsx(s$e,{headerTitle:ka,ratioText:Fs,onReverseSwap:js,onReverseStep2:async()=>{var ir;const qe=V?((ir=O[V.id])==null?void 0:ir.address)||V.address:void 0,Je=H===!0&&Q?Q:qe,xt=(V==null?void 0:V.id)||"GLOBAL",Lt=(()=>{const jt=Je?y[Je]:void 0;return typeof jt=="number"&&jt>0?jt:typeof at=="number"&&at>0?at:0})();if(!Lt||Number(Lt)<=0){vr.error("No STATE available from Step 1 yet. Complete Step 1 first.");return}await o(xt,V==null?void 0:V.id,Je)},reverseState:(()=>{var xt;const qe=V?((xt=O[V.id])==null?void 0:xt.address)||V.address:void 0,Je=qe?y[qe]:void 0;return typeof Je=="number"&&Je>0?Je:typeof at=="number"&&at>0?at:0})(),busy:sn,leftTokenLabel:xn||k||"",onAddToMetaMask:Me}):_.jsx(i$e,{headerTitle:ka,airdropText:on,ratioText:Ra,onClaim:_c,onRatioSwap:jn,onDexSwap:$i,busy:sn,leftTokenLabel:xn||k||"",onAddToMetaMask:Me,dexText:ws}),ys&&null]})};var yZ={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Oj=wa.createContext&&wa.createContext(yZ),a$e=["attr","size","title"];function c$e(t,e){if(t==null)return{};var n=l$e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function L5(){return L5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L5.apply(this,arguments)}function $j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(n),!0).forEach(function(r){u$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u$e(t,e,n){return e=d$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d$e(t){var e=f$e(t,"string");return typeof e=="symbol"?e:e+""}function f$e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wZ(t){return t&&t.map((e,n)=>wa.createElement(e.tag,M5({key:n},e.attr),wZ(e.child)))}function h$e(t){return e=>wa.createElement(p$e,L5({attr:M5({},t.attr)},e),wZ(t.child))}function p$e(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=c$e(t,a$e),a=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),wa.createElement("svg",L5({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:M5(M5({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&wa.createElement("title",null,s),t.children)};return Oj!==void 0?wa.createElement(Oj.Consumer,null,n=>e(n)):e(yZ)}function m$e(t){return h$e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(t)}const g$e=()=>{Nu();const{AuctionTime:t={},IsAuctionActive:e={},isReversed:n={}}=Cp(),{AllContracts:r}=U.useContext(Pa),[i,s]=U.useState(0),[o,a]=U.useState(""),[c,u]=U.useState(null);U.useEffect(()=>{console.log("Footer: AuctionTime updated:",t);try{const x=Object.entries(t).filter(([E,I])=>E!=="loading").map(([E,I])=>({name:E,secs:Number(I)||0,active:(e==null?void 0:e[E])===!0||(e==null?void 0:e[E])==="true"})).filter(E=>E.secs>0);if(x.length>0){const E=x.reduce((S,T)=>S.secs<=T.secs?S:T),I=E.secs;a(E.name),console.log("Footer: Setting nextEnding to",I,"(token:",E.name,")"),s(I)}else console.log("Footer: No active times, setting to 0"),s(0)}catch(x){console.error("Error calculating next ending:",x),s(0)}},[t,e]),U.useEffect(()=>{let x=!1;return(async()=>{try{if(!(r!=null&&r.AuctionContract)){u(null);return}const E=await r.AuctionContract.getTodayToken(),I=(E==null?void 0:E[0])||(E==null?void 0:E.tokenOfDay);if(!I||I===er){u(null);return}const S=await r.AuctionContract.isReverseAuctionActive(I);x||u(!!S)}catch{x||u(null)}})(),()=>{x=!0}},[r==null?void 0:r.AuctionContract,JSON.stringify(t)]);const f=["V.3 = 30% more yield on ratio swaps","Refresh when minting more DAV tokens.","Transferring DAV tokens is not allowed after minting","Referrers receive their commission directly in their wallet"],[h,p]=U.useState(0);U.useEffect(()=>{const x=setInterval(()=>{p(E=>(E+1)%f.length)},6e4);return()=>clearInterval(x)},[f.length]);const w=(x=>x===!0||x==="true")(n==null?void 0:n[o]),y=c!==null?c:w,b=y?"Reverse":"Normal",C=y?"bg-danger":"bg-success";return _.jsx("footer",{className:"bg-dark py-1 d-none d-md-block",style:{position:"fixed",bottom:0,width:"100%",zIndex:1e3},children:_.jsx("div",{className:"container",children:_.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[_.jsxs("div",{className:"d-flex align-items-center gap-2 text-white",style:{minWidth:180},children:[_.jsxs("span",{style:{fontSize:"14px"},children:["Auction Timer: ",_.jsx("strong",{children:M9e(i)})]}),_.jsx("span",{className:`badge ${C}`,style:{fontSize:"12px"},title:`Auction Mode: ${b}`,children:b})]}),_.jsx("div",{className:"flex-grow-1 text-center text-white px-3",style:{fontSize:"14px"},children:f[h]}),_.jsxs("div",{className:"d-flex align-items-center gap-3 gap-md-4",children:[_.jsx("a",{href:"https://system-state-documentation.gitbook.io/system-state",className:"text-white",style:{fontSize:"14px"},target:"_blank",rel:"noopener noreferrer",children:"Docs"}),_.jsx("a",{href:"https://system-state-documentation.gitbook.io/system-state/disclaimer",className:"text-white",style:{fontSize:"14px"},target:"_blank",rel:"noopener noreferrer",children:"Disclaimer"}),_.jsx("a",{href:"https://twitter.com/thestate_x",target:"_blank",rel:"noopener noreferrer",className:"text-white fs-4",title:"Follow on X",children:_.jsx(m$e,{style:{height:"20px",width:"20px"}})})]})]})})})},y$e=()=>{const{AllContracts:t}=U.useContext(Pa),{address:e}=Sc(),[n,r]=U.useState([]),[i,s]=U.useState(!0);return U.useEffect(()=>{(async()=>{if(!(t!=null&&t.davContract)||!e){r([]),s(!1),vr.error("Connect wallet to view minting history");return}s(!0);try{const[a,c,u,f,h]=await t.davContract.getMintTimestamps(e),g=a.map((w,y)=>({mintedAt:Sj(w),mintedAtRaw:Number(typeof w=="object"&&"toNumber"in w?w.toNumber():w),expiresAt:Sj(c[y]),amount:oh(u[y]),fromGovernance:!!f[y],isExpired:!!h[y]})).sort((w,y)=>w.isExpired!==y.isExpired?w.isExpired?1:-1:y.mintedAtRaw-w.mintedAtRaw);r(g)}catch(a){console.error("Error fetching mint timestamps:",a),r([]),vr.error(`Failed to fetch mint history: ${a.reason||a.message}`)}finally{s(!1)}})()},[t,e]),_.jsx("div",{className:"container mt-4",children:_.jsx("div",{className:"table-responsive",children:_.jsxs("table",{className:"table table-dark",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{scope:"col",children:"Mint/Promo"}),_.jsx("th",{scope:"col",children:"Mint Amount (DAV)"}),_.jsx("th",{scope:"col",children:"Minted At"}),_.jsx("th",{scope:"col",children:"Expires At"})]})}),_.jsx("tbody",{children:i?_.jsx("tr",{children:_.jsx("td",{colSpan:"5",className:"text-center",children:"Loading..."})}):n&&n.length>0?n.map((o,a)=>_.jsxs("tr",{children:[_.jsx("td",{className:o.isExpired?"text-pink":"text-success",children:o.fromGovernance?"Promotion":"Minted"}),_.jsx("td",{className:o.isExpired?"text-pink":"text-success",children:o.amount}),_.jsx("td",{className:o.isExpired?"text-pink":"text-success",children:o.mintedAt}),_.jsx("td",{className:o.isExpired?"text-pink":"text-success",children:o.expiresAt})]},a)):_.jsx("tr",{children:_.jsx("td",{colSpan:"5",className:"text-center",children:"No minting history available"})})})]})})})};function w$e(){var h,p,g,w;const{address:t}=Sc(),e=Na(),{AllContracts:n}=U.useContext(Pa),[r,i]=U.useState(null),[s,o]=U.useState(!1),a=((w=(g=((p=(h=import.meta)==null?void 0:h.env)==null?void 0:p.VITE_GOVERNANCE_ADDRESS)||"").toLowerCase)==null?void 0:w.call(g))||"",c=(()=>{try{return typeof window>"u"?"":(new URLSearchParams(window.location.search).get("gov")||"").toLowerCase()}catch{return""}})(),u=(()=>{try{return typeof window>"u"?"":(localStorage.getItem("GOVERNANCE_OVERRIDE")||"").toLowerCase()}catch{return""}})();return U.useEffect(()=>{let y=!0;async function b(){var C;if(c){i(c);return}if(u){i(u);return}if(a){i(a);return}if(n!=null&&n.AuctionContract)try{o(!0);const x=await n.AuctionContract.governanceAddress();y&&i(((C=x==null?void 0:x.toLowerCase)==null?void 0:C.call(x))||null)}catch(x){console.error("governanceAddress() read failed:",x)}finally{y&&o(!1)}}return b(),()=>{y=!1}},[n,e,a,u,c]),{isGovernance:U.useMemo(()=>!t||!r?!1:t.toLowerCase()===r,[t,r]),governanceAddress:r,loading:s}}const b$e=U.lazy(()=>Oe(()=>import("./SystemInitializationPage-D3aww-uu.js"),[])),v$e=U.lazy(()=>Oe(()=>import("./BuyBurnSetupPage-CvTyxD9j.js"),[])),C$e=U.lazy(()=>Oe(()=>import("./TokenManagementPage-DIgIWFM9.js"),[])),x$e=U.lazy(()=>Oe(()=>import("./AuctionControlPage-CftMn68C.js"),[])),E$e=U.lazy(()=>Oe(()=>import("./GovernancePage-DXqfcauJ.js"),[]));function A$e(){const{isGovernance:t,governanceAddress:e,loading:n}=w$e(),{address:r}=Sc(),i=e||"",[s,o]=U.useState(i);return n?_.jsx("div",{className:"container py-4 admin-container",children:_.jsx("div",{className:"card text-center admin-loading-card",children:_.jsxs("div",{className:"card-body py-5",children:[_.jsx("div",{className:"spinner-border admin-spinner",role:"status",children:_.jsx("span",{className:"visually-hidden",children:"Loading..."})}),_.jsx("p",{className:"mt-3 mb-0 text-muted",children:"Verifying governance access..."})]})})}):t?_.jsxs("div",{className:"container py-4 admin-container",children:[_.jsx("div",{className:"card mb-4 admin-header-card",children:_.jsx("div",{className:"card-body",children:_.jsxs("div",{className:"d-flex justify-content-between align-items-center flex-wrap",children:[_.jsx("div",{className:"admin-header-left",children:_.jsxs("div",{className:"d-flex align-items-center gap-3",children:[_.jsx("div",{className:"admin-logo",children:_.jsx("div",{className:"logo-icon",children:""})}),_.jsxs("div",{children:[_.jsx("h3",{className:"mb-1 admin-title",children:"STATE DEX PROTOCOL"}),_.jsx("p",{className:"mb-0 admin-subtitle",children:"Governance Administration Panel"})]})]})}),_.jsx("div",{className:"admin-header-right",children:_.jsxs("div",{className:"governance-badge",children:[_.jsx("i",{className:"bi bi-shield-check-fill me-2"}),_.jsxs("div",{className:"governance-info",children:[_.jsx("div",{className:"governance-label",children:"GOVERNANCE"}),_.jsx("div",{className:"governance-address",title:i,children:i?`${i.slice(0,6)}...${i.slice(-4)}`:""})]})]})})]})})}),_.jsx("div",{className:"card mb-4 admin-workflow-card",children:_.jsxs("div",{className:"card-body",children:[_.jsxs("div",{className:"d-flex align-items-center mb-3",children:[_.jsx("i",{className:"bi bi-diagram-3-fill text-primary me-2"}),_.jsx("h6",{className:"mb-0 workflow-title",children:"DEPLOYMENT WORKFLOW"})]}),_.jsx("p",{className:"workflow-description",children:"Follow these sequential steps for complete protocol deployment"}),_.jsxs("div",{className:"workflow-steps",children:[_.jsxs("div",{className:"workflow-step",children:[_.jsx("div",{className:"step-number",children:"1"}),_.jsx("div",{className:"step-icon",children:""}),_.jsx("div",{className:"step-label",children:"System Setup"})]}),_.jsx("div",{className:"workflow-arrow",children:""}),_.jsxs("div",{className:"workflow-step",children:[_.jsx("div",{className:"step-number",children:"2-3"}),_.jsx("div",{className:"step-icon",children:""}),_.jsx("div",{className:"step-label",children:"Buy & Burn"})]}),_.jsx("div",{className:"workflow-arrow",children:""}),_.jsxs("div",{className:"workflow-step",children:[_.jsx("div",{className:"step-number",children:"4"}),_.jsx("div",{className:"step-icon",children:""}),_.jsx("div",{className:"step-label",children:"Token Deploy"})]}),_.jsx("div",{className:"workflow-arrow",children:""}),_.jsxs("div",{className:"workflow-step",children:[_.jsx("div",{className:"step-number",children:"5"}),_.jsx("div",{className:"step-icon",children:""}),_.jsx("div",{className:"step-label",children:"Start Auction"})]}),_.jsx("div",{className:"workflow-arrow",children:""}),_.jsxs("div",{className:"workflow-step",children:[_.jsx("div",{className:"step-number",children:""}),_.jsx("div",{className:"step-icon",children:""}),_.jsx("div",{className:"step-label",children:"Governance"})]})]})]})}),_.jsxs("div",{className:"row",children:[_.jsx("div",{className:"col-lg-3 mb-4",children:_.jsxs("div",{className:"card admin-sidebar-card",children:[_.jsx("div",{className:"card-header admin-sidebar-header",children:_.jsx("h6",{className:"mb-0",children:"ADMIN FUNCTIONS"})}),_.jsx("div",{className:"card-body p-0",children:_.jsxs("nav",{className:"admin-nav",children:[_.jsxs(as,{to:"/admin/system-initialization",className:({isActive:a})=>`admin-nav-link ${a?"active":""}`,children:[_.jsx("span",{className:"nav-icon",children:""}),_.jsxs("span",{className:"nav-text",children:[_.jsx("span",{className:"nav-title",children:"System Setup"}),_.jsx("span",{className:"nav-subtitle",children:"Step 1"})]})]}),_.jsxs(as,{to:"/admin/buyburn-setup",className:({isActive:a})=>`admin-nav-link ${a?"active":""}`,children:[_.jsx("span",{className:"nav-icon",children:""}),_.jsxs("span",{className:"nav-text",children:[_.jsx("span",{className:"nav-title",children:"Buy & Burn Setup"}),_.jsx("span",{className:"nav-subtitle",children:"Steps 2 & 3"})]})]}),_.jsxs(as,{to:"/admin/token-management",className:({isActive:a})=>`admin-nav-link ${a?"active":""}`,children:[_.jsx("span",{className:"nav-icon",children:""}),_.jsxs("span",{className:"nav-text",children:[_.jsx("span",{className:"nav-title",children:"Token Management"}),_.jsx("span",{className:"nav-subtitle",children:"Step 4"})]})]}),_.jsxs(as,{to:"/admin/auction-control",className:({isActive:a})=>`admin-nav-link ${a?"active":""}`,children:[_.jsx("span",{className:"nav-icon",children:""}),_.jsxs("span",{className:"nav-text",children:[_.jsx("span",{className:"nav-title",children:"Auction Control"}),_.jsx("span",{className:"nav-subtitle",children:"Step 5"})]})]}),_.jsx("div",{className:"nav-divider"}),_.jsxs(as,{to:"/admin/governance",className:({isActive:a})=>`admin-nav-link ${a?"active":""}`,children:[_.jsx("span",{className:"nav-icon",children:""}),_.jsxs("span",{className:"nav-text",children:[_.jsx("span",{className:"nav-title",children:"Governance Transfer"}),_.jsx("span",{className:"nav-subtitle",children:"Final Step"})]})]})]})})]})}),_.jsx("div",{className:"col-lg-9",children:_.jsx(U.Suspense,{fallback:_.jsx("div",{className:"card admin-loading-card",children:_.jsxs("div",{className:"card-body text-center py-5",children:[_.jsx("div",{className:"spinner-border admin-spinner",role:"status",children:_.jsx("span",{className:"visually-hidden",children:"Loading..."})}),_.jsx("p",{className:"mt-3 mb-0 text-muted",children:"Loading module..."})]})}),children:_.jsxs(sz,{children:[_.jsx(Rs,{index:!0,element:_.jsx(qv,{to:"system-initialization"})}),_.jsx(Rs,{path:"system-initialization",element:_.jsx(b$e,{})}),_.jsx(Rs,{path:"buyburn-setup",element:_.jsx(v$e,{})}),_.jsx(Rs,{path:"token-management",element:_.jsx(C$e,{})}),_.jsx(Rs,{path:"auction-control",element:_.jsx(x$e,{})}),_.jsx(Rs,{path:"governance",element:_.jsx(E$e,{})})]})})})]})]}):_.jsx("div",{className:"container py-4 admin-container",children:_.jsx("div",{className:"card admin-access-card",children:_.jsxs("div",{className:"card-body",children:[_.jsxs("div",{className:"admin-access-header",children:[_.jsx("div",{className:"admin-lock-icon",children:""}),_.jsx("h4",{className:"mb-2 admin-access-title",children:"GOVERNANCE ACCESS REQUIRED"}),_.jsx("p",{className:"text-muted mb-4",children:"Connect the governance wallet to access protocol administration"})]}),_.jsxs("div",{className:"admin-wallet-comparison",children:[_.jsxs("div",{className:"wallet-info-box disconnected",children:[_.jsxs("div",{className:"wallet-label",children:[_.jsx("i",{className:"bi bi-circle-fill status-dot"}),"Connected Wallet"]}),_.jsx("div",{className:"wallet-address",children:r?_.jsxs(_.Fragment,{children:[_.jsxs("span",{className:"address-text",children:[r.slice(0,6),"...",r.slice(-4)]}),_.jsx("code",{className:"address-full d-none d-md-inline ms-2",children:r})]}):_.jsx("span",{className:"text-warning",children:"Not connected"})})]}),_.jsx("div",{className:"wallet-divider",children:_.jsx("i",{className:"bi bi-arrow-down"})}),_.jsxs("div",{className:"wallet-info-box required",children:[_.jsxs("div",{className:"wallet-label",children:[_.jsx("i",{className:"bi bi-shield-check-fill status-dot"}),"Required Governance"]}),_.jsx("div",{className:"wallet-address",children:i?_.jsxs(_.Fragment,{children:[_.jsxs("span",{className:"address-text",children:[i.slice(0,6),"...",i.slice(-4)]}),_.jsx("code",{className:"address-full d-none d-md-inline ms-2",children:i})]}):_.jsx("span",{className:"text-muted",children:"Loading..."})})]})]}),_.jsxs("div",{className:"admin-override-section",children:[_.jsxs("div",{className:"override-header",children:[_.jsx("h6",{className:"mb-0",children:"Developer Override"}),_.jsx("small",{className:"text-muted",children:"For testing purposes only"})]}),_.jsxs("div",{className:"row g-2",children:[_.jsx("div",{className:"col-md-8",children:_.jsx("input",{className:"form-control override-input",placeholder:"0x... governance address override",value:s,onChange:a=>o(a.target.value)})}),_.jsx("div",{className:"col-md-4",children:_.jsxs("button",{className:"btn btn-primary w-100 override-btn",onClick:()=>{try{localStorage.setItem("GOVERNANCE_OVERRIDE",s),window.location.reload()}catch(a){console.error("Failed to set override:",a)}},children:[_.jsx("i",{className:"bi bi-key-fill me-2"}),"Apply Override"]})})]})]})]})})})}const S$e=()=>{const[t,e]=U.useState(navigator.onLine);return U.useEffect(()=>{const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),_.jsx(mee,{children:_.jsxs("div",{className:"d-flex flex-column min-vh-100",children:[_.jsx(bTe,{}),_.jsx(b8e,{position:"bottom-left",reverseOrder:!1}),_.jsxs("div",{children:[!t&&_.jsx("div",{className:"alert alert-danger text-center w-100 position-fixed top-0 start-0",style:{zIndex:1050,padding:"15px",fontSize:"18px"},role:"alert",children:" You are offline. Some features may not work properly."}),_.jsx("main",{className:"flex-grow-1",children:_.jsxs(sz,{children:[_.jsx(Rs,{path:"/",element:_.jsx(qv,{to:"/auction"})}),_.jsx(Rs,{path:"/auction",element:_.jsx(_.Fragment,{children:_.jsx(X9e,{})})}),_.jsx(Rs,{path:"/live-auction",element:_.jsx("div",{style:{position:"relative",width:"100vw",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",marginLeft:"calc(-50vw + 50%)"},children:_.jsx("div",{style:{width:"100%",maxWidth:"1800px",display:"flex",flexDirection:"column",gap:"20px"},children:_.jsx(o$e,{})})})}),_.jsx(Rs,{path:"/Deflation",element:_.jsx(qv,{to:"/auction",replace:!0})}),_.jsx(Rs,{path:"/ADDToken",element:_.jsx(qv,{to:"/admin/tokens",replace:!0})}),_.jsx(Rs,{path:"/AddToken",element:_.jsx(qv,{to:"/admin/tokens",replace:!0})}),_.jsx(Rs,{path:"/info",element:_.jsx(_.Fragment,{children:_.jsx(r$e,{})})}),_.jsx(Rs,{path:"/dav-history",element:_.jsx(_.Fragment,{children:_.jsx(y$e,{})})}),_.jsx(Rs,{path:"/admin/*",element:_.jsx(_.Fragment,{children:_.jsx(A$e,{})})})]})})]}),_.jsx(g$e,{})]})})};function bZ({children:t}){return _.jsx(eZ,{children:_.jsx(uZ,{children:_.jsx(fZ,{children:t})})})}bZ.propTypes={children:Bt.node.isRequired};function vZ({children:t}){return vZ.propTypes={children:Bt.node.isRequired},_.jsx(U.StrictMode,{children:_.jsx(Z8e,{config:aZ.wagmiConfig,children:_.jsx($Oe,{client:L9e,children:_.jsx(U.Suspense,{fallback:_.jsx("div",{children:"Loading wallet and contracts..."}),children:_.jsx(bZ,{children:t})})})})})}const _$e=rX.createRoot(document.getElementById("root"));IRe().finally(()=>{_$e.render(_.jsx(vZ,{children:_.jsx(S$e,{})}))});export{ah as $,F as A,Qt as B,cl as C,be as D,At as E,qte as F,Le as G,Or as H,TR as I,rn as J,Sz as K,pe as L,Oi as M,xz as N,xi as O,QMe as P,Id as Q,wa as R,Tn as S,Cu as T,dC as U,vr as V,tr as W,cn as X,wi as Y,er as Z,Oe as _,TQ as a,dm as a$,sH as a0,d_ as a1,Fe as a2,pR as a3,ro as a4,cie as a5,LW as a6,GW as a7,Zh as a8,fW as a9,Rw as aA,Q5 as aB,Vo as aC,hi as aD,ga as aE,Mt as aF,Wt as aG,eW as aH,U$e as aI,sR as aJ,D1 as aK,a3 as aL,ig as aM,F$e as aN,fre as aO,j$e as aP,z$e as aQ,o3 as aR,H$e as aS,Jie as aT,Kt as aU,lx as aV,ux as aW,_r as aX,Xhe as aY,gV as aZ,Gm as a_,c1 as aa,Yh as ab,$n as ac,$r as ad,cs as ae,We as af,fe as ag,Zs as ah,ce as ai,c3 as aj,uR as ak,Kh as al,R$e as am,eS as an,dR as ao,P$e as ap,N$e as aq,X5 as ar,s3 as as,Hne as at,Yne as au,iDe as av,Kre as aw,hoe as ax,foe as ay,MC as az,oh as b,cDe as b$,Ne as b0,qr as b1,_d as b2,u1 as b3,N5e as b4,yte as b5,F0e as b6,QDe as b7,lL as b8,SV as b9,k$e as bA,oR as bB,Z5 as bC,Vre as bD,Cr as bE,DW as bF,Yi as bG,l3 as bH,MW as bI,use as bJ,UW as bK,xse as bL,wb as bM,CR as bN,e2 as bO,AR as bP,qse as bQ,Vse as bR,j1 as bS,Gse as bT,cse as bU,$N as bV,Vz as bW,Cie as bX,Gre as bY,Zz as bZ,VW as b_,w2 as ba,$0e as bb,AV as bc,j0e as bd,ZDe as be,YDe as bf,k3 as bg,e7e as bh,JDe as bi,br as bj,gte as bk,B3 as bl,JN as bm,qi as bn,Bo as bo,SS as bp,nt as bq,g7e as br,BC as bs,Kn as bt,BLe as bu,MLe as bv,Ane as bw,Lne as bx,$z as by,I$e as bz,ot as c,$W as c$,sDe as c0,KW as c1,kd as c2,aDe as c3,oDe as c4,FC as c5,nS as c6,wR as c7,Ose as c8,jd as c9,Mw as cA,ld as cB,Q$e as cC,jW as cD,Z$e as cE,Ese as cF,Fd as cG,Nse as cH,lDe as cI,xR as cJ,dDe as cK,B$e as cL,kie as cM,vie as cN,X1 as cO,voe as cP,woe as cQ,boe as cR,ZW as cS,rS as cT,yoe as cU,a6 as cV,IW as cW,G$e as cX,_W as cY,K$e as cZ,jC as c_,zne as ca,ul as cb,Qh as cc,mb as cd,Qz as ce,dW as cf,Lre as cg,qne as ch,q$e as ci,O$e as cj,DN as ck,vu as cl,J5 as cm,oH as cn,Tse as co,xW as cp,Vie as cq,Y5 as cr,mR as cs,yR as ct,tS as cu,Cse as cv,eDe as cw,X$e as cx,J$e as cy,Zte as cz,un as d,aoe as d0,SR as d1,Uz as d2,UC as d3,zo as d4,xie as d5,wW as d6,Lg as d7,aH as d8,Yse as d9,K8e as da,WC as db,LE as dc,hH as dd,Sae as de,_ae as df,QD as dg,Zse as dh,Yz as di,uDe as dj,gc as dk,Kj as dl,ou as dm,zoe as dn,q8e as dp,$1 as dq,Td as dr,Tr as e,vi as f,Jc as g,He as h,T1 as i,_ as j,Ut as k,Un as l,Z as m,Fo as n,Ae as o,Xp as p,_e as q,U as r,gr as s,Ee as t,H9e as u,Ce as v,Yo as w,B as x,oe as y,ii as z};
